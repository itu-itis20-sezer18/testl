(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return c}),n.d(e,"c",function(){return a});var r=n("30Go"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),s="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=s);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:s,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService(i);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(a){if(n)return null;throw a}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService(s)}catch(h){}try{for(var i=Object(r.h)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=Object(r.e)(o.value,2),c=a[1],u=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService(u);c.resolve(l)}catch(h){}}}catch(d){e={error:d}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=s),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}),t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()})))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return t===s?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:s:t},t}(),c=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"0z79":function(t,e,n){const r=n("AdPF"),i=n("CUme"),o=n("cpc2"),{pick:s}=n("Eexf"),a=n("2UHX"),c=n("x7D4")("engine.io-client:polling-xhr");function u(){}const l=null!=new r({xdomain:!1}).responseType;class h extends o{constructor(t,e){super(),this.opts=e,this.method=e.method||"GET",this.uri=t,this.async=!1!==e.async,this.data=void 0!==e.data?e.data:null,this.create()}create(){const t=s(this.opts,"agent","enablesXDR","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized");t.xdomain=!!this.opts.xd,t.xscheme=!!this.opts.xs;const e=this.xhr=new r(t),n=this;try{c("xhr open %s: %s",this.method,this.uri),e.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){e.setDisableHeaderCheck&&e.setDisableHeaderCheck(!0);for(let t in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(t)&&e.setRequestHeader(t,this.opts.extraHeaders[t])}}catch(i){}if("POST"===this.method)try{e.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(i){}try{e.setRequestHeader("Accept","*/*")}catch(i){}"withCredentials"in e&&(e.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(e.timeout=this.opts.requestTimeout),this.hasXDR()?(e.onload=function(){n.onLoad()},e.onerror=function(){n.onError(e.responseText)}):e.onreadystatechange=function(){4===e.readyState&&(200===e.status||1223===e.status?n.onLoad():setTimeout(function(){n.onError("number"==typeof e.status?e.status:0)},0))},c("xhr data %s",this.data),e.send(this.data)}catch(i){return void setTimeout(function(){n.onError(i)},0)}"undefined"!=typeof document&&(this.index=h.requestsCount++,h.requests[this.index]=this)}onSuccess(){this.emit("success"),this.cleanup()}onData(t){this.emit("data",t),this.onSuccess()}onError(t){this.emit("error",t),this.cleanup(!0)}cleanup(t){if(null!=this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=u:this.xhr.onreadystatechange=u,t)try{this.xhr.abort()}catch(e){}"undefined"!=typeof document&&delete h.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;null!==t&&this.onData(t)}hasXDR(){return"undefined"!=typeof XDomainRequest&&!this.xs&&this.enablesXDR}abort(){this.cleanup()}}function d(){for(let t in h.requests)h.requests.hasOwnProperty(t)&&h.requests[t].abort()}h.requestsCount=0,h.requests={},"undefined"!=typeof document&&("function"==typeof attachEvent?attachEvent("onunload",d):"function"==typeof addEventListener&&addEventListener("onpagehide"in a?"pagehide":"unload",d,!1)),t.exports=class extends i{constructor(t){if(super(t),"undefined"!=typeof location){const e="https:"===location.protocol;let n=location.port;n||(n=e?443:80),this.xd="undefined"!=typeof location&&t.hostname!==location.hostname||n!==t.port,this.xs=t.secure!==e}this.supportsBinary=l&&!(t&&t.forceBase64)}request(t={}){return Object.assign(t,{xd:this.xd,xs:this.xs},this.opts),new h(this.uri(),t)}doWrite(t,e){const n=this.request({method:"POST",data:t}),r=this;n.on("success",e),n.on("error",function(t){r.onError("xhr post error",t)})}doPoll(){c("xhr poll");const t=this.request(),e=this;t.on("data",function(t){e.onData(t)}),t.on("error",function(t){e.onError("xhr poll error",t)}),this.pollXhr=t}},t.exports.Request=h},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2UHX":function(t,e){t.exports="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"2pII":function(t,e,n){const r=n("akSB"),i=n("cpc2"),o=n("x7D4")("engine.io-client:socket"),s=n("Fyy9"),a=n("Uxeu"),c=n("TypT");class u extends i{constructor(t,e={}){super(),t&&"object"==typeof t&&(e=t,t=null),t?(t=a(t),e.hostname=t.host,e.secure="https"===t.protocol||"wss"===t.protocol,e.port=t.port,t.query&&(e.query=t.query)):e.host&&(e.hostname=a(e.host).host),this.secure=null!=e.secure?e.secure:"undefined"!=typeof location&&"https:"===location.protocol,e.hostname&&!e.port&&(e.port=this.secure?"443":"80"),this.hostname=e.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=e.port||("undefined"!=typeof location&&location.port?location.port:this.secure?443:80),this.transports=e.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,jsonp:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{}},e),this.opts.path=this.opts.path.replace(/\/$/,"")+"/","string"==typeof this.opts.query&&(this.opts.query=c.decode(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,this.open()}createTransport(t){o('creating transport "%s"',t);const e=function(t){const e={};for(let n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}(this.opts.query);e.EIO=s.protocol,e.transport=t,this.id&&(e.sid=this.id);const n=Object.assign({},this.opts.transportOptions[t],this.opts,{query:e,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return o("options: %j",n),new r[t](n)}open(){let t;if(this.opts.rememberUpgrade&&u.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))t="websocket";else{if(0===this.transports.length){const t=this;return void setTimeout(function(){t.emit("error","No transports available")},0)}t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(e){return o("error while creating transport: %s",e),this.transports.shift(),void this.open()}t.open(),this.setTransport(t)}setTransport(t){o("setting transport %s",t.name);const e=this;this.transport&&(o("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=t,t.on("drain",function(){e.onDrain()}).on("packet",function(t){e.onPacket(t)}).on("error",function(t){e.onError(t)}).on("close",function(){e.onClose("transport close")})}probe(t){o('probing transport "%s"',t);let e=this.createTransport(t,{probe:1}),n=!1;const r=this;function i(){if(r.onlyBinaryUpgrades){const t=!this.supportsBinary&&r.transport.supportsBinary;n=n||t}n||(o('probe transport "%s" opened',t),e.send([{type:"ping",data:"probe"}]),e.once("packet",function(i){if(!n)if("pong"===i.type&&"probe"===i.data){if(o('probe transport "%s" pong',t),r.upgrading=!0,r.emit("upgrading",e),!e)return;u.priorWebsocketSuccess="websocket"===e.name,o('pausing current transport "%s"',r.transport.name),r.transport.pause(function(){n||"closed"!==r.readyState&&(o("changing transport and sending upgrade packet"),d(),r.setTransport(e),e.send([{type:"upgrade"}]),r.emit("upgrade",e),e=null,r.upgrading=!1,r.flush())})}else{o('probe transport "%s" failed',t);const n=new Error("probe error");n.transport=e.name,r.emit("upgradeError",n)}}))}function s(){n||(n=!0,d(),e.close(),e=null)}function a(n){const i=new Error("probe error: "+n);i.transport=e.name,s(),o('probe transport "%s" failed because of error: %s',t,n),r.emit("upgradeError",i)}function c(){a("transport closed")}function l(){a("socket closed")}function h(t){e&&t.name!==e.name&&(o('"%s" works - aborting "%s"',t.name,e.name),s())}function d(){e.removeListener("open",i),e.removeListener("error",a),e.removeListener("close",c),r.removeListener("close",l),r.removeListener("upgrading",h)}u.priorWebsocketSuccess=!1,e.once("open",i),e.once("error",a),e.once("close",c),this.once("close",l),this.once("upgrading",h),e.open()}onOpen(){if(o("socket open"),this.readyState="open",u.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade&&this.transport.pause){o("starting upgrade probes");let t=0;const e=this.upgrades.length;for(;t<e;t++)this.probe(this.upgrades[t])}}onPacket(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(o('socket receive: type "%s", data "%s"',t.type,t.data),this.emit("packet",t),this.emit("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emit("pong");break;case"error":const e=new Error("server error");e.code=t.data,this.onError(e);break;case"message":this.emit("data",t.data),this.emit("message",t.data)}else o('packet received with socket readyState "%s"',this.readyState)}onHandshake(t){this.emit("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){clearTimeout(this.pingTimeoutTimer),this.pingTimeoutTimer=setTimeout(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout)}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()}flush(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(o("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))}write(t,e,n){return this.sendPacket("message",t,e,n),this}send(t,e,n){return this.sendPacket("message",t,e,n),this}sendPacket(t,e,n,r){if("function"==typeof e&&(r=e,e=void 0),"function"==typeof n&&(r=n,n=null),"closing"===this.readyState||"closed"===this.readyState)return;(n=n||{}).compress=!1!==n.compress;const i={type:t,data:e,options:n};this.emit("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}close(){const t=this;function e(){t.onClose("forced close"),o("socket closing - telling transport to close"),t.transport.close()}function n(){t.removeListener("upgrade",n),t.removeListener("upgradeError",n),e()}function r(){t.once("upgrade",n),t.once("upgradeError",n)}return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",function(){this.upgrading?r():e()}):this.upgrading?r():e()),this}onError(t){o("socket error %j",t),u.priorWebsocketSuccess=!1,this.emit("error",t),this.onClose("transport error",t)}onClose(t,e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){o('socket close with reason: "%s"',t);const n=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",t,e),n.writeBuffer=[],n.prevBufferLen=0}}filterUpgrades(t){const e=[];let n=0;const r=t.length;for(;n<r;n++)~this.transports.indexOf(t[n])&&e.push(t[n]);return e}}u.priorWebsocketSuccess=!1,u.protocol=s.protocol,t.exports=u},"2xjq":function(t,e,n){const{PACKET_TYPES_REVERSE:r,ERROR_PACKET:i}=n("yxaB");let o;"function"==typeof ArrayBuffer&&(o=n("g5Dd"));const s=(t,e)=>{if(o){const n=o.decode(t);return a(n,e)}return{base64:!0,data:t}},a=(t,e)=>{switch(e){case"blob":return t instanceof ArrayBuffer?new Blob([t]):t;case"arraybuffer":default:return t}};t.exports=(t,e)=>{if("string"!=typeof t)return{type:"message",data:a(t,e)};const n=t.charAt(0);return"b"===n?{type:"message",data:s(t.substring(1),e)}:r[n]?t.length>1?{type:r[n],data:t.substring(1)}:{type:r[n]}:i}},"30Go":function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return s}),n.d(e,"d",function(){return a}),n.d(e,"h",function(){return c}),n.d(e,"e",function(){return u}),n.d(e,"f",function(){return l}),n.d(e,"g",function(){return h});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{c(r.next(t))}catch(e){o(e)}}function a(t){try{c(r.throw(t))}catch(e){o(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function c(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function u(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(u(arguments[e]));return t}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}},"3Kre":function(t,e,n){"use strict";var r,i=n("30Go"),o=n("zIRd"),s=(n("fSjL"),n("q/0M")),a=n("qOnz"),c=n("/6Yf"),u="https://www.googletagmanager.com/gtag/js",l=function(t){return t.EVENT="event",t.SET="set",t.CONFIG="config",t}({}),h=function(t){return t.ADD_SHIPPING_INFO="add_shipping_info",t.ADD_PAYMENT_INFO="add_payment_info",t.ADD_TO_CART="add_to_cart",t.ADD_TO_WISHLIST="add_to_wishlist",t.BEGIN_CHECKOUT="begin_checkout",t.CHECKOUT_PROGRESS="checkout_progress",t.EXCEPTION="exception",t.GENERATE_LEAD="generate_lead",t.LOGIN="login",t.PAGE_VIEW="page_view",t.PURCHASE="purchase",t.REFUND="refund",t.REMOVE_FROM_CART="remove_from_cart",t.SCREEN_VIEW="screen_view",t.SEARCH="search",t.SELECT_CONTENT="select_content",t.SELECT_ITEM="select_item",t.SELECT_PROMOTION="select_promotion",t.SET_CHECKOUT_OPTION="set_checkout_option",t.SHARE="share",t.SIGN_UP="sign_up",t.TIMING_COMPLETE="timing_complete",t.VIEW_CART="view_cart",t.VIEW_ITEM="view_item",t.VIEW_ITEM_LIST="view_item_list",t.VIEW_PROMOTION="view_promotion",t.VIEW_SEARCH_RESULTS="view_search_results",t}({}),d=new s.b("@firebase/analytics");function f(t,e,n,r,o,s){return Object(i.b)(this,void 0,void 0,function(){var a,c,u,h;return Object(i.d)(this,function(i){switch(i.label){case 0:a=r[o],i.label=1;case 1:return i.trys.push([1,7,,8]),a?[4,e[a]]:[3,3];case 2:return i.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return c=i.sent(),(u=c.find(function(t){return t.measurementId===o}))?[4,e[u.appId]]:[3,6];case 5:i.sent(),i.label=6;case 6:return[3,8];case 7:return h=i.sent(),d.error(h),[3,8];case 8:return t(l.CONFIG,o,s),[2]}})})}function p(t,e,n,r,o){return Object(i.b)(this,void 0,void 0,function(){var s,a,c,u,h,f,p;return Object(i.d)(this,function(i){switch(i.label){case 0:return i.trys.push([0,4,,5]),s=[],o&&o.send_to?(a=o.send_to,Array.isArray(a)||(a=[a]),[4,Promise.all(n)]):[3,2];case 1:for(c=i.sent(),u=function(t){var n=c.find(function(e){return e.measurementId===t}),r=n&&e[n.appId];if(!r)return s=[],"break";s.push(r)},h=0,f=a;h<f.length&&"break"!==u(f[h]);h++);i.label=2;case 2:return 0===s.length&&(s=Object.values(e)),[4,Promise.all(s)];case 3:return i.sent(),t(l.EVENT,r,o||{}),[3,5];case 4:return p=i.sent(),d.error(p),[3,5];case 5:return[2]}})})}var g=((r={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",r["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",r["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",r["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",r["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",r["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",r["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",r["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',r["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',r),m=new a.b("analytics","Analytics",g),b=new(function(){function t(t,e){void 0===t&&(t={}),void 0===e&&(e=1e3),this.throttleMetadata=t,this.intervalMillis=e}return t.prototype.getThrottleMetadata=function(t){return this.throttleMetadata[t]},t.prototype.setThrottleMetadata=function(t,e){this.throttleMetadata[t]=e},t.prototype.deleteThrottleMetadata=function(t){delete this.throttleMetadata[t]},t}());function v(t){var e;return Object(i.b)(this,void 0,void 0,function(){var n,r,o,s,a,c;return Object(i.d)(this,function(i){switch(i.label){case 0:return n=t.appId,r={method:"GET",headers:(u=t.apiKey,new Headers({Accept:"application/json","x-goog-api-key":u}))},o="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),[4,fetch(o,r)];case 1:if(200===(s=i.sent()).status||304===s.status)return[3,6];a="",i.label=2;case 2:return i.trys.push([2,4,,5]),[4,s.json()];case 3:return c=i.sent(),(null===(e=c.error)||void 0===e?void 0:e.message)&&(a=c.error.message),[3,5];case 4:return i.sent(),[3,5];case 5:throw m.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a});case 6:return[2,s.json()]}var u})})}function y(t,e,n,r){var o=e.throttleEndTimeMillis,s=e.backoffCount;return void 0===r&&(r=b),Object(i.b)(this,void 0,void 0,function(){var e,c,u,l,h,f,p;return Object(i.d)(this,function(i){switch(i.label){case 0:e=t.appId,c=t.measurementId,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,_(n,o)];case 2:return i.sent(),[3,4];case 3:if(u=i.sent(),c)return d.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+c+' provided in the "measurementId" field in the local Firebase config. ['+u.message+"]"),[2,{appId:e,measurementId:c}];throw u;case 4:return i.trys.push([4,6,,7]),[4,v(t)];case 5:return l=i.sent(),r.deleteThrottleMetadata(e),[2,l];case 6:if(!function(t){if(!(t instanceof a.c&&t.customData))return!1;var e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(h=i.sent())){if(r.deleteThrottleMetadata(e),c)return d.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+c+' provided in the "measurementId" field in the local Firebase config. ['+h.message+"]"),[2,{appId:e,measurementId:c}];throw h}return f=503===Number(h.customData.httpStatus)?Object(a.j)(s,r.intervalMillis,30):Object(a.j)(s,r.intervalMillis),p={throttleEndTimeMillis:Date.now()+f,backoffCount:s+1},r.setThrottleMetadata(e,p),d.debug("Calling attemptFetch again in "+f+" millis"),[2,y(t,p,n,r)];case 7:return[2]}})})}function _(t,e){return new Promise(function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(function(){clearTimeout(o),r(m.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}var w,C,k=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach(function(t){return t()})},t}(),P={},S=[],E={},T="dataLayer",x="gtag",O=!1;var I,A="analytics";(I=o.a).INTERNAL.registerComponent(new c.a(A,function(t){return function(t,e){!function(){var t=[];if(Object(a.s)()&&t.push("This is a browser extension environment."),Object(a.e)()||t.push("Cookies are not available."),t.length>0){var e=t.map(function(t,e){return"("+(e+1)+") "+t}).join(" "),n=m.create("invalid-analytics-context",{errorInfo:e});d.warn(n.message)}}();var n=t.options.appId;if(!n)throw m.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw m.create("no-api-key");d.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+t.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=P[n])throw m.create("already-exists",{id:n});if(!O){(function(){for(var t=window.document.getElementsByTagName("script"),e=0,n=Object.values(t);e<n.length;e++){var r=n[e];if(r.src&&r.src.includes(u))return r}return null})()||function(t){var e=document.createElement("script");e.src=u+"?l="+t,e.async=!0,document.head.appendChild(e)}(T),function(t){var e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(T);var r=function(t,e,n,r,o){var s=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];window[r].push(arguments)};return window[o]&&"function"==typeof window[o]&&(s=window[o]),window[o]=function(t,e,n,r){return function(o,s,a){return Object(i.b)(this,void 0,void 0,function(){var c;return Object(i.d)(this,function(i){switch(i.label){case 0:return i.trys.push([0,6,,7]),o!==l.EVENT?[3,2]:[4,p(t,e,n,s,a)];case 1:return i.sent(),[3,5];case 2:return o!==l.CONFIG?[3,4]:[4,f(t,e,n,r,s,a)];case 3:return i.sent(),[3,5];case 4:t(l.SET,s),i.label=5;case 5:return[3,7];case 6:return c=i.sent(),d.error(c),[3,7];case 7:return[2]}})})}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[o]}}(P,S,E,T,x);C=r.wrappedGtag,w=r.gtagCore,O=!0}return P[n]=function(t,e,n,r,o){return Object(i.b)(this,void 0,void 0,function(){var s,c,u,h,f,p,g;return Object(i.d)(this,function(v){switch(v.label){case 0:return(s=function(t,e,n){return void 0===e&&(e=b),Object(i.b)(this,void 0,void 0,function(){var n,r,o,s,a,c,u=this;return Object(i.d)(this,function(l){if(o=(n=t.options).apiKey,s=n.measurementId,!(r=n.appId))throw m.create("no-app-id");if(!o){if(s)return[2,{measurementId:s,appId:r}];throw m.create("no-api-key")}return a=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new k,setTimeout(function(){return Object(i.b)(u,void 0,void 0,function(){return Object(i.d)(this,function(t){return c.abort(),[2]})})},6e4),[2,y({appId:r,apiKey:o,measurementId:s},a,c,e)]})})}(t)).then(function(e){n[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&d.warn("The measurement ID in the local Firebase config ("+t.options.measurementId+") does not match the measurement ID fetched from the server ("+e.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(function(t){return d.error(t)}),e.push(s),c=function(){return Object(i.b)(this,void 0,void 0,function(){var t;return Object(i.d)(this,function(e){switch(e.label){case 0:return Object(a.w)()?[3,1]:(d.warn(m.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return e.trys.push([1,3,,4]),[4,Object(a.N)()];case 2:return e.sent(),[3,4];case 3:return t=e.sent(),d.warn(m.create("indexeddb-unavailable",{errorInfo:t}).message),[2,!1];case 4:return[2,!0]}})})}().then(function(t){return t?r.getId():void 0}),[4,Promise.all([s,c])];case 1:return u=v.sent(),h=u[0],f=u[1],o("js",new Date),(g={}).origin="firebase",g.update=!0,p=g,null!=f&&(p.firebase_id=f),o(l.CONFIG,h.measurementId,p),[2,h.measurementId]}})})}(t,S,E,e,w),{app:t,logEvent:function(t,e,r){(function(t,e,n,r,o){return Object(i.b)(this,void 0,void 0,function(){var s,a;return Object(i.d)(this,function(c){switch(c.label){case 0:return o&&o.global?(t(l.EVENT,n,r),[2]):[3,1];case 1:return[4,e];case 2:s=c.sent(),a=Object(i.a)(Object(i.a)({},r),{send_to:s}),t(l.EVENT,n,a),c.label=3;case 3:return[2]}})})})(C,P[n],t,e,r).catch(function(t){return d.error(t)})},setCurrentScreen:function(t,e){(function(t,e,n,r){return Object(i.b)(this,void 0,void 0,function(){var o;return Object(i.d)(this,function(i){switch(i.label){case 0:return r&&r.global?(t(l.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:o=i.sent(),t(l.CONFIG,o,{update:!0,screen_name:n}),i.label=3;case 3:return[2]}})})})(C,P[n],t,e).catch(function(t){return d.error(t)})},setUserId:function(t,e){(function(t,e,n,r){return Object(i.b)(this,void 0,void 0,function(){var o;return Object(i.d)(this,function(i){switch(i.label){case 0:return r&&r.global?(t(l.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:o=i.sent(),t(l.CONFIG,o,{update:!0,user_id:n}),i.label=3;case 3:return[2]}})})})(C,P[n],t,e).catch(function(t){return d.error(t)})},setUserProperties:function(t,e){(function(t,e,n,r){return Object(i.b)(this,void 0,void 0,function(){var o,s,a,c,u;return Object(i.d)(this,function(i){switch(i.label){case 0:if(!r||!r.global)return[3,1];for(o={},s=0,a=Object.keys(n);s<a.length;s++)o["user_properties."+(c=a[s])]=n[c];return t(l.SET,o),[2,Promise.resolve()];case 1:return[4,e];case 2:u=i.sent(),t(l.CONFIG,u,{update:!0,user_properties:n}),i.label=3;case 3:return[2]}})})})(C,P[n],t,e).catch(function(t){return d.error(t)})},setAnalyticsCollectionEnabled:function(t){(function(t,e){return Object(i.b)(this,void 0,void 0,function(){var n;return Object(i.d)(this,function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),window["ga-disable-"+n]=!e,[2]}})})})(P[n],t).catch(function(t){return d.error(t)})},INTERNAL:{delete:function(){return delete P[n],Promise.resolve()}}}}(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())},"PUBLIC").setServiceProps({settings:function(t){if(O)throw m.create("already-initialized");t.dataLayerName&&(T=t.dataLayerName),t.gtagName&&(x=t.gtagName)},EventName:h,isSupported:function(){return Object(i.b)(this,void 0,void 0,function(){return Object(i.d)(this,function(t){switch(t.label){case 0:if(Object(a.s)())return[2,!1];if(!Object(a.e)())return[2,!1];if(!Object(a.w)())return[2,!1];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,Object(a.N)()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,!1];case 4:return[2]}})})}})),I.INTERNAL.registerComponent(new c.a("analytics-internal",function(t){try{return{logEvent:t.getProvider(A).getImmediate().logEvent}}catch(e){throw m.create("interop-component-reg-failed",{reason:e})}},"PRIVATE")),I.registerVersion("@firebase/analytics","0.6.2")},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class o extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("lJxs"),i=n("Cfvw"),o=n("zx2A");function s(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?o=>o.pipe(s((n,o)=>Object(i.a)(t(n,o)).pipe(Object(r.a)((t,r)=>e(n,t,o,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new c(t,this.project,this.concurrent))}}class c extends o.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new o.a(this),n=this.destination;n.add(e);const r=Object(o.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"6Uf2":function(t,e,n){"use strict";(function(t){var e,r=n("zIRd"),i=n("30Go"),o=n("qOnz"),s=n("q/0M"),a=n("/6Yf"),c=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Object(o.J)(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:Object(o.D)(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),u=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return Object(o.k)(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),l=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new c(e)}}catch(n){}return new u},h=l("localStorage"),d=l("sessionStorage"),f=new s.b("@firebase/database"),p=(e=1,function(){return e++}),g=function(t){var e=Object(o.I)(t),n=new o.d;n.update(e);var r=n.digest();return o.h.encodeByteArray(r)},m=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",r=0;r<t.length;r++){var i=t[r];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?n+=m.apply(null,i):n+="object"==typeof i?Object(o.J)(i):i,n+=" "}return n},b=null,v=!0,y=function(t,e){Object(o.f)(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(f.logLevel=s.a.VERBOSE,b=f.log.bind(f),e&&d.set("logging_enabled",!0)):"function"==typeof t?b=t:(b=null,d.remove("logging_enabled"))},_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===v&&(v=!1,null===b&&!0===d.get("logging_enabled")&&y(!0)),b){var n=m.apply(null,t);b(n)}},w=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];_.apply(void 0,Object(i.f)([t],e))}},C=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+m.apply(void 0,Object(i.f)(t));f.error(n)},k=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+m.apply(void 0,Object(i.f)(t));throw f.error(n),new Error(n)},P=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+m.apply(void 0,Object(i.f)(t));f.warn(n)},S=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},E="[MIN_NAME]",T="[MAX_NAME]",x=function(t,e){if(t===e)return 0;if(t===E||e===T)return-1;if(e===E||t===T)return 1;var n=K(t),r=K(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1},O=function(t,e){return t===e?0:t<e?-1:1},I=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Object(o.J)(e))},A=function(t){if("object"!=typeof t||null===t)return Object(o.J)(t);var e=[];for(var n in t)e.push(n);e.sort();for(var r="{",i=0;i<e.length;i++)0!==i&&(r+=","),r+=Object(o.J)(e[i]),r+=":",r+=A(t[e[i]]);return r+"}"},R=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)r.push(t.substring(i,i+e>n?n:i+e));return r};function D(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var j,N,M,L,F,U,Q,V,B,q,z=function(t){var e,n,r,i,s;Object(o.f)(!S(t),"Invalid JSON number"),0===t?(n=0,r=0,e=1/t==-1/0?1:0):(e=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,r=Math.round(t*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(t/Math.pow(2,-1074))));var a=[];for(s=52;s;s-=1)a.push(r%2?1:0),r=Math.floor(r/2);for(s=11;s;s-=1)a.push(n%2?1:0),n=Math.floor(n/2);a.push(e?1:0),a.reverse();var c=a.join(""),u="";for(s=0;s<64;s+=8){var l=parseInt(c.substr(s,8),2).toString(16);1===l.length&&(l="0"+l),u+=l}return u.toLowerCase()},H=new RegExp("^-?(0*)\\d{1,10}$"),K=function(t){if(H.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},W=function(t){try{t()}catch(e){setTimeout(function(){throw P("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},G=function(t,e){var n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n},X=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return Object.defineProperty(t,"Empty",{get:function(){return new t("")},enumerable:!1,configurable:!0}),t.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},t.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},t.prototype.popFront=function(){var e=this.pieceNum_;return e<this.pieces_.length&&e++,new t(this.pieces_,e)},t.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t.prototype.toUrlEncodedString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+encodeURIComponent(String(this.pieces_[e])));return t||"/"},t.prototype.slice=function(t){return void 0===t&&(t=0),this.pieces_.slice(this.pieceNum_+t)},t.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var e=[],n=this.pieceNum_;n<this.pieces_.length-1;n++)e.push(this.pieces_[n]);return new t(e,0)},t.prototype.child=function(e){for(var n=[],r=this.pieceNum_;r<this.pieces_.length;r++)n.push(this.pieces_[r]);if(e instanceof t)for(r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{var i=e.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new t(n,0)},t.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},t.relativePath=function(e,n){var r=e.getFront(),i=n.getFront();if(null===r)return n;if(r===i)return t.relativePath(e.popFront(),n.popFront());throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+e+")")},t.comparePaths=function(t,e){for(var n=t.slice(),r=e.slice(),i=0;i<n.length&&i<r.length;i++){var o=x(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1},t.prototype.equals=function(t){if(this.getLength()!==t.getLength())return!1;for(var e=this.pieceNum_,n=t.pieceNum_;e<=this.pieces_.length;e++,n++)if(this.pieces_[e]!==t.pieces_[n])return!1;return!0},t.prototype.contains=function(t){var e=this.pieceNum_,n=t.pieceNum_;if(this.getLength()>t.getLength())return!1;for(;e<this.pieces_.length;){if(this.pieces_[e]!==t.pieces_[n])return!1;++e,++n}return!0},t}(),Y=function(){function t(t,e){this.errorPrefix_=e,this.parts_=t.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=Object(o.H)(this.parts_[n]);this.checkValid_()}return Object.defineProperty(t,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!1,configurable:!0}),Object.defineProperty(t,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!1,configurable:!0}),t.prototype.push=function(t){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(t),this.byteLength_+=Object(o.H)(t),this.checkValid_()},t.prototype.pop=function(){var t=this.parts_.pop();this.byteLength_-=Object(o.H)(t),this.parts_.length>0&&(this.byteLength_-=1)},t.prototype.checkValid_=function(){if(this.byteLength_>t.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+t.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>t.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+t.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},t.prototype.toErrorString=function(){return 0===this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},t}(),$="firebaseio.com",J="websocket",Z="long_polling",tt=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===s&&(s=!1),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=h.get("host:"+t)||this.host}return t.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()||this.includeNamespaceInQueryParams},t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},t.prototype.updateHost=function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&h.set("host:"+this.host,this.internalHost))},t.prototype.connectionURL=function(t,e){var n;if(Object(o.f)("string"==typeof t,"typeof type must == string"),Object(o.f)("object"==typeof e,"typeof params must == object"),t===J)n=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if(t!==Z)throw new Error("Unknown connection type: "+t);n=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(e.ns=this.namespace);var r=[];return D(e,function(t,e){r.push(t+"="+e)}),n+r.join("&")},t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},t}(),et=function(t,e){var n=nt(t),r=n.namespace;return"firebase.com"===n.domain&&k(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||k("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&P("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new tt(n.host,n.secure,r,e,"ws"===n.scheme||"wss"===n.scheme,"",r!==n.subdomain),path:new X(n.pathString)}},nt=function(t){var e="",n="",r="",o="",s="",a=!0,c="https",u=443;if("string"==typeof t){var l=t.indexOf("//");l>=0&&(c=t.substring(0,l-1),t=t.substring(l+2));var h=t.indexOf("/");-1===h&&(h=t.length);var d=t.indexOf("?");-1===d&&(d=t.length),e=t.substring(0,Math.min(h,d)),h<d&&(o=function(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}e+="/"+i}return e}(t.substring(h,d)));var f=function(t){var e,n,r={};"?"===t.charAt(0)&&(t=t.substring(1));try{for(var o=Object(i.h)(t.split("&")),s=o.next();!s.done;s=o.next()){var a=s.value;if(0!==a.length){var c=a.split("=");2===c.length?r[decodeURIComponent(c[0])]=decodeURIComponent(c[1]):P("Invalid query segment '"+a+"' in query '"+t+"'")}}}catch(u){e={error:u}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r}(t.substring(Math.min(t.length,d)));(l=e.indexOf(":"))>=0?(a="https"===c||"wss"===c,u=parseInt(e.substring(l+1),10)):l=e.length;var p=e.slice(0,l);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{var g=e.indexOf(".");r=e.substring(0,g).toLowerCase(),n=e.substring(g+1),s=r}"ns"in f&&(s=f.ns)}return{host:e,port:u,domain:n,subdomain:r,secure:a,scheme:c,pathString:o,namespace:s}},rt=/[\[\].#$\/\u0000-\u001F\u007F]/,it=/[\[\].#$\u0000-\u001F\u007F]/,ot=10485760,st=function(t){return"string"==typeof t&&0!==t.length&&!rt.test(t)},at=function(t){return"string"==typeof t&&0!==t.length&&!it.test(t)},ct=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!S(t)||t&&"object"==typeof t&&Object(o.k)(t,".sv")},ut=function(t,e,n,r,i){i&&void 0===n||lt(Object(o.o)(t,e,i),n,r)},lt=function(t,e,n){var r=n instanceof X?new Y(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+r.toErrorString());if("function"==typeof e)throw new Error(t+"contains a function "+r.toErrorString()+" with contents = "+e.toString());if(S(e))throw new Error(t+"contains "+e.toString()+" "+r.toErrorString());if("string"==typeof e&&e.length>ot/3&&Object(o.H)(e)>ot)throw new Error(t+"contains a string greater than 10485760 utf8 bytes "+r.toErrorString()+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){var i=!1,s=!1;if(D(e,function(e,n){if(".value"===e)i=!0;else if(".priority"!==e&&".sv"!==e&&(s=!0,!st(e)))throw new Error(t+" contains an invalid key ("+e+") "+r.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');r.push(e),lt(t,n,r),r.pop()}),i&&s)throw new Error(t+' contains ".value" child '+r.toErrorString()+" in addition to actual children.")}},ht=function(t,e,n,r,i){if(!i||void 0!==n){var s=Object(o.o)(t,e,i);if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(s+" must be an object containing the children to replace.");var a=[];D(n,function(t,e){var n=new X(t);if(lt(s,e,r.child(n)),".priority"===n.getBack()&&!ct(e))throw new Error(s+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(n)}),function(t,e){var n,r;for(n=0;n<e.length;n++)for(var i=(r=e[n]).slice(),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!st(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort(X.comparePaths);var s=null;for(n=0;n<e.length;n++){if(r=e[n],null!==s&&s.contains(r))throw new Error(t+"contains a path "+s.toString()+" that is ancestor of another path "+r.toString());s=r}}(s,a)}},dt=function(t,e,n,r){if(!r||void 0!==n){if(S(n))throw new Error(Object(o.o)(t,e,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!ct(n))throw new Error(Object(o.o)(t,e,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},ft=function(t,e,n,r){if(!r||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Object(o.o)(t,e,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},pt=function(t,e,n,r){if(!(r&&void 0===n||st(n)))throw new Error(Object(o.o)(t,e,r)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},gt=function(t,e,n,r){if(!(r&&void 0===n||at(n)))throw new Error(Object(o.o)(t,e,r)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},mt=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),gt(t,e,n,r)},bt=function(t,e){if(".info"===e.getFront())throw new Error(t+" failed = Can't modify data under /.info/")},vt=function(t,e,n){var r=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!st(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==r.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),at(t)}(r))throw new Error(Object(o.o)(t,e,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},yt=function(t,e,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error(Object(o.o)(t,e,r)+"must be a boolean.")},_t=function(){function t(t,e){this.repo_=t,this.path_=e}return t.prototype.cancel=function(t){Object(o.K)("OnDisconnect.cancel",0,1,arguments.length),Object(o.L)("OnDisconnect.cancel",1,t,!0);var e=new o.a;return this.repo_.onDisconnectCancel(this.path_,e.wrapCallback(t)),e.promise},t.prototype.remove=function(t){Object(o.K)("OnDisconnect.remove",0,1,arguments.length),bt("OnDisconnect.remove",this.path_),Object(o.L)("OnDisconnect.remove",1,t,!0);var e=new o.a;return this.repo_.onDisconnectSet(this.path_,null,e.wrapCallback(t)),e.promise},t.prototype.set=function(t,e){Object(o.K)("OnDisconnect.set",1,2,arguments.length),bt("OnDisconnect.set",this.path_),ut("OnDisconnect.set",1,t,this.path_,!1),Object(o.L)("OnDisconnect.set",2,e,!0);var n=new o.a;return this.repo_.onDisconnectSet(this.path_,t,n.wrapCallback(e)),n.promise},t.prototype.setWithPriority=function(t,e,n){Object(o.K)("OnDisconnect.setWithPriority",2,3,arguments.length),bt("OnDisconnect.setWithPriority",this.path_),ut("OnDisconnect.setWithPriority",1,t,this.path_,!1),dt("OnDisconnect.setWithPriority",2,e,!1),Object(o.L)("OnDisconnect.setWithPriority",3,n,!0);var r=new o.a;return this.repo_.onDisconnectSetWithPriority(this.path_,t,e,r.wrapCallback(n)),r.promise},t.prototype.update=function(t,e){if(Object(o.K)("OnDisconnect.update",1,2,arguments.length),bt("OnDisconnect.update",this.path_),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,P("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ht("OnDisconnect.update",1,t,this.path_,!1),Object(o.L)("OnDisconnect.update",2,e,!0);var i=new o.a;return this.repo_.onDisconnectUpdate(this.path_,t,i.wrapCallback(e)),i.promise},t}(),wt=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return Object(o.K)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),Ct=(j="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",N=0,M=[],function(t){var e,n=t===N;N=t;var r=new Array(8);for(e=7;e>=0;e--)r[e]=j.charAt(t%64),t=Math.floor(t/64);Object(o.f)(0===t,"Cannot push at time == 0");var i=r.join("");if(n){for(e=11;e>=0&&63===M[e];e--)M[e]=0;M[e]++}else for(e=0;e<12;e++)M[e]=Math.floor(64*Math.random());for(e=0;e<12;e++)i+=j.charAt(M[e]);return Object(o.f)(20===i.length,"nextPushId: Length should be 20."),i}),kt=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),Pt=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new kt(E,t),r=new kt(E,e);return 0!==this.compare(n,r)},t.prototype.minPost=function(){return kt.MIN},t}(),St=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.c)(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return L},set:function(t){L=t},enumerable:!1,configurable:!0}),e.prototype.compare=function(t,e){return x(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw Object(o.g)("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return kt.MIN},e.prototype.maxPost=function(){return new kt(T,L)},e.prototype.makePost=function(t,e){return Object(o.f)("string"==typeof t,"KeyIndex indexValue must always be a string."),new kt(t,L)},e.prototype.toString=function(){return".key"},e}(Pt),Et=new St,Tt=function(t){return"number"==typeof t?"number:"+z(t):"string:"+t},xt=function(t){if(t.isLeafNode()){var e=t.val();Object(o.f)("string"==typeof e||"number"==typeof e||"object"==typeof e&&Object(o.k)(e,".sv"),"Priority must be a string or number.")}else Object(o.f)(t===F||t.isEmpty(),"priority of unexpected type.");Object(o.f)(t===F||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Ot=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Object(o.f)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),xt(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return U},set:function(t){U=t},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return e.isEmpty()?this:".priority"===e.getFront()?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=e.getFront();return null===r?n:n.isEmpty()&&".priority"!==r?this:(Object(o.f)(".priority"!==r||1===e.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(e.popFront(),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+Tt(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?z(this.value_):this.value_,this.lazyHash_=g(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(Object(o.f)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,i=t.VALUE_TYPE_ORDER.indexOf(n),s=t.VALUE_TYPE_ORDER.indexOf(r);return Object(o.f)(i>=0,"Unknown leaf type: "+n),Object(o.f)(s>=0,"Unknown leaf type: "+r),i===s?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){return t===this||!!t.isLeafNode()&&this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}(),It=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.c)(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority(),i=n.compareTo(r);return 0===i?x(t.name,e.name):i},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return kt.MIN},e.prototype.maxPost=function(){return new kt(T,new Ot("[PRIORITY-POST]",V))},e.prototype.makePost=function(t,e){var n=Q(t);return new kt(e,new Ot("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(Pt)),At=function(){function t(t,e,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),Rt=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:jt.EMPTY_NODE,this.right=null!=o?o:jt.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return jt.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var n,r;if(e(t,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return jt.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),Dt=function(){function t(){}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Rt(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),jt=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Rt.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Rt.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new At(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new At(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new At(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new At(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new Dt,t}(),Nt=Math.log(2),Mt=function(){function t(t){this.count=parseInt(Math.log(t+1)/Nt,10),this.current_=this.count-1;var e=parseInt(Array(this.count+1).join("1"),2);this.bits_=t+1&e}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),Lt=function(t,e,n,r){t.sort(e);var i=function(e,r){var o,s,a=r-e;if(0===a)return null;if(1===a)return o=t[e],s=n?n(o):o,new Rt(s,o.node,Rt.BLACK,null,null);var c=parseInt(a/2,10)+e,u=i(e,c),l=i(c+1,r);return o=t[c],s=n?n(o):o,new Rt(s,o.node,Rt.BLACK,u,l)},o=function(e){for(var r=null,o=null,s=t.length,a=function(e,r){var o=s-e,a=s;s-=e;var u=i(o+1,a),l=t[o],h=n?n(l):l;c(new Rt(h,l.node,r,null,u))},c=function(t){r?(r.left=t,r=t):(o=t,r=t)},u=0;u<e.count;++u){var l=e.nextBitIsOne(),h=Math.pow(2,e.count-(u+1));l?a(h,Rt.BLACK):(a(h,Rt.BLACK),a(h,Rt.RED))}return o}(new Mt(t.length));return new jt(r||e,o)},Ft={},Ut=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return Object(o.f)(Ft&&It,"ChildrenNode.ts has not been loaded"),B=B||new t({".priority":Ft},{".priority":It})},enumerable:!1,configurable:!0}),t.prototype.get=function(t){var e=Object(o.G)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof jt?e:null},t.prototype.hasIndex=function(t){return Object(o.k)(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){Object(o.f)(e!==Et,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,s=[],a=!1,c=n.getIterator(kt.Wrap),u=c.getNext();u;)a=a||e.isDefinedOn(u.node),s.push(u),u=c.getNext();r=a?Lt(s,e.getCompare()):Ft;var l=e.toString(),h=Object(i.a)({},this.indexSet_);h[l]=e;var d=Object(i.a)({},this.indexes_);return d[l]=r,new t(d,h)},t.prototype.addToIndexes=function(e,n){var r=this;return new t(Object(o.E)(this.indexes_,function(t,i){var s=Object(o.G)(r.indexSet_,i);if(Object(o.f)(s,"Missing index implementation for "+i),t===Ft){if(s.isDefinedOn(e.node)){for(var a=[],c=n.getIterator(kt.Wrap),u=c.getNext();u;)u.name!==e.name&&a.push(u),u=c.getNext();return a.push(e),Lt(a,s.getCompare())}return Ft}var l=n.get(e.name),h=t;return l&&(h=h.remove(new kt(e.name,l))),h.insert(e,e.node)}),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t(Object(o.E)(this.indexes_,function(t){if(t===Ft)return t;var r=n.get(e.name);return r?t.remove(new kt(e.name,r)):t}),this.indexSet_)},t}();function Qt(t,e){return x(t.name,e.name)}function Vt(t,e){return x(t,e)}var Bt=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&xt(this.priorityNode_),this.children_.isEmpty()&&Object(o.f)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return q||(q=new t(new jt(Vt),null,Ut.Default))},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||q},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?q:e},t.prototype.getChild=function(t){var e=t.getFront();return null===e?this:this.getImmediateChild(e).getChild(t.popFront())},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if(Object(o.f)(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var r=new kt(e,n),i=void 0,s=void 0;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));var a=i.isEmpty()?q:this.priorityNode_;return new t(i,a,s)},t.prototype.updateChild=function(t,e){var n=t.getFront();if(null===n)return e;Object(o.f)(".priority"!==t.getFront()||1===t.getLength(),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(t.popFront(),e);return this.updateImmediateChild(n,r)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(It,function(s,a){n[s]=a.val(e),r++,o&&t.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):o=!1}),!e&&o&&i<2*r){var s=[];for(var a in n)s[a]=n[a];return s}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+Tt(this.getPriority().val())+":"),this.forEachChild(It,function(e,n){var r=n.hash();""!==r&&(t+=":"+e+":"+r)}),this.lazyHash_=""===t?"":g(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new kt(t,e));return i?i.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new kt(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new kt(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal(function(t){return e(t.name,t.node)}):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,function(t){return t});for(var r=this.children_.getIteratorFrom(t.name,kt.Wrap),i=r.peek();null!=i&&e.compare(i,t)<0;)r.getNext(),i=r.peek();return r},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,function(t){return t});for(var r=this.children_.getReverseIteratorFrom(t.name,kt.Wrap),i=r.peek();null!=i&&e.compare(i,t)>0;)r.getNext(),i=r.peek();return r},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===qt?-1:0},t.prototype.withIndex=function(e){if(e===Et||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===Et||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(It),r=e.getIterator(It),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===Et?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),qt=new(function(t){function e(){return t.call(this,new jt(Vt),Bt.EMPTY_NODE,Ut.Default)||this}return Object(i.c)(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return Bt.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(Bt));function zt(t,e){if(void 0===e&&(e=null),null===t)return Bt.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),Object(o.f)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new Ot(t,zt(e));if(t instanceof Array){var n=Bt.EMPTY_NODE;return D(t,function(e,r){if(Object(o.k)(t,e)&&"."!==e.substring(0,1)){var i=zt(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(e,i))}}),n.updatePriority(zt(e))}var r=[],i=!1;if(D(t,function(t,e){if("."!==t.substring(0,1)){var n=zt(e);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new kt(t,n)))}}),0===r.length)return Bt.EMPTY_NODE;var s=Lt(r,Qt,function(t){return t.name},Vt);if(i){var a=Lt(r,It.getCompare());return new Bt(s,zt(e),new Ut({".priority":a},{".priority":It}))}return new Bt(s,zt(e),Ut.Default)}Object.defineProperties(kt,{MIN:{value:new kt(E,Bt.EMPTY_NODE)},MAX:{value:new kt(T,qt)}}),St.__EMPTY_NODE=Bt.EMPTY_NODE,Ot.__childrenNodeConstructor=Bt,F=qt,V=qt,Q=zt;var Ht,Kt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.c)(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?x(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return kt.MIN},e.prototype.maxPost=function(){return kt.MAX},e.prototype.makePost=function(t,e){var n=zt(t);return new kt(e,n)},e.prototype.toString=function(){return".value"},e}(Pt)),Wt=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,Object(o.f)(!e.isEmpty()&&".priority"!==e.getFront(),"Can't create PathIndex with empty path or .priority key"),n}return Object(i.c)(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node),i=n.compareTo(r);return 0===i?x(t.name,e.name):i},e.prototype.makePost=function(t,e){var n=zt(t),r=Bt.EMPTY_NODE.updateChild(this.indexPath_,n);return new kt(e,r)},e.prototype.maxPost=function(){var t=Bt.EMPTY_NODE.updateChild(this.indexPath_,qt);return new kt(T,t)},e.prototype.toString=function(){return this.indexPath_.slice().join("/")},e}(Pt),Gt=function(){function t(t,e,n){this.node_=t,this.ref_=e,this.index_=n}return t.prototype.val=function(){return Object(o.K)("DataSnapshot.val",0,0,arguments.length),this.node_.val()},t.prototype.exportVal=function(){return Object(o.K)("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},t.prototype.toJSON=function(){return Object(o.K)("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},t.prototype.exists=function(){return Object(o.K)("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},t.prototype.child=function(e){Object(o.K)("DataSnapshot.child",0,1,arguments.length),e=String(e),gt("DataSnapshot.child",1,e,!1);var n=new X(e),r=this.ref_.child(n);return new t(this.node_.getChild(n),r,It)},t.prototype.hasChild=function(t){Object(o.K)("DataSnapshot.hasChild",1,1,arguments.length),gt("DataSnapshot.hasChild",1,t,!1);var e=new X(t);return!this.node_.getChild(e).isEmpty()},t.prototype.getPriority=function(){return Object(o.K)("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},t.prototype.forEach=function(e){var n=this;if(Object(o.K)("DataSnapshot.forEach",1,1,arguments.length),Object(o.L)("DataSnapshot.forEach",1,e,!1),this.node_.isLeafNode())return!1;var r=this.node_;return!!r.forEachChild(this.index_,function(r,i){return e(new t(i,n.ref_.child(r),It))})},t.prototype.hasChildren=function(){return Object(o.K)("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(t.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!1,configurable:!0}),t.prototype.numChildren=function(){return Object(o.K)("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},t.prototype.getRef=function(){return Object(o.K)("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),Xt=function(){function t(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}return t.prototype.getPath=function(){var t=this.snapshot.getRef();return"value"===this.eventType?t.path:t.getParent().path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+Object(o.J)(this.snapshot.exportVal())},t}(),Yt=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),$t=function(){function t(t,e,n){this.callback_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e.getQueryParams().getIndex();return new Xt("value",this,new Gt(t.snapshotNode,e.getRef(),n))},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){Object(o.f)(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callback_;return function(){r.call(e,t.snapshot)}},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new Yt(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callback_||!this.callback_||e.callback_===this.callback_&&e.context_===this.context_)},t.prototype.hasAnyCallback=function(){return null!==this.callback_},t}(),Jt=function(){function t(t,e,n){this.callbacks_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,Object(o.k)(this.callbacks_,e)},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new Yt(this,t,e):null},t.prototype.createEvent=function(t,e){Object(o.f)(null!=t.childName,"Child events should have a childName.");var n=e.getRef().child(t.childName),r=e.getQueryParams().getIndex();return new Xt(t.type,this,new Gt(t.snapshotNode,n,r),t.prevName)},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){Object(o.f)(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callbacks_[t.eventType];return function(){r.call(e,t.snapshot,t.prevName)}},t.prototype.matches=function(e){var n=this;if(e instanceof t){if(!this.callbacks_||!e.callbacks_)return!0;if(this.context_===e.context_){var r=Object.keys(e.callbacks_),i=Object.keys(this.callbacks_),o=r.length;if(o===i.length){if(1===o){var s=r[0],a=i[0];return!(a!==s||e.callbacks_[s]&&this.callbacks_[a]&&e.callbacks_[s]!==this.callbacks_[a])}return i.every(function(t){return e.callbacks_[t]===n.callbacks_[t]})}}}return!1},t.prototype.hasAnyCallback=function(){return null!==this.callbacks_},t}(),Zt=function(){function t(t,e,n,r){this.repo=t,this.path=e,this.queryParams_=n,this.orderByCalled_=r}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return Object(o.f)(Ht,"Reference.ts has not been loaded"),Ht},set:function(t){Ht=t},enumerable:!1,configurable:!0}),t.validateQueryEndpoints_=function(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Et){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==E)throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==T)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(t.getIndex()===It){if(null!=e&&!ct(e)||null!=n&&!ct(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Object(o.f)(t.getIndex()instanceof Wt||t.getIndex()===Kt,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},t.validateLimit_=function(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},t.prototype.validateNoPreviousOrderByCall_=function(t){if(!0===this.orderByCalled_)throw new Error(t+": You can't combine multiple orderBy calls.")},t.prototype.getQueryParams=function(){return this.queryParams_},t.prototype.getRef=function(){return Object(o.K)("Query.ref",0,0,arguments.length),new t.__referenceConstructor(this.repo,this.path)},t.prototype.on=function(e,n,r,i){Object(o.K)("Query.on",2,4,arguments.length),ft("Query.on",1,e,!1),Object(o.L)("Query.on",2,n,!1);var s=t.getCancelAndContextArgs_("Query.on",r,i);if("value"===e)this.onValueEvent(n,s.cancel,s.context);else{var a={};a[e]=n,this.onChildEvent(a,s.cancel,s.context)}return n},t.prototype.onValueEvent=function(t,e,n){var r=new $t(t,e||null,n||null);this.repo.addEventCallbackForQuery(this,r)},t.prototype.onChildEvent=function(t,e,n){var r=new Jt(t,e,n);this.repo.addEventCallbackForQuery(this,r)},t.prototype.off=function(t,e,n){Object(o.K)("Query.off",0,3,arguments.length),ft("Query.off",1,t,!0),Object(o.L)("Query.off",2,e,!0),Object(o.M)("Query.off",3,n,!0);var r=null,i=null;if("value"===t){var s=e||null;r=new $t(s,null,n||null)}else t&&(e&&((i={})[t]=e),r=new Jt(i,null,n||null));this.repo.removeEventCallbackForQuery(this,r)},t.prototype.get=function(){return this.repo.getValue(this)},t.prototype.once=function(e,n,r,i){var s=this;Object(o.K)("Query.once",1,4,arguments.length),ft("Query.once",1,e,!1),Object(o.L)("Query.once",2,n,!0);var a=t.getCancelAndContextArgs_("Query.once",r,i),c=!0,u=new o.a;u.promise.catch(function(){});var l=function(t){c&&(c=!1,s.off(e,l),n&&n.bind(a.context)(t),u.resolve(t))};return this.on(e,l,function(t){s.off(e,l),a.cancel&&a.cancel.bind(a.context)(t),u.reject(t)}),u.promise},t.prototype.limitToFirst=function(e){if(Object(o.K)("Query.limitToFirst",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToFirst(e),this.orderByCalled_)},t.prototype.limitToLast=function(e){if(Object(o.K)("Query.limitToLast",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToLast(e),this.orderByCalled_)},t.prototype.orderByChild=function(e){if(Object(o.K)("Query.orderByChild",1,1,arguments.length),"$key"===e)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===e)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===e)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');gt("Query.orderByChild",1,e,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new X(e);if(n.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var r=new Wt(n),i=this.queryParams_.orderBy(r);return t.validateQueryEndpoints_(i),new t(this.repo,this.path,i,!0)},t.prototype.orderByKey=function(){Object(o.K)("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var e=this.queryParams_.orderBy(Et);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByPriority=function(){Object(o.K)("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var e=this.queryParams_.orderBy(It);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByValue=function(){Object(o.K)("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var e=this.queryParams_.orderBy(Kt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.startAt=function(e,n){void 0===e&&(e=null),Object(o.K)("Query.startAt",0,2,arguments.length),ut("Query.startAt",1,e,this.path,!0),pt("Query.startAt",2,n,!0);var r=this.queryParams_.startAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===e&&(e=null,n=null),new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.endAt=function(e,n){void 0===e&&(e=null),Object(o.K)("Query.endAt",0,2,arguments.length),ut("Query.endAt",1,e,this.path,!0),pt("Query.endAt",2,n,!0);var r=this.queryParams_.endAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.equalTo=function(t,e){if(Object(o.K)("Query.equalTo",1,2,arguments.length),ut("Query.equalTo",1,t,this.path,!1),pt("Query.equalTo",2,e,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(t,e).endAt(t,e)},t.prototype.toString=function(){return Object(o.K)("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},t.prototype.toJSON=function(){return Object(o.K)("Query.toJSON",0,1,arguments.length),this.toString()},t.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},t.prototype.queryIdentifier=function(){var t=this.queryObject(),e=A(t);return"{}"===e?"default":e},t.prototype.isEqual=function(e){if(Object(o.K)("Query.isEqual",1,1,arguments.length),!(e instanceof t)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}var r=this.repo===e.repo,i=this.path.equals(e.path),s=this.queryIdentifier()===e.queryIdentifier();return r&&i&&s},t.getCancelAndContextArgs_=function(t,e,n){var r={cancel:null,context:null};if(e&&n)r.cancel=e,Object(o.L)(t,3,r.cancel,!0),r.context=n,Object(o.M)(t,4,r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error(Object(o.o)(t,3,!0)+" must either be a cancel callback or a context object.");r.cancel=e}return r},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),te=function(){function t(t){this.node_=t}return t.prototype.getImmediateChild=function(e){return new t(this.node_.getImmediateChild(e))},t.prototype.node=function(){return this.node_},t}(),ee=function(){function t(t,e){this.syncTree_=t,this.path_=e}return t.prototype.getImmediateChild=function(e){var n=this.path_.child(e);return new t(this.syncTree_,n)},t.prototype.node=function(){return this.syncTree_.calcCompleteEventCache(this.path_)},t}(),ne=function(t,e,n){return t&&"object"==typeof t?(Object(o.f)(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?re(t[".sv"],e,n):"object"==typeof t[".sv"]?ie(t[".sv"],e):void Object(o.f)(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},re=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:Object(o.f)(!1,"Unexpected server value: "+t)}},ie=function(t,e,n){t.hasOwnProperty("increment")||Object(o.f)(!1,"Unexpected server value: "+JSON.stringify(t,null,2));var r=t.increment;"number"!=typeof r&&Object(o.f)(!1,"Unexpected increment value: "+r);var i=e.node();if(Object(o.f)(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var s=i.getValue();return"number"!=typeof s?r:s+r},oe=function(t,e,n,r){return ae(e,new ee(n,t),r)},se=function(t,e,n){return ae(t,new te(e),n)};function ae(t,e,n){var r,i=t.getPriority().val(),o=ne(i,e.getImmediateChild(".priority"),n);if(t.isLeafNode()){var s=t,a=ne(s.getValue(),e,n);return a!==s.getValue()||o!==s.getPriority().val()?new Ot(a,zt(o)):t}var c=t;return r=c,o!==c.getPriority().val()&&(r=r.updatePriority(new Ot(o))),c.forEachChild(It,function(t,i){var o=ae(i,e.getImmediateChild(t),n);o!==i&&(r=r.updateImmediateChild(t,o))}),r}var ce,ue,le=function(){function t(){this.value=null,this.children=new Map}return t.prototype.find=function(t){if(null!=this.value)return this.value.getChild(t);if(!t.isEmpty()&&this.children.size>0){var e=t.getFront();return t=t.popFront(),this.children.has(e)?this.children.get(e).find(t):null}return null},t.prototype.remember=function(e,n){if(e.isEmpty())this.value=n,this.children.clear();else if(null!==this.value)this.value=this.value.updateChild(e,n);else{var r=e.getFront();this.children.has(r)||this.children.set(r,new t);var i=this.children.get(r);e=e.popFront(),i.remember(e,n)}},t.prototype.forget=function(t){if(t.isEmpty())return this.value=null,this.children.clear(),!0;if(null!==this.value){if(this.value.isLeafNode())return!1;var e=this.value;this.value=null;var n=this;return e.forEachChild(It,function(t,e){n.remember(new X(t),e)}),this.forget(t)}if(this.children.size>0){var r=t.getFront();return t=t.popFront(),this.children.has(r)&&this.children.get(r).forget(t)&&this.children.delete(r),0===this.children.size}return!0},t.prototype.forEachTree=function(t,e){null!==this.value?e(t,this.value):this.forEachChild(function(n,r){var i=new X(t.toString()+"/"+n);r.forEachTree(i,e)})},t.prototype.forEachChild=function(t){this.children.forEach(function(e,n){t(n,e)})},t}(),he=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}({}),de=function(){function t(t,e,n,r){this.fromUser=t,this.fromServer=e,this.queryId=n,this.tagged=r,Object(o.f)(!r||e,"Tagged queries must be from server.")}return t.User=new t(!0,!1,null,!1),t.Server=new t(!1,!0,null,!1),t.forServerTaggedQuery=function(e){return new t(!1,!0,e,!0)},t}(),fe=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=he.ACK_USER_WRITE,this.source=de.User}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return Object(o.f)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new X(e));return new t(X.Empty,n,this.revert)}return Object(o.f)(this.path.getFront()===e,"operationForChild called for unrelated child."),new t(this.path.popFront(),this.affectedTree,this.revert)},t}(),pe=function(){function t(t,e){void 0===e&&(ce||(ce=new jt(O)),e=ce),this.value=t,this.children=e}return t.fromObject=function(e){var n=t.Empty;return D(e,function(t,e){n=n.set(new X(t),e)}),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:X.Empty,value:this.value};if(t.isEmpty())return null;var n=t.getFront(),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(t.popFront(),e);return null!=i?{path:new X(n).child(i.path),value:i.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,function(){return!0})},t.prototype.subtree=function(e){if(e.isEmpty())return this;var n=e.getFront(),r=this.children.get(n);return null!==r?r.subtree(e.popFront()):t.Empty},t.prototype.set=function(e,n){if(e.isEmpty())return new t(n,this.children);var r=e.getFront(),i=(this.children.get(r)||t.Empty).set(e.popFront(),n),o=this.children.insert(r,i);return new t(this.value,o)},t.prototype.remove=function(e){if(e.isEmpty())return this.children.isEmpty()?t.Empty:new t(null,this.children);var n=e.getFront(),r=this.children.get(n);if(r){var i=r.remove(e.popFront()),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?t.Empty:new t(this.value,o)}return this},t.prototype.get=function(t){if(t.isEmpty())return this.value;var e=t.getFront(),n=this.children.get(e);return n?n.get(t.popFront()):null},t.prototype.setTree=function(e,n){if(e.isEmpty())return n;var r,i=e.getFront(),o=(this.children.get(i)||t.Empty).setTree(e.popFront(),n);return r=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new t(this.value,r)},t.prototype.fold=function(t){return this.fold_(X.Empty,t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal(function(r,i){n[r]=i.fold_(t.child(r),e)}),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,X.Empty,e)},t.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if(t.isEmpty())return null;var i=t.getFront(),o=this.children.get(i);return o?o.findOnPath_(t.popFront(),e.child(i),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,X.Empty,e)},t.prototype.foreachOnPath_=function(e,n,r){if(e.isEmpty())return this;this.value&&r(n,this.value);var i=e.getFront(),o=this.children.get(i);return o?o.foreachOnPath_(e.popFront(),n.child(i),r):t.Empty},t.prototype.foreach=function(t){this.foreach_(X.Empty,t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal(function(n,r){r.foreach_(t.child(n),e)}),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal(function(e,n){n.value&&t(e,n.value)})},t.Empty=new t(null),t}(),ge=function(){function t(t,e){this.source=t,this.path=e,this.type=he.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,X.Empty):new t(this.source,this.path.popFront())},t}(),me=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=he.OVERWRITE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,X.Empty,this.snap.getImmediateChild(e)):new t(this.source,this.path.popFront(),this.snap)},t}(),be=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=he.MERGE}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){var n=this.children.subtree(new X(e));return n.isEmpty()?null:n.value?new me(this.source,X.Empty,n.value):new t(this.source,X.Empty,n)}return Object(o.f)(this.path.getFront()===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,this.path.popFront(),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),ve=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(t.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var e=t.getFront();return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),ye=function(){function t(t,e){this.eventCache_=t,this.serverCache_=e}return t.prototype.updateEventSnap=function(e,n,r){return new t(new ve(e,n,r),this.serverCache_)},t.prototype.updateServerSnap=function(e,n,r){return new t(this.eventCache_,new ve(e,n,r))},t.prototype.getEventCache=function(){return this.eventCache_},t.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},t.prototype.getServerCache=function(){return this.serverCache_},t.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},t.Empty=new t(new ve(Bt.EMPTY_NODE,!1,!1),new ve(Bt.EMPTY_NODE,!1,!1)),t}(),_e=function(){function t(t,e,n,r,i){this.type=t,this.snapshotNode=e,this.childName=n,this.oldSnap=r,this.prevName=i}return t.valueChange=function(e){return new t(t.VALUE,e)},t.childAddedChange=function(e,n){return new t(t.CHILD_ADDED,n,e)},t.childRemovedChange=function(e,n){return new t(t.CHILD_REMOVED,n,e)},t.childChangedChange=function(e,n,r){return new t(t.CHILD_CHANGED,n,e,r)},t.childMovedChange=function(e,n){return new t(t.CHILD_MOVED,n,e)},t.CHILD_ADDED="child_added",t.CHILD_REMOVED="child_removed",t.CHILD_CHANGED="child_changed",t.CHILD_MOVED="child_moved",t.VALUE="value",t}(),we=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,r,i,s){Object(o.f)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var a=t.getImmediateChild(e);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()===n.isEmpty()?t:(null!=s&&(n.isEmpty()?t.hasChild(e)?s.trackChildChange(_e.childRemovedChange(e,a)):Object(o.f)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(_e.childAddedChange(e,n)):s.trackChildChange(_e.childChangedChange(e,n,a))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(It,function(t,r){e.hasChild(t)||n.trackChildChange(_e.childRemovedChange(t,r))}),e.isLeafNode()||e.forEachChild(It,function(e,r){if(t.hasChild(e)){var i=t.getImmediateChild(e);i.equals(r)||n.trackChildChange(_e.childChangedChange(e,r,i))}else n.trackChildChange(_e.childAddedChange(e,r))})),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?Bt.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),Ce=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;Object(o.f)(e===_e.CHILD_ADDED||e===_e.CHILD_CHANGED||e===_e.CHILD_REMOVED,"Only child changes supported for tracking"),Object(o.f)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if(e===_e.CHILD_ADDED&&i===_e.CHILD_REMOVED)this.changeMap.set(n,_e.childChangedChange(n,t.snapshotNode,r.snapshotNode));else if(e===_e.CHILD_REMOVED&&i===_e.CHILD_ADDED)this.changeMap.delete(n);else if(e===_e.CHILD_REMOVED&&i===_e.CHILD_CHANGED)this.changeMap.set(n,_e.childRemovedChange(n,r.oldSnap));else if(e===_e.CHILD_CHANGED&&i===_e.CHILD_ADDED)this.changeMap.set(n,_e.childAddedChange(n,t.snapshotNode));else{if(e!==_e.CHILD_CHANGED||i!==_e.CHILD_CHANGED)throw Object(o.g)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(n,_e.childChangedChange(n,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,t)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}(),ke=new(function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}()),Pe=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.getEventCache();if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new ve(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(t,n)},t.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),i=this.writes_.calcIndexedSlice(r,e,1,n,t);return 0===i.length?null:i[0]},t}(),Se=function(){return function(t,e){this.viewCache=t,this.changes=e}}(),Ee=function(){function t(t){this.filter_=t}return t.prototype.assertIndexed=function(t){Object(o.f)(t.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),Object(o.f)(t.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},t.prototype.applyOperation=function(e,n,r,i){var s,a,c=new Ce;if(n.type===he.OVERWRITE){var u=n;u.source.fromUser?s=this.applyUserOverwrite_(e,u.path,u.snap,r,i,c):(Object(o.f)(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.getServerCache().isFiltered()&&!u.path.isEmpty(),s=this.applyServerOverwrite_(e,u.path,u.snap,r,i,a,c))}else if(n.type===he.MERGE){var l=n;l.source.fromUser?s=this.applyUserMerge_(e,l.path,l.children,r,i,c):(Object(o.f)(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.getServerCache().isFiltered(),s=this.applyServerMerge_(e,l.path,l.children,r,i,a,c))}else if(n.type===he.ACK_USER_WRITE){var h=n;s=h.revert?this.revertUserWrite_(e,h.path,r,i,c):this.ackUserWrite_(e,h.path,h.affectedTree,r,i,c)}else{if(n.type!==he.LISTEN_COMPLETE)throw Object(o.g)("Unknown operation type: "+n.type);s=this.listenComplete_(e,n.path,r,c)}var d=c.getChanges();return t.maybeAddValueEvent_(e,s,d),new Se(s,d)},t.maybeAddValueEvent_=function(t,e,n){var r=e.getEventCache();if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=t.getCompleteEventSnap();(n.length>0||!t.getEventCache().isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(_e.valueChange(e.getCompleteEventSnap()))}},t.prototype.generateEventCacheAfterServerEvent_=function(t,e,n,r,i){var s=t.getEventCache();if(null!=n.shadowingWrite(e))return t;var a=void 0,c=void 0;if(e.isEmpty())if(Object(o.f)(t.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),t.getServerCache().isFiltered()){var u=t.getCompleteServerSnap(),l=n.calcCompleteEventChildren(u instanceof Bt?u:Bt.EMPTY_NODE);a=this.filter_.updateFullNode(t.getEventCache().getNode(),l,i)}else{var h=n.calcCompleteEventCache(t.getCompleteServerSnap());a=this.filter_.updateFullNode(t.getEventCache().getNode(),h,i)}else{var d=e.getFront();if(".priority"===d){Object(o.f)(1===e.getLength(),"Can't have a priority with additional path components");var f=s.getNode();c=t.getServerCache().getNode();var p=n.calcEventCacheAfterServerOverwrite(e,f,c);a=null!=p?this.filter_.updatePriority(f,p):s.getNode()}else{var g=e.popFront(),m=void 0;if(s.isCompleteForChild(d)){c=t.getServerCache().getNode();var b=n.calcEventCacheAfterServerOverwrite(e,s.getNode(),c);m=null!=b?s.getNode().getImmediateChild(d).updateChild(g,b):s.getNode().getImmediateChild(d)}else m=n.calcCompleteChild(d,t.getServerCache());a=null!=m?this.filter_.updateChild(s.getNode(),d,m,g,r,i):s.getNode()}}return t.updateEventSnap(a,s.isFullyInitialized()||e.isEmpty(),this.filter_.filtersNodes())},t.prototype.applyServerOverwrite_=function(t,e,n,r,i,o,s){var a,c=t.getServerCache(),u=o?this.filter_:this.filter_.getIndexedFilter();if(e.isEmpty())a=u.updateFullNode(c.getNode(),n,null);else if(u.filtersNodes()&&!c.isFiltered()){var l=c.getNode().updateChild(e,n);a=u.updateFullNode(c.getNode(),l,null)}else{var h=e.getFront();if(!c.isCompleteForPath(e)&&e.getLength()>1)return t;var d=e.popFront(),f=c.getNode().getImmediateChild(h).updateChild(d,n);a=".priority"===h?u.updatePriority(c.getNode(),f):u.updateChild(c.getNode(),h,f,d,ke,null)}var p=t.updateServerSnap(a,c.isFullyInitialized()||e.isEmpty(),u.filtersNodes()),g=new Pe(r,p,i);return this.generateEventCacheAfterServerEvent_(p,e,r,g,s)},t.prototype.applyUserOverwrite_=function(t,e,n,r,i,o){var s,a,c=t.getEventCache(),u=new Pe(r,t,i);if(e.isEmpty())a=this.filter_.updateFullNode(t.getEventCache().getNode(),n,o),s=t.updateEventSnap(a,!0,this.filter_.filtersNodes());else{var l=e.getFront();if(".priority"===l)a=this.filter_.updatePriority(t.getEventCache().getNode(),n),s=t.updateEventSnap(a,c.isFullyInitialized(),c.isFiltered());else{var h=e.popFront(),d=c.getNode().getImmediateChild(l),f=void 0;if(h.isEmpty())f=n;else{var p=u.getCompleteChild(l);f=null!=p?".priority"===h.getBack()&&p.getChild(h.parent()).isEmpty()?p:p.updateChild(h,n):Bt.EMPTY_NODE}if(d.equals(f))s=t;else{var g=this.filter_.updateChild(c.getNode(),l,f,h,u,o);s=t.updateEventSnap(g,c.isFullyInitialized(),this.filter_.filtersNodes())}}}return s},t.cacheHasChild_=function(t,e){return t.getEventCache().isCompleteForChild(e)},t.prototype.applyUserMerge_=function(e,n,r,i,o,s){var a=this,c=e;return r.foreach(function(r,u){var l=n.child(r);t.cacheHasChild_(e,l.getFront())&&(c=a.applyUserOverwrite_(c,l,u,i,o,s))}),r.foreach(function(r,u){var l=n.child(r);t.cacheHasChild_(e,l.getFront())||(c=a.applyUserOverwrite_(c,l,u,i,o,s))}),c},t.prototype.applyMerge_=function(t,e){return e.foreach(function(e,n){t=t.updateChild(e,n)}),t},t.prototype.applyServerMerge_=function(t,e,n,r,i,o,s){var a=this;if(t.getServerCache().getNode().isEmpty()&&!t.getServerCache().isFullyInitialized())return t;var c,u=t;c=e.isEmpty()?n:pe.Empty.setTree(e,n);var l=t.getServerCache().getNode();return c.children.inorderTraversal(function(e,n){if(l.hasChild(e)){var c=t.getServerCache().getNode().getImmediateChild(e),h=a.applyMerge_(c,n);u=a.applyServerOverwrite_(u,new X(e),h,r,i,o,s)}}),c.children.inorderTraversal(function(e,n){var c=!t.getServerCache().isCompleteForChild(e)&&null==n.value;if(!l.hasChild(e)&&!c){var h=t.getServerCache().getNode().getImmediateChild(e),d=a.applyMerge_(h,n);u=a.applyServerOverwrite_(u,new X(e),d,r,i,o,s)}}),u},t.prototype.ackUserWrite_=function(t,e,n,r,i,o){if(null!=r.shadowingWrite(e))return t;var s=t.getServerCache().isFiltered(),a=t.getServerCache();if(null!=n.value){if(e.isEmpty()&&a.isFullyInitialized()||a.isCompleteForPath(e))return this.applyServerOverwrite_(t,e,a.getNode().getChild(e),r,i,s,o);if(e.isEmpty()){var c=pe.Empty;return a.getNode().forEachChild(Et,function(t,e){c=c.set(new X(t),e)}),this.applyServerMerge_(t,e,c,r,i,s,o)}return t}var u=pe.Empty;return n.foreach(function(t,n){var r=e.child(t);a.isCompleteForPath(r)&&(u=u.set(t,a.getNode().getChild(r)))}),this.applyServerMerge_(t,e,u,r,i,s,o)},t.prototype.listenComplete_=function(t,e,n,r){var i=t.getServerCache(),o=t.updateServerSnap(i.getNode(),i.isFullyInitialized()||e.isEmpty(),i.isFiltered());return this.generateEventCacheAfterServerEvent_(o,e,n,ke,r)},t.prototype.revertUserWrite_=function(t,e,n,r,i){var s;if(null!=n.shadowingWrite(e))return t;var a=new Pe(n,t,r),c=t.getEventCache().getNode(),u=void 0;if(e.isEmpty()||".priority"===e.getFront()){var l=void 0;if(t.getServerCache().isFullyInitialized())l=n.calcCompleteEventCache(t.getCompleteServerSnap());else{var h=t.getServerCache().getNode();Object(o.f)(h instanceof Bt,"serverChildren would be complete if leaf node"),l=n.calcCompleteEventChildren(h)}u=this.filter_.updateFullNode(c,l=l,i)}else{var d=e.getFront(),f=n.calcCompleteChild(d,t.getServerCache());null==f&&t.getServerCache().isCompleteForChild(d)&&(f=c.getImmediateChild(d)),(u=null!=f?this.filter_.updateChild(c,d,f,e.popFront(),a,i):t.getEventCache().getNode().hasChild(d)?this.filter_.updateChild(c,d,Bt.EMPTY_NODE,e.popFront(),a,i):c).isEmpty()&&t.getServerCache().isFullyInitialized()&&(s=n.calcCompleteEventCache(t.getCompleteServerSnap())).isLeafNode()&&(u=this.filter_.updateFullNode(u,s,i))}return s=t.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(X.Empty),t.updateEventSnap(u,s,this.filter_.filtersNodes())},t}(),Te=function(){function t(t){this.query_=t,this.index_=this.query_.getQueryParams().getIndex()}return t.prototype.generateEventsForChanges=function(t,e,n){var r=this,i=[],o=[];return t.forEach(function(t){t.type===_e.CHILD_CHANGED&&r.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push(_e.childMovedChange(t.childName,t.snapshotNode))}),this.generateEventsForType_(i,_e.CHILD_REMOVED,t,n,e),this.generateEventsForType_(i,_e.CHILD_ADDED,t,n,e),this.generateEventsForType_(i,_e.CHILD_MOVED,o,n,e),this.generateEventsForType_(i,_e.CHILD_CHANGED,t,n,e),this.generateEventsForType_(i,_e.VALUE,t,n,e),i},t.prototype.generateEventsForType_=function(t,e,n,r,i){var o=this,s=n.filter(function(t){return t.type===e});s.sort(this.compareChanges_.bind(this)),s.forEach(function(e){var n=o.materializeSingleChange_(e,i);r.forEach(function(r){r.respondsTo(e.type)&&t.push(r.createEvent(n,o.query_))})})},t.prototype.materializeSingleChange_=function(t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,this.index_)),t},t.prototype.compareChanges_=function(t,e){if(null==t.childName||null==e.childName)throw Object(o.g)("Should only compare child_ events.");var n=new kt(t.childName,t.snapshotNode),r=new kt(e.childName,e.snapshotNode);return this.index_.compare(n,r)},t}(),xe=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),r=new we(n.getIndex()),i=n.getNodeFilter();this.processor_=new Ee(i);var o=e.getServerCache(),s=e.getEventCache(),a=r.updateFullNode(Bt.EMPTY_NODE,o.getNode(),null),c=i.updateFullNode(Bt.EMPTY_NODE,s.getNode(),null),u=new ve(a,o.isFullyInitialized(),r.filtersNodes()),l=new ve(c,s.isFullyInitialized(),i.filtersNodes());this.viewCache_=new ye(l,u),this.eventGenerator_=new Te(this.query_)}return t.prototype.getQuery=function(){return this.query_},t.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},t.prototype.getCompleteServerCache=function(t){var e=this.viewCache_.getCompleteServerSnap();return e&&(this.query_.getQueryParams().loadsAllData()||!t.isEmpty()&&!e.getImmediateChild(t.getFront()).isEmpty())?e.getChild(t):null},t.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},t.prototype.addEventRegistration=function(t){this.eventRegistrations_.push(t)},t.prototype.removeEventRegistration=function(t,e){var n=[];if(e){Object(o.f)(null==t,"A cancel should cancel all event registrations.");var r=this.query_.path;this.eventRegistrations_.forEach(function(t){var i=t.createCancelEvent(e=e,r);i&&n.push(i)})}if(t){for(var i=[],s=0;s<this.eventRegistrations_.length;++s){var a=this.eventRegistrations_[s];if(a.matches(t)){if(t.hasAnyCallback()){i=i.concat(this.eventRegistrations_.slice(s+1));break}}else i.push(a)}this.eventRegistrations_=i}else this.eventRegistrations_=[];return n},t.prototype.applyOperation=function(t,e,n){t.type===he.MERGE&&null!==t.source.queryId&&(Object(o.f)(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),Object(o.f)(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var r=this.viewCache_,i=this.processor_.applyOperation(r,t,e,n);return this.processor_.assertIndexed(i.viewCache),Object(o.f)(i.viewCache.getServerCache().isFullyInitialized()||!r.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=i.viewCache,this.generateEventsForChanges_(i.changes,i.viewCache.getEventCache().getNode(),null)},t.prototype.getInitialEvents=function(t){var e=this.viewCache_.getEventCache(),n=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(It,function(t,e){n.push(_e.childAddedChange(t,e))}),e.isFullyInitialized()&&n.push(_e.valueChange(e.getNode())),this.generateEventsForChanges_(n,e.getNode(),t)},t.prototype.generateEventsForChanges_=function(t,e,n){return this.eventGenerator_.generateEventsForChanges(t,e,n?[n]:this.eventRegistrations_)},t}(),Oe=function(){function t(){this.views=new Map}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return Object(o.f)(ue,"Reference.ts has not been loaded"),ue},set:function(t){Object(o.f)(!ue,"__referenceConstructor has already been defined"),ue=t},enumerable:!1,configurable:!0}),t.prototype.isEmpty=function(){return 0===this.views.size},t.prototype.applyOperation=function(t,e,n){var r,s,a=t.source.queryId;if(null!==a){var c=this.views.get(a);return Object(o.f)(null!=c,"SyncTree gave us an op for an invalid query."),c.applyOperation(t,e,n)}var u=[];try{for(var l=Object(i.h)(this.views.values()),h=l.next();!h.done;h=l.next())u=u.concat((c=h.value).applyOperation(t,e,n))}catch(d){r={error:d}}finally{try{h&&!h.done&&(s=l.return)&&s.call(l)}finally{if(r)throw r.error}}return u},t.prototype.addEventRegistration=function(t,e,n,r,i){var o=t.queryIdentifier(),s=this.views.get(o);if(!s){var a=n.calcCompleteEventCache(i?r:null),c=!1;a?c=!0:r instanceof Bt?(a=n.calcCompleteEventChildren(r),c=!1):(a=Bt.EMPTY_NODE,c=!1);var u=new ye(new ve(a,c,!1),new ve(r,i,!1));s=new xe(t,u),this.views.set(o,s)}return s.addEventRegistration(e),s.getInitialEvents(e)},t.prototype.removeEventRegistration=function(e,n,r){var o,s,a=e.queryIdentifier(),c=[],u=[],l=this.hasCompleteView();if("default"===a)try{for(var h=Object(i.h)(this.views.entries()),d=h.next();!d.done;d=h.next()){var f,p=Object(i.e)(d.value,2),g=p[0];u=u.concat((f=p[1]).removeEventRegistration(n,r)),f.isEmpty()&&(this.views.delete(g),f.getQuery().getQueryParams().loadsAllData()||c.push(f.getQuery()))}}catch(m){o={error:m}}finally{try{d&&!d.done&&(s=h.return)&&s.call(h)}finally{if(o)throw o.error}}else(f=this.views.get(a))&&(u=u.concat(f.removeEventRegistration(n,r)),f.isEmpty()&&(this.views.delete(a),f.getQuery().getQueryParams().loadsAllData()||c.push(f.getQuery())));return l&&!this.hasCompleteView()&&c.push(new t.__referenceConstructor(e.repo,e.path)),{removed:c,events:u}},t.prototype.getQueryViews=function(){var t,e,n=[];try{for(var r=Object(i.h)(this.views.values()),o=r.next();!o.done;o=r.next()){var s=o.value;s.getQuery().getQueryParams().loadsAllData()||n.push(s)}}catch(a){t={error:a}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},t.prototype.getCompleteServerCache=function(t){var e,n,r=null;try{for(var o=Object(i.h)(this.views.values()),s=o.next();!s.done;s=o.next())r=r||s.value.getCompleteServerCache(t)}catch(a){e={error:a}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r},t.prototype.viewForQuery=function(t){if(t.getQueryParams().loadsAllData())return this.getCompleteView();var e=t.queryIdentifier();return this.views.get(e)},t.prototype.viewExistsForQuery=function(t){return null!=this.viewForQuery(t)},t.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},t.prototype.getCompleteView=function(){var t,e;try{for(var n=Object(i.h)(this.views.values()),r=n.next();!r.done;r=n.next()){var o=r.value;if(o.getQuery().getQueryParams().loadsAllData())return o}}catch(s){t={error:s}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return null},t}(),Ie=function(){function t(t){this.writeTree_=t}return t.prototype.addWrite=function(e,n){if(e.isEmpty())return new t(new pe(n));var r=this.writeTree_.findRootMostValueAndPath(e);if(null!=r){var i=r.path,o=r.value,s=X.relativePath(i,e);return o=o.updateChild(s,n),new t(this.writeTree_.set(i,o))}var a=new pe(n);return new t(this.writeTree_.setTree(e,a))},t.prototype.addWrites=function(t,e){var n=this;return D(e,function(e,r){n=n.addWrite(t.child(e),r)}),n},t.prototype.removeWrite=function(e){return e.isEmpty()?t.Empty:new t(this.writeTree_.setTree(e,pe.Empty))},t.prototype.hasCompleteWrite=function(t){return null!=this.getCompleteNode(t)},t.prototype.getCompleteNode=function(t){var e=this.writeTree_.findRootMostValueAndPath(t);return null!=e?this.writeTree_.get(e.path).getChild(X.relativePath(e.path,t)):null},t.prototype.getCompleteChildren=function(){var t=[],e=this.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(It,function(e,n){t.push(new kt(e,n))}):this.writeTree_.children.inorderTraversal(function(e,n){null!=n.value&&t.push(new kt(e,n.value))}),t},t.prototype.childCompoundWrite=function(e){if(e.isEmpty())return this;var n=this.getCompleteNode(e);return new t(null!=n?new pe(n):this.writeTree_.subtree(e))},t.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},t.prototype.apply=function(t){return Ae(X.Empty,this.writeTree_,t)},t.Empty=new t(new pe(null)),t}();function Ae(t,e,n){if(null!=e.value)return n.updateChild(t,e.value);var r=null;return e.children.inorderTraversal(function(e,i){".priority"===e?(Object(o.f)(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=Ae(t.child(e),i,n)}),n.getChild(t).isEmpty()||null===r||(n=n.updateChild(t.child(".priority"),r)),n}var Re=function(){function t(){this.visibleWrites_=Ie.Empty,this.allWrites_=[],this.lastWriteId_=-1}return t.prototype.childWrites=function(t){return new De(t,this)},t.prototype.addOverwrite=function(t,e,n,r){Object(o.f)(n>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),this.allWrites_.push({path:t,snap:e,writeId:n,visible:r}),r&&(this.visibleWrites_=this.visibleWrites_.addWrite(t,e)),this.lastWriteId_=n},t.prototype.addMerge=function(t,e,n){Object(o.f)(n>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:t,children:e,writeId:n,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(t,e),this.lastWriteId_=n},t.prototype.getWrite=function(t){for(var e=0;e<this.allWrites_.length;e++){var n=this.allWrites_[e];if(n.writeId===t)return n}return null},t.prototype.removeWrite=function(t){var e=this,n=this.allWrites_.findIndex(function(e){return e.writeId===t});Object(o.f)(n>=0,"removeWrite called with nonexistent writeId.");var r=this.allWrites_[n];this.allWrites_.splice(n,1);for(var i=r.visible,s=!1,a=this.allWrites_.length-1;i&&a>=0;){var c=this.allWrites_[a];c.visible&&(a>=n&&this.recordContainsPath_(c,r.path)?i=!1:r.path.contains(c.path)&&(s=!0)),a--}return!!i&&(s?(this.resetTree_(),!0):(r.snap?this.visibleWrites_=this.visibleWrites_.removeWrite(r.path):D(r.children,function(t){e.visibleWrites_=e.visibleWrites_.removeWrite(r.path.child(t))}),!0))},t.prototype.getCompleteWriteData=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcCompleteEventCache=function(e,n,r,i){if(r||i){var o=this.visibleWrites_.childCompoundWrite(e);return!i&&o.isEmpty()?n:i||null!=n||o.hasCompleteWrite(X.Empty)?t.layerTree_(this.allWrites_,function(t){return(t.visible||i)&&(!r||!~r.indexOf(t.writeId))&&(t.path.contains(e)||e.contains(t.path))},e).apply(n||Bt.EMPTY_NODE):null}var s=this.visibleWrites_.getCompleteNode(e);if(null!=s)return s;var a=this.visibleWrites_.childCompoundWrite(e);return a.isEmpty()?n:null!=n||a.hasCompleteWrite(X.Empty)?a.apply(n||Bt.EMPTY_NODE):null},t.prototype.calcCompleteEventChildren=function(t,e){var n=Bt.EMPTY_NODE,r=this.visibleWrites_.getCompleteNode(t);if(r)return r.isLeafNode()||r.forEachChild(It,function(t,e){n=n.updateImmediateChild(t,e)}),n;if(e){var i=this.visibleWrites_.childCompoundWrite(t);return e.forEachChild(It,function(t,e){var r=i.childCompoundWrite(new X(t)).apply(e);n=n.updateImmediateChild(t,r)}),i.getCompleteChildren().forEach(function(t){n=n.updateImmediateChild(t.name,t.node)}),n}return this.visibleWrites_.childCompoundWrite(t).getCompleteChildren().forEach(function(t){n=n.updateImmediateChild(t.name,t.node)}),n},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n,r){Object(o.f)(n||r,"Either existingEventSnap or existingServerSnap must exist");var i=t.child(e);if(this.visibleWrites_.hasCompleteWrite(i))return null;var s=this.visibleWrites_.childCompoundWrite(i);return s.isEmpty()?r.getChild(e):s.apply(r.getChild(e))},t.prototype.calcCompleteChild=function(t,e,n){var r=t.child(e),i=this.visibleWrites_.getCompleteNode(r);return null!=i?i:n.isCompleteForChild(e)?this.visibleWrites_.childCompoundWrite(r).apply(n.getNode().getImmediateChild(e)):null},t.prototype.shadowingWrite=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcIndexedSlice=function(t,e,n,r,i,o){var s,a=this.visibleWrites_.childCompoundWrite(t),c=a.getCompleteNode(X.Empty);if(null!=c)s=c;else{if(null==e)return[];s=a.apply(e)}if((s=s.withIndex(o)).isEmpty()||s.isLeafNode())return[];for(var u=[],l=o.getCompare(),h=i?s.getReverseIteratorFrom(n,o):s.getIteratorFrom(n,o),d=h.getNext();d&&u.length<r;)0!==l(d,n)&&u.push(d),d=h.getNext();return u},t.prototype.recordContainsPath_=function(t,e){if(t.snap)return t.path.contains(e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&t.path.child(n).contains(e))return!0;return!1},t.prototype.resetTree_=function(){this.visibleWrites_=t.layerTree_(this.allWrites_,t.DefaultFilter_,X.Empty),this.lastWriteId_=this.allWrites_.length>0?this.allWrites_[this.allWrites_.length-1].writeId:-1},t.DefaultFilter_=function(t){return t.visible},t.layerTree_=function(t,e,n){for(var r=Ie.Empty,i=0;i<t.length;++i){var s=t[i];if(e(s)){var a=s.path,c=void 0;if(s.snap)n.contains(a)?(c=X.relativePath(n,a),r=r.addWrite(c,s.snap)):a.contains(n)&&(c=X.relativePath(a,n),r=r.addWrite(X.Empty,s.snap.getChild(c)));else{if(!s.children)throw Object(o.g)("WriteRecord should have .snap or .children");if(n.contains(a))c=X.relativePath(n,a),r=r.addWrites(c,s.children);else if(a.contains(n))if((c=X.relativePath(a,n)).isEmpty())r=r.addWrites(X.Empty,s.children);else{var u=Object(o.G)(s.children,c.getFront());if(u){var l=u.getChild(c.popFront());r=r.addWrite(X.Empty,l)}}}}}return r},t}(),De=function(){function t(t,e){this.treePath_=t,this.writeTree_=e}return t.prototype.calcCompleteEventCache=function(t,e,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,t,e,n)},t.prototype.calcCompleteEventChildren=function(t){return this.writeTree_.calcCompleteEventChildren(this.treePath_,t)},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,t,e,n)},t.prototype.shadowingWrite=function(t){return this.writeTree_.shadowingWrite(this.treePath_.child(t))},t.prototype.calcIndexedSlice=function(t,e,n,r,i){return this.writeTree_.calcIndexedSlice(this.treePath_,t,e,n,r,i)},t.prototype.calcCompleteChild=function(t,e){return this.writeTree_.calcCompleteChild(this.treePath_,t,e)},t.prototype.child=function(e){return new t(this.treePath_.child(e),this.writeTree_)},t}(),je=function(){function t(t){this.listenProvider_=t,this.syncPointTree_=pe.Empty,this.pendingWriteTree_=new Re,this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return t.prototype.applyUserOverwrite=function(t,e,n,r){return this.pendingWriteTree_.addOverwrite(t,e,n,r),r?this.applyOperationToSyncPoints_(new me(de.User,t,e)):[]},t.prototype.applyUserMerge=function(t,e,n){this.pendingWriteTree_.addMerge(t,e,n);var r=pe.fromObject(e);return this.applyOperationToSyncPoints_(new be(de.User,t,r))},t.prototype.ackUserWrite=function(t,e){void 0===e&&(e=!1);var n=this.pendingWriteTree_.getWrite(t);if(this.pendingWriteTree_.removeWrite(t)){var r=pe.Empty;return null!=n.snap?r=r.set(X.Empty,!0):D(n.children,function(t,e){r=r.set(new X(t),e)}),this.applyOperationToSyncPoints_(new fe(n.path,r,e))}return[]},t.prototype.applyServerOverwrite=function(t,e){return this.applyOperationToSyncPoints_(new me(de.Server,t,e))},t.prototype.applyServerMerge=function(t,e){var n=pe.fromObject(e);return this.applyOperationToSyncPoints_(new be(de.Server,t,n))},t.prototype.applyListenComplete=function(t){return this.applyOperationToSyncPoints_(new ge(de.Server,t))},t.prototype.applyTaggedQueryOverwrite=function(e,n,r){var i=this.queryKeyForTag_(r);if(null!=i){var o=t.parseQueryKey_(i),s=o.path,a=o.queryId,c=X.relativePath(s,e),u=new me(de.forServerTaggedQuery(a),c,n);return this.applyTaggedOperation_(s,u)}return[]},t.prototype.applyTaggedQueryMerge=function(e,n,r){var i=this.queryKeyForTag_(r);if(i){var o=t.parseQueryKey_(i),s=o.path,a=o.queryId,c=X.relativePath(s,e),u=pe.fromObject(n),l=new be(de.forServerTaggedQuery(a),c,u);return this.applyTaggedOperation_(s,l)}return[]},t.prototype.applyTaggedListenComplete=function(e,n){var r=this.queryKeyForTag_(n);if(r){var i=t.parseQueryKey_(r),o=i.path,s=i.queryId,a=X.relativePath(o,e),c=new ge(de.forServerTaggedQuery(s),a);return this.applyTaggedOperation_(o,c)}return[]},t.prototype.addEventRegistration=function(e,n){var r=e.path,i=null,s=!1;this.syncPointTree_.foreachOnPath(r,function(t,e){var n=X.relativePath(t,r);i=i||e.getCompleteServerCache(n),s=s||e.hasCompleteView()});var a,c=this.syncPointTree_.get(r);c?(s=s||c.hasCompleteView(),i=i||c.getCompleteServerCache(X.Empty)):(c=new Oe,this.syncPointTree_=this.syncPointTree_.set(r,c)),null!=i?a=!0:(a=!1,i=Bt.EMPTY_NODE,this.syncPointTree_.subtree(r).foreachChild(function(t,e){var n=e.getCompleteServerCache(X.Empty);n&&(i=i.updateImmediateChild(t,n))}));var u=c.viewExistsForQuery(e);if(!u&&!e.getQueryParams().loadsAllData()){var l=t.makeQueryKey_(e);Object(o.f)(!this.queryToTagMap.has(l),"View does not exist, but we have a tag");var h=t.getNextQueryTag_();this.queryToTagMap.set(l,h),this.tagToQueryMap.set(h,l)}var d=this.pendingWriteTree_.childWrites(r),f=c.addEventRegistration(e,n,d,i,a);if(!u&&!s){var p=c.viewForQuery(e);f=f.concat(this.setupListener_(e,p))}return f},t.prototype.removeEventRegistration=function(e,n,r){var i=this,o=e.path,s=this.syncPointTree_.get(o),a=[];if(s&&("default"===e.queryIdentifier()||s.viewExistsForQuery(e))){var c=s.removeEventRegistration(e,n,r);s.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(o));var u=c.removed;a=c.events;var l=-1!==u.findIndex(function(t){return t.getQueryParams().loadsAllData()}),h=this.syncPointTree_.findOnPath(o,function(t,e){return e.hasCompleteView()});if(l&&!h){var d=this.syncPointTree_.subtree(o);if(!d.isEmpty())for(var f=this.collectDistinctViewsForSubTree_(d),p=0;p<f.length;++p){var g=f[p],m=g.getQuery(),b=this.createListenerForView_(g);this.listenProvider_.startListening(t.queryForListening_(m),this.tagForQuery_(m),b.hashFn,b.onComplete)}}!h&&u.length>0&&!r&&(l?this.listenProvider_.stopListening(t.queryForListening_(e),null):u.forEach(function(e){var n=i.queryToTagMap.get(t.makeQueryKey_(e));i.listenProvider_.stopListening(t.queryForListening_(e),n)})),this.removeTags_(u)}return a},t.prototype.calcCompleteEventCache=function(t,e){var n=this.pendingWriteTree_,r=this.syncPointTree_.findOnPath(t,function(e,n){var r=X.relativePath(e,t),i=n.getCompleteServerCache(r);if(i)return i});return n.calcCompleteEventCache(t,r,e,!0)},t.prototype.collectDistinctViewsForSubTree_=function(t){return t.fold(function(t,e,n){if(e&&e.hasCompleteView())return[e.getCompleteView()];var r=[];return e&&(r=e.getQueryViews()),D(n,function(t,e){r=r.concat(e)}),r})},t.prototype.removeTags_=function(e){for(var n=0;n<e.length;++n){var r=e[n];if(!r.getQueryParams().loadsAllData()){var i=t.makeQueryKey_(r),o=this.queryToTagMap.get(i);this.queryToTagMap.delete(i),this.tagToQueryMap.delete(o)}}},t.queryForListening_=function(t){return t.getQueryParams().loadsAllData()&&!t.getQueryParams().isDefault()?t.getRef():t},t.prototype.setupListener_=function(e,n){var r=e.path,i=this.tagForQuery_(e),s=this.createListenerForView_(n),a=this.listenProvider_.startListening(t.queryForListening_(e),i,s.hashFn,s.onComplete),c=this.syncPointTree_.subtree(r);if(i)Object(o.f)(!c.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var u=c.fold(function(t,e,n){if(!t.isEmpty()&&e&&e.hasCompleteView())return[e.getCompleteView().getQuery()];var r=[];return e&&(r=r.concat(e.getQueryViews().map(function(t){return t.getQuery()}))),D(n,function(t,e){r=r.concat(e)}),r}),l=0;l<u.length;++l){var h=u[l];this.listenProvider_.stopListening(t.queryForListening_(h),this.tagForQuery_(h))}return a},t.prototype.createListenerForView_=function(t){var e=this,n=t.getQuery(),r=this.tagForQuery_(n);return{hashFn:function(){return(t.getServerCache()||Bt.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return r?e.applyTaggedListenComplete(n.path,r):e.applyListenComplete(n.path);var i=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");var r=new Error(t+" at "+e.path.toString()+": "+n);return r.code=t.toUpperCase(),r}(t,n);return e.removeEventRegistration(n,null,i)}}},t.makeQueryKey_=function(t){return t.path.toString()+"$"+t.queryIdentifier()},t.parseQueryKey_=function(t){var e=t.indexOf("$");return Object(o.f)(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new X(t.substr(0,e))}},t.prototype.queryKeyForTag_=function(t){return this.tagToQueryMap.get(t)},t.prototype.tagForQuery_=function(e){var n=t.makeQueryKey_(e);return this.queryToTagMap.get(n)},t.getNextQueryTag_=function(){return t.nextQueryTag_++},t.prototype.applyTaggedOperation_=function(t,e){var n=this.syncPointTree_.get(t);Object(o.f)(n,"Missing sync point for query tag that we're tracking");var r=this.pendingWriteTree_.childWrites(t);return n.applyOperation(e,r,null)},t.prototype.applyOperationToSyncPoints_=function(t){return this.applyOperationHelper_(t,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(X.Empty))},t.prototype.applyOperationHelper_=function(t,e,n,r){if(t.path.isEmpty())return this.applyOperationDescendantsHelper_(t,e,n,r);var i=e.get(X.Empty);null==n&&null!=i&&(n=i.getCompleteServerCache(X.Empty));var o=[],s=t.path.getFront(),a=t.operationForChild(s),c=e.children.get(s);if(c&&a){var u=n?n.getImmediateChild(s):null,l=r.child(s);o=o.concat(this.applyOperationHelper_(a,c,u,l))}return i&&(o=o.concat(i.applyOperation(t,r,n))),o},t.prototype.applyOperationDescendantsHelper_=function(t,e,n,r){var i=this,o=e.get(X.Empty);null==n&&null!=o&&(n=o.getCompleteServerCache(X.Empty));var s=[];return e.children.inorderTraversal(function(e,o){var a=n?n.getImmediateChild(e):null,c=r.child(e),u=t.operationForChild(e);u&&(s=s.concat(i.applyOperationDescendantsHelper_(u,o,a,c)))}),o&&(s=s.concat(o.applyOperation(t,r,n))),s},t.nextQueryTag_=1,t}(),Ne=function(){function t(){this.rootNode_=Bt.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}(),Me=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),Object(o.k)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return Object(o.m)(this.counters_)},t}(),Le=function(){function t(){}return t.getCollection=function(t){var e=t.toString();return this.collections_[e]||(this.collections_[e]=new Me),this.collections_[e]},t.getOrCreateReporter=function(t,e){var n=t.toString();return this.reporters_[n]||(this.reporters_[n]=e()),this.reporters_[n]},t.collections_={},t.reporters_={},t}(),Fe=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=Object(i.a)({},t);return this.last_&&D(this.last_,function(t,n){e[t]=e[t]-n}),this.last_=t,e},t}(),Ue=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Fe(t);var n=1e4+2e4*Math.random();G(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.includeStat=function(t){this.statsToReport_[t]=!0},t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},r=!1;D(e,function(e,i){i>0&&Object(o.k)(t.statsToReport_,e)&&(n[e]=i,r=!0)}),r&&this.server_.reportStats(n),G(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}(),Qe=function(){function t(){this.eventLists_=[],this.recursionDepth_=0}return t.prototype.queueEvents=function(t){for(var e=null,n=0;n<t.length;n++){var r=t[n],i=r.getPath();null===e||i.equals(e.getPath())||(this.eventLists_.push(e),e=null),null===e&&(e=new Ve(i)),e.add(r)}e&&this.eventLists_.push(e)},t.prototype.raiseEventsAtPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_(function(e){return e.equals(t)})},t.prototype.raiseEventsForChangedPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_(function(e){return e.contains(t)||t.contains(e)})},t.prototype.raiseQueuedEventsMatchingPredicate_=function(t){this.recursionDepth_++;for(var e=!0,n=0;n<this.eventLists_.length;n++){var r=this.eventLists_[n];r&&(t(r.getPath())?(this.eventLists_[n].raise(),this.eventLists_[n]=null):e=!1)}e&&(this.eventLists_=[]),this.recursionDepth_--},t}(),Ve=function(){function t(t){this.path_=t,this.events_=[]}return t.prototype.add=function(t){this.events_.push(t)},t.prototype.raise=function(){for(var t=0;t<this.events_.length;t++){var e=this.events_[t];if(null!==e){this.events_[t]=null;var n=e.getEventRunner();b&&_("event: "+e.toString()),W(n)}}},t.prototype.getPath=function(){return this.path_},t}(),Be=function(){function t(t){this.allowedEvents_=t,this.listeners_={},Object(o.f)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=Object(i.f)(this.listeners_[t]),o=0;o<r.length;o++)r[o].callback.apply(r[o].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var r=this.getInitialEvent(t);r&&e.apply(n,r)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)},t.prototype.validateEventType_=function(t){Object(o.f)(this.allowedEvents_.find(function(e){return e===t}),"Unknown event: "+t)},t}(),qe=function(t){function e(){var e,n,r=t.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",e="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,function(){var t=!document[e];t!==r.visible_&&(r.visible_=t,r.trigger("visible",t))},!1),r}return Object(i.c)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return Object(o.f)("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(Be),ze=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||Object(o.x)()||(window.addEventListener("online",function(){e.online_||(e.online_=!0,e.trigger("online",!0))},!1),window.addEventListener("offline",function(){e.online_&&(e.online_=!1,e.trigger("online",!1))},!1)),e}return Object(i.c)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return Object(o.f)("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(Be),He=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var r=function(){var t=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var e=function(e){t[e]&&W(function(){n.onMessage_(t[e])})},r=0;r<t.length;++r)e(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum]&&"break"!==r(););},t}(),Ke="start",We="close",Ge=function(){function t(t,e,n,r,i){this.connId=t,this.repoInfo=e,this.applicationId=n,this.transportSessionId=r,this.lastSessionId=i,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=w(t),this.stats_=Le.getCollection(e),this.urlFn=function(t){return e.connectionURL(Z,t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new He(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if(Object(o.z)()||"complete"===document.readyState)t();else{var e=!1,n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(function(){if(!n.isClosed_){n.scriptTagHolder=new Xe(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Object(i.e)(t,5),o=r[0],s=r[1],a=r[2];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,o===Ke)n.id=s,n.password=a;else{if(o!==We)throw new Error("Unrecognized command received: "+o);s?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(s,function(){n.onClosed_()})):n.onClosed_()}},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Object(i.e)(t,2),o=r[0],s=r[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(o,s)},function(){n.onClosed_()},n.urlFn);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),n.applicationId&&(t.p=n.applicationId),"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf($)&&(t.r="f");var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,function(){})}})},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return!(Object(o.z)()||!t.forceAllow_&&(t.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=Object(o.J)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n=Object(o.i)(e),r=R(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!Object(o.z)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=Object(o.J)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),Xe=function(){function t(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Object(o.z)())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=p(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(s='<script>document.domain="'+document.domain+'";<\/script>');var a="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(c){_("frame writing exception"),c.stack&&_(c.stack),_(c)}}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||_("No IE domain setting required")}catch(n){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)},Math.floor(0)));var e=this.onDisconnect;e&&(this.onDisconnect=null,e())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n="",r=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return this.addLongPollTag_(e+=n,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e);var r=function(){n.outstandingRequests.delete(e),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(t,function(){clearTimeout(i),r()})},t.prototype.addTag=function(t,e){var n=this;Object(o.z)()?this.doNodeLongPoll(t,e):setTimeout(function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&"loaded"!==t&&"complete"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){_("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}},Math.floor(1))},t}(),Ye="";function $e(t){Ye=t}var Je=null;"undefined"!=typeof MozWebSocket?Je=MozWebSocket:"undefined"!=typeof WebSocket&&(Je=WebSocket);var Ze=function(){function t(e,n,r,i,o){this.connId=e,this.applicationId=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=w(this.connId),this.stats_=Le.getCollection(n),this.connURL=t.connectionURL_(n,i,o),this.nodeAdmin=n.nodeAdmin}return t.connectionURL_=function(t,e,n){var r={v:"5"};return!Object(o.z)()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf($)&&(r.r="f"),e&&(r.s=e),n&&(r.ls=n),t.connectionURL(J,r)},t.prototype.open=function(t,e){var n=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,h.set("previous_websocket_failure",!0);try{if(Object(o.z)()){var r={headers:{"User-Agent":"Firebase/5/"+Ye+"/"+process.platform+"/"+(this.nodeAdmin?"AdminNode":"Node"),"X-Firebase-GMPID":this.applicationId||""}},i=process.env,s=0===this.connURL.indexOf("wss://")?i.HTTPS_PROXY||i.https_proxy:i.HTTP_PROXY||i.http_proxy;s&&(r.proxy={origin:s}),this.mySock=new Je(this.connURL,[],r)}else this.mySock=new Je(this.connURL,[],r={headers:{"X-Firebase-GMPID":this.applicationId||""}})}catch(c){this.log_("Error instantiating WebSocket.");var a=c.message||c.data;return a&&this.log_(a),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(t){n.handleIncomingFrame(t)},this.mySock.onerror=function(t){n.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&n.log_(e),n.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==Je&&!t.forceDisallow_},t.previouslyFailed=function(){return h.isInMemoryStorage||!0===h.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){h.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var e=this.frames.join("");this.frames=null;var n=Object(o.D)(e);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},t.prototype.extractFrameCount_=function(t){if(Object(o.f)(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},t.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(t){this.resetKeepAlive();var e=Object(o.J)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=R(e,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()},Math.floor(45e3))},t.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),tn=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[Ge,Ze]},enumerable:!1,configurable:!0}),t.prototype.initTransports_=function(e){var n,r,o=Ze&&Ze.isAvailable(),s=o&&!Ze.previouslyFailed();if(e.webSocketOnly&&(o||P("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[Ze];else{var a=this.transports_=[];try{for(var c=Object(i.h)(t.ALL_TRANSPORTS),u=c.next();!u.done;u=c.next()){var l=u.value;l&&l.isAvailable()&&a.push(l)}}catch(h){n={error:h}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),en=function(){function t(t,e,n,r,i,o,s,a){this.id=t,this.repoInfo_=e,this.applicationId_=n,this.onMessage_=r,this.onReady_=i,this.onDisconnect_=o,this.onKill_=s,this.lastSessionId=a,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=w("c:"+this.id+":"),this.transportManager_=new tn(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,void 0,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){t.conn_&&t.conn_.open(n,r)},Math.floor(0));var i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=G(function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))},Math.floor(i)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!==e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){this.sendData_({t:"d",d:t})},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=I("t",t),n=I("d",t);if("c"===e)this.onSecondaryControl_(n);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=I("t",t),n=I("d",t);"c"===e?this.onControl_(n):"d"===e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=I("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?C("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):C("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.updateHost(r),0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&P("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),G(function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())},Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.updateHost(t),1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):G(function(){n.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(h.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),nn=function(){function t(){}return t.prototype.put=function(t,e,n,r){},t.prototype.merge=function(t,e,n,r){},t.prototype.refreshAuthToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),rn=1e3,on=function(t){function e(n,r,i,s,a,c,u){var l=t.call(this)||this;if(l.repoInfo_=n,l.applicationId_=r,l.onDataUpdate_=i,l.onConnectStatus_=s,l.onServerInfoUpdate_=a,l.authTokenProvider_=c,l.authOverride_=u,l.id=e.nextPersistentConnectionId_++,l.log_=w("p:"+l.id+":"),l.interruptReasons_={},l.listens=new Map,l.outstandingPuts_=[],l.outstandingGets_=[],l.outstandingPutCount_=0,l.outstandingGetCount_=0,l.onDisconnectRequestQueue_=[],l.connected_=!1,l.reconnectDelay_=rn,l.maxReconnectDelay_=3e5,l.securityDebugCallback_=null,l.lastSessionId=null,l.establishConnectionTimer_=null,l.visible_=!1,l.requestCBHash_={},l.requestNumber_=0,l.realtime_=null,l.authToken_=null,l.forceTokenRefresh_=!1,l.invalidAuthTokenCount_=0,l.firstConnection_=!0,l.lastConnectionAttemptTime_=null,l.lastConnectionEstablishedTime_=null,u&&!Object(o.z)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return l.scheduleConnect_(0),qe.getInstance().on("visible",l.onVisible_,l),-1===n.host.indexOf("fblocal")&&ze.getInstance().on("online",l.onOnline_,l),l}return Object(i.c)(e,t),e.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_,i={r:r,a:t,b:e};this.log_(Object(o.J)(i)),Object(o.f)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},e.prototype.get=function(t){var e=this,n=new o.a,r={p:t.path.toString(),q:t.queryObject()},i={action:"g",request:r,onComplete:function(t){var i=t.d;"ok"===t.s?(e.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var s=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var t=e.outstandingGets_[s];void 0!==t&&i===t&&(delete e.outstandingGets_[s],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),e.log_("get "+s+" timed out on connection"),n.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(s),n.promise},e.prototype.listen=function(t,e,n,r){var i=t.queryIdentifier(),s=t.path.toString();this.log_("Listen called for "+s+" "+i),this.listens.has(s)||this.listens.set(s,new Map),Object(o.f)(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),Object(o.f)(!this.listens.get(s).has(i),"listen() called twice for same path/queryId.");var a={onComplete:r,hashFn:e,query:t,tag:n};this.listens.get(s).set(i,a),this.connected_&&this.sendListen_(a)},e.prototype.sendGet_=function(t){var e=this,n=this.outstandingGets_[t];this.sendRequest("g",n.request,function(r){delete e.outstandingGets_[t],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})},e.prototype.sendListen_=function(t){var n=this,r=t.query,i=r.path.toString(),o=r.queryIdentifier();this.log_("Listen on "+i+" for "+o);var s={p:i};t.tag&&(s.q=r.queryObject(),s.t=t.tag),s.h=t.hashFn(),this.sendRequest("q",s,function(s){var a=s.d,c=s.s;e.warnOnListenWarnings_(a,r),(n.listens.get(i)&&n.listens.get(i).get(o))===t&&(n.log_("listen response",s),"ok"!==c&&n.removeListen_(i,o),t.onComplete&&t.onComplete(c,a))})},e.warnOnListenWarnings_=function(t,e){if(t&&"object"==typeof t&&Object(o.k)(t,"w")){var n=Object(o.G)(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+e.getQueryParams().getIndex().toString()+'"',i=e.path.toString();P("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||Object(o.q)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=Object(o.C)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,function(n){var r=n.s,i=n.d||"error";t.authToken_===e&&("ok"===r?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(r,i))})}},e.prototype.unlisten=function(t,e){var n=t.path.toString(),r=t.queryIdentifier();this.log_("Unlisten called for "+n+" "+r),Object(o.f)(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t.queryObject(),e)},e.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e);var i={p:t};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},e.prototype.onDisconnectPut=function(t,e,n){this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,r){var i={p:e,d:n};this.log_("onDisconnect "+t,i),this.sendRequest(t,i,function(t){r&&setTimeout(function(){r(t.s,t.d)},Math.floor(0))})},e.prototype.put=function(t,e,n,r){this.putInternal("p",t,e,n,r)},e.prototype.merge=function(t,e,n,r){this.putInternal("m",t,e,n,r)},e.prototype.putInternal=function(t,e,n,r,i){var o={p:e,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:t,request:o,onComplete:r}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,function(r){e.log_(n+" response",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),i&&i(r.s,r.d)})},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,function(t){"ok"!==t.s&&e.log_("reportStats","Error sending stats: "+t.d)})}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+Object(o.J)(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):C("Unrecognized action received from server: "+Object(o.J)(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;Object(o.f)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){e.establishConnectionTimer_=null,e.establishConnection_()},Math.floor(t))},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=rn,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=rn,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=rn),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){var t=this;if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+e.nextConnectionId_++,a=this,c=this.lastSessionId,u=!1,l=null,h=function(){l?l.close():(u=!0,i())};this.realtime_={close:h,sendRequest:function(t){Object(o.f)(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(t)}};var d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(d).then(function(t){u?_("getToken() completed but was canceled"):(_("getToken() completed. Creating connection."),a.authToken_=t&&t.accessToken,l=new en(s,a.repoInfo_,a.applicationId_,n,r,i,function(t){P(t+" ("+a.repoInfo_.toString()+")"),a.interrupt("server_kill")},c))}).then(null,function(e){a.log_("Failed to get token: "+e),u||(t.repoInfo_.nodeAdmin&&P(e),h())})}},e.prototype.interrupt=function(t){_("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){_("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Object(o.u)(this.interruptReasons_)&&(this.reconnectDelay_=rn,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map(function(t){return A(t)}).join("$"):"default";var r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,r=new X(t).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(e),i.delete(e),0===i.size&&this.listens.delete(r)}else n=void 0;return n},e.prototype.onAuthRevoked_=function(t,e){_("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t,e,n,r;this.tryAuth();try{for(var o=Object(i.h)(this.listens.values()),s=o.next();!s.done;s=o.next()){var a=s.value;try{for(var c=(n=void 0,Object(i.h)(a.values())),u=c.next();!u.done;u=c.next())this.sendListen_(u.value)}catch(d){n={error:d}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}}}catch(f){t={error:f}}finally{try{s&&!s.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}for(var l=0;l<this.outstandingPuts_.length;l++)this.outstandingPuts_[l]&&this.sendPut_(l);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}for(l=0;l<this.outstandingGets_.length;l++)this.outstandingGets_[l]&&this.sendGet_(l)},e.prototype.sendConnectStats_=function(){var t={},e="js";Object(o.z)()&&(e=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+e+"."+Ye.replace(/\./g,"-")]=1,Object(o.x)()?t["framework.cordova"]=1:Object(o.A)()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=ze.getInstance().currentlyOnline();return Object(o.u)(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(nn),sn=function(t){function e(e,n,r){var i=t.call(this)||this;return i.repoInfo_=e,i.onDataUpdate_=n,i.authTokenProvider_=r,i.log_=w("p:rest:"),i.listens_={},i}return Object(i.c)(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(Object(o.f)(t.getQueryParams().isDefault(),"should have a tag if it's not a default query."),t.path.toString())},e.prototype.listen=function(t,n,r,i){var s=this,a=t.path.toString();this.log_("Listen called for "+a+" "+t.queryIdentifier());var c=e.getListenId_(t,r),u={};this.listens_[c]=u;var l=t.getQueryParams().toRestQueryStringParameters();this.restRequest_(a+".json",l,function(t,e){var n=e;404===t&&(n=null,t=null),null===t&&s.onDataUpdate_(a,n,!1,r),Object(o.G)(s.listens_,c)===u&&i(t?401===t?"permission_denied":"rest_error:"+t:"ok",null)})},e.prototype.unlisten=function(t,n){var r=e.getListenId_(t,n);delete this.listens_[r]},e.prototype.get=function(t){var e=this,n=t.getQueryParams().toRestQueryStringParameters(),r=t.path.toString(),i=new o.a;return this.restRequest_(r+".json",n,function(t,n){var o=n;404===t&&(o=null,t=null),null===t?(e.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))}),i.promise},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var r=this;void 0===e&&(e={}),e.format="export",this.authTokenProvider_.getToken(!1).then(function(i){var s=i&&i.accessToken;s&&(e.auth=s);var a=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+t+"?ns="+r.repoInfo_.namespace+Object(o.F)(e);r.log_("Sending REST request for "+a);var c=new XMLHttpRequest;c.onreadystatechange=function(){if(n&&4===c.readyState){r.log_("REST Response for "+a+" received. status:",c.status,"response:",c.responseText);var t=null;if(c.status>=200&&c.status<300){try{t=Object(o.D)(c.responseText)}catch(e){P("Failed to parse JSON response for "+a+": "+c.responseText)}n(null,t)}else 401!==c.status&&404!==c.status&&P("Got unsuccessful REST response for "+a+" Status: "+c.status),n(c.status);n=null}},c.open("GET",a,!0),c.send()})},e}(nn),an="repo_interrupt",cn=function(){function t(t,e,n,r){this.repoInfo_=t,this.forceRestClient_=e,this.app=n,this.authTokenProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Qe,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new le,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return t.prototype.start=function(){var t=this;if(this.stats_=Le.getCollection(this.repoInfo_),this.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)this.server_=new sn(this.repoInfo_,this.onDataUpdate_.bind(this),this.authTokenProvider_),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var e=this.app.options.databaseAuthVariableOverride;if(null!=e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Object(o.J)(e)}catch(n){throw new Error("Invalid authOverride provided: "+n)}}this.persistentConnection_=new on(this.repoInfo_,this.app.options.appId,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),this.authTokenProvider_,e),this.server_=this.persistentConnection_}this.authTokenProvider_.addTokenChangeListener(function(e){t.server_.refreshAuthToken(e)}),this.statsReporter_=Le.getOrCreateReporter(this.repoInfo_,function(){return new Ue(t.stats_,t.server_)}),this.transactionsInit_(),this.infoData_=new Ne,this.infoSyncTree_=new je({startListening:function(e,n,r,i){var o=[],s=t.infoData_.getNode(e.path);return s.isEmpty()||(o=t.infoSyncTree_.applyServerOverwrite(e.path,s),setTimeout(function(){i("ok")},0)),o},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new je({startListening:function(e,n,r,i){return t.server_.listen(e,r,n,function(n,r){var o=i(n,r);t.eventQueue_.raiseEventsForChangedPath(e.path,o)}),[]},stopListening:function(e,n){t.server_.unlisten(e,n)}})},t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t.prototype.name=function(){return this.repoInfo_.namespace},t.prototype.serverTime=function(){var t=this.infoData_.getNode(new X(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t},t.prototype.generateServerValues=function(){return(t=(t={timestamp:this.serverTime()})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t},t.prototype.onDataUpdate_=function(t,e,n,r){this.dataUpdateCount++;var i=new X(t);e=this.interceptServerDataCallback_?this.interceptServerDataCallback_(t,e):e;var s=[];if(r)if(n){var a=Object(o.E)(e,function(t){return zt(t)});s=this.serverSyncTree_.applyTaggedQueryMerge(i,a,r)}else{var c=zt(e);s=this.serverSyncTree_.applyTaggedQueryOverwrite(i,c,r)}else if(n){var u=Object(o.E)(e,function(t){return zt(t)});s=this.serverSyncTree_.applyServerMerge(i,u)}else{var l=zt(e);s=this.serverSyncTree_.applyServerOverwrite(i,l)}var h=i;s.length>0&&(h=this.rerunTransactions_(i)),this.eventQueue_.raiseEventsForChangedPath(h,s)},t.prototype.interceptServerData_=function(t){this.interceptServerDataCallback_=t},t.prototype.onConnectStatus_=function(t){this.updateInfo_("connected",t),!1===t&&this.runOnDisconnectEvents_()},t.prototype.onServerInfoUpdate_=function(t){var e=this;D(t,function(t,n){e.updateInfo_(t,n)})},t.prototype.updateInfo_=function(t,e){var n=new X("/.info/"+t),r=zt(e);this.infoData_.updateSnapshot(n,r);var i=this.infoSyncTree_.applyServerOverwrite(n,r);this.eventQueue_.raiseEventsForChangedPath(n,i)},t.prototype.getNextWriteId_=function(){return this.nextWriteId_++},t.prototype.getValue=function(t){var e=this;return this.server_.get(t).then(function(n){var r=zt(n),i=e.serverSyncTree_.applyServerOverwrite(t.path,r);return e.eventQueue_.raiseEventsAtPath(t.path,i),Promise.resolve(new Gt(r,t.getRef(),t.getQueryParams().getIndex()))},function(n){e.log_("get for query "+Object(o.J)(t)+" falling back to cache after error: "+n);var r=e.serverSyncTree_.calcCompleteEventCache(t.path);return r.isEmpty()?Promise.reject(new Error(n)):Promise.resolve(new Gt(r,t.getRef(),t.getQueryParams().getIndex()))})},t.prototype.setWithPriority=function(t,e,n,r){var i=this;this.log_("set",{path:t.toString(),value:e,priority:n});var o=this.generateServerValues(),s=zt(e,n),a=this.serverSyncTree_.calcCompleteEventCache(t),c=se(s,a,o),u=this.getNextWriteId_(),l=this.serverSyncTree_.applyUserOverwrite(t,c,u,!0);this.eventQueue_.queueEvents(l),this.server_.put(t.toString(),s.val(!0),function(e,n){var o="ok"===e;o||P("set at "+t+" failed: "+e);var s=i.serverSyncTree_.ackUserWrite(u,!o);i.eventQueue_.raiseEventsForChangedPath(t,s),i.callOnCompleteCallback(r,e,n)});var h=this.abortTransactions_(t);this.rerunTransactions_(h),this.eventQueue_.raiseEventsForChangedPath(h,[])},t.prototype.update=function(t,e,n){var r=this;this.log_("update",{path:t.toString(),value:e});var i=!0,o=this.generateServerValues(),s={};if(D(e,function(e,n){i=!1,s[e]=oe(t.child(e),zt(n),r.serverSyncTree_,o)}),i)_("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(n,"ok");else{var a=this.getNextWriteId_(),c=this.serverSyncTree_.applyUserMerge(t,s,a);this.eventQueue_.queueEvents(c),this.server_.merge(t.toString(),e,function(e,i){var o="ok"===e;o||P("update at "+t+" failed: "+e);var s=r.serverSyncTree_.ackUserWrite(a,!o),c=s.length>0?r.rerunTransactions_(t):t;r.eventQueue_.raiseEventsForChangedPath(c,s),r.callOnCompleteCallback(n,e,i)}),D(e,function(e){var n=r.abortTransactions_(t.child(e));r.rerunTransactions_(n)}),this.eventQueue_.raiseEventsForChangedPath(t,[])}},t.prototype.runOnDisconnectEvents_=function(){var t=this;this.log_("onDisconnectEvents");var e=this.generateServerValues(),n=new le;this.onDisconnect_.forEachTree(X.Empty,function(r,i){var o=oe(r,i,t.serverSyncTree_,e);n.remember(r,o)});var r=[];n.forEachTree(X.Empty,function(e,n){r=r.concat(t.serverSyncTree_.applyServerOverwrite(e,n));var i=t.abortTransactions_(e);t.rerunTransactions_(i)}),this.onDisconnect_=new le,this.eventQueue_.raiseEventsForChangedPath(X.Empty,r)},t.prototype.onDisconnectCancel=function(t,e){var n=this;this.server_.onDisconnectCancel(t.toString(),function(r,i){"ok"===r&&n.onDisconnect_.forget(t),n.callOnCompleteCallback(e,r,i)})},t.prototype.onDisconnectSet=function(t,e,n){var r=this,i=zt(e);this.server_.onDisconnectPut(t.toString(),i.val(!0),function(e,o){"ok"===e&&r.onDisconnect_.remember(t,i),r.callOnCompleteCallback(n,e,o)})},t.prototype.onDisconnectSetWithPriority=function(t,e,n,r){var i=this,o=zt(e,n);this.server_.onDisconnectPut(t.toString(),o.val(!0),function(e,n){"ok"===e&&i.onDisconnect_.remember(t,o),i.callOnCompleteCallback(r,e,n)})},t.prototype.onDisconnectUpdate=function(t,e,n){var r=this;if(Object(o.u)(e))return _("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(n,"ok");this.server_.onDisconnectMerge(t.toString(),e,function(i,o){"ok"===i&&D(e,function(e,n){var i=zt(n);r.onDisconnect_.remember(t.child(e),i)}),r.callOnCompleteCallback(n,i,o)})},t.prototype.addEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.addEventRegistration(t,e):this.serverSyncTree_.addEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.removeEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.removeEventRegistration(t,e):this.serverSyncTree_.removeEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt(an)},t.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume(an)},t.prototype.stats=function(t){if(void 0===t&&(t=!1),"undefined"!=typeof console){var e;t?(this.statsListener_||(this.statsListener_=new Fe(this.stats_)),e=this.statsListener_.get()):e=this.stats_.get();var n=Object.keys(e).reduce(function(t,e){return Math.max(e.length,t)},0);D(e,function(t,e){for(var r=t,i=t.length;i<n+2;i++)r+=" ";console.log(r+e)})}},t.prototype.statsIncrementCounter=function(t){this.stats_.incrementCounter(t),this.statsReporter_.includeStat(t)},t.prototype.log_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="";this.persistentConnection_&&(n=this.persistentConnection_.id+":"),_.apply(void 0,Object(i.f)([n],t))},t.prototype.callOnCompleteCallback=function(t,e,n){t&&W(function(){if("ok"===e)t(null);else{var r=(e||"error").toUpperCase(),i=r;n&&(i+=": "+n);var o=new Error(i);o.code=r,t(o)}})},Object.defineProperty(t.prototype,"database",{get:function(){return this.__database||(this.__database=new _n(this))},enumerable:!1,configurable:!0}),t}(),un=function(){function t(e){this.indexedFilter_=new we(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,r,i,o){return this.matches(new kt(e,n))||(n=Bt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,i,o)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=Bt.EMPTY_NODE);var r=e.withIndex(this.index_);r=r.updatePriority(Bt.EMPTY_NODE);var i=this;return e.forEachChild(It,function(t,e){i.matches(new kt(t,e))||(r=r.updateImmediateChild(t,Bt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),ln=function(){function t(t){this.rangedFilter_=new un(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,r,i,o){return this.rangedFilter_.matches(new kt(e,n))||(n=Bt.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,i,o):this.fullLimitUpdateChild_(t,e,n,i,o)},t.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=Bt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=Bt.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var s=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),s)<=0:this.index_.compare(s,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(s.name,s.node),o++}}else{r=(r=e.withIndex(this.index_)).updatePriority(Bt.EMPTY_NODE);var a=void 0,c=void 0,u=void 0;if(i=void 0,this.reverse_){i=r.getReverseIterator(this.index_),a=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();u=function(t,e){return l(e,t)}}else i=r.getIterator(this.index_),a=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),u=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();)s=i.getNext(),!h&&u(a,s)<=0&&(h=!0),h&&o<this.limit_&&u(s,c)<=0?o++:r=r.updateImmediateChild(s.name,Bt.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,r,i){var s;if(this.reverse_){var a=this.index_.getCompare();s=function(t,e){return a(e,t)}}else s=this.index_.getCompare();var c=t;Object(o.f)(c.numChildren()===this.limit_,"");var u=new kt(e,n),l=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),h=this.rangedFilter_.matches(u);if(c.hasChild(e)){for(var d=c.getImmediateChild(e),f=r.getChildAfterChild(this.index_,l,this.reverse_);null!=f&&(f.name===e||c.hasChild(f.name));)f=r.getChildAfterChild(this.index_,f,this.reverse_);var p=null==f?1:s(f,u);if(h&&!n.isEmpty()&&p>=0)return null!=i&&i.trackChildChange(_e.childChangedChange(e,n,d)),c.updateImmediateChild(e,n);null!=i&&i.trackChildChange(_e.childRemovedChange(e,d));var g=c.updateImmediateChild(e,Bt.EMPTY_NODE);return null!=f&&this.rangedFilter_.matches(f)?(null!=i&&i.trackChildChange(_e.childAddedChange(f.name,f.node)),g.updateImmediateChild(f.name,f.node)):g}return n.isEmpty()?t:h&&s(l,u)>=0?(null!=i&&(i.trackChildChange(_e.childRemovedChange(l.name,l.node)),i.trackChildChange(_e.childAddedChange(e,n))),c.updateImmediateChild(e,n).updateImmediateChild(l.name,Bt.EMPTY_NODE)):t},t}(),hn=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=It}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},t.prototype.getIndexStartValue=function(){return Object(o.f)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return Object(o.f)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:E},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return Object(o.f)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return Object(o.f)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:T},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return Object(o.f)(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.copy_=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t.prototype.limit=function(t){var e=this.copy_();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="",e},t.prototype.limitToFirst=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,n},t.prototype.limitToLast=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,n},t.prototype.startAt=function(t,e){var n=this.copy_();return n.startSet_=!0,void 0===t&&(t=null),n.indexStartValue_=t,null!=e?(n.startNameSet_=!0,n.indexStartName_=e):(n.startNameSet_=!1,n.indexStartName_=""),n},t.prototype.endAt=function(t,e){var n=this.copy_();return n.endSet_=!0,void 0===t&&(t=null),n.indexEndValue_=t,void 0!==e?(n.endNameSet_=!0,n.indexEndName_=e):(n.endNameSet_=!1,n.indexEndName_=""),n},t.prototype.orderBy=function(t){var e=this.copy_();return e.index_=t,e},t.prototype.getQueryObject=function(){var e=t.WIRE_PROTOCOL_CONSTANTS_,n={};if(this.startSet_&&(n[e.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[e.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[e.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[e.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){n[e.LIMIT]=this.limit_;var r=this.viewFrom_;""===r&&(r=this.isViewFromLeft()?e.VIEW_FROM_LEFT:e.VIEW_FROM_RIGHT),n[e.VIEW_FROM]=r}return this.index_!==It&&(n[e.INDEX]=this.index_.toString()),n},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===It},t.prototype.getNodeFilter=function(){return this.loadsAllData()?new we(this.getIndex()):this.hasLimit()?new ln(this):new un(this)},t.prototype.toRestQueryStringParameters=function(){var e,n=t.REST_QUERY_CONSTANTS_,r={};return this.isDefault()||(this.index_===It?e=n.PRIORITY_INDEX:this.index_===Kt?e=n.VALUE_INDEX:this.index_===Et?e=n.KEY_INDEX:(Object(o.f)(this.index_ instanceof Wt,"Unrecognized index type!"),e=this.index_.toString()),r[n.ORDER_BY]=Object(o.J)(e),this.startSet_&&(r[n.START_AT]=Object(o.J)(this.indexStartValue_),this.startNameSet_&&(r[n.START_AT]+=","+Object(o.J)(this.indexStartName_))),this.endSet_&&(r[n.END_AT]=Object(o.J)(this.indexEndValue_),this.endNameSet_&&(r[n.END_AT]+=","+Object(o.J)(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?r[n.LIMIT_TO_FIRST]=this.limit_:r[n.LIMIT_TO_LAST]=this.limit_)),r},t.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},t.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},t.DEFAULT=new t,t}(),dn=function(t){function e(e,n){if(!(e instanceof cn))throw new Error("new Reference() no longer supported - use app.database().");return t.call(this,e,n,hn.DEFAULT,!1)||this}return Object(i.c)(e,t),e.prototype.getKey=function(){return Object(o.K)("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},e.prototype.child=function(t){return Object(o.K)("Reference.child",1,1,arguments.length),"number"==typeof t?t=String(t):t instanceof X||(null===this.path.getFront()?mt("Reference.child",1,t,!1):gt("Reference.child",1,t,!1)),new e(this.repo,this.path.child(t))},e.prototype.getParent=function(){Object(o.K)("Reference.parent",0,0,arguments.length);var t=this.path.parent();return null===t?null:new e(this.repo,t)},e.prototype.getRoot=function(){Object(o.K)("Reference.root",0,0,arguments.length);for(var t=this;null!==t.getParent();)t=t.getParent();return t},e.prototype.databaseProp=function(){return this.repo.database},e.prototype.set=function(t,e){Object(o.K)("Reference.set",1,2,arguments.length),bt("Reference.set",this.path),ut("Reference.set",1,t,this.path,!1),Object(o.L)("Reference.set",2,e,!0);var n=new o.a;return this.repo.setWithPriority(this.path,t,null,n.wrapCallback(e)),n.promise},e.prototype.update=function(t,e){if(Object(o.K)("Reference.update",1,2,arguments.length),bt("Reference.update",this.path),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,P("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ht("Reference.update",1,t,this.path,!1),Object(o.L)("Reference.update",2,e,!0);var i=new o.a;return this.repo.update(this.path,t,i.wrapCallback(e)),i.promise},e.prototype.setWithPriority=function(t,e,n){if(Object(o.K)("Reference.setWithPriority",2,3,arguments.length),bt("Reference.setWithPriority",this.path),ut("Reference.setWithPriority",1,t,this.path,!1),dt("Reference.setWithPriority",2,e,!1),Object(o.L)("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new o.a;return this.repo.setWithPriority(this.path,t,e,r.wrapCallback(n)),r.promise},e.prototype.remove=function(t){return Object(o.K)("Reference.remove",0,1,arguments.length),bt("Reference.remove",this.path),Object(o.L)("Reference.remove",1,t,!0),this.set(null,t)},e.prototype.transaction=function(t,e,n){if(Object(o.K)("Reference.transaction",1,3,arguments.length),bt("Reference.transaction",this.path),Object(o.L)("Reference.transaction",1,t,!1),Object(o.L)("Reference.transaction",2,e,!0),yt("Reference.transaction",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var r=new o.a;"function"==typeof e&&r.promise.catch(function(){});var i=function(t,n,i){t?r.reject(t):r.resolve(new wt(n,i)),"function"==typeof e&&e(t,n,i)};return this.repo.startTransaction(this.path,t,i,n),r.promise},e.prototype.setPriority=function(t,e){Object(o.K)("Reference.setPriority",1,2,arguments.length),bt("Reference.setPriority",this.path),dt("Reference.setPriority",1,t,!1),Object(o.L)("Reference.setPriority",2,e,!0);var n=new o.a;return this.repo.setWithPriority(this.path.child(".priority"),t,null,n.wrapCallback(e)),n.promise},e.prototype.push=function(t,e){Object(o.K)("Reference.push",0,2,arguments.length),bt("Reference.push",this.path),ut("Reference.push",1,t,this.path,!0),Object(o.L)("Reference.push",2,e,!0);var n,r=this.repo.serverTime(),i=Ct(r),s=this.child(i),a=this.child(i);return n=null!=t?s.set(t,e).then(function(){return a}):Promise.resolve(a),s.then=n.then.bind(n),s.catch=n.then.bind(n,void 0),"function"==typeof e&&n.catch(function(){}),s},e.prototype.onDisconnect=function(){return bt("Reference.onDisconnect",this.path),new _t(this.repo,this.path)},Object.defineProperty(e.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),e}(Zt);Zt.__referenceConstructor=dn,Oe.__referenceConstructor=dn;var fn=function(){return function(){this.children={},this.childCount=0,this.value=null}}(),pn=function(){function t(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n=new fn),this.name_=t,this.parent_=e,this.node_=n}return t.prototype.subTree=function(e){for(var n=e instanceof X?e:new X(e),r=this,i=n.getFront();null!==i;)r=new t(i,r,Object(o.G)(r.node_.children,i)||new fn),i=(n=n.popFront()).getFront();return r},t.prototype.getValue=function(){return this.node_.value},t.prototype.setValue=function(t){Object(o.f)(void 0!==t,"Cannot set value to undefined"),this.node_.value=t,this.updateParents_()},t.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},t.prototype.hasChildren=function(){return this.node_.childCount>0},t.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},t.prototype.forEachChild=function(e){var n=this;D(this.node_.children,function(r,i){e(new t(r,n,i))})},t.prototype.forEachDescendant=function(t,e,n){e&&!n&&t(this),this.forEachChild(function(e){e.forEachDescendant(t,!0,n)}),e&&n&&t(this)},t.prototype.forEachAncestor=function(t,e){for(var n=e?this:this.parent();null!==n;){if(t(n))return!0;n=n.parent()}return!1},t.prototype.forEachImmediateDescendantWithValue=function(t){this.forEachChild(function(e){null!==e.getValue()?t(e):e.forEachImmediateDescendantWithValue(t)})},t.prototype.path=function(){return new X(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},t.prototype.name=function(){return this.name_},t.prototype.parent=function(){return this.parent_},t.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},t.prototype.updateChild_=function(t,e){var n=e.isEmpty(),r=Object(o.k)(this.node_.children,t);n&&r?(delete this.node_.children[t],this.node_.childCount--,this.updateParents_()):n||r||(this.node_.children[t]=e.node_,this.node_.childCount++,this.updateParents_())},t}(),gn=function(t){return t[t.RUN=0]="RUN",t[t.SENT=1]="SENT",t[t.COMPLETED=2]="COMPLETED",t[t.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",t[t.NEEDS_ABORT=4]="NEEDS_ABORT",t}({});cn.MAX_TRANSACTION_RETRIES_=25,cn.prototype.transactionsInit_=function(){this.transactionQueueTree_=new pn},cn.prototype.startTransaction=function(t,e,n,r){this.log_("transaction on "+t);var i=function(){},s=new dn(this,t);s.on("value",i);var a={path:t,update:e,onComplete:n,status:null,order:p(),applyLocally:r,retryCount:0,unwatcher:function(){s.off("value",i)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},c=this.getLatestState_(t);a.currentInputSnapshot=c;var u=a.update(c.val());if(void 0===u){if(a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete){var l=new Gt(a.currentInputSnapshot,new dn(this,a.path),It);a.onComplete(null,!1,l)}}else{lt("transaction failed: Data returned ",u,a.path),a.status=gn.RUN;var h=this.transactionQueueTree_.subTree(t),d=h.getValue()||[];d.push(a),h.setValue(d);var f=void 0;"object"==typeof u&&null!==u&&Object(o.k)(u,".priority")?(f=Object(o.G)(u,".priority"),Object(o.f)(ct(f),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):f=(this.serverSyncTree_.calcCompleteEventCache(t)||Bt.EMPTY_NODE).getPriority().val(),f=f;var g=this.generateServerValues(),m=zt(u,f),b=se(m,c,g);a.currentOutputSnapshotRaw=m,a.currentOutputSnapshotResolved=b,a.currentWriteId=this.getNextWriteId_();var v=this.serverSyncTree_.applyUserOverwrite(t,b,a.currentWriteId,a.applyLocally);this.eventQueue_.raiseEventsForChangedPath(t,v),this.sendReadyTransactions_()}},cn.prototype.getLatestState_=function(t,e){return this.serverSyncTree_.calcCompleteEventCache(t,e)||Bt.EMPTY_NODE},cn.prototype.sendReadyTransactions_=function(t){var e=this;if(void 0===t&&(t=this.transactionQueueTree_),t||this.pruneCompletedTransactionsBelowNode_(t),null!==t.getValue()){var n=this.buildTransactionQueue_(t);Object(o.f)(n.length>0,"Sending zero length transaction queue"),n.every(function(t){return t.status===gn.RUN})&&this.sendTransactionQueue_(t.path(),n)}else t.hasChildren()&&t.forEachChild(function(t){e.sendReadyTransactions_(t)})},cn.prototype.sendTransactionQueue_=function(t,e){for(var n=this,r=e.map(function(t){return t.currentWriteId}),i=this.getLatestState_(t,r),s=i,a=i.hash(),c=0;c<e.length;c++){var u=e[c];Object(o.f)(u.status===gn.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=gn.SENT,u.retryCount++;var l=X.relativePath(t,u.path);s=s.updateChild(l,u.currentOutputSnapshotRaw)}var h=s.val(!0),d=t;this.server_.put(d.toString(),h,function(r){n.log_("transaction put response",{path:d.toString(),status:r});var i=[];if("ok"===r){for(var o=[],s=0;s<e.length;s++){if(e[s].status=gn.COMPLETED,i=i.concat(n.serverSyncTree_.ackUserWrite(e[s].currentWriteId)),e[s].onComplete){var a=e[s].currentOutputSnapshotResolved,c=new dn(n,e[s].path),u=new Gt(a,c,It);o.push(e[s].onComplete.bind(null,null,!0,u))}e[s].unwatcher()}for(n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(t)),n.sendReadyTransactions_(),n.eventQueue_.raiseEventsForChangedPath(t,i),s=0;s<o.length;s++)W(o[s])}else{if("datastale"===r)for(s=0;s<e.length;s++)e[s].status=e[s].status===gn.SENT_NEEDS_ABORT?gn.NEEDS_ABORT:gn.RUN;else for(P("transaction at "+d.toString()+" failed: "+r),s=0;s<e.length;s++)e[s].status=gn.NEEDS_ABORT,e[s].abortReason=r;n.rerunTransactions_(t)}},a)},cn.prototype.rerunTransactions_=function(t){var e=this.getAncestorTransactionNode_(t),n=e.path(),r=this.buildTransactionQueue_(e);return this.rerunTransactionQueue_(r,n),n},cn.prototype.rerunTransactionQueue_=function(t,e){if(0!==t.length){for(var n=[],r=[],i=t.filter(function(t){return t.status===gn.RUN}).map(function(t){return t.currentWriteId}),s=0;s<t.length;s++){var a=t[s],c=X.relativePath(e,a.path),u=!1,l=void 0;if(Object(o.f)(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),a.status===gn.NEEDS_ABORT)u=!0,l=a.abortReason,r=r.concat(this.serverSyncTree_.ackUserWrite(a.currentWriteId,!0));else if(a.status===gn.RUN)if(a.retryCount>=cn.MAX_TRANSACTION_RETRIES_)u=!0,l="maxretry",r=r.concat(this.serverSyncTree_.ackUserWrite(a.currentWriteId,!0));else{var h=this.getLatestState_(a.path,i);a.currentInputSnapshot=h;var d=t[s].update(h.val());if(void 0!==d){lt("transaction failed: Data returned ",d,a.path);var f=zt(d);"object"==typeof d&&null!=d&&Object(o.k)(d,".priority")||(f=f.updatePriority(h.getPriority()));var p=a.currentWriteId,g=this.generateServerValues(),m=se(f,h,g);a.currentOutputSnapshotRaw=f,a.currentOutputSnapshotResolved=m,a.currentWriteId=this.getNextWriteId_(),i.splice(i.indexOf(p),1),r=(r=r.concat(this.serverSyncTree_.applyUserOverwrite(a.path,m,a.currentWriteId,a.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(p,!0))}else u=!0,l="nodata",r=r.concat(this.serverSyncTree_.ackUserWrite(a.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(e,r),r=[],u&&(t[s].status=gn.COMPLETED,setTimeout(t[s].unwatcher,Math.floor(0)),t[s].onComplete))if("nodata"===l){var b=new dn(this,t[s].path),v=new Gt(t[s].currentInputSnapshot,b,It);n.push(t[s].onComplete.bind(null,null,!1,v))}else n.push(t[s].onComplete.bind(null,new Error(l),!1,null))}for(this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_),s=0;s<n.length;s++)W(n[s]);this.sendReadyTransactions_()}},cn.prototype.getAncestorTransactionNode_=function(t){var e,n=this.transactionQueueTree_;for(e=t.getFront();null!==e&&null===n.getValue();)n=n.subTree(e),e=(t=t.popFront()).getFront();return n},cn.prototype.buildTransactionQueue_=function(t){var e=[];return this.aggregateTransactionQueuesForNode_(t,e),e.sort(function(t,e){return t.order-e.order}),e},cn.prototype.aggregateTransactionQueuesForNode_=function(t,e){var n=this,r=t.getValue();if(null!==r)for(var i=0;i<r.length;i++)e.push(r[i]);t.forEachChild(function(t){n.aggregateTransactionQueuesForNode_(t,e)})},cn.prototype.pruneCompletedTransactionsBelowNode_=function(t){var e=this,n=t.getValue();if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==gn.COMPLETED&&(n[r]=n[i],r++);n.length=r,t.setValue(n.length>0?n:null)}t.forEachChild(function(t){e.pruneCompletedTransactionsBelowNode_(t)})},cn.prototype.abortTransactions_=function(t){var e=this,n=this.getAncestorTransactionNode_(t).path(),r=this.transactionQueueTree_.subTree(t);return r.forEachAncestor(function(t){e.abortTransactionsOnNode_(t)}),this.abortTransactionsOnNode_(r),r.forEachDescendant(function(t){e.abortTransactionsOnNode_(t)}),n},cn.prototype.abortTransactionsOnNode_=function(t){var e=t.getValue();if(null!==e){for(var n=[],r=[],i=-1,s=0;s<e.length;s++)e[s].status===gn.SENT_NEEDS_ABORT||(e[s].status===gn.SENT?(Object(o.f)(i===s-1,"All SENT items should be at beginning of queue."),i=s,e[s].status=gn.SENT_NEEDS_ABORT,e[s].abortReason="set"):(Object(o.f)(e[s].status===gn.RUN,"Unexpected transaction status in abort"),e[s].unwatcher(),r=r.concat(this.serverSyncTree_.ackUserWrite(e[s].currentWriteId,!0)),e[s].onComplete&&n.push(e[s].onComplete.bind(null,new Error("set"),!1,null))));for(-1===i?t.setValue(null):e.length=i+1,this.eventQueue_.raiseEventsForChangedPath(t.path(),r),s=0;s<n.length;s++)W(n[s])}};var mn,bn=function(){function t(t,e){var n=this;this.app_=t,this.authProvider_=e,this.auth_=null,this.auth_=e.getImmediate({optional:!0}),this.auth_||e.get().then(function(t){return n.auth_=t})}return t.prototype.getToken=function(t){return this.auth_?this.auth_.getToken(t).catch(function(t){return t&&"auth/token-not-initialized"===t.code?(_("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)}):Promise.resolve(null)},t.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):(setTimeout(function(){return t(null)},0),this.authProvider_.get().then(function(e){return e.addAuthTokenListener(t)}))},t.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then(function(e){return e.removeAuthTokenListener(t)})},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';P(t+="credential"in this.app_.options?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},t}(),vn=function(){function t(){}return t.prototype.getToken=function(e){return Promise.resolve({accessToken:t.EMULATOR_AUTH_TOKEN})},t.prototype.addTokenChangeListener=function(e){e(t.EMULATOR_AUTH_TOKEN)},t.prototype.removeTokenChangeListener=function(t){},t.prototype.notifyForInvalidToken=function(){},t.EMULATOR_AUTH_TOKEN="owner",t}(),yn=function(){function t(){this.repos_={},this.useRestClient_=!1}return t.getInstance=function(){return mn||(mn=new t),mn},t.prototype.interrupt=function(){var t,e,n,r;try{for(var o=Object(i.h)(Object.keys(this.repos_)),s=o.next();!s.done;s=o.next()){var a=s.value;try{for(var c=(n=void 0,Object(i.h)(Object.keys(this.repos_[a]))),u=c.next();!u.done;u=c.next())this.repos_[a][u.value].interrupt()}catch(l){n={error:l}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}}}catch(h){t={error:h}}finally{try{s&&!s.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}},t.prototype.resume=function(){var t,e,n,r;try{for(var o=Object(i.h)(Object.keys(this.repos_)),s=o.next();!s.done;s=o.next()){var a=s.value;try{for(var c=(n=void 0,Object(i.h)(Object.keys(this.repos_[a]))),u=c.next();!u.done;u=c.next())this.repos_[a][u.value].resume()}catch(l){n={error:l}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}}}catch(h){t={error:h}}finally{try{s&&!s.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}},t.prototype.applyEmulatorSettings=function(t,e,n){t.repoInfo_=new tt(e+":"+n,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),t.repoInfo_.nodeAdmin&&(t.authTokenProvider_=new vn)},t.prototype.databaseFromApp=function(t,e,n,r){var i=n||t.options.databaseURL;void 0===i&&(t.options.projectId||k("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),_("Using default host for project ",t.options.projectId),i=t.options.projectId+"-default-rtdb.firebaseio.com");var o,s=et(i,r),a=s.repoInfo,c=void 0;"undefined"!=typeof process&&(c=process.env.FIREBASE_DATABASE_EMULATOR_HOST),c?(o=!0,a=(s=et(i="http://"+c+"?ns="+a.namespace,r)).repoInfo):o=!s.repoInfo.secure;var u=r&&o?new vn:new bn(t,e);return vt("Invalid Firebase Database URL",1,s),s.path.isEmpty()||k("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(a,t,u).database},t.prototype.deleteRepo=function(t){var e=Object(o.G)(this.repos_,t.app.name);e&&Object(o.G)(e,t.key)===t||k("Database "+t.app.name+"("+t.repoInfo_+") has already been deleted."),t.interrupt(),delete e[t.key]},t.prototype.createRepo=function(t,e,n){var r=Object(o.G)(this.repos_,e.name);r||(this.repos_[e.name]=r={});var i=Object(o.G)(r,t.toURLString());return i&&k("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new cn(t,this.useRestClient_,e,n),r[t.toURLString()]=i,i},t.prototype.forceRestClient=function(t){this.useRestClient_=t},t}(),_n=function(){function t(t){var e=this;this.repoInternal_=t,this.instanceStarted_=!1,this.INTERNAL={delete:function(){return Object(i.b)(e,void 0,void 0,function(){return Object(i.d)(this,function(t){return this.checkDeleted_("delete"),yn.getInstance().deleteRepo(this.repo_),this.repoInternal_=null,this.rootInternal_=null,[2]})})}},t instanceof cn||k("Don't call new Database() directly - please use firebase.database().")}return Object.defineProperty(t.prototype,"repo_",{get:function(){return this.instanceStarted_||(this.repoInternal_.start(),this.instanceStarted_=!0),this.repoInternal_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root_",{get:function(){return this.rootInternal_||(this.rootInternal_=new dn(this.repo_,X.Empty)),this.rootInternal_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"app",{get:function(){return this.repo_.app},enumerable:!1,configurable:!0}),t.prototype.useEmulator=function(t,e){this.checkDeleted_("useEmulator"),this.instanceStarted_?k("Cannot call useEmulator() after instance has already been initialized."):yn.getInstance().applyEmulatorSettings(this.repoInternal_,t,e)},t.prototype.ref=function(t){return this.checkDeleted_("ref"),Object(o.K)("database.ref",0,1,arguments.length),t instanceof dn?this.refFromURL(t.toString()):void 0!==t?this.root_.child(t):this.root_},t.prototype.refFromURL=function(t){var e="database.refFromURL";this.checkDeleted_(e),Object(o.K)(e,1,1,arguments.length);var n=et(t,this.repo_.repoInfo_.nodeAdmin);vt(e,1,n);var r=n.repoInfo;return r.isCustomHost()||r.host===this.repo_.repoInfo_.host||k(e+": Host name does not match the current database: (found "+r.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},t.prototype.checkDeleted_=function(t){null===this.repoInternal_&&k("Cannot call "+t+" on a deleted database.")},t.prototype.goOffline=function(){Object(o.K)("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},t.prototype.goOnline=function(){Object(o.K)("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},t.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:function(t){return{".sv":{increment:t}}}},t}(),wn=Object.freeze({__proto__:null,forceLongPolling:function(){Ze.forceDisallow(),Ge.forceAllow()},forceWebSockets:function(){Ge.forceDisallow()},isWebSocketsAvailable:function(){return Ze.isAvailable()},setSecurityDebugCallback:function(t,e){t.repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){t.repo.stats(e)},statsIncrementCounter:function(t,e){t.repo.statsIncrementCounter(e)},dataUpdateCount:function(t){return t.repo.dataUpdateCount},interceptServerData:function(t,e){return t.repo.interceptServerData_(e)},initStandalone:function(t){var e=t.app,n=t.url,r=t.customAuthImpl,i=t.namespace,o=t.nodeAdmin,s=void 0!==o&&o;$e(t.version);var c=new a.c("auth-internal",new a.b("database-standalone"));return c.setComponent(new a.a("auth-internal",function(){return r},"PRIVATE")),{instance:yn.getInstance().databaseFromApp(e,c,n,s),namespace:i}}}),Cn=on;on.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},on.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var kn=Object.freeze({__proto__:null,DataConnection:Cn,RealTimeConnection:en,hijackHash:function(t){var e=on.prototype.put;return on.prototype.put=function(n,r,i,o){void 0!==o&&(o=t()),e.call(this,n,r,i,o)},function(){on.prototype.put=e}},ConnectionTarget:tt,queryIdentifier:function(t){return t.queryIdentifier()},forceRestClient:function(t){yn.getInstance().forceRestClient(t)}}),Pn=_n.ServerValue;!function(e){$e(e.SDK_VERSION);var n=e.INTERNAL.registerComponent(new a.a("database",function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return yn.getInstance().databaseFromApp(n,r,e)},"PUBLIC").setServiceProps({Reference:dn,Query:Zt,Database:_n,DataSnapshot:Gt,enableLogging:y,INTERNAL:wn,ServerValue:Pn,TEST_ACCESS:kn}).setMultipleInstances(!0));e.registerVersion("@firebase/database","0.8.1"),Object(o.z)()&&(t.exports=n)}(r.a)}).call(this,n("3UD+")(t))},"7Hc7":function(t,e,n){"use strict";n.d(e,"b",function(){return d}),n.d(e,"a",function(){return f});let r=1;const i=(()=>Promise.resolve())(),o={};function s(t){return t in o&&(delete o[t],!0)}const a={setImmediate(t){const e=r++;return o[e]=!0,i.then(()=>s(e)&&t()),e},clearImmediate(t){s(t)}};var c=n("3N8a");class u extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=a.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(a.clearImmediate(e),t.scheduled=void 0)}}var l=n("IjjT");class h extends l.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new h(u),f=d},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),s=n("2QA8"),a=n("2fFW"),c=n("NJ4a");class u extends o.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof u?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[s.a](){return this}static create(t,e,n){const r=new u(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends u{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(c.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(c.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(c.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(c.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},AAub:function(t,e,n){"use strict";n.r(e),n("3Kre")},AdPF:function(t,e,n){const r=n("yeub"),i=n("2UHX");t.exports=function(t){const e=t.xdomain,n=t.xscheme,o=t.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!e||r))return new XMLHttpRequest}catch(s){}try{if("undefined"!=typeof XDomainRequest&&!n&&o)return new XDomainRequest}catch(s){}if(!e)try{return new(i[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(s){}}},Aplp:function(t,e,n){"use strict";var r,i="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),o={},s=0,a=0;function c(t){var e="";do{e=i[t%64]+e,t=Math.floor(t/64)}while(t>0);return e}function u(){var t=c(+new Date);return t!==r?(s=0,r=t):t+"."+c(s++)}for(;a<64;a++)o[i[a]]=a;u.encode=c,u.decode=function(t){var e=0;for(a=0;a<t.length;a++)e=64*e+o[t.charAt(a)];return e},t.exports=u},Byvj:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.on=void 0,e.on=function(t,e,n){return t.on(e,n),{destroy:function(){t.off(e,n)}}}},C2QD:function(t,e){function n(t){this.ms=(t=t||{}).min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}t.exports=n,n.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-n:t+n}return 0|Math.min(t,this.max)},n.prototype.reset=function(){this.attempts=0},n.prototype.setMin=function(t){this.ms=t},n.prototype.setMax=function(t){this.max=t},n.prototype.setJitter=function(t){this.jitter=t}},CIKq:function(t,e,n){const r=n("Gbct"),i=n("Fyy9"),o=n("TypT"),s=n("Aplp"),{pick:a}=n("Eexf"),{WebSocket:c,usingBrowserWebSocket:u,defaultBinaryType:l}=n("X071"),h=n("x7D4")("engine.io-client:websocket"),d="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class f extends r{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),e=this.opts.protocols,n=d?{}:a(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=u&&!d?e?new c(t,e):new c(t):new c(t,e,n)}catch(r){return this.emit("error",r)}this.ws.binaryType=this.socket.binaryType||l,this.addEventListeners()}addEventListeners(){const t=this;this.ws.onopen=function(){t.onOpen()},this.ws.onclose=function(){t.onClose()},this.ws.onmessage=function(e){t.onData(e.data)},this.ws.onerror=function(e){t.onError("websocket error",e)}}write(t){const e=this;this.writable=!1;let n=t.length,r=0;const o=n;for(;r<o;r++)!function(t){i.encodePacket(t,e.supportsBinary,function(r){const i={};!u&&(t.options&&(i.compress=t.options.compress),e.opts.perMessageDeflate)&&("string"==typeof r?Buffer.byteLength(r):r.length)<e.opts.perMessageDeflate.threshold&&(i.compress=!1);try{u?e.ws.send(r):e.ws.send(r,i)}catch(o){h("websocket closed before onclose event")}--n||(e.emit("flush"),setTimeout(function(){e.writable=!0,e.emit("drain")},0))})}(t[r])}onClose(){r.prototype.onClose.call(this)}doClose(){void 0!==this.ws&&this.ws.close()}uri(){let t=this.query||{};const e=this.opts.secure?"wss":"ws";let n="";return this.opts.port&&("wss"===e&&443!==Number(this.opts.port)||"ws"===e&&80!==Number(this.opts.port))&&(n=":"+this.opts.port),this.opts.timestampRequests&&(t[this.opts.timestampParam]=s()),this.supportsBinary||(t.b64=1),t=o.encode(t),t.length&&(t="?"+t),e+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+t}check(){return!(!c||"__initialize"in c&&this.name===f.prototype.name)}}t.exports=f},CUme:function(t,e,n){const r=n("Gbct"),i=n("TypT"),o=n("Fyy9"),s=n("Aplp"),a=n("x7D4")("engine.io-client:polling");t.exports=class extends r{get name(){return"polling"}doOpen(){this.poll()}pause(t){const e=this;function n(){a("paused"),e.readyState="paused",t()}if(this.readyState="pausing",this.polling||!this.writable){let t=0;this.polling&&(a("we are currently polling - waiting to pause"),t++,this.once("pollComplete",function(){a("pre-pause polling complete"),--t||n()})),this.writable||(a("we are currently writing - waiting to pause"),t++,this.once("drain",function(){a("pre-pause writing complete"),--t||n()}))}else n()}poll(){a("polling"),this.polling=!0,this.doPoll(),this.emit("poll")}onData(t){const e=this;a("polling got data %s",t),o.decodePayload(t,this.socket.binaryType).forEach(function(t,n,r){if("opening"===e.readyState&&"open"===t.type&&e.onOpen(),"close"===t.type)return e.onClose(),!1;e.onPacket(t)}),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():a('ignoring poll - transport state "%s"',this.readyState))}doClose(){const t=this;function e(){a("writing close packet"),t.write([{type:"close"}])}"open"===this.readyState?(a("transport open - closing"),e()):(a("transport not open - deferring close"),this.once("open",e))}write(t){this.writable=!1,o.encodePayload(t,t=>{this.doWrite(t,()=>{this.writable=!0,this.emit("drain")})})}uri(){let t=this.query||{};const e=this.opts.secure?"https":"http";let n="";return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=s()),this.supportsBinary||t.sid||(t.b64=1),t=i.encode(t),this.opts.port&&("https"===e&&443!==Number(this.opts.port)||"http"===e&&80!==Number(this.opts.port))&&(n=":"+this.opts.port),t.length&&(t="?"+t),e+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+t}}},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),s=n("kJWO"),a=n("jZKg"),c=n("Lhse"),u=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.a]}(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>{const i=t[s.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(u.a)(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[c.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new o.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[c.a](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},Cl5A:function(t,e,n){const r=n("CUme"),i=n("2UHX"),o=/\n/g,s=/\\n/g;let a;function c(){}t.exports=class extends r{constructor(t){super(t),this.query=this.query||{},a||(a=i.___eio=i.___eio||[]),this.index=a.length;const e=this;a.push(function(t){e.onData(t)}),this.query.j=this.index,"function"==typeof addEventListener&&addEventListener("beforeunload",function(){e.script&&(e.script.onerror=c)},!1)}get supportsBinary(){return!1}doClose(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),super.doClose()}doPoll(){const t=this,e=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),e.async=!0,e.src=this.uri(),e.onerror=function(e){t.onError("jsonp poll error",e)};const n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(e,n):(document.head||document.body).appendChild(e),this.script=e,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){const t=document.createElement("iframe");document.body.appendChild(t),document.body.removeChild(t)},100)}doWrite(t,e){const n=this;let r;if(!this.form){const t=document.createElement("form"),e=document.createElement("textarea"),n=this.iframeId="eio_iframe_"+this.index;t.className="socketio",t.style.position="absolute",t.style.top="-1000px",t.style.left="-1000px",t.target=n,t.method="POST",t.setAttribute("accept-charset","utf-8"),e.name="d",t.appendChild(e),document.body.appendChild(t),this.form=t,this.area=e}function i(){a(),e()}function a(){if(n.iframe)try{n.form.removeChild(n.iframe)}catch(t){n.onError("jsonp polling iframe removal error",t)}try{r=document.createElement('<iframe src="javascript:0" name="'+n.iframeId+'">')}catch(t){r=document.createElement("iframe"),r.name=n.iframeId,r.src="javascript:0"}r.id=n.iframeId,n.form.appendChild(r),n.iframe=r}this.form.action=this.uri(),a(),t=t.replace(s,"\\\n"),this.area.value=t.replace(o,"\\n");try{this.form.submit()}catch(c){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===n.iframe.readyState&&i()}:this.iframe.onload=i}}},D0XW:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return o});var r=n("3N8a");const i=new(n("IjjT").a)(r.a),o=i},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n("HDdC");const i=new r.a(t=>t.complete());function o(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},Eexf:function(t,e){t.exports.pick=(t,...e)=>e.reduce((e,n)=>(e[n]=t[n],e),{})},FGiv:function(t,e){var n=1e3,r=60*n,i=60*r,o=24*i;function s(t,e,n,r){var i=e>=1.5*n;return Math.round(t/n)+" "+r+(i?"s":"")}t.exports=function(t,e){e=e||{};var a,c,u=typeof t;if("string"===u&&t.length>0)return function(t){if(!((t=String(t)).length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var s=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"weeks":case"week":case"w":return 6048e5*s;case"days":case"day":case"d":return s*o;case"hours":case"hour":case"hrs":case"hr":case"h":return s*i;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}(t);if("number"===u&&isFinite(t))return e.long?(a=t,(c=Math.abs(a))>=o?s(a,c,o,"day"):c>=i?s(a,c,i,"hour"):c>=r?s(a,c,r,"minute"):c>=n?s(a,c,n,"second"):a+" ms"):function(t){var e=Math.abs(t);return e>=o?Math.round(t/o)+"d":e>=i?Math.round(t/i)+"h":e>=r?Math.round(t/r)+"m":e>=n?Math.round(t/n)+"s":t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},Fyy9:function(t,e,n){const r=n("sRpT"),i=n("2xjq"),o=String.fromCharCode(30);t.exports={protocol:4,encodePacket:r,encodePayload:(t,e)=>{const n=t.length,i=new Array(n);let s=0;t.forEach((t,a)=>{r(t,!1,t=>{i[a]=t,++s===n&&e(i.join(o))})})},decodePacket:i,decodePayload:(t,e)=>{const n=t.split(o),r=[];for(let o=0;o<n.length;o++){const t=i(n[o],e);if(r.push(t),"error"===t.type)break}return r}}},Gbct:function(t,e,n){const r=n("Fyy9"),i=n("cpc2");t.exports=class extends i{constructor(t){super(),this.opts=t,this.query=t.query,this.readyState="",this.socket=t.socket}onError(t,e){const n=new Error(t);return n.type="TransportError",n.description=e,this.emit("error",n),this}open(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(t){if("open"!==this.readyState)throw new Error("Transport not open");this.write(t)}onOpen(){this.readyState="open",this.writable=!0,this.emit("open")}onData(t){const e=r.decodePacket(t,this.socket.binaryType);this.onPacket(e)}onPacket(t){this.emit("packet",t)}onClose(){this.readyState="closed",this.emit("close")}}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("7o/Q"),i=n("2QA8"),o=n("gRHU"),s=n("kJWO"),a=n("mCNh"),c=n("2fFW");let u=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(o.a)}(t,e,n);if(a.add(s?s.call(a,this.source):this.source||c.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),c.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){c.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.a](){return this}pipe(...t){return 0===t.length?this:Object(a.b)(t)(this)}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=c.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a}),r.a.registerVersion("firebase","8.2.1","app")},L8wN:function(t,e,n){t.exports=function(t){function e(t){let e=0;for(let n=0;n<t.length;n++)e=(e<<5)-e+t.charCodeAt(n),e|=0;return r.colors[Math.abs(e)%r.colors.length]}function r(t){let n;function s(...t){if(!s.enabled)return;const e=s,i=Number(new Date);e.diff=i-(n||i),e.prev=n,e.curr=i,n=i,t[0]=r.coerce(t[0]),"string"!=typeof t[0]&&t.unshift("%O");let o=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,(n,i)=>{if("%%"===n)return n;o++;const s=r.formatters[i];return"function"==typeof s&&(n=s.call(e,t[o]),t.splice(o,1),o--),n}),r.formatArgs.call(e,t),(e.log||r.log).apply(e,t)}return s.namespace=t,s.enabled=r.enabled(t),s.useColors=r.useColors(),s.color=e(t),s.destroy=i,s.extend=o,"function"==typeof r.init&&r.init(s),r.instances.push(s),s}function i(){const t=r.instances.indexOf(this);return-1!==t&&(r.instances.splice(t,1),!0)}function o(t,e){const n=r(this.namespace+(void 0===e?":":e)+t);return n.log=this.log,n}function s(t){return t.toString().substring(2,t.toString().length-2).replace(/\.\*\?$/,"*")}return r.debug=r,r.default=r,r.coerce=function(t){return t instanceof Error?t.stack||t.message:t},r.disable=function(){const t=[...r.names.map(s),...r.skips.map(s).map(t=>"-"+t)].join(",");return r.enable(""),t},r.enable=function(t){let e;r.save(t),r.names=[],r.skips=[];const n=("string"==typeof t?t:"").split(/[\s,]+/),i=n.length;for(e=0;e<i;e++)n[e]&&("-"===(t=n[e].replace(/\*/g,".*?"))[0]?r.skips.push(new RegExp("^"+t.substr(1)+"$")):r.names.push(new RegExp("^"+t+"$")));for(e=0;e<r.instances.length;e++){const t=r.instances[e];t.enabled=r.enabled(t.namespace)}},r.enabled=function(t){if("*"===t[t.length-1])return!0;let e,n;for(e=0,n=r.skips.length;e<n;e++)if(r.skips[e].test(t))return!1;for(e=0,n=r.names.length;e<n;e++)if(r.names[e].test(t))return!0;return!1},r.humanize=n("FGiv"),Object.keys(t).forEach(e=>{r[e]=t[e]}),r.instances=[],r.names=[],r.skips=[],r.formatters={},r.selectColor=e,r.enable(r.load()),r}},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function s(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(o.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return r})},PSD3:function(t,e,n){t.exports=function(){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function r(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}function i(){return(i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function c(t,e,n){return(c=a()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&s(i,n.prototype),i}).apply(null,arguments)}function u(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t,e,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=o(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}var h="SweetAlert2:",d=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},f=function(t){return Object.keys(t).map(function(e){return t[e]})},p=function(t){return Array.prototype.slice.call(t)},g=function(e){console.warn("".concat(h," ").concat("object"===t(e)?e.join(" "):e))},m=function(t){console.error("".concat(h," ").concat(t))},b=[],v=function(t){return"function"==typeof t?t():t},y=function(t){return t&&"function"==typeof t.toPromise},_=function(t){return y(t)?t.toPromise():Promise.resolve(t)},w=function(t){return t&&Promise.resolve(t)===t},C=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),k=function(e){return e instanceof Element||function(e){return"object"===t(e)&&e.jquery}(e)},P=function(t){var e={};for(var n in t)e[t[n]]="swal2-"+t[n];return e},S=P(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","toast-column","show","hide","close","title","header","content","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),E=P(["success","warning","info","question","error"]),T=function(){return document.body.querySelector(".".concat(S.container))},x=function(t){var e=T();return e?e.querySelector(t):null},O=function(t){return x(".".concat(t))},I=function(){return O(S.popup)},A=function(){var t=I();return p(t.querySelectorAll(".".concat(S.icon)))},R=function(){var t=A().filter(function(t){return dt(t)});return t.length?t[0]:null},D=function(){return O(S.title)},j=function(){return O(S.content)},N=function(){return O(S.image)},M=function(){return O(S["progress-steps"])},L=function(){return O(S["validation-message"])},F=function(){return x(".".concat(S.actions," .").concat(S.confirm))},U=function(){return x(".".concat(S.actions," .").concat(S.deny))},Q=function(){return x(".".concat(S.loader))},V=function(){return x(".".concat(S.actions," .").concat(S.cancel))},B=function(){return O(S.actions)},q=function(){return O(S.header)},z=function(){return O(S.footer)},H=function(){return O(S["timer-progress-bar"])},K=function(){return O(S.close)},W=function(){var t=p(I().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort(function(t,e){return(t=parseInt(t.getAttribute("tabindex")))>(e=parseInt(e.getAttribute("tabindex")))?1:t<e?-1:0}),e=p(I().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter(function(t){return"-1"!==t.getAttribute("tabindex")});return function(t){for(var e=[],n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e}(t.concat(e)).filter(function(t){return dt(t)})},G=function(){return!X()&&!document.body.classList.contains(S["no-backdrop"])},X=function(){return document.body.classList.contains(S["toast-shown"])},Y={previousBodyPadding:null},$=function(t,e){if(t.textContent="",e){var n=(new DOMParser).parseFromString(e,"text/html");p(n.querySelector("head").childNodes).forEach(function(e){t.appendChild(e)}),p(n.querySelector("body").childNodes).forEach(function(e){t.appendChild(e)})}},J=function(t,e){if(!e)return!1;for(var n=e.split(/\s+/),r=0;r<n.length;r++)if(!t.classList.contains(n[r]))return!1;return!0},Z=function(e,n,r){if(function(t,e){p(t.classList).forEach(function(n){-1===f(S).indexOf(n)&&-1===f(E).indexOf(n)&&-1===f(e.showClass).indexOf(n)&&t.classList.remove(n)})}(e,n),n.customClass&&n.customClass[r]){if("string"!=typeof n.customClass[r]&&!n.customClass[r].forEach)return g("Invalid type of customClass.".concat(r,'! Expected string or iterable object, got "').concat(t(n.customClass[r]),'"'));it(e,n.customClass[r])}};function tt(t,e){if(!e)return null;switch(e){case"select":case"textarea":case"file":return st(t,S[e]);case"checkbox":return t.querySelector(".".concat(S.checkbox," input"));case"radio":return t.querySelector(".".concat(S.radio," input:checked"))||t.querySelector(".".concat(S.radio," input:first-child"));case"range":return t.querySelector(".".concat(S.range," input"));default:return st(t,S.input)}}var et,nt=function(t){if(t.focus(),"file"!==t.type){var e=t.value;t.value="",t.value=e}},rt=function(t,e,n){t&&e&&("string"==typeof e&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(function(e){t.forEach?t.forEach(function(t){n?t.classList.add(e):t.classList.remove(e)}):n?t.classList.add(e):t.classList.remove(e)}))},it=function(t,e){rt(t,e,!0)},ot=function(t,e){rt(t,e,!1)},st=function(t,e){for(var n=0;n<t.childNodes.length;n++)if(J(t.childNodes[n],e))return t.childNodes[n]},at=function(t,e,n){n==="".concat(parseInt(n))&&(n=parseInt(n)),n||0===parseInt(n)?t.style[e]="number"==typeof n?"".concat(n,"px"):n:t.style.removeProperty(e)},ct=function(t){t.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex"},ut=function(t){t.style.display="none"},lt=function(t,e,n,r){var i=t.querySelector(e);i&&(i.style[n]=r)},ht=function(t,e,n){e?ct(t,n):ut(t)},dt=function(t){return!(!t||!(t.offsetWidth||t.offsetHeight||t.getClientRects().length))},ft=function(t){return!!(t.scrollHeight>t.clientHeight)},pt=function(t){var e=window.getComputedStyle(t),n=parseFloat(e.getPropertyValue("animation-duration")||"0"),r=parseFloat(e.getPropertyValue("transition-duration")||"0");return n>0||r>0},gt=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=H();dt(n)&&(e&&(n.style.transition="none",n.style.width="100%"),setTimeout(function(){n.style.transition="width ".concat(t/1e3,"s linear"),n.style.width="0%"},10))},mt=function(){return"undefined"==typeof window||"undefined"==typeof document},bt='\n <div aria-labelledby="'.concat(S.title,'" aria-describedby="').concat(S.content,'" class="').concat(S.popup,'" tabindex="-1">\n   <div class="').concat(S.header,'">\n     <ul class="').concat(S["progress-steps"],'"></ul>\n     <div class="').concat(S.icon," ").concat(E.error,'"></div>\n     <div class="').concat(S.icon," ").concat(E.question,'"></div>\n     <div class="').concat(S.icon," ").concat(E.warning,'"></div>\n     <div class="').concat(S.icon," ").concat(E.info,'"></div>\n     <div class="').concat(S.icon," ").concat(E.success,'"></div>\n     <img class="').concat(S.image,'" />\n     <h2 class="').concat(S.title,'" id="').concat(S.title,'"></h2>\n     <button type="button" class="').concat(S.close,'"></button>\n   </div>\n   <div class="').concat(S.content,'">\n     <div id="').concat(S.content,'" class="').concat(S["html-container"],'"></div>\n     <input class="').concat(S.input,'" />\n     <input type="file" class="').concat(S.file,'" />\n     <div class="').concat(S.range,'">\n       <input type="range" />\n       <output></output>\n     </div>\n     <select class="').concat(S.select,'"></select>\n     <div class="').concat(S.radio,'"></div>\n     <label for="').concat(S.checkbox,'" class="').concat(S.checkbox,'">\n       <input type="checkbox" />\n       <span class="').concat(S.label,'"></span>\n     </label>\n     <textarea class="').concat(S.textarea,'"></textarea>\n     <div class="').concat(S["validation-message"],'" id="').concat(S["validation-message"],'"></div>\n   </div>\n   <div class="').concat(S.actions,'">\n     <div class="').concat(S.loader,'"></div>\n     <button type="button" class="').concat(S.confirm,'"></button>\n     <button type="button" class="').concat(S.deny,'"></button>\n     <button type="button" class="').concat(S.cancel,'"></button>\n   </div>\n   <div class="').concat(S.footer,'"></div>\n   <div class="').concat(S["timer-progress-bar-container"],'">\n     <div class="').concat(S["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),vt=function(t){on.isVisible()&&et!==t.target.value&&on.resetValidationMessage(),et=t.target.value},yt=function(e,n){e instanceof HTMLElement?n.appendChild(e):"object"===t(e)?_t(e,n):e&&$(n,e)},_t=function(t,e){t.jquery?wt(e,t):$(e,t.toString())},wt=function(t,e){if(t.textContent="",0 in e)for(var n=0;n in e;n++)t.appendChild(e[n].cloneNode(!0));else t.appendChild(e.cloneNode(!0))},Ct=function(){if(mt())return!1;var t=document.createElement("div"),e={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&void 0!==t.style[n])return e[n];return!1}();function kt(t,e,n){ht(t,n["show".concat(d(e),"Button")],"inline-block"),$(t,n["".concat(e,"ButtonText")]),t.setAttribute("aria-label",n["".concat(e,"ButtonAriaLabel")]),t.className=S[e],Z(t,n,"".concat(e,"Button")),it(t,n["".concat(e,"ButtonClass")])}var Pt={promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap},St=["input","file","range","select","radio","checkbox","textarea"],Et=function(t,e){t.placeholder&&!e.inputPlaceholder||(t.placeholder=e.inputPlaceholder)},Tt=function(t,e,n){if(n.inputLabel){t.id=S.input;var r=document.createElement("label"),i=S["input-label"];r.setAttribute("for",t.id),r.className=i,r.innerText=n.inputLabel,e.insertAdjacentElement("beforebegin",r)}},xt=function(t){var e=S[t]?S[t]:S.input;return st(j(),e)},Ot={};Ot.text=Ot.email=Ot.password=Ot.number=Ot.tel=Ot.url=function(e,n){return"string"==typeof n.inputValue||"number"==typeof n.inputValue?e.value=n.inputValue:w(n.inputValue)||g('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(t(n.inputValue),'"')),Tt(e,e,n),Et(e,n),e.type=n.input,e},Ot.file=function(t,e){return Tt(t,t,e),Et(t,e),t},Ot.range=function(t,e){var n=t.querySelector("input"),r=t.querySelector("output");return n.value=e.inputValue,n.type=e.input,r.value=e.inputValue,Tt(n,t,e),t},Ot.select=function(t,e){if(t.textContent="",e.inputPlaceholder){var n=document.createElement("option");$(n,e.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,t.appendChild(n)}return Tt(t,t,e),t},Ot.radio=function(t){return t.textContent="",t},Ot.checkbox=function(t,e){var n=tt(j(),"checkbox");n.value=1,n.id=S.checkbox,n.checked=Boolean(e.inputValue);var r=t.querySelector("span");return $(r,e.inputPlaceholder),t},Ot.textarea=function(t,e){t.value=e.inputValue,Et(t,e),Tt(t,t,e);var n=function(t){return parseInt(window.getComputedStyle(t).paddingLeft)+parseInt(window.getComputedStyle(t).paddingRight)};if("MutationObserver"in window){var r=parseInt(window.getComputedStyle(I()).width);new MutationObserver(function(){var e=t.offsetWidth+n(I())+n(j());I().style.width=e>r?"".concat(e,"px"):null}).observe(t,{attributes:!0,attributeFilter:["style"]})}return t};var It=function(t,e){var n=j().querySelector("#".concat(S.content));e.html?(yt(e.html,n),ct(n,"block")):e.text?(n.textContent=e.text,ct(n,"block")):ut(n),function(t,e){var n=j(),r=Pt.innerParams.get(t),i=!r||e.input!==r.input;St.forEach(function(t){var r=S[t],o=st(n,r);(function(t,e){var n=tt(j(),t);if(n)for(var r in function(t){for(var e=0;e<t.attributes.length;e++){var n=t.attributes[e].name;-1===["type","value","style"].indexOf(n)&&t.removeAttribute(n)}}(n),e)"range"===t&&"placeholder"===r||n.setAttribute(r,e[r])})(t,e.inputAttributes),o.className=r,i&&ut(o)}),e.input&&(i&&function(t){if(!Ot[t.input])return m('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(t.input,'"'));var e=xt(t.input),n=Ot[t.input](e,t);ct(n),setTimeout(function(){nt(n)})}(e),function(t){var e=xt(t.input);t.customClass&&it(e,t.customClass.input)}(e))}(t,e),Z(j(),e,"content")},At=function(t,e){Dt(t,e),Rt(),Z(t,e,"icon")},Rt=function(){for(var t=I(),e=window.getComputedStyle(t).getPropertyValue("background-color"),n=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix"),r=0;r<n.length;r++)n[r].style.backgroundColor=e},Dt=function(t,e){if(e.iconColor){t.style.color=e.iconColor,t.style.borderColor=e.iconColor;for(var n=0,r=[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"];n<r.length;n++)lt(t,r[n],"backgroundColor",e.iconColor);lt(t,".swal2-success-ring","borderColor",e.iconColor)}},jt=function(t){return'<div class="'.concat(S["icon-content"],'">').concat(t,"</div>")},Nt=[],Mt=function(){return T()&&T().getAttribute("data-queue-step")},Lt=function(t,e){var n=q();Z(n,e,"header"),function(t,e){var n=M();if(!e.progressSteps||0===e.progressSteps.length)return ut(n);ct(n),n.textContent="";var r=parseInt(void 0===e.currentProgressStep?Mt():e.currentProgressStep);r>=e.progressSteps.length&&g("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),e.progressSteps.forEach(function(t,i){var o=function(t){var e=document.createElement("li");return it(e,S["progress-step"]),$(e,t),e}(t);if(n.appendChild(o),i===r&&it(o,S["active-progress-step"]),i!==e.progressSteps.length-1){var s=function(t){var e=document.createElement("li");return it(e,S["progress-step-line"]),t.progressStepsDistance&&(e.style.width=t.progressStepsDistance),e}(e);n.appendChild(s)}})}(0,e),function(t,e){var n=Pt.innerParams.get(t);if(n&&e.icon===n.icon&&R())At(R(),e);else if(function(){for(var t=A(),e=0;e<t.length;e++)ut(t[e])}(),e.icon)if(-1!==Object.keys(E).indexOf(e.icon)){var r=x(".".concat(S.icon,".").concat(E[e.icon]));ct(r),function(t,e){t.textContent="",$(t,e.iconHtml?jt(e.iconHtml):"success"===e.icon?'\n      <div class="swal2-success-circular-line-left"></div>\n      <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n      <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n      <div class="swal2-success-circular-line-right"></div>\n    ':"error"===e.icon?'\n      <span class="swal2-x-mark">\n        <span class="swal2-x-mark-line-left"></span>\n        <span class="swal2-x-mark-line-right"></span>\n      </span>\n    ':jt({question:"?",warning:"!",info:"i"}[e.icon]))}(r,e),At(r,e),it(r,e.showClass.icon)}else m('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(e.icon,'"'))}(t,e),function(t,e){var n=N();if(!e.imageUrl)return ut(n);ct(n,""),n.setAttribute("src",e.imageUrl),n.setAttribute("alt",e.imageAlt),at(n,"width",e.imageWidth),at(n,"height",e.imageHeight),n.className=S.image,Z(n,e,"image")}(0,e),function(t,e){var n=D();ht(n,e.title||e.titleText),e.title&&yt(e.title,n),e.titleText&&(n.innerText=e.titleText),Z(n,e,"title")}(0,e),function(t,e){var n=K();$(n,e.closeButtonHtml),Z(n,e,"closeButton"),ht(n,e.showCloseButton),n.setAttribute("aria-label",e.closeButtonAriaLabel)}(0,e)},Ft=function(t,e){(function(t,e){var n=I();at(n,"width",e.width),at(n,"padding",e.padding),e.background&&(n.style.background=e.background),function(t,e){t.className="".concat(S.popup," ").concat(dt(t)?e.showClass.popup:""),e.toast?(it([document.documentElement,document.body],S["toast-shown"]),it(t,S.toast)):it(t,S.modal),Z(t,e,"popup"),"string"==typeof e.customClass&&it(t,e.customClass),e.icon&&it(t,S["icon-".concat(e.icon)])}(n,e)})(0,e),function(t,e){var n=T();if(n){(function(t,e){"string"==typeof e?t.style.background=e:e||it([document.documentElement,document.body],S["no-backdrop"])})(n,e.backdrop),!e.backdrop&&e.allowOutsideClick&&g('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),function(t,e){e in S?it(t,S[e]):(g('The "position" parameter is not valid, defaulting to "center"'),it(t,S.center))}(n,e.position),function(t,e){if(e&&"string"==typeof e){var n="grow-".concat(e);n in S&&it(t,S[n])}}(n,e.grow),Z(n,e,"container");var r=document.body.getAttribute("data-swal2-queue-step");r&&(n.setAttribute("data-queue-step",r),document.body.removeAttribute("data-swal2-queue-step"))}}(0,e),Lt(t,e),It(t,e),function(t,e){var n=B(),r=Q(),i=F(),o=U(),s=V();e.showConfirmButton||e.showDenyButton||e.showCancelButton||ut(n),Z(n,e,"actions"),kt(i,"confirm",e),kt(o,"deny",e),kt(s,"cancel",e),function(t,e,n,r){if(!r.buttonsStyling)return ot([t,e,n],S.styled);it([t,e,n],S.styled),r.confirmButtonColor&&(t.style.backgroundColor=r.confirmButtonColor),r.denyButtonColor&&(e.style.backgroundColor=r.denyButtonColor),r.cancelButtonColor&&(n.style.backgroundColor=r.cancelButtonColor)}(i,o,s,e),e.reverseButtons&&(n.insertBefore(s,r),n.insertBefore(o,r),n.insertBefore(i,r)),$(r,e.loaderHtml),Z(r,e,"loader")}(0,e),function(t,e){var n=z();ht(n,e.footer),e.footer&&yt(e.footer,n),Z(n,e,"footer")}(0,e),"function"==typeof e.didRender?e.didRender(I()):"function"==typeof e.onRender&&e.onRender(I())},Ut=function(){return F()&&F().click()},Qt=function(t){var e=I();e||on.fire(),e=I();var n=B(),r=Q();!t&&dt(F())&&(t=F()),ct(n),t&&(ut(t),r.setAttribute("data-button-to-replace",t.className)),r.parentNode.insertBefore(r,t),it([e,n],S.loading),ct(r),e.setAttribute("data-loading",!0),e.setAttribute("aria-busy",!0),e.focus()},Vt={},Bt=function(){if(Vt.timeout)return function(){var t=H(),e=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";var n=parseInt(window.getComputedStyle(t).width),r=parseInt(e/n*100);t.style.removeProperty("transition"),t.style.width="".concat(r,"%")}(),Vt.timeout.stop()},qt=function(){if(Vt.timeout){var t=Vt.timeout.start();return gt(t),t}},zt=!1,Ht={},Kt=function(t){for(var e=t.target;e&&e!==document;e=e.parentNode)for(var n in Ht){var r=e.getAttribute(n);if(r)return void Ht[n].fire({template:r})}},Wt={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,onBeforeOpen:void 0,onOpen:void 0,willOpen:void 0,didOpen:void 0,onRender:void 0,didRender:void 0,onClose:void 0,onAfterClose:void 0,willClose:void 0,didClose:void 0,onDestroy:void 0,didDestroy:void 0,scrollbarPadding:!0},Gt=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","imageAlt","imageHeight","imageUrl","imageWidth","onAfterClose","onClose","onDestroy","progressSteps","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Xt={animation:'showClass" and "hideClass',onBeforeOpen:"willOpen",onOpen:"didOpen",onRender:"didRender",onClose:"willClose",onAfterClose:"didClose",onDestroy:"didDestroy"},Yt=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","heightAuto","keydownListenerCapture"],$t=function(t){return Object.prototype.hasOwnProperty.call(Wt,t)},Jt=function(t){return Xt[t]},Zt=function(t){$t(t)||g('Unknown parameter "'.concat(t,'"'))},te=function(t){-1!==Yt.indexOf(t)&&g('The parameter "'.concat(t,'" is incompatible with toasts'))},ee=function(t){var e,n,r;Jt(t)&&(e=t,n=Jt(t),r='"'.concat(e,'" is deprecated and will be removed in the next major release. Please use "').concat(n,'" instead.'),-1===b.indexOf(r)&&(b.push(r),g(r)))},ne=function(t){for(var e in t)Zt(e),t.toast&&te(e),ee(e)},re=Object.freeze({isValidParameter:$t,isUpdatableParameter:function(t){return-1!==Gt.indexOf(t)},isDeprecatedParameter:Jt,argsToParams:function(e){var n={};return"object"!==t(e[0])||k(e[0])?["title","html","icon"].forEach(function(r,i){var o=e[i];"string"==typeof o||k(o)?n[r]=o:void 0!==o&&m("Unexpected type of ".concat(r,'! Expected "string" or "Element", got ').concat(t(o)))}):i(n,e[0]),n},isVisible:function(){return dt(I())},clickConfirm:Ut,clickDeny:function(){return U()&&U().click()},clickCancel:function(){return V()&&V().click()},getContainer:T,getPopup:I,getTitle:D,getContent:j,getHtmlContainer:function(){return O(S["html-container"])},getImage:N,getIcon:R,getIcons:A,getInputLabel:function(){return O(S["input-label"])},getCloseButton:K,getActions:B,getConfirmButton:F,getDenyButton:U,getCancelButton:V,getLoader:Q,getHeader:q,getFooter:z,getTimerProgressBar:H,getFocusableElements:W,getValidationMessage:L,isLoading:function(){return I().hasAttribute("data-loading")},fire:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return c(t,n)},mixin:function(t){return function(n){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(f,n);var c,h,d=(c=f,h=a(),function(){var t,e=o(c);if(h){var n=o(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return u(this,t)});function f(){return e(this,f),d.apply(this,arguments)}return r(f,[{key:"_main",value:function(e,n){return l(o(f.prototype),"_main",this).call(this,e,i({},n,t))}}]),f}(this)},queue:function(t){var e=this;Nt=t;var n=function(t,e){Nt=[],t(e)},r=[];return new Promise(function(t){!function i(o,s){o<Nt.length?(document.body.setAttribute("data-swal2-queue-step",o),e.fire(Nt[o]).then(function(e){void 0!==e.value?(r.push(e.value),i(o+1,s)):n(t,{dismiss:e.dismiss})})):n(t,{value:r})}(0)})},getQueueStep:Mt,insertQueueStep:function(t,e){return e&&e<Nt.length?Nt.splice(e,0,t):Nt.push(t)},deleteQueueStep:function(t){void 0!==Nt[t]&&Nt.splice(t,1)},showLoading:Qt,enableLoading:Qt,getTimerLeft:function(){return Vt.timeout&&Vt.timeout.getTimerLeft()},stopTimer:Bt,resumeTimer:qt,toggleTimer:function(){var t=Vt.timeout;return t&&(t.running?Bt():qt())},increaseTimer:function(t){if(Vt.timeout){var e=Vt.timeout.increase(t);return gt(e,!0),e}},isTimerRunning:function(){return Vt.timeout&&Vt.timeout.isRunning()},bindClickHandler:function(){Ht[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,zt||(document.body.addEventListener("click",Kt),zt=!0)}});function ie(){if(Pt.innerParams.get(this)){var t=Pt.domCache.get(this);ut(t.loader);var e=t.popup.getElementsByClassName(t.loader.getAttribute("data-button-to-replace"));e.length?ct(e[0],"inline-block"):!dt(F())&&!dt(U())&&!dt(V())&&ut(t.actions),ot([t.popup,t.actions],S.loading),t.popup.removeAttribute("aria-busy"),t.popup.removeAttribute("data-loading"),t.confirmButton.disabled=!1,t.denyButton.disabled=!1,t.cancelButton.disabled=!1}}var oe=function(t){var e=t.target,n=T();return!(se(t)||ae(t)||e!==n&&(ft(n)||"INPUT"===e.tagName||ft(j())&&j().contains(e)))},se=function(t){return t.touches&&t.touches.length&&"stylus"===t.touches[0].touchType},ae=function(t){return t.touches&&t.touches.length>1},ce=function(){return!!window.MSInputMethodContext&&!!document.documentMode},ue=function(){var t=T(),e=I();t.style.removeProperty("align-items"),e.offsetTop<0&&(t.style.alignItems="flex-start")},le={swalPromiseResolve:new WeakMap};function he(t,e,n,r){n?be(t,r):(new Promise(function(t){var e=window.scrollX,n=window.scrollY;Vt.restoreFocusTimeout=setTimeout(function(){Vt.previousActiveElement&&Vt.previousActiveElement.focus?(Vt.previousActiveElement.focus(),Vt.previousActiveElement=null):document.body&&document.body.focus(),t()},100),void 0!==e&&void 0!==n&&window.scrollTo(e,n)}).then(function(){return be(t,r)}),Vt.keydownTarget.removeEventListener("keydown",Vt.keydownHandler,{capture:Vt.keydownListenerCapture}),Vt.keydownHandlerAdded=!1),e.parentNode&&!document.body.getAttribute("data-swal2-queue-step")&&e.parentNode.removeChild(e),G()&&(null!==Y.previousBodyPadding&&(document.body.style.paddingRight="".concat(Y.previousBodyPadding,"px"),Y.previousBodyPadding=null),function(){if(J(document.body,S.iosfix)){var t=parseInt(document.body.style.top,10);ot(document.body,S.iosfix),document.body.style.top="",document.body.scrollTop=-1*t}}(),"undefined"!=typeof window&&ce()&&window.removeEventListener("resize",ue),p(document.body.children).forEach(function(t){t.hasAttribute("data-previous-aria-hidden")?(t.setAttribute("aria-hidden",t.getAttribute("data-previous-aria-hidden")),t.removeAttribute("data-previous-aria-hidden")):t.removeAttribute("aria-hidden")})),ot([document.documentElement,document.body],[S.shown,S["height-auto"],S["no-backdrop"],S["toast-shown"],S["toast-column"]])}function de(t){var e=I();if(e){t=fe(t);var n=Pt.innerParams.get(this);if(n&&!J(e,n.hideClass.popup)){var r=le.swalPromiseResolve.get(this);ot(e,n.showClass.popup),it(e,n.hideClass.popup);var i=T();ot(i,n.showClass.backdrop),it(i,n.hideClass.backdrop),pe(this,e,n),r(t)}}}var fe=function(t){return void 0===t?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:i({isConfirmed:!1,isDenied:!1,isDismissed:!1},t)},pe=function(t,e,n){var r=T(),i=Ct&&pt(e),o=n.onAfterClose,s=n.didClose;ge(e,n.willClose,n.onClose),i?me(t,e,r,s||o):he(t,r,X(),s||o)},ge=function(t,e,n){null!==e&&"function"==typeof e?e(t):null!==n&&"function"==typeof n&&n(t)},me=function(t,e,n,r){Vt.swalCloseEventFinishedCallback=he.bind(null,t,n,X(),r),e.addEventListener(Ct,function(t){t.target===e&&(Vt.swalCloseEventFinishedCallback(),delete Vt.swalCloseEventFinishedCallback)})},be=function(t,e){setTimeout(function(){"function"==typeof e&&e(),t._destroy()})};function ve(t,e,n){var r=Pt.domCache.get(t);e.forEach(function(t){r[t].disabled=n})}function ye(t,e){if(!t)return!1;if("radio"===t.type)for(var n=t.parentNode.parentNode.querySelectorAll("input"),r=0;r<n.length;r++)n[r].disabled=e;else t.disabled=e}var _e=function(){function t(n,r){e(this,t),this.callback=n,this.remaining=r,this.running=!1,this.start()}return r(t,[{key:"start",value:function(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}},{key:"stop",value:function(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date-this.started),this.remaining}},{key:"increase",value:function(t){var e=this.running;return e&&this.stop(),this.remaining+=t,e&&this.start(),this.remaining}},{key:"getTimerLeft",value:function(){return this.running&&(this.stop(),this.start()),this.remaining}},{key:"isRunning",value:function(){return this.running}}]),t}(),we={email:function(t,e){return/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid email address")},url:function(t,e){return/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid URL")}};function Ce(t){(function(t){t.inputValidator||Object.keys(we).forEach(function(e){t.input===e&&(t.inputValidator=we[e])})})(t),t.showLoaderOnConfirm&&!t.preConfirm&&g("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),t.animation=v(t.animation),function(t){(!t.target||"string"==typeof t.target&&!document.querySelector(t.target)||"string"!=typeof t.target&&!t.target.appendChild)&&(g('Target parameter is not valid, defaulting to "body"'),t.target="body")}(t),"string"==typeof t.title&&(t.title=t.title.split("\n").join("<br />")),function(t){var e,n,r,i,o,s,a,c,u,l,h=!!(e=T())&&(e.parentNode.removeChild(e),ot([document.documentElement,document.body],[S["no-backdrop"],S["toast-shown"],S["has-column"]]),!0);if(mt())m("SweetAlert2 requires document to initialize");else{var d=document.createElement("div");d.className=S.container,h&&it(d,S["no-transition"]),$(d,bt);var f="string"==typeof(l=t.target)?document.querySelector(l):l;f.appendChild(d),function(t){var e=I();e.setAttribute("role",t.toast?"alert":"dialog"),e.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||e.setAttribute("aria-modal","true")}(t),function(t){"rtl"===window.getComputedStyle(t).direction&&it(T(),S.rtl)}(f),n=j(),r=st(n,S.input),i=st(n,S.file),o=n.querySelector(".".concat(S.range," input")),s=n.querySelector(".".concat(S.range," output")),a=st(n,S.select),c=n.querySelector(".".concat(S.checkbox," input")),u=st(n,S.textarea),r.oninput=vt,i.onchange=vt,a.onchange=vt,c.onchange=vt,u.oninput=vt,o.oninput=function(t){vt(t),s.value=o.value},o.onchange=function(t){vt(t),o.nextSibling.value=o.value}}}(t)}var ke,Pe=["swal-title","swal-html","swal-footer"],Se=function(t,e){p(t.attributes).forEach(function(n){-1===e.indexOf(n.name)&&g(['Unrecognized attribute "'.concat(n.name,'" on <').concat(t.tagName.toLowerCase(),">."),"".concat(e.length?"Allowed attributes are: ".concat(e.join(", ")):"To set the value, use HTML within the element.")])})},Ee=function(t,e){"function"==typeof e.didOpen?setTimeout(function(){return e.didOpen(t)}):"function"==typeof e.onOpen&&setTimeout(function(){return e.onOpen(t)})},Te=function t(e){var n=I();if(e.target===n){var r=T();n.removeEventListener(Ct,t),r.style.overflowY="auto"}},xe=function(t,e){Ct&&pt(e)?(t.style.overflowY="hidden",e.addEventListener(Ct,Te)):t.style.overflowY="auto"},Oe=function(t,e,n){(function(){if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!J(document.body,S.iosfix)){var t=document.body.scrollTop;document.body.style.top="".concat(-1*t,"px"),it(document.body,S.iosfix),function(){var t,e=T();e.ontouchstart=function(e){t=oe(e)},e.ontouchmove=function(e){t&&(e.preventDefault(),e.stopPropagation())}}(),navigator.userAgent.match(/(CriOS|FxiOS|EdgiOS|YaBrowser|UCBrowser)/i)||I().scrollHeight>window.innerHeight-44&&(T().style.paddingBottom="".concat(44,"px"))}})(),"undefined"!=typeof window&&ce()&&(ue(),window.addEventListener("resize",ue)),e&&"hidden"!==n&&(null===Y.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(Y.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(Y.previousBodyPadding+function(){var t=document.createElement("div");t.className=S["scrollbar-measure"],document.body.appendChild(t);var e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e}(),"px"))),setTimeout(function(){t.scrollTop=0})},Ie=function(t,e,n){it(t,n.showClass.backdrop),e.style.setProperty("opacity","0","important"),ct(e),setTimeout(function(){it(e,n.showClass.popup),e.style.removeProperty("opacity")},10),it([document.documentElement,document.body],S.shown),n.heightAuto&&n.backdrop&&!n.toast&&it([document.documentElement,document.body],S["height-auto"])},Ae={select:function(t,e,n){var r=st(t,S.select),i=function(t,e,r){var i=document.createElement("option");i.value=r,$(i,e),i.selected=De(r,n.inputValue),t.appendChild(i)};e.forEach(function(t){var e=t[0],n=t[1];if(Array.isArray(n)){var o=document.createElement("optgroup");o.label=e,o.disabled=!1,r.appendChild(o),n.forEach(function(t){return i(o,t[1],t[0])})}else i(r,n,e)}),r.focus()},radio:function(t,e,n){var r=st(t,S.radio);e.forEach(function(t){var e=t[0],i=t[1],o=document.createElement("input"),s=document.createElement("label");o.type="radio",o.name=S.radio,o.value=e,De(e,n.inputValue)&&(o.checked=!0);var a=document.createElement("span");$(a,i),a.className=S.label,s.appendChild(o),s.appendChild(a),r.appendChild(s)});var i=r.querySelectorAll("input");i.length&&i[0].focus()}},Re=function e(n){var r=[];return"undefined"!=typeof Map&&n instanceof Map?n.forEach(function(n,i){var o=n;"object"===t(o)&&(o=e(o)),r.push([i,o])}):Object.keys(n).forEach(function(i){var o=n[i];"object"===t(o)&&(o=e(o)),r.push([i,o])}),r},De=function(t,e){return e&&e.toString()===t.toString()},je=function(t,e,n){var r=function(t,e){var n=t.getInput();if(!n)return null;switch(e.input){case"checkbox":return function(t){return t.checked?1:0}(n);case"radio":return function(t){return t.checked?t.value:null}(n);case"file":return function(t){return t.files.length?null!==t.getAttribute("multiple")?t.files:t.files[0]:null}(n);default:return e.inputAutoTrim?n.value.trim():n.value}}(t,e);e.inputValidator?Ne(t,e,r):t.getInput().checkValidity()?"deny"===n?Me(t,e,r):Fe(t,e,r):(t.enableButtons(),t.showValidationMessage(e.validationMessage))},Ne=function(t,e,n){t.disableInput(),Promise.resolve().then(function(){return _(e.inputValidator(n,e.validationMessage))}).then(function(r){t.enableButtons(),t.enableInput(),r?t.showValidationMessage(r):Fe(t,e,n)})},Me=function(t,e,n){e.preDeny?Promise.resolve().then(function(){return _(e.preDeny(n,e.validationMessage))}).then(function(e){!1===e?t.hideLoading():t.closePopup({isDenied:!0,value:void 0===e?n:e})}):t.closePopup({isDenied:!0,value:n})},Le=function(t,e){t.closePopup({isConfirmed:!0,value:e})},Fe=function(t,e,n){e.showLoaderOnConfirm&&Qt(),e.preConfirm?(t.resetValidationMessage(),Promise.resolve().then(function(){return _(e.preConfirm(n,e.validationMessage))}).then(function(e){dt(L())||!1===e?t.hideLoading():Le(t,void 0===e?n:e)})):Le(t,n)},Ue=function(t,e,n){var r=W();if(r.length)return(e+=n)===r.length?e=0:-1===e&&(e=r.length-1),r[e].focus();I().focus()},Qe=["ArrowRight","ArrowDown","Right","Down"],Ve=["ArrowLeft","ArrowUp","Left","Up"],Be=["Escape","Esc"],qe=function(t,e,n){if(!e.isComposing&&e.target&&t.getInput()&&e.target.outerHTML===t.getInput().outerHTML){if(-1!==["textarea","file"].indexOf(n.input))return;Ut(),e.preventDefault()}},ze=function(t,e){for(var n=t.target,r=W(),i=-1,o=0;o<r.length;o++)if(n===r[o]){i=o;break}Ue(0,i,t.shiftKey?-1:1),t.stopPropagation(),t.preventDefault()},He=function(t){if(-1!==[F(),U(),V()].indexOf(document.activeElement)){var e=-1!==Qe.indexOf(t)?"nextElementSibling":"previousElementSibling",n=document.activeElement[e];n&&n.focus()}},Ke=function(t,e,n){v(e.allowEscapeKey)&&(t.preventDefault(),n(C.esc))},We=!1,Ge=function(e,n){var r=function(e){var n="string"==typeof e.template?document.querySelector(e.template):e.template;if(!n)return{};var r=n.content||n;return function(t){var e=Pe.concat(["swal-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);p(t.querySelectorAll("*")).forEach(function(t){var n=t.tagName.toLowerCase();-1===e.indexOf(n)&&g("Unrecognized element <".concat(n,">"))})}(r),i(function(e){var n={};return p(e.querySelectorAll("swal-param")).forEach(function(e){Se(e,["name","value"]);var r=e.getAttribute("name"),i=e.getAttribute("value");"boolean"==typeof Wt[r]&&"false"===i&&(i=!1),"object"===t(Wt[r])&&(i=JSON.parse(i)),n[r]=i}),n}(r),function(t){var e={};return p(t.querySelectorAll("swal-button")).forEach(function(t){Se(t,["type","color","aria-label"]);var n=t.getAttribute("type");e["".concat(n,"ButtonText")]=t.innerHTML,e["show".concat(d(n),"Button")]=!0,t.hasAttribute("color")&&(e["".concat(n,"ButtonColor")]=t.getAttribute("color")),t.hasAttribute("aria-label")&&(e["".concat(n,"ButtonAriaLabel")]=t.getAttribute("aria-label"))}),e}(r),function(t){var e={},n=t.querySelector("swal-image");return n&&(Se(n,["src","width","height","alt"]),n.hasAttribute("src")&&(e.imageUrl=n.getAttribute("src")),n.hasAttribute("width")&&(e.imageWidth=n.getAttribute("width")),n.hasAttribute("height")&&(e.imageHeight=n.getAttribute("height")),n.hasAttribute("alt")&&(e.imageAlt=n.getAttribute("alt"))),e}(r),function(t){var e={},n=t.querySelector("swal-icon");return n&&(Se(n,["type","color"]),n.hasAttribute("type")&&(e.icon=n.getAttribute("type")),n.hasAttribute("color")&&(e.iconColor=n.getAttribute("color")),e.iconHtml=n.innerHTML),e}(r),function(t){var e={},n=t.querySelector("swal-input");n&&(Se(n,["type","label","placeholder","value"]),e.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(e.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(e.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(e.inputValue=n.getAttribute("value")));var r=t.querySelectorAll("swal-input-option");return r.length&&(e.inputOptions={},p(r).forEach(function(t){Se(t,["value"]);var n=t.getAttribute("value");e.inputOptions[n]=t.innerHTML})),e}(r),function(t,e){var n={};for(var r in e){var i=e[r],o=t.querySelector(i);o&&(Se(o,[]),n[i.replace(/^swal-/,"")]=o.innerHTML)}return n}(r,Pe))}(e),o=i({},Wt.showClass,n.showClass,r.showClass,e.showClass),s=i({},Wt.hideClass,n.hideClass,r.hideClass,e.hideClass),a=i({},Wt,n,r,e);return a.showClass=o,a.hideClass=s,!1===e.animation&&(a.showClass={popup:"swal2-noanimation",backdrop:"swal2-noanimation"},a.hideClass={}),a},Xe=function(e,n,r){return new Promise(function(i){var o=function(t){e.closePopup({isDismissed:!0,dismiss:t})};le.swalPromiseResolve.set(e,i),n.confirmButton.onclick=function(){return function(t,e){t.disableButtons(),e.input?je(t,e,"confirm"):Fe(t,e,!0)}(e,r)},n.denyButton.onclick=function(){return function(t,e){t.disableButtons(),e.returnInputValueOnDeny?je(t,e,"deny"):Me(t,e,!1)}(e,r)},n.cancelButton.onclick=function(){return function(t,e){t.disableButtons(),e(C.cancel)}(e,o)},n.closeButton.onclick=function(){return o(C.close)},function(t,e,n){Pt.innerParams.get(t).toast?function(t,e,n){e.popup.onclick=function(){var e=Pt.innerParams.get(t);e.showConfirmButton||e.showDenyButton||e.showCancelButton||e.showCloseButton||e.timer||e.input||n(C.close)}}(t,e,n):(function(t){t.popup.onmousedown=function(){t.container.onmouseup=function(e){t.container.onmouseup=void 0,e.target===t.container&&(We=!0)}}}(e),function(t){t.container.onmousedown=function(){t.popup.onmouseup=function(e){t.popup.onmouseup=void 0,(e.target===t.popup||t.popup.contains(e.target))&&(We=!0)}}}(e),function(t,e,n){e.container.onclick=function(r){var i=Pt.innerParams.get(t);We?We=!1:r.target===e.container&&v(i.allowOutsideClick)&&n(C.backdrop)}}(t,e,n))}(e,n,o),function(t,e,n,r){e.keydownTarget&&e.keydownHandlerAdded&&(e.keydownTarget.removeEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!1),n.toast||(e.keydownHandler=function(e){return function(t,e,n){var r=Pt.innerParams.get(t);r.stopKeydownPropagation&&e.stopPropagation(),"Enter"===e.key?qe(t,e,r):"Tab"===e.key?ze(e,r):-1!==[].concat(Qe,Ve).indexOf(e.key)?He(e.key):-1!==Be.indexOf(e.key)&&Ke(e,r,n)}(t,e,r)},e.keydownTarget=n.keydownListenerCapture?window:I(),e.keydownListenerCapture=n.keydownListenerCapture,e.keydownTarget.addEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!0)}(e,Vt,r,o),r.toast&&(r.input||r.footer||r.showCloseButton)?it(document.body,S["toast-column"]):ot(document.body,S["toast-column"]),function(e,n){"select"===n.input||"radio"===n.input?function(e,n){var r=j(),i=function(t){return Ae[n.input](r,Re(t),n)};y(n.inputOptions)||w(n.inputOptions)?(Qt(),_(n.inputOptions).then(function(t){e.hideLoading(),i(t)})):"object"===t(n.inputOptions)?i(n.inputOptions):m("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(t(n.inputOptions)))}(e,n):-1!==["text","email","number","tel","textarea"].indexOf(n.input)&&(y(n.inputValue)||w(n.inputValue))&&function(t,e){var n=t.getInput();ut(n),_(e.inputValue).then(function(r){n.value="number"===e.input?parseFloat(r)||0:"".concat(r),ct(n),n.focus(),t.hideLoading()}).catch(function(e){m("Error in inputValue promise: ".concat(e)),n.value="",ct(n),n.focus(),t.hideLoading()})}(e,n)}(e,r),function(t){var e=T(),n=I();"function"==typeof t.willOpen?t.willOpen(n):"function"==typeof t.onBeforeOpen&&t.onBeforeOpen(n);var r=window.getComputedStyle(document.body).overflowY;Ie(e,n,t),setTimeout(function(){xe(e,n)},10),G()&&(Oe(e,t.scrollbarPadding,r),p(document.body.children).forEach(function(t){t===T()||function(t,e){if("function"==typeof t.contains)return t.contains(e)}(t,T())||(t.hasAttribute("aria-hidden")&&t.setAttribute("data-previous-aria-hidden",t.getAttribute("aria-hidden")),t.setAttribute("aria-hidden","true"))})),X()||Vt.previousActiveElement||(Vt.previousActiveElement=document.activeElement),Ee(n,t),ot(e,S["no-transition"])}(r),$e(Vt,r,o),Je(n,r),setTimeout(function(){n.container.scrollTop=0})})},Ye=function(t){var e={popup:I(),container:T(),content:j(),actions:B(),confirmButton:F(),denyButton:U(),cancelButton:V(),loader:Q(),closeButton:K(),validationMessage:L(),progressSteps:M()};return Pt.domCache.set(t,e),e},$e=function(t,e,n){var r=H();ut(r),e.timer&&(t.timeout=new _e(function(){n("timer"),delete t.timeout},e.timer),e.timerProgressBar&&(ct(r),setTimeout(function(){t.timeout&&t.timeout.running&&gt(e.timer)})))},Je=function(t,e){if(!e.toast)return v(e.allowEnterKey)?void(Ze(t,e)||Ue(0,-1,1)):tn()},Ze=function(t,e){return e.focusDeny&&dt(t.denyButton)?(t.denyButton.focus(),!0):e.focusCancel&&dt(t.cancelButton)?(t.cancelButton.focus(),!0):!(!e.focusConfirm||!dt(t.confirmButton)||(t.confirmButton.focus(),0))},tn=function(){document.activeElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()},en=function(t){for(var e in t)t[e]=new WeakMap},nn=Object.freeze({hideLoading:ie,disableLoading:ie,getInput:function(t){var e=Pt.innerParams.get(t||this),n=Pt.domCache.get(t||this);return n?tt(n.content,e.input):null},close:de,closePopup:de,closeModal:de,closeToast:de,enableButtons:function(){ve(this,["confirmButton","denyButton","cancelButton"],!1)},disableButtons:function(){ve(this,["confirmButton","denyButton","cancelButton"],!0)},enableInput:function(){return ye(this.getInput(),!1)},disableInput:function(){return ye(this.getInput(),!0)},showValidationMessage:function(t){var e=Pt.domCache.get(this),n=Pt.innerParams.get(this);$(e.validationMessage,t),e.validationMessage.className=S["validation-message"],n.customClass&&n.customClass.validationMessage&&it(e.validationMessage,n.customClass.validationMessage),ct(e.validationMessage);var r=this.getInput();r&&(r.setAttribute("aria-invalid",!0),r.setAttribute("aria-describedBy",S["validation-message"]),nt(r),it(r,S.inputerror))},resetValidationMessage:function(){var t=Pt.domCache.get(this);t.validationMessage&&ut(t.validationMessage);var e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedBy"),ot(e,S.inputerror))},getProgressSteps:function(){return Pt.domCache.get(this).progressSteps},_main:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ne(i({},e,t)),Vt.currentInstance&&Vt.currentInstance._destroy(),Vt.currentInstance=this;var n=Ge(t,e);Ce(n),Object.freeze(n),Vt.timeout&&(Vt.timeout.stop(),delete Vt.timeout),clearTimeout(Vt.restoreFocusTimeout);var r=Ye(this);return Ft(this,n),Pt.innerParams.set(this,n),Xe(this,r,n)},update:function(t){var e=I(),n=Pt.innerParams.get(this);if(!e||J(e,n.hideClass.popup))return g("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");var r={};Object.keys(t).forEach(function(e){on.isUpdatableParameter(e)?r[e]=t[e]:g('Invalid parameter to update: "'.concat(e,'". Updatable params are listed here: https://github.com/sweetalert2/sweetalert2/blob/master/src/utils/params.js\n\nIf you think this parameter should be updatable, request it here: https://github.com/sweetalert2/sweetalert2/issues/new?template=02_feature_request.md'))});var o=i({},n,r);Ft(this,o),Pt.innerParams.set(this,o),Object.defineProperties(this,{params:{value:i({},this.params,t),writable:!1,enumerable:!0}})},_destroy:function(){var t=Pt.domCache.get(this),e=Pt.innerParams.get(this);e&&(t.popup&&Vt.swalCloseEventFinishedCallback&&(Vt.swalCloseEventFinishedCallback(),delete Vt.swalCloseEventFinishedCallback),Vt.deferDisposalTimer&&(clearTimeout(Vt.deferDisposalTimer),delete Vt.deferDisposalTimer),function(t){"function"==typeof t.didDestroy?t.didDestroy():"function"==typeof t.onDestroy&&t.onDestroy()}(e),delete this.params,delete Vt.keydownHandler,delete Vt.keydownTarget,en(Pt),en(le))}}),rn=function(){function t(){if(e(this,t),"undefined"!=typeof window){"undefined"==typeof Promise&&m("This package requires a Promise library, please include a shim to enable it in this browser (See: https://github.com/sweetalert2/sweetalert2/wiki/Migration-from-SweetAlert-to-SweetAlert2#1-ie-support)"),ke=this;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=Object.freeze(this.constructor.argsToParams(r));Object.defineProperties(this,{params:{value:o,writable:!1,enumerable:!0,configurable:!0}});var s=this._main(this.params);Pt.promise.set(this,s)}}return r(t,[{key:"then",value:function(t){return Pt.promise.get(this).then(t)}},{key:"finally",value:function(t){return Pt.promise.get(this).finally(t)}}]),t}();i(rn.prototype,nn),i(rn,re),Object.keys(nn).forEach(function(t){rn[t]=function(){var e;if(ke)return(e=ke)[t].apply(e,arguments)}}),rn.DismissReason=C,rn.version="10.12.7";var on=rn;return on.default=on,on}(),void 0!==this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),"undefined"!=typeof document&&function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch(t){n.innerText=e}}(document,'.swal2-popup.swal2-toast{flex-direction:row;align-items:center;width:auto;padding:.625em;overflow-y:hidden;background:#fff;box-shadow:0 0 .625em #d9d9d9}.swal2-popup.swal2-toast .swal2-header{flex-direction:row;padding:0}.swal2-popup.swal2-toast .swal2-title{flex-grow:1;justify-content:flex-start;margin:0 .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{position:static;width:.8em;height:.8em;line-height:.8}.swal2-popup.swal2-toast .swal2-content{justify-content:flex-start;padding:0;font-size:1em}.swal2-popup.swal2-toast .swal2-icon{width:2em;min-width:2em;height:2em;margin:0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:700}@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{font-size:.25em}}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{flex-basis:auto!important;width:auto;height:auto;margin:0 .3125em;padding:0}.swal2-popup.swal2-toast .swal2-styled{margin:.125em .3125em;padding:.3125em .625em;font-size:1em}.swal2-popup.swal2-toast .swal2-styled:focus{box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(100,150,200,.5)}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.8em;left:-.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-toast-animate-success-line-tip .75s;animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-toast-animate-success-line-long .75s;animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{-webkit-animation:swal2-toast-show .5s;animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{-webkit-animation:swal2-toast-hide .1s forwards;animation:swal2-toast-hide .1s forwards}.swal2-container{display:flex;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;flex-direction:row;align-items:center;justify-content:center;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:0 0!important}.swal2-container.swal2-top{align-items:flex-start}.swal2-container.swal2-top-left,.swal2-container.swal2-top-start{align-items:flex-start;justify-content:flex-start}.swal2-container.swal2-top-end,.swal2-container.swal2-top-right{align-items:flex-start;justify-content:flex-end}.swal2-container.swal2-center{align-items:center}.swal2-container.swal2-center-left,.swal2-container.swal2-center-start{align-items:center;justify-content:flex-start}.swal2-container.swal2-center-end,.swal2-container.swal2-center-right{align-items:center;justify-content:flex-end}.swal2-container.swal2-bottom{align-items:flex-end}.swal2-container.swal2-bottom-left,.swal2-container.swal2-bottom-start{align-items:flex-end;justify-content:flex-start}.swal2-container.swal2-bottom-end,.swal2-container.swal2-bottom-right{align-items:flex-end;justify-content:flex-end}.swal2-container.swal2-bottom-end>:first-child,.swal2-container.swal2-bottom-left>:first-child,.swal2-container.swal2-bottom-right>:first-child,.swal2-container.swal2-bottom-start>:first-child,.swal2-container.swal2-bottom>:first-child{margin-top:auto}.swal2-container.swal2-grow-fullscreen>.swal2-modal{display:flex!important;flex:1;align-self:stretch;justify-content:center}.swal2-container.swal2-grow-row>.swal2-modal{display:flex!important;flex:1;align-content:center;justify-content:center}.swal2-container.swal2-grow-column{flex:1;flex-direction:column}.swal2-container.swal2-grow-column.swal2-bottom,.swal2-container.swal2-grow-column.swal2-center,.swal2-container.swal2-grow-column.swal2-top{align-items:center}.swal2-container.swal2-grow-column.swal2-bottom-left,.swal2-container.swal2-grow-column.swal2-bottom-start,.swal2-container.swal2-grow-column.swal2-center-left,.swal2-container.swal2-grow-column.swal2-center-start,.swal2-container.swal2-grow-column.swal2-top-left,.swal2-container.swal2-grow-column.swal2-top-start{align-items:flex-start}.swal2-container.swal2-grow-column.swal2-bottom-end,.swal2-container.swal2-grow-column.swal2-bottom-right,.swal2-container.swal2-grow-column.swal2-center-end,.swal2-container.swal2-grow-column.swal2-center-right,.swal2-container.swal2-grow-column.swal2-top-end,.swal2-container.swal2-grow-column.swal2-top-right{align-items:flex-end}.swal2-container.swal2-grow-column>.swal2-modal{display:flex!important;flex:1;align-content:center;justify-content:center}.swal2-container.swal2-no-transition{transition:none!important}.swal2-container:not(.swal2-top):not(.swal2-top-start):not(.swal2-top-end):not(.swal2-top-left):not(.swal2-top-right):not(.swal2-center-start):not(.swal2-center-end):not(.swal2-center-left):not(.swal2-center-right):not(.swal2-bottom):not(.swal2-bottom-start):not(.swal2-bottom-end):not(.swal2-bottom-left):not(.swal2-bottom-right):not(.swal2-grow-fullscreen)>.swal2-modal{margin:auto}@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){.swal2-container .swal2-modal{margin:0!important}}.swal2-popup{display:none;position:relative;box-sizing:border-box;flex-direction:column;justify-content:center;width:32em;max-width:100%;padding:1.25em;border:none;border-radius:5px;background:#fff;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:0}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-header{display:flex;flex-direction:column;align-items:center;padding:0 1.8em}.swal2-title{position:relative;max-width:100%;margin:0 0 .4em;padding:0;color:#595959;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:100%;margin:1.25em auto 0;padding:0 1.6em}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 transparent #2778c4 transparent}.swal2-styled{margin:.3125em;padding:.625em 1.1em;box-shadow:none;font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#2778c4;color:#fff;font-size:1.0625em}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#d14529;color:#fff;font-size:1.0625em}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#757575;color:#fff;font-size:1.0625em}.swal2-styled:focus{outline:0;box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1.25em 0 0;padding:1em 0 0;border-top:1px solid #eee;color:#545454;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;height:.25em;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:1.25em auto}.swal2-close{position:absolute;z-index:2;top:0;right:0;align-items:center;justify-content:center;width:1.2em;height:1.2em;padding:0;overflow:hidden;transition:color .1s ease-out;border:none;border-radius:5px;background:0 0;color:#ccc;font-family:serif;font-size:2.5em;line-height:1.2;cursor:pointer}.swal2-close:hover{transform:none;background:0 0;color:#f27474}.swal2-close:focus{outline:0;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-content{z-index:1;justify-content:center;margin:0;padding:0 1.6em;color:#545454;font-size:1.125em;font-weight:400;line-height:normal;text-align:center;word-wrap:break-word}.swal2-checkbox,.swal2-file,.swal2-input,.swal2-radio,.swal2-select,.swal2-textarea{margin:1em auto}.swal2-file,.swal2-input,.swal2-textarea{box-sizing:border-box;width:100%;transition:border-color .3s,box-shadow .3s;border:1px solid #d9d9d9;border-radius:.1875em;background:inherit;box-shadow:inset 0 1px 1px rgba(0,0,0,.06);color:inherit;font-size:1.125em}.swal2-file.swal2-inputerror,.swal2-input.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}.swal2-file:focus,.swal2-input:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:0;box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-file::-moz-placeholder,.swal2-input::-moz-placeholder,.swal2-textarea::-moz-placeholder{color:#ccc}.swal2-file:-ms-input-placeholder,.swal2-input:-ms-input-placeholder,.swal2-textarea:-ms-input-placeholder{color:#ccc}.swal2-file::placeholder,.swal2-input::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em auto;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-input[type=number]{max-width:10em}.swal2-file{background:inherit;font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:inherit;color:inherit;font-size:1.125em}.swal2-checkbox,.swal2-radio{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-checkbox label,.swal2-radio label{margin:0 .6em;font-size:1.125em}.swal2-checkbox input,.swal2-radio input{margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto}.swal2-validation-message{display:none;align-items:center;justify-content:center;margin:0 -2.7em;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:1.25em auto 1.875em;border:.25em solid transparent;border-radius:50%;font-family:inherit;line-height:5em;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{-webkit-animation:swal2-animate-error-x-mark .5s;animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-.25em;left:-.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-animate-success-line-tip .75s;animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-animate-success-line-long .75s;animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{-webkit-animation:swal2-rotate-success-circular-line 4.25s ease-in;animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:0 0 1.25em;padding:0;background:inherit;font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:transparent}.swal2-show{-webkit-animation:swal2-show .3s;animation:swal2-show .3s}.swal2-hide{-webkit-animation:swal2-hide .15s forwards;animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{right:auto;left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@supports (-ms-accelerator:true){.swal2-range input{width:100%!important}.swal2-range output{display:none}}@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){.swal2-range input{width:100%!important}.swal2-range output{display:none}}@-webkit-keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@-webkit-keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@-webkit-keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@-webkit-keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@-webkit-keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@-webkit-keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@-webkit-keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@-webkit-keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@-webkit-keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@-webkit-keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@-webkit-keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@-webkit-keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-container{top:auto;right:auto;bottom:auto;left:auto;max-width:calc(100% - .625em * 2);background-color:transparent!important}body.swal2-no-backdrop .swal2-container>.swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}body.swal2-no-backdrop .swal2-container.swal2-top{top:0;left:50%;transform:translateX(-50%)}body.swal2-no-backdrop .swal2-container.swal2-top-left,body.swal2-no-backdrop .swal2-container.swal2-top-start{top:0;left:0}body.swal2-no-backdrop .swal2-container.swal2-top-end,body.swal2-no-backdrop .swal2-container.swal2-top-right{top:0;right:0}body.swal2-no-backdrop .swal2-container.swal2-center{top:50%;left:50%;transform:translate(-50%,-50%)}body.swal2-no-backdrop .swal2-container.swal2-center-left,body.swal2-no-backdrop .swal2-container.swal2-center-start{top:50%;left:0;transform:translateY(-50%)}body.swal2-no-backdrop .swal2-container.swal2-center-end,body.swal2-no-backdrop .swal2-container.swal2-center-right{top:50%;right:0;transform:translateY(-50%)}body.swal2-no-backdrop .swal2-container.swal2-bottom{bottom:0;left:50%;transform:translateX(-50%)}body.swal2-no-backdrop .swal2-container.swal2-bottom-left,body.swal2-no-backdrop .swal2-container.swal2-bottom-start{bottom:0;left:0}body.swal2-no-backdrop .swal2-container.swal2-bottom-end,body.swal2-no-backdrop .swal2-container.swal2-bottom-right{right:0;bottom:0}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static!important}}body.swal2-toast-shown .swal2-container{background-color:transparent}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}body.swal2-toast-column .swal2-toast{flex-direction:column;align-items:stretch}body.swal2-toast-column .swal2-toast .swal2-actions{flex:1;align-self:stretch;height:2.2em;margin-top:.3125em}body.swal2-toast-column .swal2-toast .swal2-loading{justify-content:center}body.swal2-toast-column .swal2-toast .swal2-input{height:2em;margin:.3125em auto;font-size:1em}body.swal2-toast-column .swal2-toast .swal2-validation-message{font-size:1em}')},PVQj:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Manager=void 0;const r=n("lKxJ"),i=n("eFEk"),o=n("cpc2"),s=n("Tgil"),a=n("Byvj"),c=n("QN7Q"),u=n("C2QD"),l=n("x7D4")("socket.io-client:manager");e.Manager=class extends o{constructor(t,e){super(),this.nsps={},this.subs=[],t&&"object"==typeof t&&(e=t,t=void 0),(e=e||{}).path=e.path||"/socket.io",this.opts=e,this.reconnection(!1!==e.reconnection),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(e.randomizationFactor||.5),this.backoff=new u({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this._readyState="closed",this.uri=t;const n=e.parser||s;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this._autoConnect=!1!==e.autoConnect,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return void 0===t?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var e;return void 0===t?this._reconnectionDelay:(this._reconnectionDelay=t,null===(e=this.backoff)||void 0===e||e.setMin(t),this)}randomizationFactor(t){var e;return void 0===t?this._randomizationFactor:(this._randomizationFactor=t,null===(e=this.backoff)||void 0===e||e.setJitter(t),this)}reconnectionDelayMax(t){var e;return void 0===t?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,null===(e=this.backoff)||void 0===e||e.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(t){if(l("readyState %s",this._readyState),~this._readyState.indexOf("open"))return this;l("opening %s",this.uri),this.engine=r(this.uri,this.opts);const e=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const i=a.on(e,"open",function(){n.onopen(),t&&t()}),o=a.on(e,"error",e=>{l("error"),n.cleanup(),n._readyState="closed",super.emit("error",e),t?t(e):n.maybeReconnectOnOpen()});if(!1!==this._timeout){const t=this._timeout;l("connect attempt will timeout after %d",t),0===t&&i.destroy();const n=setTimeout(()=>{l("connect attempt timed out after %d",t),i.destroy(),e.close(),e.emit("error",new Error("timeout"))},t);this.subs.push({destroy:function(){clearTimeout(n)}})}return this.subs.push(i),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){l("open"),this.cleanup(),this._readyState="open",super.emit("open");const t=this.engine;this.subs.push(a.on(t,"data",c(this,"ondata")),a.on(t,"ping",c(this,"onping")),a.on(t,"error",c(this,"onerror")),a.on(t,"close",c(this,"onclose")),a.on(this.decoder,"decoded",c(this,"ondecoded")))}onping(){super.emit("ping")}ondata(t){this.decoder.add(t)}ondecoded(t){super.emit("packet",t)}onerror(t){l("error",t),super.emit("error",t)}socket(t,e){let n=this.nsps[t];return n||(n=new i.Socket(this,t,e),this.nsps[t]=n),n}_destroy(t){const e=Object.keys(this.nsps);for(const n of e)if(this.nsps[n].active)return void l("socket %s is still active, skipping close",n);this._close()}_packet(t){l("writing packet %j",t),t.query&&0===t.type&&(t.nsp+="?"+t.query);const e=this.encoder.encode(t);for(let n=0;n<e.length;n++)this.engine.write(e[n],t.options)}cleanup(){l("cleanup");const t=this.subs.length;for(let e=0;e<t;e++)this.subs.shift().destroy();this.decoder.destroy()}_close(){l("disconnect"),this.skipReconnect=!0,this._reconnecting=!1,"opening"===this._readyState&&this.cleanup(),this.backoff.reset(),this._readyState="closed",this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t){l("onclose"),this.cleanup(),this.backoff.reset(),this._readyState="closed",super.emit("close",t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)l("reconnect failed"),this.backoff.reset(),super.emit("reconnect_failed"),this._reconnecting=!1;else{const e=this.backoff.duration();l("will wait %dms before reconnect attempt",e),this._reconnecting=!0;const n=setTimeout(()=>{t.skipReconnect||(l("attempting reconnect"),super.emit("reconnect_attempt",t.backoff.attempts),t.skipReconnect||t.open(e=>{e?(l("reconnect attempt error"),t._reconnecting=!1,t.reconnect(),super.emit("reconnect_error",e)):(l("reconnect success"),t.onreconnect())}))},e);this.subs.push({destroy:function(){clearTimeout(n)}})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),super.emit("reconnect",t)}}},QN7Q:function(t,e){var n=[].slice;t.exports=function(t,e){if("string"==typeof e&&(e=t[e]),"function"!=typeof e)throw new Error("bind() requires a function");var r=n.call(arguments,2);return function(){return e.apply(t,r.concat(n.call(arguments)))}}},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),s=n("kJWO"),a=n("I55L"),c=n("c2HN"),u=n("XoHu");const l=t=>{if(t&&"function"==typeof t[s.a])return l=t,t=>{const e=l[s.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(c.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[o.a])return e=t,t=>{const n=e[o.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(u.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},Tgil:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Decoder=e.Encoder=e.PacketType=e.protocol=void 0;const r=n("cpc2"),i=n("aUwa"),o=n("ipDq"),s=n("x7D4")("socket.io-parser");var a;e.protocol=5,function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"}(a=e.PacketType||(e.PacketType={})),e.Encoder=class{encode(t){return s("encoding packet %j",t),t.type!==a.EVENT&&t.type!==a.ACK||!o.hasBinary(t)?[this.encodeAsString(t)]:(t.type=t.type===a.EVENT?a.BINARY_EVENT:a.BINARY_ACK,this.encodeAsBinary(t))}encodeAsString(t){let e=""+t.type;return t.type!==a.BINARY_EVENT&&t.type!==a.BINARY_ACK||(e+=t.attachments+"-"),t.nsp&&"/"!==t.nsp&&(e+=t.nsp+","),null!=t.id&&(e+=t.id),null!=t.data&&(e+=JSON.stringify(t.data)),s("encoded %j as %s",t,e),e}encodeAsBinary(t){const e=i.deconstructPacket(t),n=this.encodeAsString(e.packet),r=e.buffers;return r.unshift(n),r}};class c extends r{constructor(){super()}add(t){let e;if("string"==typeof t)e=this.decodeString(t),e.type===a.BINARY_EVENT||e.type===a.BINARY_ACK?(this.reconstructor=new u(e),0===e.attachments&&super.emit("decoded",e)):super.emit("decoded",e);else{if(!o.isBinary(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");e=this.reconstructor.takeBinaryData(t),e&&(this.reconstructor=null,super.emit("decoded",e))}}decodeString(t){let e=0;const n={type:Number(t.charAt(0))};if(void 0===a[n.type])throw new Error("unknown packet type "+n.type);if(n.type===a.BINARY_EVENT||n.type===a.BINARY_ACK){const r=e+1;for(;"-"!==t.charAt(++e)&&e!=t.length;);const i=t.substring(r,e);if(i!=Number(i)||"-"!==t.charAt(e))throw new Error("Illegal attachments");n.attachments=Number(i)}if("/"===t.charAt(e+1)){const r=e+1;for(;++e&&","!==t.charAt(e)&&e!==t.length;);n.nsp=t.substring(r,e)}else n.nsp="/";const r=t.charAt(e+1);if(""!==r&&Number(r)==r){const r=e+1;for(;++e;){const n=t.charAt(e);if(null==n||Number(n)!=n){--e;break}if(e===t.length)break}n.id=Number(t.substring(r,e+1))}if(t.charAt(++e)){const r=function(t){try{return JSON.parse(t)}catch(e){return!1}}(t.substr(e));if(!c.isPayloadValid(n.type,r))throw new Error("invalid payload");n.data=r}return s("decoded %s as %j",t,n),n}static isPayloadValid(t,e){switch(t){case a.CONNECT:return"object"==typeof e;case a.DISCONNECT:return void 0===e;case a.CONNECT_ERROR:return"string"==typeof e||"object"==typeof e;case a.EVENT:case a.BINARY_EVENT:return Array.isArray(e)&&"string"==typeof e[0];case a.ACK:case a.BINARY_ACK:return Array.isArray(e)}}destroy(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}e.Decoder=c;class u{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const t=i.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}},TypT:function(t,e){e.encode=function(t){var e="";for(var n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e},e.decode=function(t){for(var e={},n=t.split("&"),r=0,i=n.length;r<i;r++){var o=n[r].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}},Uxeu:function(t,e){var n=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,r=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(t){var e,i,o=t,s=t.indexOf("["),a=t.indexOf("]");-1!=s&&-1!=a&&(t=t.substring(0,s)+t.substring(s,a).replace(/:/g,";")+t.substring(a,t.length));for(var c,u=n.exec(t||""),l={},h=14;h--;)l[r[h]]=u[h]||"";return-1!=s&&-1!=a&&(l.source=o,l.host=l.host.substring(1,l.host.length-1).replace(/;/g,":"),l.authority=l.authority.replace("[","").replace("]","").replace(/;/g,":"),l.ipv6uri=!0),l.pathNames=(i=(e=l.path).replace(/\/{2,9}/g,"/").split("/"),"/"!=e.substr(0,1)&&0!==e.length||i.splice(0,1),"/"==e.substr(e.length-1,1)&&i.splice(i.length-1,1),i),l.queryKey=(c={},l.query.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(t,e,n){e&&(c[e]=n)}),c),l}},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),s=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(e)(Object(s.a)(t,n))}},WMd4:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("EY2u"),i=n("LRne"),o=n("HDdC");let s=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(i.a)(this.value);case"E":return t=this.error,new o.a(e=>e.error(t));case"C":return Object(r.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})()},X071:function(t,e,n){const r=n("2UHX");t.exports={WebSocket:r.WebSocket||r.MozWebSocket,usingBrowserWebSocket:!0,defaultBinaryType:"arraybuffer"}},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),s=n("9ppp"),a=n("Ylt2"),c=n("2QA8");class u extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[c.a](){return new u(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.a.EMPTY}}},XhEF:function(t,e){function n(t){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="XhEF"},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Y7HM:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("DH7j");function i(t){return!Object(r.a)(t)&&t-parseFloat(t)+1>=0}},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},aUwa:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.reconstructPacket=e.deconstructPacket=void 0;const r=n("ipDq");function i(t,e){if(!t)return t;if(r.isBinary(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}if(Array.isArray(t)){const n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=i(t[r],e);return n}if("object"==typeof t&&!(t instanceof Date)){const n={};for(const r in t)t.hasOwnProperty(r)&&(n[r]=i(t[r],e));return n}return t}function o(t,e){if(!t)return t;if(t&&t._placeholder)return e[t.num];if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=o(t[n],e);else if("object"==typeof t)for(const n in t)t.hasOwnProperty(n)&&(t[n]=o(t[n],e));return t}e.deconstructPacket=function(t){const e=[],n=t;return n.data=i(t.data,e),n.attachments=e.length,{packet:n,buffers:e}},e.reconstructPacket=function(t,e){return t.data=o(t.data,e),t.attachments=void 0,t}},akSB:function(t,e,n){const r=n("AdPF"),i=n("0z79"),o=n("Cl5A"),s=n("CIKq");e.polling=function(t){let e,n=!1,s=!1;const a=!1!==t.jsonp;if("undefined"!=typeof location){const e="https:"===location.protocol;let r=location.port;r||(r=e?443:80),n=t.hostname!==location.hostname||r!==t.port,s=t.secure!==e}if(t.xdomain=n,t.xscheme=s,e=new r(t),"open"in e&&!t.forceJSONP)return new i(t);if(!a)throw new Error("JSONP disabled");return new o(t)},e.websocket=s},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("5+tZ"),i=n("SpAZ");function o(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},cpc2:function(t,e,n){function r(t){if(t)return function(t){for(var e in r.prototype)t[e]=r.prototype[e];return t}(t)}t.exports=r,r.prototype.on=r.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},r.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+t];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var i=0;i<r.length;i++)if((n=r[i])===e||n.fn===e){r.splice(i,1);break}return 0===r.length&&delete this._callbacks["$"+t],this},r.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(n){r=0;for(var i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,e)}return this},r.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},r.prototype.hasListeners=function(t){return!!this.listeners(t).length}},eFEk:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Socket=void 0;const r=n("Tgil"),i=n("cpc2"),o=n("Byvj"),s=n("QN7Q"),a=n("x7D4")("socket.io-client:socket"),c=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});e.Socket=class extends i{constructor(t,e,n){super(),this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.flags={},this.io=t,this.nsp=e,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},n&&n.auth&&(this.auth=n.auth),this.io._autoConnect&&this.open()}subEvents(){if(this.subs)return;const t=this.io;this.subs=[o.on(t,"open",s(this,"onopen")),o.on(t,"packet",s(this,"onpacket")),o.on(t,"close",s(this,"onclose"))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...e){if(c.hasOwnProperty(t))throw new Error('"'+t+'" is a reserved event name');e.unshift(t);const n={type:r.PacketType.EVENT,data:e,options:{}};return n.options.compress=!1!==this.flags.compress,"function"==typeof e[e.length-1]&&(a("emitting packet with ack id %d",this.ids),this.acks[this.ids]=e.pop(),n.id=this.ids++),!this.flags.volatile||this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable&&this.connected?this.connected?this.packet(n):this.sendBuffer.push(n):a("discard packet as the transport is not currently writable"),this.flags={},this}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){a("transport is open - connecting"),"function"==typeof this.auth?this.auth(t=>{this.packet({type:r.PacketType.CONNECT,data:t})}):this.packet({type:r.PacketType.CONNECT,data:this.auth})}onclose(t){a("close (%s)",t),this.connected=!1,this.disconnected=!0,delete this.id,super.emit("disconnect",t)}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case r.PacketType.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid):super.emit("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case r.PacketType.EVENT:case r.PacketType.BINARY_EVENT:this.onevent(t);break;case r.PacketType.ACK:case r.PacketType.BINARY_ACK:this.onack(t);break;case r.PacketType.DISCONNECT:this.ondisconnect();break;case r.PacketType.CONNECT_ERROR:const e=new Error(t.data.message);e.data=t.data.data,super.emit("connect_error",e)}}onevent(t){const e=t.data||[];a("emitting event %j",e),null!=t.id&&(a("attaching ack callback to event"),e.push(this.ack(t.id))),this.connected?this.emitEvent(e):this.receiveBuffer.push(Object.freeze(e))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const e=this._anyListeners.slice();for(const n of e)n.apply(this,t)}super.emit.apply(this,t)}ack(t){const e=this;let n=!1;return function(...i){n||(n=!0,a("sending ack %j",i),e.packet({type:r.PacketType.ACK,id:t,data:i}))}}onack(t){const e=this.acks[t.id];"function"==typeof e?(a("calling ack %s with %j",t.id,t.data),e.apply(this,t.data),delete this.acks[t.id]):a("bad ack %s",t.id)}onconnect(t){a("socket connected with id %s",t),this.id=t,this.connected=!0,this.disconnected=!1,super.emit("connect"),this.emitBuffered()}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>this.packet(t)),this.sendBuffer=[]}ondisconnect(){a("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")}destroy(){if(this.subs){for(let t=0;t<this.subs.length;t++)this.subs[t].destroy();this.subs=null}this.io._destroy(this)}disconnect(){return this.connected&&(a("performing disconnect (%s)",this.nsp),this.packet({type:r.PacketType.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const e=this._anyListeners;for(let n=0;n<e.length;n++)if(t===e[n])return e.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}}},f7yz:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.url=void 0;const r=n("Uxeu"),i=n("x7D4")("socket.io-client:url");e.url=function(t,e){let n=t;e=e||"undefined"!=typeof location&&location,null==t&&(t=e.protocol+"//"+e.host),"string"==typeof t&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?e.protocol+t:e.host+t),/^(https?|wss?):\/\//.test(t)||(i("protocol-less url %s",t),t=void 0!==e?e.protocol+"//"+t:"https://"+t),i("parse %s",t),n=r(t)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const o=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+o+":"+n.port,n.href=n.protocol+"://"+o+(e&&e.port===n.port?"":":"+n.port),n}},fSjL:function(t,e,n){"use strict";var r,i=n("zIRd"),o=n("/6Yf"),s=n("30Go"),a=n("qOnz"),c=n("nbvr"),u="w:0.4.19",l=((r={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',r["not-registered"]="Firebase Installation is not registered.",r["installation-not-found"]="Firebase Installation not found.",r["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',r["app-offline"]="Could not process request. Application offline.",r["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",r),h=new a.b("installations","Installations",l);function d(t){return t instanceof a.c&&t.code.includes("request-failed")}function f(t){return"https://firebaseinstallations.googleapis.com/v1/projects/"+t.projectId+"/installations"}function p(t){return{token:t.token,requestStatus:2,expiresIn:(e=t.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()};var e}function g(t,e){return Object(s.b)(this,void 0,void 0,function(){var n,r;return Object(s.d)(this,function(i){switch(i.label){case 0:return[4,e.json()];case 1:return n=i.sent(),[2,h.create("request-failed",{requestName:t,serverCode:(r=n.error).code,serverMessage:r.message,serverStatus:r.status})]}})})}function m(t){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey})}function b(t,e){var n=e.refreshToken,r=m(t);return r.append("Authorization",function(t){return"FIS_v2 "+t}(n)),r}function v(t){return Object(s.b)(this,void 0,void 0,function(){var e;return Object(s.d)(this,function(n){switch(n.label){case 0:return[4,t()];case 1:return(e=n.sent()).status>=500&&e.status<600?[2,t()]:[2,e]}})})}function y(t,e){var n=e.fid;return Object(s.b)(this,void 0,void 0,function(){var e,r,i,o,a;return Object(s.d)(this,function(s){switch(s.label){case 0:return e=f(t),r=m(t),i={method:"POST",headers:r,body:JSON.stringify({fid:n,authVersion:"FIS_v2",appId:t.appId,sdkVersion:u})},[4,v(function(){return fetch(e,i)})];case 1:return(o=s.sent()).ok?[4,o.json()]:[3,3];case 2:return[2,{fid:(a=s.sent()).fid||n,registrationStatus:2,refreshToken:a.refreshToken,authToken:p(a.authToken)}];case 3:return[4,g("Create Installation",o)];case 4:throw s.sent()}})})}function _(t){return new Promise(function(e){setTimeout(e,t)})}var w=/^[cdef][\w-]{21}$/;function C(){try{var t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;var e=function(t){return(e=t,btoa(String.fromCharCode.apply(String,Object(s.f)(e))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var e}(t);return w.test(e)?e:""}catch(r){return""}}function k(t){return t.appName+"!"+t.appId}var P=new Map;function S(t,e){var n=k(t);E(n,e),function(t,e){var n=x();n&&n.postMessage({key:t,fid:e}),O()}(n,e)}function E(t,e){var n,r,i=P.get(t);if(i)try{for(var o=Object(s.h)(i),a=o.next();!a.done;a=o.next())(0,a.value)(e)}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var T=null;function x(){return!T&&"BroadcastChannel"in self&&((T=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(t){E(t.data.key,t.data.fid)}),T}function O(){0===P.size&&T&&(T.close(),T=null)}var I,A="firebase-installations-store",R=null;function D(){return R||(R=Object(c.openDb)("firebase-installations-database",1,function(t){switch(t.oldVersion){case 0:t.createObjectStore(A)}})),R}function j(t,e){return Object(s.b)(this,void 0,void 0,function(){var n,r,i,o,a;return Object(s.d)(this,function(s){switch(s.label){case 0:return n=k(t),[4,D()];case 1:return r=s.sent(),i=r.transaction(A,"readwrite"),[4,(o=i.objectStore(A)).get(n)];case 2:return a=s.sent(),[4,o.put(e,n)];case 3:return s.sent(),[4,i.complete];case 4:return s.sent(),a&&a.fid===e.fid||S(t,e.fid),[2,e]}})})}function N(t){return Object(s.b)(this,void 0,void 0,function(){var e,n,r;return Object(s.d)(this,function(i){switch(i.label){case 0:return e=k(t),[4,D()];case 1:return n=i.sent(),[4,(r=n.transaction(A,"readwrite")).objectStore(A).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function M(t,e){return Object(s.b)(this,void 0,void 0,function(){var n,r,i,o,a,c;return Object(s.d)(this,function(s){switch(s.label){case 0:return n=k(t),[4,D()];case 1:return r=s.sent(),i=r.transaction(A,"readwrite"),[4,(o=i.objectStore(A)).get(n)];case 2:return a=s.sent(),void 0!==(c=e(a))?[3,4]:[4,o.delete(n)];case 3:return s.sent(),[3,6];case 4:return[4,o.put(c,n)];case 5:s.sent(),s.label=6;case 6:return[4,i.complete];case 7:return s.sent(),!c||a&&a.fid===c.fid||S(t,c.fid),[2,c]}})})}function L(t){return Object(s.b)(this,void 0,void 0,function(){var e,n,r;return Object(s.d)(this,function(i){switch(i.label){case 0:return[4,M(t,function(n){var r=function(t){return Q(t||{fid:C(),registrationStatus:0})}(n),i=function(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(h.create("app-offline"))};var n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:function(t,e){return Object(s.b)(this,void 0,void 0,function(){var n,r;return Object(s.d)(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,y(t,e)];case 1:return n=i.sent(),[2,j(t,n)];case 2:return d(r=i.sent())&&409===r.customData.serverCode?[4,N(t)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,j(t,{fid:e.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}})})}(t,n)}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:F(t)}:{installationEntry:e}}(t,r);return e=i.registrationPromise,i.installationEntry})];case 1:return""!==(n=i.sent()).fid?[3,3]:(r={},[4,e]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:e}]}})})}function F(t){return Object(s.b)(this,void 0,void 0,function(){var e,n,r,i;return Object(s.d)(this,function(o){switch(o.label){case 0:return[4,U(t)];case 1:e=o.sent(),o.label=2;case 2:return 1!==e.registrationStatus?[3,5]:[4,_(100)];case 3:return o.sent(),[4,U(t)];case 4:return e=o.sent(),[3,2];case 5:return 0!==e.registrationStatus?[3,7]:[4,L(t)];case 6:return n=o.sent(),r=n.installationEntry,(i=n.registrationPromise)?[2,i]:[2,r];case 7:return[2,e]}})})}function U(t){return M(t,function(t){if(!t)throw h.create("installation-not-found");return Q(t)})}function Q(t){return 1===(e=t).registrationStatus&&e.registrationTime+1e4<Date.now()?{fid:t.fid,registrationStatus:0}:t;var e}function V(t,e){var n=t.appConfig,r=t.platformLoggerProvider;return Object(s.b)(this,void 0,void 0,function(){var t,i,o,a,c;return Object(s.d)(this,function(s){switch(s.label){case 0:return t=function(t,e){var n=e.fid;return f(t)+"/"+n+"/authTokens:generate"}(n,e),i=b(n,e),(o=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",o.getPlatformInfoString()),a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:u}})},[4,v(function(){return fetch(t,a)})];case 1:return(c=s.sent()).ok?[4,c.json()]:[3,3];case 2:return[2,p(s.sent())];case 3:return[4,g("Generate Auth Token",c)];case 4:throw s.sent()}})})}function B(t,e){return void 0===e&&(e=!1),Object(s.b)(this,void 0,void 0,function(){var n,r,i;return Object(s.d)(this,function(o){switch(o.label){case 0:return[4,M(t.appConfig,function(r){if(!z(r))throw h.create("not-registered");var i,o=r.authToken;if(!e&&2===(i=o).requestStatus&&!function(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(i))return r;if(1===o.requestStatus)return n=function(t,e){return Object(s.b)(this,void 0,void 0,function(){var n,r;return Object(s.d)(this,function(i){switch(i.label){case 0:return[4,q(t.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,_(100)];case 3:return i.sent(),[4,q(t.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,B(t,e)]:[2,r]}})})}(t,e),r;if(!navigator.onLine)throw h.create("app-offline");var a=function(t){var e={requestStatus:1,requestTime:Date.now()};return Object(s.a)(Object(s.a)({},t),{authToken:e})}(r);return n=function(t,e){return Object(s.b)(this,void 0,void 0,function(){var n,r,i;return Object(s.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,V(t,e)];case 1:return n=o.sent(),i=Object(s.a)(Object(s.a)({},e),{authToken:n}),[4,j(t.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!d(r=o.sent())||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,N(t.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=Object(s.a)(Object(s.a)({},e),{authToken:{requestStatus:0}}),[4,j(t.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}})})}(t,a),a})];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}})})}function q(t){return M(t,function(t){if(!z(t))throw h.create("not-registered");var e;return 1===(e=t.authToken).requestStatus&&e.requestTime+1e4<Date.now()?Object(s.a)(Object(s.a)({},t),{authToken:{requestStatus:0}}):t})}function z(t){return void 0!==t&&2===t.registrationStatus}function H(t){return Object(s.b)(this,void 0,void 0,function(){var e;return Object(s.d)(this,function(n){switch(n.label){case 0:return[4,L(t)];case 1:return(e=n.sent().registrationPromise)?[4,e]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})}function K(t,e){return Object(s.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(s.d)(this,function(s){switch(s.label){case 0:return n=function(t,e){var n=e.fid;return f(t)+"/"+n}(t,e),r=b(t,e),i={method:"DELETE",headers:r},[4,v(function(){return fetch(n,i)})];case 1:return(o=s.sent()).ok?[3,3]:[4,g("Delete Installation",o)];case 2:throw s.sent();case 3:return[2]}})})}function W(t){return h.create("missing-app-config-values",{valueName:t})}(I=i.a).INTERNAL.registerComponent(new o.a("installations",function(t){var e=t.getProvider("app").getImmediate(),n={appConfig:function(t){var e,n;if(!t||!t.options)throw W("App Configuration");if(!t.name)throw W("App Name");try{for(var r=Object(s.h)(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!t.options[o])throw W(o)}}catch(a){e={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e),platformLoggerProvider:t.getProvider("platform-logger")};return{app:e,getId:function(){return function(t){return Object(s.b)(this,void 0,void 0,function(){var e,n,r;return Object(s.d)(this,function(i){switch(i.label){case 0:return[4,L(t.appConfig)];case 1:return e=i.sent(),n=e.installationEntry,(r=e.registrationPromise)?r.catch(console.error):B(t).catch(console.error),[2,n.fid]}})})}(n)},getToken:function(t){return function(t,e){return void 0===e&&(e=!1),Object(s.b)(this,void 0,void 0,function(){return Object(s.d)(this,function(n){switch(n.label){case 0:return[4,H(t.appConfig)];case 1:return n.sent(),[4,B(t,e)];case 2:return[2,n.sent().token]}})})}(n,t)},delete:function(){return function(t){return Object(s.b)(this,void 0,void 0,function(){var e,n;return Object(s.d)(this,function(r){switch(r.label){case 0:return[4,M(e=t.appConfig,function(t){if(!t||0!==t.registrationStatus)return t})];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw h.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw h.create("app-offline");case 3:return[4,K(e,n)];case 4:return r.sent(),[4,N(e)];case 5:r.sent(),r.label=6;case 6:return[2]}})})}(n)},onIdChange:function(t){return function(t,e){var n=t.appConfig;return function(t,e){x();var n=k(t),r=P.get(n);r||(r=new Set,P.set(n,r)),r.add(e)}(n,e),function(){!function(t,e){var n=k(t),r=P.get(n);r&&(r.delete(e),0===r.size&&P.delete(n),O())}(n,e)}}(n,t)}}},"PUBLIC")),I.registerVersion("@firebase/installations","0.4.19")},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return gn}),n.d(e,"b",function(){return zc}),n.d(e,"c",function(){return Uc}),n.d(e,"d",function(){return Lc}),n.d(e,"e",function(){return Fc}),n.d(e,"f",function(){return Lu}),n.d(e,"g",function(){return Tu}),n.d(e,"h",function(){return Ra}),n.d(e,"i",function(){return eu}),n.d(e,"j",function(){return oa}),n.d(e,"k",function(){return Wc}),n.d(e,"l",function(){return ua}),n.d(e,"m",function(){return Dr}),n.d(e,"n",function(){return gc}),n.d(e,"o",function(){return _o}),n.d(e,"p",function(){return Sn}),n.d(e,"q",function(){return pn}),n.d(e,"r",function(){return Mo}),n.d(e,"s",function(){return Ea}),n.d(e,"t",function(){return Ta}),n.d(e,"u",function(){return Kc}),n.d(e,"v",function(){return qa}),n.d(e,"w",function(){return Ou}),n.d(e,"x",function(){return Ba}),n.d(e,"y",function(){return Cu}),n.d(e,"z",function(){return iu}),n.d(e,"A",function(){return En}),n.d(e,"B",function(){return qc}),n.d(e,"C",function(){return Bc}),n.d(e,"D",function(){return bc}),n.d(e,"E",function(){return ha}),n.d(e,"F",function(){return la}),n.d(e,"G",function(){return Lr}),n.d(e,"H",function(){return fa}),n.d(e,"I",function(){return Sr}),n.d(e,"J",function(){return xn}),n.d(e,"K",function(){return Ru}),n.d(e,"L",function(){return Fa}),n.d(e,"M",function(){return hu}),n.d(e,"N",function(){return mn}),n.d(e,"O",function(){return ga}),n.d(e,"P",function(){return pa}),n.d(e,"Q",function(){return Ha}),n.d(e,"R",function(){return F}),n.d(e,"S",function(){return ku}),n.d(e,"T",function(){return _u}),n.d(e,"U",function(){return _}),n.d(e,"V",function(){return Ln}),n.d(e,"W",function(){return yu}),n.d(e,"X",function(){return Nu}),n.d(e,"Y",function(){return pu}),n.d(e,"Z",function(){return Hc}),n.d(e,"ab",function(){return Co}),n.d(e,"bb",function(){return Hs}),n.d(e,"cb",function(){return kr}),n.d(e,"db",function(){return sr}),n.d(e,"eb",function(){return Xn}),n.d(e,"fb",function(){return $n}),n.d(e,"gb",function(){return er}),n.d(e,"hb",function(){return Zn}),n.d(e,"ib",function(){return Jn}),n.d(e,"jb",function(){return tr}),n.d(e,"kb",function(){return Vs}),n.d(e,"lb",function(){return ju}),n.d(e,"mb",function(){return Bs}),n.d(e,"nb",function(){return qs}),n.d(e,"ob",function(){return Yn}),n.d(e,"pb",function(){return q}),n.d(e,"qb",function(){return Ko}),n.d(e,"rb",function(){return ds}),n.d(e,"sb",function(){return hs}),n.d(e,"tb",function(){return Qs}),n.d(e,"ub",function(){return Rt}),n.d(e,"vb",function(){return b}),n.d(e,"wb",function(){return Gn}),n.d(e,"xb",function(){return Fo}),n.d(e,"yb",function(){return St}),n.d(e,"zb",function(){return na}),n.d(e,"Ab",function(){return ki}),n.d(e,"Bb",function(){return $o}),n.d(e,"Cb",function(){return Es}),n.d(e,"Db",function(){return Ac}),n.d(e,"Eb",function(){return tt}),n.d(e,"Fb",function(){return at}),n.d(e,"Gb",function(){return k}),n.d(e,"Hb",function(){return P}),n.d(e,"Ib",function(){return it}),n.d(e,"Jb",function(){return ct}),n.d(e,"Kb",function(){return es}),n.d(e,"Lb",function(){return ss}),n.d(e,"Mb",function(){return us}),n.d(e,"Nb",function(){return cs}),n.d(e,"Ob",function(){return as}),n.d(e,"Pb",function(){return os}),n.d(e,"Qb",function(){return is}),n.d(e,"Rb",function(){return ls}),n.d(e,"Sb",function(){return ln}),n.d(e,"Tb",function(){return Ms}),n.d(e,"Ub",function(){return Mn}),n.d(e,"Vb",function(){return hn}),n.d(e,"Wb",function(){return Mc}),n.d(e,"Xb",function(){return fs}),n.d(e,"Yb",function(){return Rc}),n.d(e,"Zb",function(){return Ee}),n.d(e,"ac",function(){return Se}),n.d(e,"bc",function(){return ms}),n.d(e,"cc",function(){return lc}),n.d(e,"dc",function(){return hc}),n.d(e,"ec",function(){return dc}),n.d(e,"fc",function(){return ys}),n.d(e,"gc",function(){return vs}),n.d(e,"hc",function(){return ns}),n.d(e,"ic",function(){return _s}),n.d(e,"jc",function(){return ws}),n.d(e,"kc",function(){return sc}),n.d(e,"lc",function(){return ac}),n.d(e,"mc",function(){return Tc}),n.d(e,"nc",function(){return ts}),n.d(e,"oc",function(){return Jt}),n.d(e,"pc",function(){return Er}),n.d(e,"qc",function(){return Tr}),n.d(e,"rc",function(){return ot}),n.d(e,"sc",function(){return xc}),n.d(e,"tc",function(){return Ss}),n.d(e,"uc",function(){return Zo}),n.d(e,"vc",function(){return Rs}),n.d(e,"wc",function(){return Ds}),n.d(e,"xc",function(){return js}),n.d(e,"yc",function(){return Ns}),n.d(e,"zc",function(){return xr}),n.d(e,"Ac",function(){return Oc});var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),s=n("VRyK"),a=n("7o/Q");function c(){return function(t){return t.lift(new u(t))}}class u{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new l(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class l extends a.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class h extends o.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new i.a,t.add(this.source.subscribe(new f(this.getSubject(),this))),t.closed&&(this._connection=null,t=i.a.EMPTY)),t}refCount(){return c()(this)}}const d=(()=>{const t=h.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class f extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function p(){return new r.a}function g(t){for(let e in t)if(t[e]===g)return e;throw Error("Could not find renamed property on target object.")}function m(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function b(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(b).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function v(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const y=g({__forward_ref__:g});function _(t){return t.__forward_ref__=_,t.toString=function(){return b(this())},t}function w(t){return C(t)?t():t}function C(t){return"function"==typeof t&&t.hasOwnProperty(y)&&t.__forward_ref__===_}function k(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function P(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function S(t){return E(t,x)||E(t,I)}function E(t,e){return t.hasOwnProperty(e)?t[e]:null}function T(t){return t&&(t.hasOwnProperty(O)||t.hasOwnProperty(A))?t[O]:null}const x=g({"\u0275prov":g}),O=g({"\u0275inj":g}),I=g({ngInjectableDef:g}),A=g({ngInjectorDef:g});var R=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let D;function j(t){const e=D;return D=t,e}function N(t,e,n){const r=S(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&R.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${b(t)}]`)}function M(t){return{toString:t}.toString()}var L=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),F=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const U="undefined"!=typeof globalThis&&globalThis,Q="undefined"!=typeof window&&window,V="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,B="undefined"!=typeof global&&global,q=U||B||Q||V,z={},H=[],K=g({"\u0275cmp":g}),W=g({"\u0275dir":g}),G=g({"\u0275pipe":g}),X=g({"\u0275mod":g}),Y=g({"\u0275loc":g}),$=g({"\u0275fac":g}),J=g({__NG_ELEMENT_ID__:g});let Z=0;function tt(t){return M(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===L.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||H,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||F.Emulated,id:"c",styles:t.styles||H,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=Z++,n.inputs=st(t.inputs,e),n.outputs=st(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(et):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(nt):null,n})}function et(t){return ut(t)||function(t){return t[W]||null}(t)}function nt(t){return function(t){return t[G]||null}(t)}const rt={};function it(t){const e={type:t.type,bootstrap:t.bootstrap||H,declarations:t.declarations||H,imports:t.imports||H,exports:t.exports||H,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&M(()=>{rt[t.id]=t.type}),e}function ot(t,e){return M(()=>{const n=lt(t,!0);n.declarations=e.declarations||H,n.imports=e.imports||H,n.exports=e.exports||H})}function st(t,e){if(null==t)return z;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const at=tt;function ct(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function ut(t){return t[K]||null}function lt(t,e){const n=t[X]||null;if(!n&&!0===e)throw new Error(`Type ${b(t)} does not have '\u0275mod' property.`);return n}const ht=20,dt=10;function ft(t){return Array.isArray(t)&&"object"==typeof t[1]}function pt(t){return Array.isArray(t)&&!0===t[1]}function gt(t){return 0!=(8&t.flags)}function mt(t){return 2==(2&t.flags)}function bt(t){return 1==(1&t.flags)}function vt(t){return null!==t.template}function yt(t,e){return t.hasOwnProperty($)?t[$]:null}class _t extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function wt(t){return"string"==typeof t?t:null==t?"":String(t)}function Ct(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():wt(t)}function kt(t,e){const n=e?" in "+e:"";throw new _t("201",`No provider for ${Ct(t)} found${n}`)}class Pt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function St(){return Et}function Et(t){return t.type.prototype.ngOnChanges&&(t.setInput=xt),Tt}function Tt(){const t=Ot(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===z)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function xt(t,e,n,r){const i=Ot(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:z,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],c=s[a];o[a]=new Pt(c&&c.currentValue,e,s===z),t[r]=e}function Ot(t){return t.__ngSimpleChanges__||null}St.ngInherit=!0;const It="http://www.w3.org/2000/svg";let At=void 0;function Rt(t){At=t}function Dt(){return void 0!==At?At:"undefined"!=typeof document?document:void 0}function jt(t){return!!t.listen}const Nt={createRenderer:(t,e)=>Dt()};function Mt(t){for(;Array.isArray(t);)t=t[0];return t}function Lt(t,e){return Mt(e[t])}function Ft(t,e){return Mt(e[t.index])}function Ut(t,e){return t.data[e]}function Qt(t,e){return t[e]}function Vt(t,e){const n=e[t];return ft(n)?n:n[0]}function Bt(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function qt(t){return 4==(4&t[2])}function zt(t){return 128==(128&t[2])}function Ht(t,e){return null==e?null:t[e]}function Kt(t){t[18]=0}function Wt(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Gt={lFrame:ve(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Xt(){return Gt.bindingsEnabled}function Yt(){return Gt.lFrame.lView}function $t(){return Gt.lFrame.tView}function Jt(t){Gt.lFrame.contextLView=t}function Zt(){let t=te();for(;null!==t&&64===t.type;)t=t.parent;return t}function te(){return Gt.lFrame.currentTNode}function ee(t,e){const n=Gt.lFrame;n.currentTNode=t,n.isParent=e}function ne(){return Gt.lFrame.isParent}function re(){Gt.lFrame.isParent=!1}function ie(){return Gt.isInCheckNoChangesMode}function oe(t){Gt.isInCheckNoChangesMode=t}function se(){const t=Gt.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function ae(){return Gt.lFrame.bindingIndex}function ce(){return Gt.lFrame.bindingIndex++}function ue(t){const e=Gt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function le(t,e){const n=Gt.lFrame;n.bindingIndex=n.bindingRootIndex=t,he(e)}function he(t){Gt.lFrame.currentDirectiveIndex=t}function de(){return Gt.lFrame.currentQueryIndex}function fe(t){Gt.lFrame.currentQueryIndex=t}function pe(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function ge(t,e,n){if(n&R.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&R.Host||(r=pe(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=Gt.lFrame=be();return r.currentTNode=e,r.lView=t,!0}function me(t){const e=be(),n=t[1];Gt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function be(){const t=Gt.lFrame,e=null===t?null:t.child;return null===e?ve(t):e}function ve(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function ye(){const t=Gt.lFrame;return Gt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const _e=ye;function we(){const t=ye();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ce(){return Gt.lFrame.selectedIndex}function ke(t){Gt.lFrame.selectedIndex=t}function Pe(){const t=Gt.lFrame;return Ut(t.tView,t.selectedIndex)}function Se(){Gt.lFrame.currentNamespace=It}function Ee(){Gt.lFrame.currentNamespace=null}function Te(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function xe(t,e,n){Ae(t,e,3,n)}function Oe(t,e,n,r){(3&t[2])===n&&Ae(t,e,n,r)}function Ie(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Ae(t,e,n,r){const i=null!=r?r:-1;let o=0;for(let s=void 0!==r?65535&t[18]:0;s<e.length;s++)if("number"==typeof e[s+1]){if(o=e[s],null!=r&&o>=r)break}else e[s]<0&&(t[18]+=65536),(o<i||-1==i)&&(Re(t,n,e,s),t[18]=(4294901760&t[18])+s+2),s++}function Re(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(s)):o.call(s)}const De=-1;class je{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Ne(t,e,n){const r=jt(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],c=n[i++];r?t.setAttribute(e,a,c,s):e.setAttributeNS(s,a,c)}else{const s=o,a=n[++i];Le(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function Me(t){return 3===t||4===t||6===t}function Le(t){return 64===t.charCodeAt(0)}function Fe(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Ue(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Ue(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Qe(t){return t!==De}function Ve(t){return 32767&t}function Be(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let qe=!0;function ze(t){const e=qe;return qe=t,e}let He=0;function Ke(t,e){const n=Ge(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,We(r.data,t),We(e,null),We(r.blueprint,null));const i=Xe(t,e),o=t.injectorIndex;if(Qe(i)){const t=Ve(i),n=Be(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function We(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Ge(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Xe(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return De;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return De}function Ye(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(J)&&(r=n[J]),null==r&&(r=n[J]=He++);const i=255&r,o=1<<i,s=64&i,a=32&i,c=e.data;128&i?s?a?c[t+7]|=o:c[t+6]|=o:a?c[t+5]|=o:c[t+4]|=o:s?a?c[t+3]|=o:c[t+2]|=o:a?c[t+1]|=o:c[t]|=o}(t,e,n)}function $e(t,e,n){if(n&R.Optional)return t;kt(e,"NodeInjector")}function Je(t,e,n,r){if(n&R.Optional&&void 0===r&&(r=null),0==(n&(R.Self|R.Host))){const i=t[9],o=j(void 0);try{return i?i.get(e,r,n&R.Optional):N(e,r,n&R.Optional)}finally{j(o)}}return $e(r,e,n)}function Ze(t,e,n,r=R.Default,i){if(null!==t){const o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(J)?t[J]:void 0;return"number"==typeof e?e>=0?255&e:en:e}(n);if("function"==typeof o){if(!ge(e,t,r))return r&R.Host?$e(i,n,r):Je(e,n,r,i);try{const t=o();if(null!=t||r&R.Optional)return t;kt(n)}finally{_e()}}else if("number"==typeof o){let i=null,s=Ge(t,e),a=De,c=r&R.Host?e[16][6]:null;for((-1===s||r&R.SkipSelf)&&(a=-1===s?Xe(t,e):e[s+8],a!==De&&an(r,!1)?(i=e[1],s=Ve(a),e=Be(a,e)):s=-1);-1!==s;){const t=e[1];if(sn(o,s,t.data)){const t=nn(s,e,n,i,r,c);if(t!==tn)return t}a=e[s+8],a!==De&&an(r,e[1].data[s+8]===c)&&sn(o,s,e)?(i=t,s=Ve(a),e=Be(a,e)):s=-1}}}return Je(e,n,r,i)}const tn={};function en(){return new cn(Zt(),Yt())}function nn(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],c=rn(a,s,n,null==r?mt(a)&&qe:r!=s&&0!=(3&a.type),i&R.Host&&o===a);return null!==c?on(e,s,c,a):tn}function rn(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,c=t.directiveStart,u=o>>20,l=i?a+u:t.directiveEnd;for(let h=r?a:a+u;h<l;h++){const t=s[h];if(h<c&&n===t||h>=c&&t.type===n)return h}if(i){const t=s[c];if(t&&vt(t)&&t.type===n)return c}return null}function on(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof je){const s=i;s.resolving&&function(t,e){throw new _t("200","Circular dependency in DI detected for "+t)}(Ct(o[n]));const a=ze(s.canSeeViewProviders);s.resolving=!0;const c=s.injectImpl?j(s.injectImpl):null;ge(t,r,R.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=Et(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==c&&j(c),ze(a),s.resolving=!1,_e()}}return i}function sn(t,e,n){const r=64&t,i=32&t;let o;return o=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(o&1<<t)}function an(t,e){return!(t&R.Self||t&R.Host&&e)}class cn{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Ze(this._tNode,this._lView,t,void 0,e)}}function un(t){const e=t;if(C(t))return()=>{const t=un(w(e));return t?t():null};let n=yt(e);if(null===n){const t=T(e);n=t&&t.factory}return n||null}function ln(t){return M(()=>{const e=t.prototype.constructor,n=e[$]||un(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[$]||un(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function hn(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Me(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Zt(),t)}const dn="__parameters__";function fn(t,e,n){return M(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(dn)?t[dn]:Object.defineProperty(t,dn,{value:[]})[dn];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class pn{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=k({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const gn=new pn("AnalyzeForEntryComponents"),mn=Function;function bn(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),bn(r,e)):e!==t&&e.push(r)}return e}function vn(t,e){t.forEach(t=>Array.isArray(t)?vn(t,e):e(t))}function yn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function _n(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function wn(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function Cn(t,e,n){let r=Pn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function kn(t,e){const n=Pn(t,e);if(n>=0)return t[1|n]}function Pn(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}const Sn=fn("Inject",t=>({token:t})),En=fn("Optional"),Tn=fn("Self"),xn=fn("SkipSelf"),On={},In=/\n/gm,An="__source",Rn=g({provide:String,useValue:g});let Dn=void 0;function jn(t){const e=Dn;return Dn=t,e}function Nn(t,e=R.Default){if(void 0===Dn)throw new Error("inject() must be called from an injection context");return null===Dn?N(t,void 0,e):Dn.get(t,e&R.Optional?null:void 0,e)}function Mn(t,e=R.Default){return(D||Nn)(w(t),e)}const Ln=Mn;function Fn(t){const e=[];for(let n=0;n<t.length;n++){const r=w(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=R.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof En||"Optional"===i.ngMetadataName||i===En?n|=R.Optional:i instanceof xn||"SkipSelf"===i.ngMetadataName||i===xn?n|=R.SkipSelf:i instanceof Tn||"Self"===i.ngMetadataName||i===Tn?n|=R.Self:t=i instanceof Sn||i===Sn?i.token:i}e.push(Mn(t,n))}else e.push(Mn(r))}return e}let Un;function Qn(){if(void 0===Un&&(Un=null,q.trustedTypes))try{Un=q.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return Un}function Vn(t){var e;return(null===(e=Qn())||void 0===e?void 0:e.createHTML(t))||t}class Bn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see https://g.co/ng/security#xss)"}}class qn extends Bn{getTypeName(){return"HTML"}}class zn extends Bn{getTypeName(){return"Style"}}class Hn extends Bn{getTypeName(){return"Script"}}class Kn extends Bn{getTypeName(){return"URL"}}class Wn extends Bn{getTypeName(){return"ResourceURL"}}function Gn(t){return t instanceof Bn?t.changingThisBreaksApplicationSecurity:t}function Xn(t,e){const n=Yn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Yn(t){return t instanceof Bn&&t.getTypeName()||null}function $n(t){return new qn(t)}function Jn(t){return new zn(t)}function Zn(t){return new Hn(t)}function tr(t){return new Kn(t)}function er(t){return new Wn(t)}class nr{getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Vn(t),"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}}class rr{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Vn(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=Vn(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const ir=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,or=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function sr(t){return(t=String(t)).match(ir)||t.match(or)?t:"unsafe:"+t}function ar(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function cr(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const ur=ar("area,br,col,hr,img,wbr"),lr=ar("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),hr=ar("rp,rt"),dr=cr(hr,lr),fr=cr(ur,cr(lr,ar("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),cr(hr,ar("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),dr),pr=ar("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),gr=ar("srcset"),mr=cr(pr,gr,ar("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ar("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),br=ar("script,style,template");class vr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!fr.hasOwnProperty(e))return this.sanitizedSomething=!0,!br.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,o=e.toLowerCase();if(!mr.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;pr[o]&&(s=sr(s)),gr[o]&&(r=s,s=(r=String(r)).split(",").map(t=>sr(t.trim())).join(", ")),this.buf.push(" ",e,'="',wr(s),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();fr.hasOwnProperty(e)&&!ur.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(wr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const yr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,_r=/([^\#-~ |!])/g;function wr(t){return t.replace(/&/g,"&amp;").replace(yr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(_r,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Cr;function kr(t,e){let n=null;try{Cr=Cr||function(t){return function(){try{return!!(new window.DOMParser).parseFromString(Vn(""),"text/html")}catch(t){return!1}}()?new nr:new rr(t)}(t);let r=e?String(e):"";n=Cr.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=Cr.getInertBodyElement(r)}while(r!==o);return(new vr).sanitizeChildren(Pr(n)||n)}finally{if(n){const t=Pr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function Pr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Sr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function Er(t){const e=Or();return e?e.sanitize(Sr.HTML,t)||"":Xn(t,"HTML")?Gn(t):kr(Dt(),wt(t))}function Tr(t){const e=Or();return e?e.sanitize(Sr.URL,t)||"":Xn(t,"URL")?Gn(t):sr(wt(t))}function xr(t){return function(t){var e;return(null===(e=Qn())||void 0===e?void 0:e.createScriptURL(t))||t}(t)}function Or(){const t=Yt();return t&&t[12]}function Ir(t){return t.ngDebugContext}function Ar(t){return t.ngOriginalError}function Rr(t,...e){t.error(...e)}class Dr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||Rr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?Ir(t)?Ir(t):this._findContext(Ar(t)):null}_findOriginalError(t){let e=Ar(t);for(;e&&Ar(e);)e=Ar(e);return e}}function jr(t,e){t.__ngContext__=e}const Nr=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(q))();function Mr(t){return t instanceof Function?t():t}var Lr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function Fr(t,e){return(void 0)(t,e)}function Ur(t){const e=t[3];return pt(e)?e[3]:e}function Qr(t){return Br(t[13])}function Vr(t){return Br(t[4])}function Br(t){for(;null!==t&&!pt(t);)t=t[4];return t}function qr(t,e,n,r,i){if(null!=r){let o,s=!1;pt(r)?o=r:ft(r)&&(s=!0,r=r[0]);const a=Mt(r);0===t&&null!==n?null==i?$r(e,n,a):Yr(e,n,a,i||null,!0):1===t&&null!==n?Yr(e,n,a,i||null,!0):2===t?function(t,e,n){const r=Zr(t,e);r&&function(t,e,n,r){jt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==Mt(n)&&qr(e,t,r,o,i);for(let s=dt;s<n.length;s++){const i=n[s];si(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function zr(t,e,n){return jt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Hr(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Wt(i,-1)),n.splice(r,1)}function Kr(t,e){if(t.length<=dt)return;const n=dt+e,r=t[n];if(r){const o=r[17];null!==o&&o!==t&&Hr(o,r),e>0&&(t[n-1][4]=r[4]);const s=_n(t,dt+e);si(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Wr(t,e){if(!(256&e[2])){const n=e[11];jt(n)&&n.destroyNode&&si(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Gr(t[1],t);for(;e;){let n=null;if(ft(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)ft(e)&&Gr(e[1],e),e=e[3];null===e&&(e=t),ft(e)&&Gr(e[1],e),n=e&&e[4]}e=n}}(e)}}function Gr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof je)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n){for(let t=0;t<n.length-1;t+=2)if("string"==typeof n[t]){const o=n[t+1],s="function"==typeof o?o(e):Mt(e[o]),a=r[i=n[t+2]],c=n[t+3];"boolean"==typeof c?s.removeEventListener(n[t],a,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),t+=2}else{const e=r[i=n[t+1]];n[t].call(e)}if(null!==r)for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&jt(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&pt(e[3])){n!==e[3]&&Hr(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Xr(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===F.None||e===F.Emulated)return null}return Ft(r,n)}(t,e.parent,n)}function Yr(t,e,n,r,i){jt(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function $r(t,e,n){jt(t)?t.appendChild(e,n):e.appendChild(n)}function Jr(t,e,n,r,i){null!==r?Yr(t,e,n,r,i):$r(t,e,n)}function Zr(t,e){return jt(t)?t.parentNode(e):e.parentNode}function ti(t,e,n){return ei(t,e,n)}let ei=function(t,e,n){return 40&t.type?Ft(t,n):null};function ni(t,e,n,r){const i=Xr(t,r,e),o=e[11],s=ti(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Jr(o,i,n[a],s,!1);else Jr(o,i,n,s,!1)}function ri(t,e){if(null!==e){const n=e.type;if(3&n)return Ft(e,t);if(4&n)return ii(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return ri(t,n);{const n=t[e.index];return pt(n)?ii(-1,n):Mt(n)}}if(32&n)return Fr(e,t)()||Mt(t[e.index]);{const n=t[16],r=n[6],i=Ur(n),o=r.projection[e.projection];return null!=o?ri(i,o):ri(t,e.next)}}return null}function ii(t,e){const n=dt+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return ri(t,r)}return e[7]}function oi(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],c=n.type;if(s&&0===e&&(a&&jr(Mt(a),r),n.flags|=4),64!=(64&n.flags))if(8&c)oi(t,e,n.child,r,i,o,!1),qr(e,t,i,a,o);else if(32&c){const s=Fr(n,r);let c;for(;c=s();)qr(e,t,i,c,o);qr(e,t,i,a,o)}else 16&c?ai(t,e,r,n,i,o):qr(e,t,i,a,o);n=s?n.projectionNext:n.next}}function si(t,e,n,r,i,o){oi(n,r,t.firstChild,e,i,o,!1)}function ai(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let c=0;c<a.length;c++)qr(e,t,i,a[c],o);else oi(t,e,a,s[3],i,o,!0)}function ci(t,e,n){jt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function ui(t,e,n){jt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function li(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const hi="ng-template";function di(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==li(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function fi(t){return 4===t.type&&t.value!==hi}function pi(t,e,n){return e===(4!==t.type||n?t.value:hi)}function gi(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(Me(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!s)if(4&r){if(r=2|1&r,""!==c&&!pi(t,c,n)||""===c&&1===e.length){if(mi(r))return!1;s=!0}}else{const u=8&r?c:e[++a];if(8&r&&null!==t.attrs){if(!di(t.attrs,u,n)){if(mi(r))return!1;s=!0}continue}const l=bi(8&r?"class":c,i,fi(t),n);if(-1===l){if(mi(r))return!1;s=!0;continue}if(""!==u){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==li(e,u,0)||2&r&&u!==t){if(mi(r))return!1;s=!0}}}}else{if(!s&&!mi(r)&&!mi(c))return!1;if(s&&mi(c))continue;s=!1,r=c|1&r}}return mi(r)||s}function mi(t){return 0==(1&t)}function bi(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function vi(t,e,n=!1){for(let r=0;r<e.length;r++)if(gi(t,e[r],n))return!0;return!1}function yi(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function _i(t,e){return t?":not("+e.trim()+")":e}function wi(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||mi(s)||(e+=_i(o,i),i=""),r=s,o=o||!mi(r);n++}return""!==i&&(e+=_i(o,i)),e}const Ci={};function ki(t){Pi($t(),Yt(),Ce()+t,ie())}function Pi(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&xe(e,r,n)}else{const r=t.preOrderHooks;null!==r&&Oe(e,r,0,n)}ke(n)}function Si(t,e){return t<<17|e<<2}function Ei(t){return t>>17&32767}function Ti(t){return 2|t}function xi(t){return(131068&t)>>2}function Oi(t,e){return-131069&t|e<<2}function Ii(t){return 1|t}function Ai(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];fe(i),n.contentQueries(2,e[o],o)}}}function Ri(t,e,n,r,i,o,s,a,c,u){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Kt(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=a||t&&t[11],l[12]=c||t&&t[12]||null,l[9]=u||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function Di(t,e,n,r,i){let o=t.data[e];if(null===o)o=function(t,e,n,r,i){const o=te(),s=ne(),a=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==o&&(s?null==o.child&&null!==a.parent&&(o.child=a):null===o.next&&(o.next=a)),a}(t,e,n,r,i),Gt.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const t=function(){const t=Gt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===t?-1:t.injectorIndex}return ee(o,!0),o}function ji(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Ni(t,e,n){me(e);try{const r=t.viewQuery;null!==r&&ho(1,r,n);const i=t.template;null!==i&&Fi(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Ai(t,e),t.staticViewQueries&&ho(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)so(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,we()}}function Mi(t,e,n,r){const i=e[2];if(256==(256&i))return;me(e);const o=ie();try{Kt(e),Gt.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Fi(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&xe(e,n,null)}else{const n=t.preOrderHooks;null!==n&&Oe(e,n,0,null),Ie(e,0)}if(function(t){for(let e=Qr(t);null!==e;e=Vr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Wt(r,1),n[2]|=1024}}}(e),function(t){for(let e=Qr(t);null!==e;e=Vr(e))for(let t=dt;t<e.length;t++){const n=e[t],r=n[1];zt(n)&&Mi(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&Ai(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&xe(e,n)}else{const n=t.contentHooks;null!==n&&Oe(e,n,1),Ie(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)ke(~r);else{const i=r,o=n[++t],s=n[++t];le(o,i),s(2,e[i])}}}finally{ke(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)io(t,e[n])}(e,a);const c=t.viewQuery;if(null!==c&&ho(2,c,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&xe(e,n)}else{const n=t.viewHooks;null!==n&&Oe(e,n,2),Ie(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Wt(e[3],-1))}finally{we()}}function Li(t,e,n,r){const i=e[10],o=!ie(),s=qt(e);try{o&&!s&&i.begin&&i.begin(),s&&Ni(t,e,r),Mi(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function Fi(t,e,n,r,i){const o=Ce();try{ke(-1),2&r&&e.length>ht&&Pi(t,e,ht,ie()),n(r,i)}finally{ke(o)}}function Ui(t,e,n){if(gt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function Qi(t,e,n){Xt()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||Ke(n,e),jr(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=vt(r);o&&to(e,n,r);const c=on(e,t,a,n);jr(c,e),null!==s&&eo(0,a-i,c,r,0,s),o&&(Vt(n.index,e)[8]=c)}}(t,e,n,Ft(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=Gt.lFrame.currentDirectiveIndex;try{ke(o);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];he(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||Xi(r,i)}}finally{ke(-1),he(s)}}(t,e,n))}function Vi(t,e,n=Ft){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function Bi(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=qi(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function qi(t,e,n,r,i,o,s,a,c,u){const l=ht+r,h=l+i,d=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Ci);return n}(l,h),f="function"==typeof u?u():u;return d[1]={type:t,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:e,data:d.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:f,incompleteFirstPass:!1}}function zi(t,e,n,r){const i=po(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&go(t).push(r,i.length-1))}function Hi(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Ki(t,e,n,r,i,o,s,a){const c=Ft(e,n);let u,l=e.inputs;!a&&null!=l&&(u=l[r])?(bo(t,n,u,r,i),mt(e)&&function(t,e){const n=Vt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.value||"",r):i,jt(o)?o.setProperty(c,r,i):Le(r)||(c.setProperty?c.setProperty(r,i):c[r]=i))}function Wi(t,e,n,r){let i=!1;if(Xt()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];vi(n,s.selectors,!1)&&(i||(i=[]),Ye(Ke(n,e),t,s.type),vt(s)?(Yi(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){i=!0,Ji(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,c=ji(t,e,o.length,null);for(let i=0;i<o.length;i++){const u=o[i];n.mergedAttrs=Fe(n.mergedAttrs,u.hostAttrs),Zi(t,n,e,c,u),$i(c,u,s),null!==u.contentQueries&&(n.flags|=8),null===u.hostBindings&&null===u.hostAttrs&&0===u.hostVars||(n.flags|=128);const l=u.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),c++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let c=e.directiveStart;c<n;c++){const t=r[c],n=t.inputs,u=null===i||fi(e)?null:no(n,i);o.push(u),s=Hi(n,c,s),a=Hi(t.outputs,c,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new _t("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=Fe(n.mergedAttrs,n.attrs),i}function Gi(t,e,n,r,i,o){const s=o.hostBindings;if(s){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const o=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=o&&n.push(o),n.push(r,i,s)}}function Xi(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Yi(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function $i(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;vt(e)&&(n[""]=t)}}function Ji(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Zi(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=yt(i.type)),s=new je(o,vt(i),null);t.blueprint[r]=s,n[r]=s,Gi(t,e,0,r,ji(t,n,i.hostVars,Ci),i)}function to(t,e,n){const r=Ft(e,t),i=Bi(n),o=t[10],s=ao(t,Ri(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function eo(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function no(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function ro(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function io(t,e){const n=Vt(e,t);if(zt(n)){const t=n[1];80&n[2]?Mi(t,n,t.template,n[8]):n[5]>0&&oo(n)}}function oo(t){for(let n=Qr(t);null!==n;n=Vr(n))for(let t=dt;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];Mi(t,e,t.template,e[8])}else e[5]>0&&oo(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Vt(e[n],t);zt(r)&&r[5]>0&&oo(r)}}function so(t,e){const n=Vt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Ni(r,n,n[8])}function ao(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function co(t){for(;t;){t[2]|=64;const e=Ur(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function uo(t,e,n){const r=e[10];r.begin&&r.begin();try{Mi(t,e,t.template,n)}catch(i){throw mo(e,i),i}finally{r.end&&r.end()}}function lo(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Bt(n),i=r[1];Li(i,r,i.template,n)}}(t[8])}function ho(t,e,n){fe(0),e(t,n)}const fo=(()=>Promise.resolve(null))();function po(t){return t[7]||(t[7]=[])}function go(t){return t.cleanup||(t.cleanup=[])}function mo(t,e){const n=t[9],r=n?n.get(Dr,null):null;r&&r.handleError(e)}function bo(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],c=e[s],u=t.data[s];null!==u.setInput?u.setInput(c,i,r,a):c[a]=i}}function vo(t,e,n){const r=Lt(e,t);!function(t,e,n){jt(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}function yo(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=v(i,t):2==o&&(r=v(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const _o=new pn("INJECTOR",-1);class wo{get(t,e=On){if(e===On){const e=new Error(`NullInjectorError: No provider for ${b(t)}!`);throw e.name="NullInjectorError",e}return e}}const Co=new pn("Set Injector scope."),ko={},Po={},So=[];let Eo=void 0;function To(){return void 0===Eo&&(Eo=new wo),Eo}function xo(t,e=null,n=null,r){return new Oo(t,n,e||To(),r)}class Oo{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&vn(e,n=>this.processProvider(n,t,e)),vn([t],t=>this.processInjectorType(t,[],i)),this.records.set(_o,Ro(void 0,this));const o=this.records.get(Co);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:b(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=On,n=R.Default){this.assertNotDestroyed();const r=jn(this);try{if(!(n&R.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof pn)&&S(t);e=n&&this.injectableDefInScope(n)?Ro(Io(t),ko):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&R.Self?To():this.parent).get(t,e=n&R.Optional&&e===On?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(b(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[An]&&i.unshift(e[An]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=b(e);if(Array.isArray(e))i=e.map(b).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):b(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(In,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{jn(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(b(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=w(t)))return!1;let r=T(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=T(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{vn(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];vn(r,t=>this.processProvider(t,n,r||So))}}this.injectorDefTypes.add(o),this.records.set(o,Ro(r.factory,ko));const a=r.providers;if(null!=a&&!s){const e=t;vn(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=jo(t=w(t))?t:w(t&&t.provide);const i=function(t,e,n){return Do(t)?Ro(void 0,t.useValue):Ro(Ao(t),ko)}(t);if(jo(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=Ro(void 0,ko,!0),e.factory=()=>Fn(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===ko&&(e.value=Po,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function Io(t){const e=S(t),n=null!==e?e.factory:yt(t);if(null!==n)return n;const r=T(t);if(null!==r)return r.factory;if(t instanceof pn)throw new Error(`Token ${b(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=wn(e,"?");throw new Error(`Can't resolve all parameters for ${b(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[x]||t[I]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function Ao(t,e,n){let r=void 0;if(jo(t)){const e=w(t);return yt(e)||Io(e)}if(Do(t))r=()=>w(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...Fn(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>Mn(w(t.useExisting));else{const e=w(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return yt(e)||Io(e);r=()=>new e(...Fn(t.deps))}var i;return r}function Ro(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Do(t){return null!==t&&"object"==typeof t&&Rn in t}function jo(t){return"function"==typeof t}const No=function(t,e,n){return function(t,e=null,n=null,r){const i=xo(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let Mo=(()=>{class t{static create(t,e){return Array.isArray(t)?No(t,e,""):No(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=On,t.NULL=new wo,t.\u0275prov=k({token:t,providedIn:"any",factory:()=>Mn(_o)}),t.__NG_ELEMENT_ID__=-1,t})();function Lo(t,e){Te(Bt(t)[1],Zt())}function Fo(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i=void 0;if(vt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=Uo(t.inputs),e.declaredInputs=Uo(t.declaredInputs),e.outputs=Uo(t.outputs);const n=i.hostBindings;n&&Bo(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&Qo(t,o),s&&Vo(t,s),m(t.inputs,i.inputs),m(t.declaredInputs,i.declaredInputs),m(t.outputs,i.outputs),vt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===Fo&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Fe(i.hostAttrs,n=Fe(n,i.hostAttrs))}}(r)}function Uo(t){return t===z?{}:t===H?[]:t}function Qo(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function Vo(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function Bo(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let qo=null;function zo(){if(!qo){const t=q.Symbol;if(t&&t.iterator)qo=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(qo=n)}}}return qo}class Ho{constructor(t){this.wrapped=t}static wrap(t){return new Ho(t)}static unwrap(t){return Ho.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Ho}}function Ko(t){return!!Wo(t)&&(Array.isArray(t)||!(t instanceof Map)&&zo()in t)}function Wo(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Go(t,e,n){return t[e]=n}function Xo(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Yo(t,e,n,r){const i=Xo(t,e,n);return Xo(t,e+1,r)||i}function $o(t,e,n,r){const i=Yt();return Xo(i,ce(),e)&&($t(),function(t,e,n,r,i,o){const s=Ft(t,e);!function(t,e,n,r,i,o,s){if(null==o)jt(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==s?wt(o):s(o,r||"",i);jt(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[11],s,o,t.value,n,r,i)}(Pe(),i,t,e,n,r)),$o}function Jo(t,e,n,r){return Xo(t,ce(),n)?e+wt(n)+r:Ci}function Zo(t,e,n,r,i,o,s,a){const c=Yt(),u=$t(),l=t+ht,h=u.firstCreatePass?function(t,e,n,r,i,o,s,a,c){const u=e.consts,l=Di(e,t,4,s||null,Ht(u,a));Wi(e,n,l,Ht(u,c)),Te(e,l);const h=l.tViews=qi(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,u,c,e,n,r,i,o,s):u.data[l];ee(h,!1);const d=c[11].createComment("");ni(u,c,d,h),jr(d,c),ao(c,c[l]=ro(d,c,d,h)),bt(h)&&Qi(u,c,h),null!=s&&Vi(c,h,a)}function ts(t){return Qt(Gt.lFrame.contextLView,ht+t)}function es(t,e=R.Default){const n=Yt();return null===n?Mn(t,e):Ze(Zt(),n,w(t),e)}function ns(t,e,n){const r=Yt();return Xo(r,ce(),e)&&Ki($t(),Pe(),r,t,e,r[11],n,!1),ns}function rs(t,e,n,r,i){const o=i?"class":"style";bo(t,n,e.inputs[o],o,r)}function is(t,e,n,r){const i=Yt(),o=$t(),s=ht+t,a=i[11],c=i[s]=zr(a,e,Gt.lFrame.currentNamespace),u=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,c=Di(e,t,2,i,Ht(a,o));return Wi(e,n,c,Ht(a,s)),null!==c.attrs&&yo(c,c.attrs,!1),null!==c.mergedAttrs&&yo(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(s,o,i,0,e,n,r):o.data[s];ee(u,!0);const l=u.mergedAttrs;null!==l&&Ne(a,c,l);const h=u.classes;null!==h&&ui(a,c,h);const d=u.styles;null!==d&&ci(a,c,d),64!=(64&u.flags)&&ni(o,i,c,u),0===Gt.lFrame.elementDepthCount&&jr(c,i),Gt.lFrame.elementDepthCount++,bt(u)&&(Qi(o,i,u),Ui(o,u,i)),null!==r&&Vi(i,u)}function os(){let t=Zt();ne()?re():(t=t.parent,ee(t,!1));const e=t;Gt.lFrame.elementDepthCount--;const n=$t();n.firstCreatePass&&(Te(n,t),gt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&rs(n,e,Yt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&rs(n,e,Yt(),e.stylesWithoutHost,!1)}function ss(t,e,n,r){is(t,e,n,r),os()}function as(t,e,n){const r=Yt(),i=$t(),o=t+ht,s=i.firstCreatePass?function(t,e,n,r,i){const o=e.consts,s=Ht(o,r),a=Di(e,t,8,"ng-container",s);return null!==s&&yo(a,s,!0),Wi(e,n,a,Ht(o,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,i,r,e,n):i.data[o];ee(s,!0);const a=r[o]=r[11].createComment("");ni(i,r,a,s),jr(a,r),bt(s)&&(Qi(i,r,s),Ui(i,s,r)),null!=n&&Vi(r,s)}function cs(){let t=Zt();const e=$t();ne()?re():(t=t.parent,ee(t,!1)),e.firstCreatePass&&(Te(e,t),gt(t)&&e.queries.elementEnd(t))}function us(t,e,n){as(t,e,n),cs()}function ls(){return Yt()}function hs(t){return!!t&&"function"==typeof t.then}function ds(t){return!!t&&"function"==typeof t.subscribe}function fs(t,e,n=!1,r){const i=Yt(),o=$t(),s=Zt();return function(t,e,n,r,i,o,s=!1,a){const c=bt(r),u=t.firstCreatePass&&go(t),l=po(e);let h=!0;if(3&r.type){const d=Ft(r,e),f=a?a(d):z,p=f.target||d,g=l.length,m=a?t=>a(Mt(t[r.index])).target:r.index;if(jt(n)){let s=null;if(!a&&c&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=gs(r,e,o,!1);const t=n.listen(f.name||p,i,o);l.push(o,t),u&&u.push(i,m,g,g+1)}}else o=gs(r,e,o,!0),p.addEventListener(i,o,s),l.push(o),u&&u.push(i,m,g,s)}else o=gs(r,e,o,!1);const d=r.outputs;let f;if(h&&null!==d&&(f=d[i])){const t=f.length;if(t)for(let n=0;n<t;n+=2){const t=e[f[n]][f[n+1]].subscribe(o),s=l.length;l.push(o,t),u&&u.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,t,e,n,r),fs}function ps(t,e,n){try{return!1!==e(n)}catch(r){return mo(t,r),!1}}function gs(t,e,n,r){return function i(o){if(o===Function)return n;const s=2&t.flags?Vt(t.index,e):e;0==(32&e[2])&&co(s);let a=ps(e,n,o),c=i.__ngNextListenerFn__;for(;c;)a=ps(e,c,o)&&a,c=c.__ngNextListenerFn__;return r&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function ms(t=1){return function(t){return(Gt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Gt.lFrame.contextLView))[8]}(t)}function bs(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?vi(t,o,!0):yi(r,o))return i}else n=i}return n}function vs(t){const e=Yt()[16][6];if(!e.projection){const n=e.projection=wn(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?bs(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function ys(t,e=0,n){const r=Yt(),i=$t(),o=Di(i,ht+t,16,null,n||null);null===o.projection&&(o.projection=e),re(),64!=(64&o.flags)&&function(t,e,n){ai(e[11],0,e,n,Xr(t,n,e),ti(n.parent||e[6],n,e))}(i,r,o)}function _s(t,e,n){return ws(t,"",e,"",n),_s}function ws(t,e,n,r,i){const o=Yt(),s=Jo(o,e,n,r);return s!==Ci&&Ki($t(),Pe(),o,t,s,o[11],i,!1),ws}const Cs=[];function ks(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?Ei(o):xi(o),c=!1;for(;0!==a&&(!1===c||s);){const n=t[a+1];Ps(t[a],e)&&(c=!0,t[a+1]=r?Ii(n):Ti(n)),a=r?Ei(n):xi(n)}c&&(t[n+1]=r?Ti(o):Ii(o))}function Ps(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Pn(t,e)>=0}function Ss(t,e,n){return Ts(t,e,n,!1),Ss}function Es(t,e){return Ts(t,e,null,!0),Es}function Ts(t,e,n,r){const i=Yt(),o=$t(),s=ue(2);o.firstUpdatePass&&function(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[Ce()],s=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(t.flags&(e?16:32))})(o,r)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=Gt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Os(n=xs(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=xs(i,t,e,n,r),null===o){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==xi(r))return t[Ei(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=xs(null,t,e,n[1],r),n=Os(n,e.attrs,r),function(t,e,n,r){t[Ei(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else o=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=Os(r,t[o].hostAttrs,n);return Os(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Ei(s),c=xi(s);t[r]=n;let u,l=!1;if(Array.isArray(n)){const t=n;u=t[1],(null===u||Pn(t,u)>0)&&(l=!0)}else u=n;if(i)if(0!==c){const e=Ei(t[a+1]);t[r+1]=Si(e,a),0!==e&&(t[e+1]=Oi(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=Si(a,0),0!==a&&(t[a+1]=Oi(t[a+1],r)),a=r;else t[r+1]=Si(c,0),0===a?a=r:t[c+1]=Oi(t[c+1],r),c=r;l&&(t[r+1]=Ti(t[r+1])),ks(t,u,r,!0),ks(t,u,r,!1),function(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&Pn(o,e)>=0&&(n[r+1]=Ii(n[r+1]))}(e,u,t,r,o),s=Si(a,c),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}(o,t,s,r),e!==Ci&&Xo(i,s,e)&&function(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const c=t.data,u=c[a+1];As(1==(1&u)?Is(c,e,n,i,xi(u),s):void 0)||(As(o)||function(t){return 2==(2&t)}(u)&&(o=Is(c,null,n,i,a,s)),function(t,e,n,r,i){const o=jt(t);if(e)i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r);else{let e=-1===r.indexOf("-")?void 0:Lr.DashCase;if(null==i)o?t.removeStyle(n,r,e):n.style.removeProperty(r);else{const s="string"==typeof i&&i.endsWith("!important");s&&(i=i.slice(0,-10),e|=Lr.Important),o?t.setStyle(n,r,i,e):n.style.setProperty(r,i,s?"important":"")}}}(r,s,Lt(Ce(),n),i,o))}(o,o.data[Ce()],i,i[11],t,i[s+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=b(Gn(t)))),t}(e,n),r,s)}function xs(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=Os(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Os(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Cn(t,s,!!n||e[++o]))}return void 0===t?null:t}function Is(t,e,n,r,i,o){const s=null===e;let a=void 0;for(;i>0;){const e=t[i],o=Array.isArray(e),c=o?e[1]:e,u=null===c;let l=n[i+1];l===Ci&&(l=u?Cs:void 0);let h=u?kn(l,r):c===r?l:void 0;if(o&&!As(h)&&(h=kn(e,r)),As(h)&&(a=h,s))return a;const d=t[i+1];i=s?Ei(d):xi(d)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=kn(t,r))}return a}function As(t){return void 0!==t}function Rs(t,e=""){const n=Yt(),r=$t(),i=t+ht,o=r.firstCreatePass?Di(r,i,1,e,null):r.data[i],s=n[i]=function(t,e){return jt(t)?t.createText(e):t.createTextNode(e)}(n[11],e);ni(r,n,s,o),ee(o,!1)}function Ds(t){return js("",t,""),Ds}function js(t,e,n){const r=Yt(),i=Jo(r,t,e,n);return i!==Ci&&vo(r,Ce(),i),js}function Ns(t,e,n,r,i){const o=Yt(),s=function(t,e,n,r,i,o){const s=Yo(t,ae(),n,i);return ue(2),s?e+wt(n)+r+wt(i)+o:Ci}(o,t,e,n,r,i);return s!==Ci&&vo(o,Ce(),s),Ns}function Ms(t,e,n){const r=Yt();return Xo(r,ce(),e)&&Ki($t(),Pe(),r,t,e,r[11],n,!0),Ms}const Ls=void 0;var Fs=["en",[["a","p"],["AM","PM"],Ls],[["AM","PM"],Ls,Ls],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ls,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ls,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ls,"{1} 'at' {0}",Ls],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let Us={};function Qs(t,e,n){"string"!=typeof e&&(n=e,e=t[Hs.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),Us[e]=t,n&&(Us[e][Hs.ExtraData]=n)}function Vs(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=zs(e);if(n)return n;const r=e.split("-")[0];if(n=zs(r),n)return n;if("en"===r)return Fs;throw new Error(`Missing locale data for the locale "${t}".`)}function Bs(t){return Vs(t)[Hs.CurrencyCode]||null}function qs(t){return Vs(t)[Hs.PluralCase]}function zs(t){return t in Us||(Us[t]=q.ng&&q.ng.common&&q.ng.common.locales&&q.ng.common.locales[t]),Us[t]}var Hs=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const Ks="en-US";let Ws=Ks;function Gs(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(Ws=t.toLowerCase().replace(/_/g,"-"))}function Xs(t,e,n,r,i){if(t=w(t),Array.isArray(t))for(let o=0;o<t.length;o++)Xs(t[o],e,n,r,i);else{const o=$t(),s=Yt();let a=jo(t)?t:w(t.provide),c=Ao(t);const u=Zt(),l=1048575&u.providerIndexes,h=u.directiveStart,d=u.providerIndexes>>20;if(jo(t)||!t.multi){const r=new je(c,i,es),f=Js(a,e,i?l:l+d,h);-1===f?(Ye(Ke(u,s),o,a),Ys(o,t,e.length),e.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),n.push(r),s.push(r)):(n[f]=r,s[f]=r)}else{const f=Js(a,e,l+d,h),p=Js(a,e,l,l+d),g=f>=0&&n[f],m=p>=0&&n[p];if(i&&!m||!i&&!g){Ye(Ke(u,s),o,a);const l=function(t,e,n,r,i){const o=new je(t,n,es);return o.multi=[],o.index=e,o.componentProviders=0,$s(o,i,r&&!n),o}(i?ta:Zs,n.length,i,r,c);!i&&m&&(n[p].providerFactory=l),Ys(o,t,e.length,0),e.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),n.push(l),s.push(l)}else Ys(o,t,f>-1?f:p,$s(n[i?p:f],c,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function Ys(t,e,n,r){const i=jo(e);if(i||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[r,o]):s[t+1].push(r,o)}else s.push(n,o)}}}function $s(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Js(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Zs(t,e,n,r){return ea(this.multi,[])}function ta(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=on(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),ea(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],ea(i,o);return o}function ea(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function na(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=$t();if(r.firstCreatePass){const i=vt(t);Xs(n,r.data,r.blueprint,i,!0),Xs(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class ra{}class ia{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${b(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let oa=(()=>{class t{}return t.NULL=new ia,t})();function sa(...t){}function aa(t,e){return new ua(Ft(t,e))}const ca=function(){return aa(Zt(),Yt())};let ua=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=ca,t})();class la{}let ha=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>da(),t})();const da=function(){const t=Yt(),e=Vt(Zt().index,t);return function(t){return t[11]}(ft(e)?e:t)};let fa=(()=>{class t{}return t.\u0275prov=k({token:t,providedIn:"root",factory:()=>null}),t})();class pa{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const ga=new pa("11.0.5");class ma{constructor(){}supports(t){return Ko(t)}create(t){return new va(t)}}const ba=(t,e)=>e;class va{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||ba}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<Ca(n,r,i)?e:n,s=Ca(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Ko(t))throw new Error(`Error trying to diff '${b(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[zo()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new ya(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new wa),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new wa),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class ya{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class _a{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class wa{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new _a,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ca(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class ka{constructor(){}supports(t){return t instanceof Map||Wo(t)}create(){return new Pa}}class Pa{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Wo(t)))throw new Error(`Error trying to diff '${b(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Sa(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Sa{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let Ea=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new xn,new En]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=k({token:t,providedIn:"root",factory:()=>new t([new ma])}),t})(),Ta=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new xn,new En]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=k({token:t,providedIn:"root",factory:()=>new t([new ka])}),t})();function xa(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(Mt(o)),pt(o))for(let t=dt;t<o.length;t++){const e=o[t],n=e[1].firstChild;null!==n&&xa(e[1],e,n,r)}const s=n.type;if(8&s)xa(t,e,n.child,r);else if(32&s){const t=Fr(n,e);let i;for(;i=t();)r.push(i)}else if(16&s){const t=e[16],i=t[6].projection[n.projection];if(Array.isArray(i))r.push(...i);else{const e=Ur(t);xa(e[1],e,i,r,!0)}}n=i?n.projectionNext:n.next}return r}class Oa{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const t=this._lView,e=t[1];return xa(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}Wr(this._lView[1],this._lView)}onDestroy(t){zi(this._lView[1],this._lView,null,t)}markForCheck(){co(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){uo(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){oe(!0);try{uo(t,e,n)}finally{oe(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,si(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Ia extends Oa{constructor(t){super(t),this._view=t}detectChanges(){lo(this._view)}checkNoChanges(){!function(t){oe(!0);try{lo(t)}finally{oe(!1)}}(this._view)}get context(){return null}}const Aa=Da;let Ra=(()=>{class t{}return t.__NG_ELEMENT_ID__=Aa,t.__ChangeDetectorRef__=!0,t})();function Da(t=!1){return function(t,e,n){if(!n&&mt(t)){const n=Vt(t.index,e);return new Oa(n,n)}return 47&t.type?new Oa(e[16],e):null}(Zt(),Yt(),t)}const ja=[new ka],Na=new Ea([new ma]),Ma=new Ta(ja),La=function(){return Va(Zt(),Yt())};let Fa=(()=>{class t{}return t.__NG_ELEMENT_ID__=La,t})();const Ua=Fa,Qa=class extends Ua{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Ri(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Ni(e,n,t),new Oa(n)}};function Va(t,e){return 4&t.type?new Qa(e,t,aa(t,e)):null}class Ba{}class qa{}const za=function(){return Ya(Zt(),Yt())};let Ha=(()=>{class t{}return t.__NG_ELEMENT_ID__=za,t})();const Ka=Ha,Wa=class extends Ka{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return aa(this._hostTNode,this._hostLView)}get injector(){return new cn(this._hostTNode,this._hostLView)}get parentInjector(){const t=Xe(this._hostTNode,this._hostLView);if(Qe(t)){const e=Be(t,this._hostLView),n=Ve(t);return new cn(e[1].data[n+8],e)}return new cn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=Ga(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-dt}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(Ba,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(pt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Wa(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,r){const i=dt+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-dt?(e[4]=n[i],yn(n,dt+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,o,i);const s=ii(i,o),a=n[11],c=Zr(a,o[7]);return null!==c&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,si(t,r,n,1,i,o)}(r,o[6],a,n,c,s),t.attachToViewContainerRef(this),yn(Xa(o),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=Ga(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Kr(this._lContainer,e);n&&(_n(Xa(this._lContainer),e),Wr(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Kr(this._lContainer,e);return n&&null!=_n(Xa(this._lContainer),e)?new Oa(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function Ga(t){return t[8]}function Xa(t){return t[8]||(t[8]=[])}function Ya(t,e){let n;const r=e[t.index];if(pt(r))n=r;else{let i;if(8&t.type)i=Mt(r);else{const n=e[11];i=n.createComment("");const r=Ft(t,e);Yr(n,Zr(n,r),i,function(t,e){return jt(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=ro(r,e,i,t),ao(e,n)}return new Wa(n,t,e)}const $a={};class Ja extends oa{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ut(t);return new ec(e,this.ngModule)}}function Za(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const tc=new pn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Nr});class ec extends ra{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(wi).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Za(this.componentDef.inputs)}get outputs(){return Za(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,$a,i);return o!==$a||r===$a?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(la,Nt),s=i.get(fa,null),a=o.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",u=n?function(t,e,n){if(jt(t))return t.selectRootElement(e,n===F.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):zr(o.createRenderer(null,this.componentDef),c,function(t){const e=t.toLowerCase();return"svg"===e?It:"math"===e?"http://www.w3.org/1998/MathML/":null}(c)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:Nr,clean:fo,playerHandler:null,flags:0},d=qi(0,null,null,1,0,null,null,null,null,null),f=Ri(null,d,h,l,null,null,o,a,s,i);let p,g;me(f);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const a=Di(s,20,2,"#host",null),c=a.mergedAttrs=e.hostAttrs;null!==c&&(yo(a,c,!0),null!==t&&(Ne(i,t,c),null!==a.classes&&ui(i,t,a.classes),null!==a.styles&&ci(i,t,a.styles)));const u=r.createRenderer(t,e),l=Ri(n,Bi(e),null,e.onPush?64:16,n[20],a,r,u,null,null);return s.firstCreatePass&&(Ye(Ke(a,n),s,e.type),Yi(s,a),Ji(a,n.length,1)),ao(n,l),n[20]=l}(u,this.componentDef,f,o,a);if(u)if(n)Ne(a,u,["ng-version",ga.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!mi(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Ne(a,u,t),e&&e.length>0&&ui(a,u,e.join(" "))}if(g=Ut(d,ht),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=Zt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Zi(t,r,e,ji(t,e,1,null),n));const i=on(e,t,r.directiveStart,r);jr(i,e);const o=Ft(r,e);return o&&jr(o,e),i}(o,n,e);if(r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries){const t=Zt();e.contentQueries(1,s,t.directiveStart)}const a=Zt();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(ke(a.index),Gi(n[1],a,0,a.directiveStart,a.directiveEnd,e),Xi(e,s)),s}(t,this.componentDef,f,h,[Lo]),Ni(d,f,null)}finally{we()}return new nc(this.componentType,p,aa(g,f),f,g)}}class nc extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new Ia(r),this.componentType=t}get injector(){return new cn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const rc=new Map;class ic extends Ba{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Ja(this);const n=lt(t),r=t[Y]||null;r&&Gs(r),this._bootstrapComponents=Mr(n.bootstrap),this._r3Injector=xo(t,e,[{provide:Ba,useValue:this},{provide:oa,useValue:this.componentFactoryResolver}],b(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Mo.THROW_IF_NOT_FOUND,n=R.Default){return t===Mo||t===Ba||t===_o?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class oc extends qa{constructor(t){super(),this.moduleType=t,null!==lt(t)&&function(t){const e=new Set;!function t(n){const r=lt(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${b(e)} vs ${b(e.name)}`)}(i,rc.get(i),n),rc.set(i,n));const o=Mr(r.imports);for(const s of o)e.has(s)||(e.add(s),t(s))}(t)}(t)}create(t){return new ic(this.moduleType,t)}}function sc(t,e,n){const r=se()+t,i=Yt();return i[r]===Ci?Go(i,r,n?e.call(n):e()):function(t,e){return t[e]}(i,r)}function ac(t,e,n,r){return uc(Yt(),se(),t,e,n,r)}function cc(t,e){const n=t[e];return n===Ci?void 0:n}function uc(t,e,n,r,i,o){const s=e+n;return Xo(t,s,i)?Go(t,s+1,o?r.call(o,i):r(i)):cc(t,s+1)}function lc(t,e){const n=$t();let r;const i=t+ht;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new _t("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=yt(r.type)),s=j(es);try{const t=ze(!1),e=o();return ze(t),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,Yt(),i,e),e}finally{j(s)}}function hc(t,e,n){const r=t+ht,i=Yt(),o=Qt(i,r);return pc(i,fc(i,r)?uc(i,se(),e,o.transform,n,o):o.transform(n))}function dc(t,e,n,r){const i=t+ht,o=Yt(),s=Qt(o,i);return pc(o,fc(o,i)?function(t,e,n,r,i,o,s){const a=e+n;return Yo(t,a,i,o)?Go(t,a+2,s?r.call(s,i,o):r(i,o)):cc(t,a+2)}(o,se(),e,s.transform,n,r,s):s.transform(n,r))}function fc(t,e){return t[1].data[e].pure}function pc(t,e){return Ho.isWrapped(e)&&(e=Ho.unwrap(e),t[ae()]=Ci),e}const gc=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,o=t=>null,s=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(o=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(o=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,o,s);return t instanceof i.a&&t.add(a),a}};function mc(){return this._results[zo()]()}class bc{constructor(){this.dirty=!0,this._results=[],this.changes=new gc,this.length=0;const t=zo(),e=bc.prototype;e[t]||(e[t]=mc)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=bn(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class vc{constructor(t){this.queryList=t,this.matches=null}clone(){return new vc(this.queryList)}setDirty(){this.queryList.setDirty()}}class yc{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new yc(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Nc(t,e).matches&&this.queries[e].setDirty()}}class _c{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class wc{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new wc(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Cc{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Cc(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,kc(e,i)),this.matchTNodeWithReadOption(t,e,rn(e,t,i,!1,!1))}else n===Fa?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,rn(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===ua||r===Ha||r===Fa&&4&e.type)this.addMatch(e.index,-2);else{const n=rn(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function kc(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Pc(t,e,n,r){return-1===n?function(t,e){return 11&t.type?aa(t,e):4&t.type?Va(t,e):null}(e,t):-2===n?function(t,e,n){return n===ua?aa(e,t):n===Fa?Va(e,t):n===Ha?Ya(e,t):void 0}(t,e,r):on(t,t[1],n,e)}function Sc(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:Pc(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function Ec(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=Sc(t,e,i,n);for(let t=0;t<o.length;t+=2){const n=o[t];if(n>0)r.push(s[t/2]);else{const i=o[t+1],s=e[-n];for(let t=dt;t<s.length;t++){const e=s[t];e[17]===e[3]&&Ec(e[1],e,i,r)}if(null!==s[9]){const t=s[9];for(let e=0;e<t.length;e++){const n=t[e];Ec(n[1],n,i,r)}}}}}return r}function Tc(t){const e=Yt(),n=$t(),r=de();fe(r+1);const i=Nc(n,r);if(t.dirty&&qt(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?Ec(n,e,r,[]):Sc(n,e,i,r);t.reset(o),t.notifyOnChanges()}return!0}return!1}function xc(t,e,n){Ic($t(),Yt(),t,e,n,!0)}function Oc(t,e,n){Ic($t(),Yt(),t,e,n,!1)}function Ic(t,e,n,r,i,o){t.firstCreatePass&&(jc(t,new _c(n,r,o,i),-1),o&&(t.staticViewQueries=!0)),Dc(t,e)}function Ac(t,e,n,r){!function(t,e,n,r,i,o,s,a){t.firstCreatePass&&(jc(t,new _c(n,r,false,i),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a)),Dc(t,e)}($t(),Yt(),e,n,r,0,Zt(),t)}function Rc(){return t=Yt(),e=de(),t[19].queries[e].queryList;var t,e}function Dc(t,e){const n=new bc;zi(t,e,n,n.destroy),null===e[19]&&(e[19]=new yc),e[19].queries.push(new vc(n))}function jc(t,e,n){null===t.queries&&(t.queries=new wc),t.queries.track(new Cc(e,n))}function Nc(t,e){return t.queries.getByIndex(e)}function Mc(t=R.Default){const e=Da(!0);if(null!=e||t&R.Optional)return e;kt("ChangeDetectorRef")}const Lc=new pn("Application Initializer");let Fc=(()=>{class t{constructor(t){this.appInits=t,this.resolve=sa,this.reject=sa,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();hs(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(Mn(Lc,8))},t.\u0275prov=k({token:t,factory:t.\u0275fac}),t})();const Uc=new pn("AppId"),Qc={provide:Uc,useFactory:function(){return`${Vc()}${Vc()}${Vc()}`},deps:[]};function Vc(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Bc=new pn("Platform Initializer"),qc=new pn("Platform ID"),zc=new pn("appBootstrapListener");let Hc=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=k({token:t,factory:t.\u0275fac}),t})();const Kc=new pn("LocaleId"),Wc=new pn("DefaultCurrencyCode");class Gc{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Xc=function(t){return new oc(t)},Yc=Xc,$c=function(t){return Promise.resolve(Xc(t))},Jc=function(t){const e=Xc(t),n=Mr(lt(t).declarations).reduce((t,e)=>{const n=ut(e);return n&&t.push(new ec(n)),t},[]);return new Gc(e,n)},Zc=Jc,tu=function(t){return Promise.resolve(Jc(t))};let eu=(()=>{class t{constructor(){this.compileModuleSync=Yc,this.compileModuleAsync=$c,this.compileModuleAndAllComponentsSync=Zc,this.compileModuleAndAllComponentsAsync=tu}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=k({token:t,factory:t.\u0275fac}),t})();const nu=(()=>Promise.resolve(0))();function ru(t){"undefined"==typeof Zone?nu.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class iu{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new gc(!1),this.onMicrotaskEmpty=new gc(!1),this.onStable=new gc(!1),this.onError=new gc(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const n=this;n._nesting=0,n._outer=n._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(n._inner=n._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(n._inner=n._inner.fork(Zone.longStackTraceZoneSpec)),n.shouldCoalesceEventChangeDetection=e,n.lastRequestAnimationFrameId=-1,n.nativeRequestAnimationFrame=function(){let t=q.requestAnimationFrame,e=q.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(q,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,au(t),su(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),au(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,o,s,a)=>{try{return cu(t),n.invokeTask(i,o,s,a)}finally{e&&"eventTask"===o.type&&e(),uu(t)}},onInvoke:(e,n,r,i,o,s,a)=>{try{return cu(t),e.invoke(r,i,o,s,a)}finally{uu(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,au(t),su(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(n)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!iu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(iu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,ou,sa,sa);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const ou={};function su(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function au(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function cu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function uu(t){t._nesting--,su(t)}class lu{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new gc,this.onMicrotaskEmpty=new gc,this.onStable=new gc,this.onError=new gc}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let hu=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{iu.assertNotInAngularZone(),ru(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())ru(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(Mn(iu))},t.\u0275prov=k({token:t,factory:t.\u0275fac}),t})(),du=(()=>{class t{constructor(){this._applications=new Map,mu.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return mu.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=k({token:t,factory:t.\u0275fac}),t})();class fu{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function pu(t){mu=t}let gu,mu=new fu,bu=!0,vu=!1;function yu(){return vu=!0,bu}function _u(){if(vu)throw new Error("Cannot enable prod mode after platform setup.");bu=!1}const wu=new pn("AllowMultipleToken");class Cu{constructor(t,e){this.name=t,this.token=e}}function ku(t,e,n=[]){const r="Platform: "+e,i=new pn(r);return(e=[])=>{let o=Pu();if(!o||o.injector.get(wu,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:Co,useValue:"platform"});!function(t){if(gu&&!gu.destroyed&&!gu.injector.get(wu,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");gu=t.get(Su);const e=t.get(Bc,null);e&&e.forEach(t=>t())}(Mo.create({providers:t,name:r}))}return function(t){const e=Pu();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Pu(){return gu&&!gu.destroyed?gu:null}let Su=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new lu:("zone.js"===t?void 0:t)||new iu({enableLongStackTrace:yu(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:iu,useValue:n}];return n.run(()=>{const e=Mo.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(Dr,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{o.handleError(t)}});i.onDestroy(()=>{xu(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return hs(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(Fc);return t.runInitializers(),t.donePromise.then(()=>(Gs(i.injector.get(Kc,Ks)||Ks),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=Eu({},e);return function(t,e,n){const r=new oc(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Tu);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${b(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(Mn(Mo))},t.\u0275prov=k({token:t,factory:t.\u0275fac}),t})();function Eu(t,e){return Array.isArray(e)?e.reduce(Eu,t):Object.assign(Object.assign({},t),e)}let Tu=(()=>{class t{constructor(t,e,n,r,i,a){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const u=new o.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new o.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{iu.assertNotInAngularZone(),ru(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{iu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(s.a)(u,l.pipe(t=>{return c()((e=p,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,d);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof ra?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(Ba),i=n.create(Mo.NULL,[],e||n.selector,r),o=i.location.nativeElement,s=i.injector.get(hu,null),a=s&&i.injector.get(du);return s&&a&&a.registerApplication(o,s),i.onDestroy(()=>{this.detachView(i.hostView),xu(this.components,i),a&&a.unregisterApplication(o)}),this._loadComponent(i),yu()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;xu(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(zc,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(Mn(iu),Mn(Hc),Mn(Mo),Mn(Dr),Mn(oa),Mn(Fc))},t.\u0275prov=k({token:t,factory:t.\u0275fac}),t})();function xu(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Ou{}class Iu{}const Au={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Ru=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||Au}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>Du(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Du(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(Mn(eu),Mn(Iu,8))},t.\u0275prov=k({token:t,factory:t.\u0275fac}),t})();function Du(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const ju=function(t){return null},Nu=ku(null,"core",[{provide:qc,useValue:"unknown"},{provide:Su,deps:[Mo]},{provide:du,deps:[]},{provide:Hc,deps:[]}]),Mu=[{provide:Tu,useClass:Tu,deps:[iu,Hc,Mo,Dr,oa,Fc]},{provide:tc,deps:[iu],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Fc,useClass:Fc,deps:[[new En,Lc]]},{provide:eu,useClass:eu,deps:[]},Qc,{provide:Ea,useFactory:function(){return Na},deps:[]},{provide:Ta,useFactory:function(){return Ma},deps:[]},{provide:Kc,useFactory:function(t){return Gs(t=t||"undefined"!=typeof $localize&&$localize.locale||Ks),t},deps:[[new Sn(Kc),new En,new xn]]},{provide:Wc,useValue:"USD"}];let Lu=(()=>{class t{constructor(t){}}return t.\u0275mod=it({type:t}),t.\u0275inj=P({factory:function(e){return new(e||t)(Mn(Tu))},providers:Mu}),t})()},g5Dd:function(t,e){!function(t){"use strict";e.encode=function(e){var n,r=new Uint8Array(e),i=r.length,o="";for(n=0;n<i;n+=3)o+=t[r[n]>>2],o+=t[(3&r[n])<<4|r[n+1]>>4],o+=t[(15&r[n+1])<<2|r[n+2]>>6],o+=t[63&r[n+2]];return i%3==2?o=o.substring(0,o.length-1)+"=":i%3==1&&(o=o.substring(0,o.length-2)+"=="),o},e.decode=function(e){var n,r,i,o,s,a=.75*e.length,c=e.length,u=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var l=new ArrayBuffer(a),h=new Uint8Array(l);for(n=0;n<c;n+=4)r=t.indexOf(e[n]),i=t.indexOf(e[n+1]),o=t.indexOf(e[n+2]),s=t.indexOf(e[n+3]),h[u++]=r<<2|i>>4,h[u++]=(15&i)<<4|o>>2,h[u++]=(3&o)<<6|63&s;return l}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("2fFW"),i=n("NJ4a");const o={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},ipDq:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hasBinary=e.isBinary=void 0;const r="function"==typeof ArrayBuffer,i=Object.prototype.toString,o="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===i.call(Blob),s="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===i.call(File);function a(t){return r&&(t instanceof ArrayBuffer||(t=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer)(t))||o&&t instanceof Blob||s&&t instanceof File}e.isBinary=a,e.hasBinary=function t(e,n){if(!e||"object"!=typeof e)return!1;if(Array.isArray(e)){for(let n=0,r=e.length;n<r;n++)if(t(e[n]))return!0;return!1}if(a(e))return!0;if(e.toJSON&&"function"==typeof e.toJSON&&1===arguments.length)return t(e.toJSON(),!0);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return!0;return!1}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a(n=>{const r=new i.a;let o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},jifJ:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Socket=e.io=e.Manager=e.protocol=void 0;const r=n("f7yz"),i=n("PVQj"),o=n("eFEk");Object.defineProperty(e,"Socket",{enumerable:!0,get:function(){return o.Socket}});const s=n("x7D4")("socket.io-client");t.exports=e=c;const a=e.managers={};function c(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};const n=r.url(t),o=n.source,c=n.id;let u;return e.forceNew||e["force new connection"]||!1===e.multiplex||a[c]&&n.path in a[c].nsps?(s("ignoring socket cache for %s",o),u=new i.Manager(o,e)):(a[c]||(s("new io instance for %s",o),a[c]=new i.Manager(o,e)),u=a[c]),n.query&&!e.query&&(e.query=n.query),u.socket(n.path,e)}e.io=c;var u=n("Tgil");Object.defineProperty(e,"protocol",{enumerable:!0,get:function(){return u.protocol}}),e.connect=c;var l=n("PVQj");Object.defineProperty(e,"Manager",{enumerable:!0,get:function(){return l.Manager}})},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},lKxJ:function(t,e,n){const r=n("2pII");t.exports=(t,e)=>new r(t,e),t.exports.Socket=r,t.exports.protocol=r.protocol,t.exports.Transport=n("Gbct"),t.exports.transports=n("akSB"),t.exports.parser=n("Fyy9")},mCNh:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n("SpAZ");function i(...t){return o(t)}function o(t){return 0===t.length?r.a:1===t.length?t[0]:function(e){return t.reduce((t,e)=>e(t),e)}}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},nbvr:function(t,e,n){!function(t){"use strict";function e(t){return Array.prototype.slice.call(t)}function n(t){return new Promise(function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function r(t,e,r){var i,o=new Promise(function(o,s){n(i=t[e].apply(t,r)).then(o,s)});return o.request=i,o}function i(t,e,n){var i=r(t,e,n);return i.then(function(t){if(t)return new l(t,i.request)})}function o(t,e,n){n.forEach(function(n){Object.defineProperty(t.prototype,n,{get:function(){return this[e][n]},set:function(t){this[e][n]=t}})})}function s(t,e,n,i){i.forEach(function(i){i in n.prototype&&(t.prototype[i]=function(){return r(this[e],i,arguments)})})}function a(t,e,n,r){r.forEach(function(r){r in n.prototype&&(t.prototype[r]=function(){return this[e][r].apply(this[e],arguments)})})}function c(t,e,n,r){r.forEach(function(r){r in n.prototype&&(t.prototype[r]=function(){return i(this[e],r,arguments)})})}function u(t){this._index=t}function l(t,e){this._cursor=t,this._request=e}function h(t){this._store=t}function d(t){this._tx=t,this.complete=new Promise(function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}})}function f(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new d(n)}function p(t){this._db=t}o(u,"_index",["name","keyPath","multiEntry","unique"]),s(u,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),c(u,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(l,"_cursor",["direction","key","primaryKey","value"]),s(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(t){t in IDBCursor.prototype&&(l.prototype[t]=function(){var e=this,r=arguments;return Promise.resolve().then(function(){return e._cursor[t].apply(e._cursor,r),n(e._request).then(function(t){if(t)return new l(t,e._request)})})})}),h.prototype.createIndex=function(){return new u(this._store.createIndex.apply(this._store,arguments))},h.prototype.index=function(){return new u(this._store.index.apply(this._store,arguments))},o(h,"_store",["name","keyPath","indexNames","autoIncrement"]),s(h,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),c(h,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),a(h,"_store",IDBObjectStore,["deleteIndex"]),d.prototype.objectStore=function(){return new h(this._tx.objectStore.apply(this._tx,arguments))},o(d,"_tx",["objectStoreNames","mode"]),a(d,"_tx",IDBTransaction,["abort"]),f.prototype.createObjectStore=function(){return new h(this._db.createObjectStore.apply(this._db,arguments))},o(f,"_db",["name","version","objectStoreNames"]),a(f,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new d(this._db.transaction.apply(this._db,arguments))},o(p,"_db",["name","version","objectStoreNames"]),a(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(t){[h,u].forEach(function(n){t in n.prototype&&(n.prototype[t.replace("open","iterate")]=function(){var n=e(arguments),r=n[n.length-1],i=this._store||this._index,o=i[t].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})})}),[u,h].forEach(function(t){t.prototype.getAll||(t.prototype.getAll=function(t,e){var n=this,r=[];return new Promise(function(i){n.iterateCursor(t,function(t){t?(r.push(t.value),void 0===e||r.length!=e?t.continue():i(r)):i(r)})})})}),t.openDb=function(t,e,n){var i=r(indexedDB,"open",[t,e]),o=i.request;return o&&(o.onupgradeneeded=function(t){n&&n(new f(o.result,t.oldVersion,o.transaction))}),i.then(function(t){return new p(t)})},t.deleteDb=function(t){return r(indexedDB,"deleteDatabase",[t])},Object.defineProperty(t,"__esModule",{value:!0})}(e)},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},oLy0:function(t,e,n){parcelRequire=function(e,r,i,o){var s,a="function"==typeof parcelRequire&&parcelRequire;function c(t,i){if(!r[t]){if(!e[t]){var o="function"==typeof parcelRequire&&parcelRequire;if(!i&&o)return o(t,!0);if(a)return a(t,!0);if("string"==typeof t)return n("XhEF")(t);var s=new Error("Cannot find module '"+t+"'");throw s.code="MODULE_NOT_FOUND",s}l.resolve=function(n){return e[t][1][n]||n},l.cache={};var u=r[t]=new c.Module(t);e[t][0].call(u.exports,l,u,u.exports,this)}return r[t].exports;function l(t){return c(l.resolve(t))}}c.isParcelRequire=!0,c.Module=function(t){this.id=t,this.bundle=c,this.exports={}},c.modules=e,c.cache=r,c.parent=a,c.register=function(t,n){e[t]=[function(t,e){e.exports=n},{}]};for(var u=0;u<i.length;u++)try{c(i[u])}catch(e){s||(s=e)}if(i.length){var l=c(i[i.length-1]);t.exports=l}if(parcelRequire=c,s)throw s;return c}({EgBh:[function(t,e,n){var r={};r.useBlobBuilder=function(){try{return new Blob([]),!1}catch(r){return!0}}(),r.useArrayBufferView=!r.useBlobBuilder&&function(){try{return 0===new Blob([new Uint8Array([])]).size}catch(r){return!0}}(),e.exports.binaryFeatures=r;var i=e.exports.BlobBuilder;function o(){this._pieces=[],this._parts=[]}"undefined"!=typeof window&&(i=e.exports.BlobBuilder=window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder||window.BlobBuilder),o.prototype.append=function(t){"number"==typeof t?this._pieces.push(t):(this.flush(),this._parts.push(t))},o.prototype.flush=function(){if(this._pieces.length>0){var t=new Uint8Array(this._pieces);r.useArrayBufferView||(t=t.buffer),this._parts.push(t),this._pieces=[]}},o.prototype.getBuffer=function(){if(this.flush(),r.useBlobBuilder){for(var t=new i,e=0,n=this._parts.length;e<n;e++)t.append(this._parts[e]);return t.getBlob()}return new Blob(this._parts)},e.exports.BufferBuilder=o},{}],kdPp:[function(t,e,n){var r=t("./bufferbuilder").BufferBuilder,i=t("./bufferbuilder").binaryFeatures;function o(t){this.index=0,this.dataBuffer=t,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}function s(){this.bufferBuilder=new r}function a(t){var e=t.charCodeAt(0);return e<=2047?"00":e<=65535?"000":e<=2097151?"0000":e<=67108863?"00000":"000000"}e.exports={unpack:function(t){return new o(t).unpack()},pack:function(t){var e=new s;return e.pack(t),e.getBuffer()}},o.prototype.unpack=function(){var t,e=this.unpack_uint8();if(e<128)return e;if((224^e)<32)return(224^e)-32;if((t=160^e)<=15)return this.unpack_raw(t);if((t=176^e)<=15)return this.unpack_string(t);if((t=144^e)<=15)return this.unpack_array(t);if((t=128^e)<=15)return this.unpack_map(t);switch(e){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:case 213:case 214:case 215:return;case 216:return t=this.unpack_uint16(),this.unpack_string(t);case 217:return t=this.unpack_uint32(),this.unpack_string(t);case 218:return t=this.unpack_uint16(),this.unpack_raw(t);case 219:return t=this.unpack_uint32(),this.unpack_raw(t);case 220:return t=this.unpack_uint16(),this.unpack_array(t);case 221:return t=this.unpack_uint32(),this.unpack_array(t);case 222:return t=this.unpack_uint16(),this.unpack_map(t);case 223:return t=this.unpack_uint32(),this.unpack_map(t)}},o.prototype.unpack_uint8=function(){var t=255&this.dataView[this.index];return this.index++,t},o.prototype.unpack_uint16=function(){var t=this.read(2),e=256*(255&t[0])+(255&t[1]);return this.index+=2,e},o.prototype.unpack_uint32=function(){var t=this.read(4),e=256*(256*(256*t[0]+t[1])+t[2])+t[3];return this.index+=4,e},o.prototype.unpack_uint64=function(){var t=this.read(8),e=256*(256*(256*(256*(256*(256*(256*t[0]+t[1])+t[2])+t[3])+t[4])+t[5])+t[6])+t[7];return this.index+=8,e},o.prototype.unpack_int8=function(){var t=this.unpack_uint8();return t<128?t:t-256},o.prototype.unpack_int16=function(){var t=this.unpack_uint16();return t<32768?t:t-65536},o.prototype.unpack_int32=function(){var t=this.unpack_uint32();return t<Math.pow(2,31)?t:t-Math.pow(2,32)},o.prototype.unpack_int64=function(){var t=this.unpack_uint64();return t<Math.pow(2,63)?t:t-Math.pow(2,64)},o.prototype.unpack_raw=function(t){if(this.length<this.index+t)throw new Error("BinaryPackFailure: index is out of range "+this.index+" "+t+" "+this.length);var e=this.dataBuffer.slice(this.index,this.index+t);return this.index+=t,e},o.prototype.unpack_string=function(t){for(var e,n,r=this.read(t),i=0,o="";i<t;)(e=r[i])<128?(o+=String.fromCharCode(e),i++):(192^e)<32?(n=(192^e)<<6|63&r[i+1],o+=String.fromCharCode(n),i+=2):(n=(15&e)<<12|(63&r[i+1])<<6|63&r[i+2],o+=String.fromCharCode(n),i+=3);return this.index+=t,o},o.prototype.unpack_array=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=this.unpack();return e},o.prototype.unpack_map=function(t){for(var e={},n=0;n<t;n++){var r=this.unpack(),i=this.unpack();e[r]=i}return e},o.prototype.unpack_float=function(){var t=this.unpack_uint32();return(0==t>>31?1:-1)*(8388607&t|8388608)*Math.pow(2,(t>>23&255)-127-23)},o.prototype.unpack_double=function(){var t=this.unpack_uint32(),e=this.unpack_uint32(),n=(t>>20&2047)-1023;return(0==t>>31?1:-1)*((1048575&t|1048576)*Math.pow(2,n-20)+e*Math.pow(2,n-52))},o.prototype.read=function(t){var e=this.index;if(e+t<=this.length)return this.dataView.subarray(e,e+t);throw new Error("BinaryPackFailure: read index out of range")},s.prototype.getBuffer=function(){return this.bufferBuilder.getBuffer()},s.prototype.pack=function(t){var e=typeof t;if("string"===e)this.pack_string(t);else if("number"===e)Math.floor(t)===t?this.pack_integer(t):this.pack_double(t);else if("boolean"===e)!0===t?this.bufferBuilder.append(195):!1===t&&this.bufferBuilder.append(194);else if("undefined"===e)this.bufferBuilder.append(192);else{if("object"!==e)throw new Error('Type "'+e+'" not yet supported');if(null===t)this.bufferBuilder.append(192);else{var n=t.constructor;if(n==Array)this.pack_array(t);else if(n==Blob||n==File||t instanceof Blob||t instanceof File)this.pack_bin(t);else if(n==ArrayBuffer)this.pack_bin(i.useArrayBufferView?new Uint8Array(t):t);else if("BYTES_PER_ELEMENT"in t)this.pack_bin(i.useArrayBufferView?new Uint8Array(t.buffer):t.buffer);else if(n==Object||n.toString().startsWith("class"))this.pack_object(t);else if(n==Date)this.pack_string(t.toString());else{if("function"!=typeof t.toBinaryPack)throw new Error('Type "'+n.toString()+'" not yet supported');this.bufferBuilder.append(t.toBinaryPack())}}}this.bufferBuilder.flush()},s.prototype.pack_bin=function(t){var e=t.length||t.byteLength||t.size;if(e<=15)this.pack_uint8(160+e);else if(e<=65535)this.bufferBuilder.append(218),this.pack_uint16(e);else{if(!(e<=4294967295))throw new Error("Invalid length");this.bufferBuilder.append(219),this.pack_uint32(e)}this.bufferBuilder.append(t)},s.prototype.pack_string=function(t){var e=function(t){return t.length>600?new Blob([t]).size:t.replace(/[^\u0000-\u007F]/g,a).length}(t);if(e<=15)this.pack_uint8(176+e);else if(e<=65535)this.bufferBuilder.append(216),this.pack_uint16(e);else{if(!(e<=4294967295))throw new Error("Invalid length");this.bufferBuilder.append(217),this.pack_uint32(e)}this.bufferBuilder.append(t)},s.prototype.pack_array=function(t){var e=t.length;if(e<=15)this.pack_uint8(144+e);else if(e<=65535)this.bufferBuilder.append(220),this.pack_uint16(e);else{if(!(e<=4294967295))throw new Error("Invalid length");this.bufferBuilder.append(221),this.pack_uint32(e)}for(var n=0;n<e;n++)this.pack(t[n])},s.prototype.pack_integer=function(t){if(t>=-32&&t<=127)this.bufferBuilder.append(255&t);else if(t>=0&&t<=255)this.bufferBuilder.append(204),this.pack_uint8(t);else if(t>=-128&&t<=127)this.bufferBuilder.append(208),this.pack_int8(t);else if(t>=0&&t<=65535)this.bufferBuilder.append(205),this.pack_uint16(t);else if(t>=-32768&&t<=32767)this.bufferBuilder.append(209),this.pack_int16(t);else if(t>=0&&t<=4294967295)this.bufferBuilder.append(206),this.pack_uint32(t);else if(t>=-2147483648&&t<=2147483647)this.bufferBuilder.append(210),this.pack_int32(t);else if(t>=-0x8000000000000000&&t<=0x8000000000000000)this.bufferBuilder.append(211),this.pack_int64(t);else{if(!(t>=0&&t<=0x10000000000000000))throw new Error("Invalid integer");this.bufferBuilder.append(207),this.pack_uint64(t)}},s.prototype.pack_double=function(t){var e=0;t<0&&(e=1,t=-t);var n=Math.floor(Math.log(t)/Math.LN2),r=t/Math.pow(2,n)-1,i=Math.floor(r*Math.pow(2,52)),o=Math.pow(2,32),s=e<<31|n+1023<<20|i/o&1048575,a=i%o;this.bufferBuilder.append(203),this.pack_int32(s),this.pack_int32(a)},s.prototype.pack_object=function(t){var e=Object.keys(t).length;if(e<=15)this.pack_uint8(128+e);else if(e<=65535)this.bufferBuilder.append(222),this.pack_uint16(e);else{if(!(e<=4294967295))throw new Error("Invalid length");this.bufferBuilder.append(223),this.pack_uint32(e)}for(var n in t)t.hasOwnProperty(n)&&(this.pack(n),this.pack(t[n]))},s.prototype.pack_uint8=function(t){this.bufferBuilder.append(t)},s.prototype.pack_uint16=function(t){this.bufferBuilder.append(t>>8),this.bufferBuilder.append(255&t)},s.prototype.pack_uint32=function(t){var e=4294967295&t;this.bufferBuilder.append((4278190080&e)>>>24),this.bufferBuilder.append((16711680&e)>>>16),this.bufferBuilder.append((65280&e)>>>8),this.bufferBuilder.append(255&e)},s.prototype.pack_uint64=function(t){var e=t/Math.pow(2,32),n=t%Math.pow(2,32);this.bufferBuilder.append((4278190080&e)>>>24),this.bufferBuilder.append((16711680&e)>>>16),this.bufferBuilder.append((65280&e)>>>8),this.bufferBuilder.append(255&e),this.bufferBuilder.append((4278190080&n)>>>24),this.bufferBuilder.append((16711680&n)>>>16),this.bufferBuilder.append((65280&n)>>>8),this.bufferBuilder.append(255&n)},s.prototype.pack_int8=function(t){this.bufferBuilder.append(255&t)},s.prototype.pack_int16=function(t){this.bufferBuilder.append((65280&t)>>8),this.bufferBuilder.append(255&t)},s.prototype.pack_int32=function(t){this.bufferBuilder.append(t>>>24&255),this.bufferBuilder.append((16711680&t)>>>16),this.bufferBuilder.append((65280&t)>>>8),this.bufferBuilder.append(255&t)},s.prototype.pack_int64=function(t){var e=Math.floor(t/Math.pow(2,32)),n=t%Math.pow(2,32);this.bufferBuilder.append((4278190080&e)>>>24),this.bufferBuilder.append((16711680&e)>>>16),this.bufferBuilder.append((65280&e)>>>8),this.bufferBuilder.append(255&e),this.bufferBuilder.append((4278190080&n)>>>24),this.bufferBuilder.append((16711680&n)>>>16),this.bufferBuilder.append((65280&n)>>>8),this.bufferBuilder.append(255&n)}},{"./bufferbuilder":"EgBh"}],iSxC:[function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.extractVersion=s,n.wrapPeerConnectionEvent=function(t,e,n){if(t.RTCPeerConnection){var r=t.RTCPeerConnection.prototype,i=r.addEventListener;r.addEventListener=function(t,r){if(t!==e)return i.apply(this,arguments);var o=function(t){var e=n(t);e&&r(e)};return this._eventMap=this._eventMap||{},this._eventMap[r]=o,i.apply(this,[t,o])};var o=r.removeEventListener;r.removeEventListener=function(t,n){if(t!==e||!this._eventMap||!this._eventMap[n])return o.apply(this,arguments);var r=this._eventMap[n];return delete this._eventMap[n],o.apply(this,[t,r])},Object.defineProperty(r,"on"+e,{get:function(){return this["_on"+e]},set:function(t){this["_on"+e]&&(this.removeEventListener(e,this["_on"+e]),delete this["_on"+e]),t&&this.addEventListener(e,this["_on"+e]=t)},enumerable:!0,configurable:!0})}},n.disableLog=function(t){return"boolean"!=typeof t?new Error("Argument type: "+r(t)+". Please use a boolean."):(i=t,t?"adapter.js logging disabled":"adapter.js logging enabled")},n.disableWarnings=function(t){return"boolean"!=typeof t?new Error("Argument type: "+r(t)+". Please use a boolean."):(o=!t,"adapter.js deprecation warnings "+(t?"disabled":"enabled"))},n.log=function(){if("object"===("undefined"==typeof window?"undefined":r(window))){if(i)return;"undefined"!=typeof console&&"function"==typeof console.log&&console.log.apply(console,arguments)}},n.deprecated=function(t,e){o&&console.warn(t+" is deprecated, please use "+e+" instead.")},n.detectBrowser=function(t){var{navigator:e}=t,n={browser:null,version:null};if(void 0===t||!t.navigator)return n.browser="Not a browser.",n;if(e.mozGetUserMedia)n.browser="firefox",n.version=s(e.userAgent,/Firefox\/(\d+)\./,1);else if(e.webkitGetUserMedia||!1===t.isSecureContext&&t.webkitRTCPeerConnection&&!t.RTCIceGatherer)n.browser="chrome",n.version=s(e.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(e.mediaDevices&&e.userAgent.match(/Edge\/(\d+).(\d+)$/))n.browser="edge",n.version=s(e.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!t.RTCPeerConnection||!e.userAgent.match(/AppleWebKit\/(\d+)\./))return n.browser="Not a supported browser.",n;n.browser="safari",n.version=s(e.userAgent,/AppleWebKit\/(\d+)\./,1),n.supportsUnifiedPlan=t.RTCRtpTransceiver&&"currentDirection"in t.RTCRtpTransceiver.prototype}return n},n.compactObject=function t(e){return a(e)?Object.keys(e).reduce(function(n,r){var i=a(e[r]),o=i?t(e[r]):e[r],s=i&&!Object.keys(o).length;return void 0===o||s?n:Object.assign(n,function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},r,o))},{}):e},n.walkStats=c,n.filterStats=function(t,e,n){var r=n?"outbound-rtp":"inbound-rtp",i=new Map;if(null===e)return i;var o=[];return t.forEach(function(t){"track"===t.type&&t.trackIdentifier===e.id&&o.push(t)}),o.forEach(function(e){t.forEach(function(n){n.type===r&&n.trackId===e.id&&c(t,n,i)})}),i};var i=!0,o=!0;function s(t,e,n){var r=t.match(e);return r&&r.length>=n&&parseInt(r[n],10)}function a(t){return"[object Object]"===Object.prototype.toString.call(t)}function c(t,e,n){e&&!n.has(e.id)&&(n.set(e.id,e),Object.keys(e).forEach(function(r){r.endsWith("Id")?c(t,t.get(e[r]),n):r.endsWith("Ids")&&e[r].forEach(function(e){c(t,t.get(e),n)})}))}},{}],s6SN:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.shimGetUserMedia=function(t){var e=t&&t.navigator;if(e.mediaDevices){var n=r.detectBrowser(t),i=function(t){if("object"!==o(t)||t.mandatory||t.optional)return t;var e={};return Object.keys(t).forEach(function(n){if("require"!==n&&"advanced"!==n&&"mediaSource"!==n){var r="object"===o(t[n])?t[n]:{ideal:t[n]};void 0!==r.exact&&"number"==typeof r.exact&&(r.min=r.max=r.exact);var i=function(t,e){return t?t+e.charAt(0).toUpperCase()+e.slice(1):"deviceId"===e?"sourceId":e};if(void 0!==r.ideal){e.optional=e.optional||[];var s={};"number"==typeof r.ideal?(s[i("min",n)]=r.ideal,e.optional.push(s),(s={})[i("max",n)]=r.ideal,e.optional.push(s)):(s[i("",n)]=r.ideal,e.optional.push(s))}void 0!==r.exact&&"number"!=typeof r.exact?(e.mandatory=e.mandatory||{},e.mandatory[i("",n)]=r.exact):["min","max"].forEach(function(t){void 0!==r[t]&&(e.mandatory=e.mandatory||{},e.mandatory[i(t,n)]=r[t])})}}),t.advanced&&(e.optional=(e.optional||[]).concat(t.advanced)),e},a=function(t,r){if(n.version>=61)return r(t);if((t=JSON.parse(JSON.stringify(t)))&&"object"===o(t.audio)){var a=function(t,e,n){e in t&&!(n in t)&&(t[n]=t[e],delete t[e])};a((t=JSON.parse(JSON.stringify(t))).audio,"autoGainControl","googAutoGainControl"),a(t.audio,"noiseSuppression","googNoiseSuppression"),t.audio=i(t.audio)}if(t&&"object"===o(t.video)){var c=t.video.facingMode;c=c&&("object"===o(c)?c:{ideal:c});var u,l=n.version<66;if(c&&("user"===c.exact||"environment"===c.exact||"user"===c.ideal||"environment"===c.ideal)&&(!e.mediaDevices.getSupportedConstraints||!e.mediaDevices.getSupportedConstraints().facingMode||l)&&(delete t.video.facingMode,"environment"===c.exact||"environment"===c.ideal?u=["back","rear"]:"user"!==c.exact&&"user"!==c.ideal||(u=["front"]),u))return e.mediaDevices.enumerateDevices().then(function(e){var n=(e=e.filter(function(t){return"videoinput"===t.kind})).find(function(t){return u.some(function(e){return t.label.toLowerCase().includes(e)})});return!n&&e.length&&u.includes("back")&&(n=e[e.length-1]),n&&(t.video.deviceId=c.exact?{exact:n.deviceId}:{ideal:n.deviceId}),t.video=i(t.video),s("chrome: "+JSON.stringify(t)),r(t)});t.video=i(t.video)}return s("chrome: "+JSON.stringify(t)),r(t)},c=function(t){return n.version>=64?t:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[t.name]||t.name,message:t.message,constraint:t.constraint||t.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}};if(e.getUserMedia=(function(t,n,r){a(t,function(t){e.webkitGetUserMedia(t,n,function(t){r&&r(c(t))})})}).bind(e),e.mediaDevices.getUserMedia){var u=e.mediaDevices.getUserMedia.bind(e.mediaDevices);e.mediaDevices.getUserMedia=function(t){return a(t,function(t){return u(t).then(function(e){if(t.audio&&!e.getAudioTracks().length||t.video&&!e.getVideoTracks().length)throw e.getTracks().forEach(function(t){t.stop()}),new DOMException("","NotFoundError");return e},function(t){return Promise.reject(c(t))})})}}}};var r=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=i();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var s=r?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}(t("../utils.js"));function i(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return i=function(){return t},t}function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var s=r.log},{"../utils.js":"iSxC"}],VHa8:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.shimGetDisplayMedia=function(t,e){t.navigator.mediaDevices&&"getDisplayMedia"in t.navigator.mediaDevices||t.navigator.mediaDevices&&("function"==typeof e?t.navigator.mediaDevices.getDisplayMedia=function(n){return e(n).then(function(e){var r=n.video&&n.video.width,i=n.video&&n.video.height;return n.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:e,maxFrameRate:n.video&&n.video.frameRate||3}},r&&(n.video.mandatory.maxWidth=r),i&&(n.video.mandatory.maxHeight=i),t.navigator.mediaDevices.getUserMedia(n)})}:console.error("shimGetDisplayMedia: getSourceId argument is not a function"))}},{}],uI5X:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.shimMediaStream=function(t){t.MediaStream=t.MediaStream||t.webkitMediaStream},n.shimOnTrack=function(t){if("object"!==c(t)||!t.RTCPeerConnection||"ontrack"in t.RTCPeerConnection.prototype)r.wrapPeerConnectionEvent(t,"track",function(t){return t.transceiver||Object.defineProperty(t,"transceiver",{value:{receiver:t.receiver}}),t});else{Object.defineProperty(t.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(t){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=t)},enumerable:!0,configurable:!0});var e=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){var n=this;return this._ontrackpoly||(this._ontrackpoly=function(e){e.stream.addEventListener("addtrack",function(r){var i;i=t.RTCPeerConnection.prototype.getReceivers?n.getReceivers().find(function(t){return t.track&&t.track.id===r.track.id}):{track:r.track};var o=new Event("track");o.track=r.track,o.receiver=i,o.transceiver={receiver:i},o.streams=[e.stream],n.dispatchEvent(o)}),e.stream.getTracks().forEach(function(r){var i;i=t.RTCPeerConnection.prototype.getReceivers?n.getReceivers().find(function(t){return t.track&&t.track.id===r.id}):{track:r};var o=new Event("track");o.track=r,o.receiver=i,o.transceiver={receiver:i},o.streams=[e.stream],n.dispatchEvent(o)})},this.addEventListener("addstream",this._ontrackpoly)),e.apply(this,arguments)}}},n.shimGetSendersWithDtmf=function(t){if("object"===c(t)&&t.RTCPeerConnection&&!("getSenders"in t.RTCPeerConnection.prototype)&&"createDTMFSender"in t.RTCPeerConnection.prototype){var e=function(t,e){return{track:e,get dtmf(){return void 0===this._dtmf&&(this._dtmf="audio"===e.kind?t.createDTMFSender(e):null),this._dtmf},_pc:t}};if(!t.RTCPeerConnection.prototype.getSenders){t.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};var n=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(t,r){var i=n.apply(this,arguments);return i||(i=e(this,t),this._senders.push(i)),i};var r=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(t){r.apply(this,arguments);var e=this._senders.indexOf(t);-1!==e&&this._senders.splice(e,1)}}var i=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(t){var n=this;this._senders=this._senders||[],i.apply(this,[t]),t.getTracks().forEach(function(t){n._senders.push(e(n,t))})};var o=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(t){var e=this;this._senders=this._senders||[],o.apply(this,[t]),t.getTracks().forEach(function(t){var n=e._senders.find(function(e){return e.track===t});n&&e._senders.splice(e._senders.indexOf(n),1)})}}else if("object"===c(t)&&t.RTCPeerConnection&&"getSenders"in t.RTCPeerConnection.prototype&&"createDTMFSender"in t.RTCPeerConnection.prototype&&t.RTCRtpSender&&!("dtmf"in t.RTCRtpSender.prototype)){var s=t.RTCPeerConnection.prototype.getSenders;t.RTCPeerConnection.prototype.getSenders=function(){var t=this,e=s.apply(this,[]);return e.forEach(function(e){return e._pc=t}),e},Object.defineProperty(t.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&(this._dtmf="audio"===this.track.kind?this._pc.createDTMFSender(this.track):null),this._dtmf}})}},n.shimGetStats=function(t){if(t.RTCPeerConnection){var e=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){var t=this,[n,r,i]=arguments;if(arguments.length>0&&"function"==typeof n)return e.apply(this,arguments);if(0===e.length&&(0===arguments.length||"function"!=typeof n))return e.apply(this,[]);var o=function(t){var e={};return t.result().forEach(function(t){var n={id:t.id,timestamp:t.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[t.type]||t.type};t.names().forEach(function(e){n[e]=t.stat(e)}),e[n.id]=n}),e},s=function(t){return new Map(Object.keys(t).map(function(e){return[e,t[e]]}))};return arguments.length>=2?e.apply(this,[function(t){r(s(o(t)))},n]):new Promise(function(n,r){e.apply(t,[function(t){n(s(o(t)))},r])}).then(r,i)}}},n.shimSenderReceiverGetStats=function(t){if("object"===c(t)&&t.RTCPeerConnection&&t.RTCRtpSender&&t.RTCRtpReceiver){if(!("getStats"in t.RTCRtpSender.prototype)){var e=t.RTCPeerConnection.prototype.getSenders;e&&(t.RTCPeerConnection.prototype.getSenders=function(){var t=this,n=e.apply(this,[]);return n.forEach(function(e){return e._pc=t}),n});var n=t.RTCPeerConnection.prototype.addTrack;n&&(t.RTCPeerConnection.prototype.addTrack=function(){var t=n.apply(this,arguments);return t._pc=this,t}),t.RTCRtpSender.prototype.getStats=function(){var t=this;return this._pc.getStats().then(function(e){return r.filterStats(e,t.track,!0)})}}if(!("getStats"in t.RTCRtpReceiver.prototype)){var i=t.RTCPeerConnection.prototype.getReceivers;i&&(t.RTCPeerConnection.prototype.getReceivers=function(){var t=this,e=i.apply(this,[]);return e.forEach(function(e){return e._pc=t}),e}),r.wrapPeerConnectionEvent(t,"track",function(t){return t.receiver._pc=t.srcElement,t}),t.RTCRtpReceiver.prototype.getStats=function(){var t=this;return this._pc.getStats().then(function(e){return r.filterStats(e,t.track,!1)})}}if("getStats"in t.RTCRtpSender.prototype&&"getStats"in t.RTCRtpReceiver.prototype){var o=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof t.MediaStreamTrack){var e,n,r,i=arguments[0];return this.getSenders().forEach(function(t){t.track===i&&(e?r=!0:e=t)}),this.getReceivers().forEach(function(t){return t.track===i&&(n?r=!0:n=t),t.track===i}),r||e&&n?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):e?e.getStats():n?n.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return o.apply(this,arguments)}}}},n.shimAddTrackRemoveTrackWithNative=u,n.shimAddTrackRemoveTrack=function(t){if(t.RTCPeerConnection){var e=r.detectBrowser(t);if(t.RTCPeerConnection.prototype.addTrack&&e.version>=65)return u(t);var n=t.RTCPeerConnection.prototype.getLocalStreams;t.RTCPeerConnection.prototype.getLocalStreams=function(){var t=this,e=n.apply(this);return this._reverseStreams=this._reverseStreams||{},e.map(function(e){return t._reverseStreams[e.id]})};var i=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(e){var n=this;if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},e.getTracks().forEach(function(t){if(n.getSenders().find(function(e){return e.track===t}))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[e.id]){var r=new t.MediaStream(e.getTracks());this._streams[e.id]=r,this._reverseStreams[r.id]=e,e=r}i.apply(this,[e])};var o=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(t){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},o.apply(this,[this._streams[t.id]||t]),delete this._reverseStreams[this._streams[t.id]?this._streams[t.id].id:t.id],delete this._streams[t.id]},t.RTCPeerConnection.prototype.addTrack=function(e,n){var r=this;if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");var i=[].slice.call(arguments,1);if(1!==i.length||!i[0].getTracks().find(function(t){return t===e}))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(function(t){return t.track===e}))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};var o=this._streams[n.id];if(o)o.addTrack(e),Promise.resolve().then(function(){r.dispatchEvent(new Event("negotiationneeded"))});else{var s=new t.MediaStream([e]);this._streams[n.id]=s,this._reverseStreams[s.id]=n,this.addStream(s)}return this.getSenders().find(function(t){return t.track===e})},["createOffer","createAnswer"].forEach(function(e){var n=t.RTCPeerConnection.prototype[e],r=a({},e,function(){var t=this,e=arguments;return arguments.length&&"function"==typeof arguments[0]?n.apply(this,[function(n){var r=l(t,n);e[0].apply(null,[r])},function(t){e[1]&&e[1].apply(null,t)},arguments[2]]):n.apply(this,arguments).then(function(e){return l(t,e)})});t.RTCPeerConnection.prototype[e]=r[e]});var s=t.RTCPeerConnection.prototype.setLocalDescription;t.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=(t=this,n=(e=arguments[0]).sdp,Object.keys(t._reverseStreams||[]).forEach(function(e){var r=t._reverseStreams[e],i=t._streams[r.id];n=n.replace(new RegExp(r.id,"g"),i.id)}),new RTCSessionDescription({type:e.type,sdp:n})),s.apply(this,arguments)):s.apply(this,arguments);var t,e,n};var c=Object.getOwnPropertyDescriptor(t.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(t.RTCPeerConnection.prototype,"localDescription",{get:function(){var t=c.get.apply(this);return""===t.type?t:l(this,t)}}),t.RTCPeerConnection.prototype.removeTrack=function(t){var e,n=this;if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!t._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(t._pc!==this)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{},Object.keys(this._streams).forEach(function(r){n._streams[r].getTracks().find(function(e){return t.track===e})&&(e=n._streams[r])}),e&&(1===e.getTracks().length?this.removeStream(this._reverseStreams[e.id]):e.removeTrack(t.track),this.dispatchEvent(new Event("negotiationneeded")))}}function l(t,e){var n=e.sdp;return Object.keys(t._reverseStreams||[]).forEach(function(e){var r=t._reverseStreams[e];n=n.replace(new RegExp(t._streams[r.id].id,"g"),r.id)}),new RTCSessionDescription({type:e.type,sdp:n})}},n.shimPeerConnection=function(t){var e=r.detectBrowser(t);if(!t.RTCPeerConnection&&t.webkitRTCPeerConnection&&(t.RTCPeerConnection=t.webkitRTCPeerConnection),t.RTCPeerConnection){e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(e){var n=t.RTCPeerConnection.prototype[e],r=a({},e,function(){return arguments[0]=new("addIceCandidate"===e?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)});t.RTCPeerConnection.prototype[e]=r[e]});var n=t.RTCPeerConnection.prototype.addIceCandidate;t.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?e.version<78&&arguments[0]&&""===arguments[0].candidate?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())}}},n.fixNegotiationNeeded=function(t){r.wrapPeerConnectionEvent(t,"negotiationneeded",function(t){if("stable"===t.target.signalingState)return t})},Object.defineProperty(n,"shimGetUserMedia",{enumerable:!0,get:function(){return i.shimGetUserMedia}}),Object.defineProperty(n,"shimGetDisplayMedia",{enumerable:!0,get:function(){return o.shimGetDisplayMedia}});var r=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=s();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}return n.default=t,e&&e.set(t,n),n}(t("../utils.js")),i=t("./getusermedia"),o=t("./getdisplaymedia");function s(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return s=function(){return t},t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t){t.RTCPeerConnection.prototype.getLocalStreams=function(){var t=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(function(e){return t._shimmedLocalStreams[e][0]})};var e=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(t,n){if(!n)return e.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};var r=e.apply(this,arguments);return this._shimmedLocalStreams[n.id]?-1===this._shimmedLocalStreams[n.id].indexOf(r)&&this._shimmedLocalStreams[n.id].push(r):this._shimmedLocalStreams[n.id]=[n,r],r};var n=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(t){var e=this;this._shimmedLocalStreams=this._shimmedLocalStreams||{},t.getTracks().forEach(function(t){if(e.getSenders().find(function(e){return e.track===t}))throw new DOMException("Track already exists.","InvalidAccessError")});var r=this.getSenders();n.apply(this,arguments);var i=this.getSenders().filter(function(t){return-1===r.indexOf(t)});this._shimmedLocalStreams[t.id]=[t].concat(i)};var r=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(t){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[t.id],r.apply(this,arguments)};var i=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(t){var e=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},t&&Object.keys(this._shimmedLocalStreams).forEach(function(n){var r=e._shimmedLocalStreams[n].indexOf(t);-1!==r&&e._shimmedLocalStreams[n].splice(r,1),1===e._shimmedLocalStreams[n].length&&delete e._shimmedLocalStreams[n]}),i.apply(this,arguments)}}},{"../utils.js":"iSxC","./getusermedia":"s6SN","./getdisplaymedia":"VHa8"}],NZ1C:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.filterIceServers=function(t,e){var n=!1;return(t=JSON.parse(JSON.stringify(t))).filter(function(t){if(t&&(t.urls||t.url)){var e=t.urls||t.url;t.url&&!t.urls&&r.deprecated("RTCIceServer.url","RTCIceServer.urls");var i="string"==typeof e;return i&&(e=[e]),e=e.filter(function(t){if(0===t.indexOf("stun:"))return!1;var e=t.startsWith("turn")&&!t.startsWith("turn:[")&&t.includes("transport=udp");return e&&!n?(n=!0,!0):e&&!n}),delete t.url,t.urls=i?e[0]:e,!!e.length}})};var r=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=i();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var s=r?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}(t("../utils"));function i(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return i=function(){return t},t}},{"../utils":"iSxC"}],YHvh:[function(t,e,n){"use strict";var r={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};r.localCName=r.generateIdentifier(),r.splitLines=function(t){return t.trim().split("\n").map(function(t){return t.trim()})},r.splitSections=function(t){return t.split("\nm=").map(function(t,e){return(e>0?"m="+t:t).trim()+"\r\n"})},r.getDescription=function(t){var e=r.splitSections(t);return e&&e[0]},r.getMediaSections=function(t){var e=r.splitSections(t);return e.shift(),e},r.matchPrefix=function(t,e){return r.splitLines(t).filter(function(t){return 0===t.indexOf(e)})},r.parseCandidate=function(t){for(var e,n={foundation:(e=0===t.indexOf("a=candidate:")?t.substring(12).split(" "):t.substring(10).split(" "))[0],component:parseInt(e[1],10),protocol:e[2].toLowerCase(),priority:parseInt(e[3],10),ip:e[4],address:e[4],port:parseInt(e[5],10),type:e[7]},r=8;r<e.length;r+=2)switch(e[r]){case"raddr":n.relatedAddress=e[r+1];break;case"rport":n.relatedPort=parseInt(e[r+1],10);break;case"tcptype":n.tcpType=e[r+1];break;case"ufrag":n.ufrag=e[r+1],n.usernameFragment=e[r+1];break;default:n[e[r]]=e[r+1]}return n},r.writeCandidate=function(t){var e=[];e.push(t.foundation),e.push(t.component),e.push(t.protocol.toUpperCase()),e.push(t.priority),e.push(t.address||t.ip),e.push(t.port);var n=t.type;return e.push("typ"),e.push(n),"host"!==n&&t.relatedAddress&&t.relatedPort&&(e.push("raddr"),e.push(t.relatedAddress),e.push("rport"),e.push(t.relatedPort)),t.tcpType&&"tcp"===t.protocol.toLowerCase()&&(e.push("tcptype"),e.push(t.tcpType)),(t.usernameFragment||t.ufrag)&&(e.push("ufrag"),e.push(t.usernameFragment||t.ufrag)),"candidate:"+e.join(" ")},r.parseIceOptions=function(t){return t.substr(14).split(" ")},r.parseRtpMap=function(t){var e=t.substr(9).split(" "),n={payloadType:parseInt(e.shift(),10)};return e=e[0].split("/"),n.name=e[0],n.clockRate=parseInt(e[1],10),n.channels=3===e.length?parseInt(e[2],10):1,n.numChannels=n.channels,n},r.writeRtpMap=function(t){var e=t.payloadType;void 0!==t.preferredPayloadType&&(e=t.preferredPayloadType);var n=t.channels||t.numChannels||1;return"a=rtpmap:"+e+" "+t.name+"/"+t.clockRate+(1!==n?"/"+n:"")+"\r\n"},r.parseExtmap=function(t){var e=t.substr(9).split(" ");return{id:parseInt(e[0],10),direction:e[0].indexOf("/")>0?e[0].split("/")[1]:"sendrecv",uri:e[1]}},r.writeExtmap=function(t){return"a=extmap:"+(t.id||t.preferredId)+(t.direction&&"sendrecv"!==t.direction?"/"+t.direction:"")+" "+t.uri+"\r\n"},r.parseFmtp=function(t){for(var e,n={},r=t.substr(t.indexOf(" ")+1).split(";"),i=0;i<r.length;i++)n[(e=r[i].trim().split("="))[0].trim()]=e[1];return n},r.writeFmtp=function(t){var e="",n=t.payloadType;if(void 0!==t.preferredPayloadType&&(n=t.preferredPayloadType),t.parameters&&Object.keys(t.parameters).length){var r=[];Object.keys(t.parameters).forEach(function(e){r.push(t.parameters[e]?e+"="+t.parameters[e]:e)}),e+="a=fmtp:"+n+" "+r.join(";")+"\r\n"}return e},r.parseRtcpFb=function(t){var e=t.substr(t.indexOf(" ")+1).split(" ");return{type:e.shift(),parameter:e.join(" ")}},r.writeRtcpFb=function(t){var e="",n=t.payloadType;return void 0!==t.preferredPayloadType&&(n=t.preferredPayloadType),t.rtcpFeedback&&t.rtcpFeedback.length&&t.rtcpFeedback.forEach(function(t){e+="a=rtcp-fb:"+n+" "+t.type+(t.parameter&&t.parameter.length?" "+t.parameter:"")+"\r\n"}),e},r.parseSsrcMedia=function(t){var e=t.indexOf(" "),n={ssrc:parseInt(t.substr(7,e-7),10)},r=t.indexOf(":",e);return r>-1?(n.attribute=t.substr(e+1,r-e-1),n.value=t.substr(r+1)):n.attribute=t.substr(e+1),n},r.parseSsrcGroup=function(t){var e=t.substr(13).split(" ");return{semantics:e.shift(),ssrcs:e.map(function(t){return parseInt(t,10)})}},r.getMid=function(t){var e=r.matchPrefix(t,"a=mid:")[0];if(e)return e.substr(6)},r.parseFingerprint=function(t){var e=t.substr(14).split(" ");return{algorithm:e[0].toLowerCase(),value:e[1]}},r.getDtlsParameters=function(t,e){return{role:"auto",fingerprints:r.matchPrefix(t+e,"a=fingerprint:").map(r.parseFingerprint)}},r.writeDtlsParameters=function(t,e){var n="a=setup:"+e+"\r\n";return t.fingerprints.forEach(function(t){n+="a=fingerprint:"+t.algorithm+" "+t.value+"\r\n"}),n},r.getIceParameters=function(t,e){var n=r.splitLines(t);return{usernameFragment:(n=n.concat(r.splitLines(e))).filter(function(t){return 0===t.indexOf("a=ice-ufrag:")})[0].substr(12),password:n.filter(function(t){return 0===t.indexOf("a=ice-pwd:")})[0].substr(10)}},r.writeIceParameters=function(t){return"a=ice-ufrag:"+t.usernameFragment+"\r\na=ice-pwd:"+t.password+"\r\n"},r.parseRtpParameters=function(t){for(var e={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},n=r.splitLines(t)[0].split(" "),i=3;i<n.length;i++){var o=n[i],s=r.matchPrefix(t,"a=rtpmap:"+o+" ")[0];if(s){var a=r.parseRtpMap(s),c=r.matchPrefix(t,"a=fmtp:"+o+" ");switch(a.parameters=c.length?r.parseFmtp(c[0]):{},a.rtcpFeedback=r.matchPrefix(t,"a=rtcp-fb:"+o+" ").map(r.parseRtcpFb),e.codecs.push(a),a.name.toUpperCase()){case"RED":case"ULPFEC":e.fecMechanisms.push(a.name.toUpperCase())}}}return r.matchPrefix(t,"a=extmap:").forEach(function(t){e.headerExtensions.push(r.parseExtmap(t))}),e},r.writeRtpDescription=function(t,e){var n="";n+="m="+t+" ",n+=e.codecs.length>0?"9":"0",n+=" UDP/TLS/RTP/SAVPF ",n+=e.codecs.map(function(t){return void 0!==t.preferredPayloadType?t.preferredPayloadType:t.payloadType}).join(" ")+"\r\n",n+="c=IN IP4 0.0.0.0\r\n",n+="a=rtcp:9 IN IP4 0.0.0.0\r\n",e.codecs.forEach(function(t){n+=r.writeRtpMap(t),n+=r.writeFmtp(t),n+=r.writeRtcpFb(t)});var i=0;return e.codecs.forEach(function(t){t.maxptime>i&&(i=t.maxptime)}),i>0&&(n+="a=maxptime:"+i+"\r\n"),n+="a=rtcp-mux\r\n",e.headerExtensions&&e.headerExtensions.forEach(function(t){n+=r.writeExtmap(t)}),n},r.parseRtpEncodingParameters=function(t){var e,n=[],i=r.parseRtpParameters(t),o=-1!==i.fecMechanisms.indexOf("RED"),s=-1!==i.fecMechanisms.indexOf("ULPFEC"),a=r.matchPrefix(t,"a=ssrc:").map(function(t){return r.parseSsrcMedia(t)}).filter(function(t){return"cname"===t.attribute}),c=a.length>0&&a[0].ssrc,u=r.matchPrefix(t,"a=ssrc-group:FID").map(function(t){return t.substr(17).split(" ").map(function(t){return parseInt(t,10)})});u.length>0&&u[0].length>1&&u[0][0]===c&&(e=u[0][1]),i.codecs.forEach(function(t){if("RTX"===t.name.toUpperCase()&&t.parameters.apt){var r={ssrc:c,codecPayloadType:parseInt(t.parameters.apt,10)};c&&e&&(r.rtx={ssrc:e}),n.push(r),o&&((r=JSON.parse(JSON.stringify(r))).fec={ssrc:c,mechanism:s?"red+ulpfec":"red"},n.push(r))}}),0===n.length&&c&&n.push({ssrc:c});var l=r.matchPrefix(t,"b=");return l.length&&(l=0===l[0].indexOf("b=TIAS:")?parseInt(l[0].substr(7),10):0===l[0].indexOf("b=AS:")?1e3*parseInt(l[0].substr(5),10)*.95-16e3:void 0,n.forEach(function(t){t.maxBitrate=l})),n},r.parseRtcpParameters=function(t){var e={},n=r.matchPrefix(t,"a=ssrc:").map(function(t){return r.parseSsrcMedia(t)}).filter(function(t){return"cname"===t.attribute})[0];n&&(e.cname=n.value,e.ssrc=n.ssrc);var i=r.matchPrefix(t,"a=rtcp-rsize");e.reducedSize=i.length>0,e.compound=0===i.length;var o=r.matchPrefix(t,"a=rtcp-mux");return e.mux=o.length>0,e},r.parseMsid=function(t){var e,n=r.matchPrefix(t,"a=msid:");if(1===n.length)return{stream:(e=n[0].substr(7).split(" "))[0],track:e[1]};var i=r.matchPrefix(t,"a=ssrc:").map(function(t){return r.parseSsrcMedia(t)}).filter(function(t){return"msid"===t.attribute});return i.length>0?{stream:(e=i[0].value.split(" "))[0],track:e[1]}:void 0},r.parseSctpDescription=function(t){var e,n=r.parseMLine(t),i=r.matchPrefix(t,"a=max-message-size:");i.length>0&&(e=parseInt(i[0].substr(19),10)),isNaN(e)&&(e=65536);var o=r.matchPrefix(t,"a=sctp-port:");if(o.length>0)return{port:parseInt(o[0].substr(12),10),protocol:n.fmt,maxMessageSize:e};if(r.matchPrefix(t,"a=sctpmap:").length>0){var s=r.matchPrefix(t,"a=sctpmap:")[0].substr(10).split(" ");return{port:parseInt(s[0],10),protocol:s[1],maxMessageSize:e}}},r.writeSctpDescription=function(t,e){var n=[];return n="DTLS/SCTP"!==t.protocol?["m="+t.kind+" 9 "+t.protocol+" "+e.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+e.port+"\r\n"]:["m="+t.kind+" 9 "+t.protocol+" "+e.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+e.port+" "+e.protocol+" 65535\r\n"],void 0!==e.maxMessageSize&&n.push("a=max-message-size:"+e.maxMessageSize+"\r\n"),n.join("")},r.generateSessionId=function(){return Math.random().toString().substr(2,21)},r.writeSessionBoilerplate=function(t,e,n){var i=void 0!==e?e:2;return"v=0\r\no="+(n||"thisisadapterortc")+" "+(t||r.generateSessionId())+" "+i+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},r.writeMediaSection=function(t,e,n,i){var o=r.writeRtpDescription(t.kind,e);if(o+=r.writeIceParameters(t.iceGatherer.getLocalParameters()),o+=r.writeDtlsParameters(t.dtlsTransport.getLocalParameters(),"offer"===n?"actpass":"active"),o+="a=mid:"+t.mid+"\r\n",o+=t.direction?"a="+t.direction+"\r\n":t.rtpSender&&t.rtpReceiver?"a=sendrecv\r\n":t.rtpSender?"a=sendonly\r\n":t.rtpReceiver?"a=recvonly\r\n":"a=inactive\r\n",t.rtpSender){var s="msid:"+i.id+" "+t.rtpSender.track.id+"\r\n";o+="a="+s,o+="a=ssrc:"+t.sendEncodingParameters[0].ssrc+" "+s,t.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+t.sendEncodingParameters[0].rtx.ssrc+" "+s,o+="a=ssrc-group:FID "+t.sendEncodingParameters[0].ssrc+" "+t.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return o+="a=ssrc:"+t.sendEncodingParameters[0].ssrc+" cname:"+r.localCName+"\r\n",t.rtpSender&&t.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+t.sendEncodingParameters[0].rtx.ssrc+" cname:"+r.localCName+"\r\n"),o},r.getDirection=function(t,e){for(var n=r.splitLines(t),i=0;i<n.length;i++)switch(n[i]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return n[i].substr(2)}return e?r.getDirection(e):"sendrecv"},r.getKind=function(t){return r.splitLines(t)[0].split(" ")[0].substr(2)},r.isRejected=function(t){return"0"===t.split(" ",2)[1]},r.parseMLine=function(t){var e=r.splitLines(t)[0].substr(2).split(" ");return{kind:e[0],port:parseInt(e[1],10),protocol:e[2],fmt:e.slice(3).join(" ")}},r.parseOLine=function(t){var e=r.matchPrefix(t,"o=")[0].substr(2).split(" ");return{username:e[0],sessionId:e[1],sessionVersion:parseInt(e[2],10),netType:e[3],addressType:e[4],address:e[5]}},r.isValidSDP=function(t){if("string"!=typeof t||0===t.length)return!1;for(var e=r.splitLines(t),n=0;n<e.length;n++)if(e[n].length<2||"="!==e[n].charAt(1))return!1;return!0},"object"==typeof e&&(e.exports=r)},{}],NJ2u:[function(t,e,n){"use strict";var r=t("sdp");function i(t,e,n,i,o){var s=r.writeRtpDescription(t.kind,e);if(s+=r.writeIceParameters(t.iceGatherer.getLocalParameters()),s+=r.writeDtlsParameters(t.dtlsTransport.getLocalParameters(),"offer"===n?"actpass":o||"active"),s+="a=mid:"+t.mid+"\r\n",s+=t.rtpSender&&t.rtpReceiver?"a=sendrecv\r\n":t.rtpSender?"a=sendonly\r\n":t.rtpReceiver?"a=recvonly\r\n":"a=inactive\r\n",t.rtpSender){var a=t.rtpSender._initialTrackId||t.rtpSender.track.id;t.rtpSender._initialTrackId=a;var c="msid:"+(i?i.id:"-")+" "+a+"\r\n";s+="a="+c,s+="a=ssrc:"+t.sendEncodingParameters[0].ssrc+" "+c,t.sendEncodingParameters[0].rtx&&(s+="a=ssrc:"+t.sendEncodingParameters[0].rtx.ssrc+" "+c,s+="a=ssrc-group:FID "+t.sendEncodingParameters[0].ssrc+" "+t.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return s+="a=ssrc:"+t.sendEncodingParameters[0].ssrc+" cname:"+r.localCName+"\r\n",t.rtpSender&&t.sendEncodingParameters[0].rtx&&(s+="a=ssrc:"+t.sendEncodingParameters[0].rtx.ssrc+" cname:"+r.localCName+"\r\n"),s}function o(t,e){var n={codecs:[],headerExtensions:[],fecMechanisms:[]},r=function(t,e){t=parseInt(t,10);for(var n=0;n<e.length;n++)if(e[n].payloadType===t||e[n].preferredPayloadType===t)return e[n]},i=function(t,e,n,i){var o=r(t.parameters.apt,n),s=r(e.parameters.apt,i);return o&&s&&o.name.toLowerCase()===s.name.toLowerCase()};return t.codecs.forEach(function(r){for(var o=0;o<e.codecs.length;o++){var s=e.codecs[o];if(r.name.toLowerCase()===s.name.toLowerCase()&&r.clockRate===s.clockRate){if("rtx"===r.name.toLowerCase()&&r.parameters&&s.parameters.apt&&!i(r,s,t.codecs,e.codecs))continue;(s=JSON.parse(JSON.stringify(s))).numChannels=Math.min(r.numChannels,s.numChannels),n.codecs.push(s),s.rtcpFeedback=s.rtcpFeedback.filter(function(t){for(var e=0;e<r.rtcpFeedback.length;e++)if(r.rtcpFeedback[e].type===t.type&&r.rtcpFeedback[e].parameter===t.parameter)return!0;return!1});break}}}),t.headerExtensions.forEach(function(t){for(var r=0;r<e.headerExtensions.length;r++){var i=e.headerExtensions[r];if(t.uri===i.uri){n.headerExtensions.push(i);break}}}),n}function s(t,e,n){return-1!=={offer:{setLocalDescription:["stable","have-local-offer"],setRemoteDescription:["stable","have-remote-offer"]},answer:{setLocalDescription:["have-remote-offer","have-local-pranswer"],setRemoteDescription:["have-local-offer","have-remote-pranswer"]}}[e][t].indexOf(n)}function a(t,e){var n=t.getRemoteCandidates().find(function(t){return e.foundation===t.foundation&&e.ip===t.ip&&e.port===t.port&&e.priority===t.priority&&e.protocol===t.protocol&&e.type===t.type});return n||t.addRemoteCandidate(e),!n}function c(t,e){var n=new Error(e);return n.name=t,n.code={NotSupportedError:9,InvalidStateError:11,InvalidAccessError:15,TypeError:void 0,OperationError:void 0}[t],n}e.exports=function(t,e){function n(e,n){n.addTrack(e),n.dispatchEvent(new t.MediaStreamTrackEvent("addtrack",{track:e}))}function u(e,n,r,i){var o=new Event("track");o.track=n,o.receiver=r,o.transceiver={receiver:r},o.streams=i,t.setTimeout(function(){e._dispatchEvent("track",o)})}var l=function(n){var i=this,o=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach(function(t){i[t]=o[t].bind(o)}),this.canTrickleIceCandidates=null,this.needNegotiation=!1,this.localStreams=[],this.remoteStreams=[],this._localDescription=null,this._remoteDescription=null,this.signalingState="stable",this.iceConnectionState="new",this.connectionState="new",this.iceGatheringState="new",n=JSON.parse(JSON.stringify(n||{})),this.usingBundle="max-bundle"===n.bundlePolicy,"negotiate"===n.rtcpMuxPolicy)throw c("NotSupportedError","rtcpMuxPolicy 'negotiate' is not supported");switch(n.rtcpMuxPolicy||(n.rtcpMuxPolicy="require"),n.iceTransportPolicy){case"all":case"relay":break;default:n.iceTransportPolicy="all"}switch(n.bundlePolicy){case"balanced":case"max-compat":case"max-bundle":break;default:n.bundlePolicy="balanced"}if(n.iceServers=function(t,e){var n=!1;return(t=JSON.parse(JSON.stringify(t))).filter(function(t){if(t&&(t.urls||t.url)){var r=t.urls||t.url;t.url&&!t.urls&&console.warn("RTCIceServer.url is deprecated! Use urls instead.");var i="string"==typeof r;return i&&(r=[r]),r=r.filter(function(t){return 0!==t.indexOf("turn:")||-1===t.indexOf("transport=udp")||-1!==t.indexOf("turn:[")||n?0===t.indexOf("stun:")&&e>=14393&&-1===t.indexOf("?transport=udp"):(n=!0,!0)}),delete t.url,t.urls=i?r[0]:r,!!r.length}})}(n.iceServers||[],e),this._iceGatherers=[],n.iceCandidatePoolSize)for(var s=n.iceCandidatePoolSize;s>0;s--)this._iceGatherers.push(new t.RTCIceGatherer({iceServers:n.iceServers,gatherPolicy:n.iceTransportPolicy}));else n.iceCandidatePoolSize=0;this._config=n,this.transceivers=[],this._sdpSessionId=r.generateSessionId(),this._sdpSessionVersion=0,this._dtlsRole=void 0,this._isClosed=!1};Object.defineProperty(l.prototype,"localDescription",{configurable:!0,get:function(){return this._localDescription}}),Object.defineProperty(l.prototype,"remoteDescription",{configurable:!0,get:function(){return this._remoteDescription}}),l.prototype.onicecandidate=null,l.prototype.onaddstream=null,l.prototype.ontrack=null,l.prototype.onremovestream=null,l.prototype.onsignalingstatechange=null,l.prototype.oniceconnectionstatechange=null,l.prototype.onconnectionstatechange=null,l.prototype.onicegatheringstatechange=null,l.prototype.onnegotiationneeded=null,l.prototype.ondatachannel=null,l.prototype._dispatchEvent=function(t,e){this._isClosed||(this.dispatchEvent(e),"function"==typeof this["on"+t]&&this["on"+t](e))},l.prototype._emitGatheringStateChange=function(){var t=new Event("icegatheringstatechange");this._dispatchEvent("icegatheringstatechange",t)},l.prototype.getConfiguration=function(){return this._config},l.prototype.getLocalStreams=function(){return this.localStreams},l.prototype.getRemoteStreams=function(){return this.remoteStreams},l.prototype._createTransceiver=function(t,e){var n={track:null,iceGatherer:null,iceTransport:null,dtlsTransport:null,localCapabilities:null,remoteCapabilities:null,rtpSender:null,rtpReceiver:null,kind:t,mid:null,sendEncodingParameters:null,recvEncodingParameters:null,stream:null,associatedRemoteMediaStreams:[],wantReceive:!0};if(this.usingBundle&&this.transceivers.length>0)n.iceTransport=this.transceivers[0].iceTransport,n.dtlsTransport=this.transceivers[0].dtlsTransport;else{var r=this._createIceAndDtlsTransports();n.iceTransport=r.iceTransport,n.dtlsTransport=r.dtlsTransport}return e||this.transceivers.push(n),n},l.prototype.addTrack=function(e,n){if(this._isClosed)throw c("InvalidStateError","Attempted to call addTrack on a closed peerconnection.");var r;if(this.transceivers.find(function(t){return t.track===e}))throw c("InvalidAccessError","Track already exists.");for(var i=0;i<this.transceivers.length;i++)this.transceivers[i].track||this.transceivers[i].kind!==e.kind||(r=this.transceivers[i]);return r||(r=this._createTransceiver(e.kind)),this._maybeFireNegotiationNeeded(),-1===this.localStreams.indexOf(n)&&this.localStreams.push(n),r.track=e,r.stream=n,r.rtpSender=new t.RTCRtpSender(e,r.dtlsTransport),r.rtpSender},l.prototype.addStream=function(t){var n=this;if(e>=15025)t.getTracks().forEach(function(e){n.addTrack(e,t)});else{var r=t.clone();t.getTracks().forEach(function(t,e){var n=r.getTracks()[e];t.addEventListener("enabled",function(t){n.enabled=t.enabled})}),r.getTracks().forEach(function(t){n.addTrack(t,r)})}},l.prototype.removeTrack=function(e){if(this._isClosed)throw c("InvalidStateError","Attempted to call removeTrack on a closed peerconnection.");if(!(e instanceof t.RTCRtpSender))throw new TypeError("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.");var n=this.transceivers.find(function(t){return t.rtpSender===e});if(!n)throw c("InvalidAccessError","Sender was not created by this connection.");var r=n.stream;n.rtpSender.stop(),n.rtpSender=null,n.track=null,n.stream=null,-1===this.transceivers.map(function(t){return t.stream}).indexOf(r)&&this.localStreams.indexOf(r)>-1&&this.localStreams.splice(this.localStreams.indexOf(r),1),this._maybeFireNegotiationNeeded()},l.prototype.removeStream=function(t){var e=this;t.getTracks().forEach(function(t){var n=e.getSenders().find(function(e){return e.track===t});n&&e.removeTrack(n)})},l.prototype.getSenders=function(){return this.transceivers.filter(function(t){return!!t.rtpSender}).map(function(t){return t.rtpSender})},l.prototype.getReceivers=function(){return this.transceivers.filter(function(t){return!!t.rtpReceiver}).map(function(t){return t.rtpReceiver})},l.prototype._createIceGatherer=function(e,n){var r=this;if(n&&e>0)return this.transceivers[0].iceGatherer;if(this._iceGatherers.length)return this._iceGatherers.shift();var i=new t.RTCIceGatherer({iceServers:this._config.iceServers,gatherPolicy:this._config.iceTransportPolicy});return Object.defineProperty(i,"state",{value:"new",writable:!0}),this.transceivers[e].bufferedCandidateEvents=[],this.transceivers[e].bufferCandidates=function(t){var n=!t.candidate||0===Object.keys(t.candidate).length;i.state=n?"completed":"gathering",null!==r.transceivers[e].bufferedCandidateEvents&&r.transceivers[e].bufferedCandidateEvents.push(t)},i.addEventListener("localcandidate",this.transceivers[e].bufferCandidates),i},l.prototype._gather=function(e,n){var i=this,o=this.transceivers[n].iceGatherer;if(!o.onlocalcandidate){var s=this.transceivers[n].bufferedCandidateEvents;this.transceivers[n].bufferedCandidateEvents=null,o.removeEventListener("localcandidate",this.transceivers[n].bufferCandidates),o.onlocalcandidate=function(t){if(!(i.usingBundle&&n>0)){var s=new Event("icecandidate");s.candidate={sdpMid:e,sdpMLineIndex:n};var a=t.candidate,c=!a||0===Object.keys(a).length;if(c)"new"!==o.state&&"gathering"!==o.state||(o.state="completed");else{"new"===o.state&&(o.state="gathering"),a.component=1,a.ufrag=o.getLocalParameters().usernameFragment;var u=r.writeCandidate(a);s.candidate=Object.assign(s.candidate,r.parseCandidate(u)),s.candidate.candidate=u,s.candidate.toJSON=function(){return{candidate:s.candidate.candidate,sdpMid:s.candidate.sdpMid,sdpMLineIndex:s.candidate.sdpMLineIndex,usernameFragment:s.candidate.usernameFragment}}}var l=r.getMediaSections(i._localDescription.sdp);l[s.candidate.sdpMLineIndex]+=c?"a=end-of-candidates\r\n":"a="+s.candidate.candidate+"\r\n",i._localDescription.sdp=r.getDescription(i._localDescription.sdp)+l.join("");var h=i.transceivers.every(function(t){return t.iceGatherer&&"completed"===t.iceGatherer.state});"gathering"!==i.iceGatheringState&&(i.iceGatheringState="gathering",i._emitGatheringStateChange()),c||i._dispatchEvent("icecandidate",s),h&&(i._dispatchEvent("icecandidate",new Event("icecandidate")),i.iceGatheringState="complete",i._emitGatheringStateChange())}},t.setTimeout(function(){s.forEach(function(t){o.onlocalcandidate(t)})},0)}},l.prototype._createIceAndDtlsTransports=function(){var e=this,n=new t.RTCIceTransport(null);n.onicestatechange=function(){e._updateIceConnectionState(),e._updateConnectionState()};var r=new t.RTCDtlsTransport(n);return r.ondtlsstatechange=function(){e._updateConnectionState()},r.onerror=function(){Object.defineProperty(r,"state",{value:"failed",writable:!0}),e._updateConnectionState()},{iceTransport:n,dtlsTransport:r}},l.prototype._disposeIceAndDtlsTransports=function(t){var e=this.transceivers[t].iceGatherer;e&&(delete e.onlocalcandidate,delete this.transceivers[t].iceGatherer);var n=this.transceivers[t].iceTransport;n&&(delete n.onicestatechange,delete this.transceivers[t].iceTransport);var r=this.transceivers[t].dtlsTransport;r&&(delete r.ondtlsstatechange,delete r.onerror,delete this.transceivers[t].dtlsTransport)},l.prototype._transceive=function(t,n,i){var s=o(t.localCapabilities,t.remoteCapabilities);n&&t.rtpSender&&(s.encodings=t.sendEncodingParameters,s.rtcp={cname:r.localCName,compound:t.rtcpParameters.compound},t.recvEncodingParameters.length&&(s.rtcp.ssrc=t.recvEncodingParameters[0].ssrc),t.rtpSender.send(s)),i&&t.rtpReceiver&&s.codecs.length>0&&("video"===t.kind&&t.recvEncodingParameters&&e<15019&&t.recvEncodingParameters.forEach(function(t){delete t.rtx}),s.encodings=t.recvEncodingParameters.length?t.recvEncodingParameters:[{}],s.rtcp={compound:t.rtcpParameters.compound},t.rtcpParameters.cname&&(s.rtcp.cname=t.rtcpParameters.cname),t.sendEncodingParameters.length&&(s.rtcp.ssrc=t.sendEncodingParameters[0].ssrc),t.rtpReceiver.receive(s))},l.prototype.setLocalDescription=function(t){var e,n,i=this;if(-1===["offer","answer"].indexOf(t.type))return Promise.reject(c("TypeError",'Unsupported type "'+t.type+'"'));if(!s("setLocalDescription",t.type,i.signalingState)||i._isClosed)return Promise.reject(c("InvalidStateError","Can not set local "+t.type+" in state "+i.signalingState));if("offer"===t.type)e=r.splitSections(t.sdp),n=e.shift(),e.forEach(function(t,e){var n=r.parseRtpParameters(t);i.transceivers[e].localCapabilities=n}),i.transceivers.forEach(function(t,e){i._gather(t.mid,e)});else if("answer"===t.type){e=r.splitSections(i._remoteDescription.sdp),n=e.shift();var a=r.matchPrefix(n,"a=ice-lite").length>0;e.forEach(function(t,e){var s=i.transceivers[e],c=s.iceGatherer,u=s.iceTransport,l=s.dtlsTransport,h=s.localCapabilities,d=s.remoteCapabilities;if(!(r.isRejected(t)&&0===r.matchPrefix(t,"a=bundle-only").length||s.rejected)){var f=r.getIceParameters(t,n),p=r.getDtlsParameters(t,n);a&&(p.role="server"),i.usingBundle&&0!==e||(i._gather(s.mid,e),"new"===u.state&&u.start(c,f,a?"controlling":"controlled"),"new"===l.state&&l.start(p));var g=o(h,d);i._transceive(s,g.codecs.length>0,!1)}})}return i._localDescription={type:t.type,sdp:t.sdp},i._updateSignalingState("offer"===t.type?"have-local-offer":"stable"),Promise.resolve()},l.prototype.setRemoteDescription=function(i){var l=this;if(-1===["offer","answer"].indexOf(i.type))return Promise.reject(c("TypeError",'Unsupported type "'+i.type+'"'));if(!s("setRemoteDescription",i.type,l.signalingState)||l._isClosed)return Promise.reject(c("InvalidStateError","Can not set remote "+i.type+" in state "+l.signalingState));var h={};l.remoteStreams.forEach(function(t){h[t.id]=t});var d=[],f=r.splitSections(i.sdp),p=f.shift(),g=r.matchPrefix(p,"a=ice-lite").length>0,m=r.matchPrefix(p,"a=group:BUNDLE ").length>0;l.usingBundle=m;var b=r.matchPrefix(p,"a=ice-options:")[0];return l.canTrickleIceCandidates=!!b&&b.substr(14).split(" ").indexOf("trickle")>=0,f.forEach(function(s,c){var u=r.splitLines(s),f=r.getKind(s),b=r.isRejected(s)&&0===r.matchPrefix(s,"a=bundle-only").length,v=u[0].substr(2).split(" ")[2],y=r.getDirection(s,p),_=r.parseMsid(s),w=r.getMid(s)||r.generateIdentifier();if(b||"application"===f&&("DTLS/SCTP"===v||"UDP/DTLS/SCTP"===v))l.transceivers[c]={mid:w,kind:f,protocol:v,rejected:!0};else{var C,k,P,S,E,T,x,O,I;!b&&l.transceivers[c]&&l.transceivers[c].rejected&&(l.transceivers[c]=l._createTransceiver(f,!0));var A,R,D=r.parseRtpParameters(s);b||(A=r.getIceParameters(s,p),(R=r.getDtlsParameters(s,p)).role="client"),x=r.parseRtpEncodingParameters(s);var j=r.parseRtcpParameters(s),N=r.matchPrefix(s,"a=end-of-candidates",p).length>0,M=r.matchPrefix(s,"a=candidate:").map(function(t){return r.parseCandidate(t)}).filter(function(t){return 1===t.component});if(("offer"===i.type||"answer"===i.type)&&!b&&m&&c>0&&l.transceivers[c]&&(l._disposeIceAndDtlsTransports(c),l.transceivers[c].iceGatherer=l.transceivers[0].iceGatherer,l.transceivers[c].iceTransport=l.transceivers[0].iceTransport,l.transceivers[c].dtlsTransport=l.transceivers[0].dtlsTransport,l.transceivers[c].rtpSender&&l.transceivers[c].rtpSender.setTransport(l.transceivers[0].dtlsTransport),l.transceivers[c].rtpReceiver&&l.transceivers[c].rtpReceiver.setTransport(l.transceivers[0].dtlsTransport)),"offer"!==i.type||b)"answer"!==i.type||b||(k=(C=l.transceivers[c]).iceGatherer,P=C.iceTransport,S=C.dtlsTransport,E=C.rtpReceiver,T=C.sendEncodingParameters,O=C.localCapabilities,l.transceivers[c].recvEncodingParameters=x,l.transceivers[c].remoteCapabilities=D,l.transceivers[c].rtcpParameters=j,M.length&&"new"===P.state&&(!g&&!N||m&&0!==c?M.forEach(function(t){a(C.iceTransport,t)}):P.setRemoteCandidates(M)),m&&0!==c||("new"===P.state&&P.start(k,A,"controlling"),"new"===S.state&&S.start(R)),!o(C.localCapabilities,C.remoteCapabilities).codecs.filter(function(t){return"rtx"===t.name.toLowerCase()}).length&&C.sendEncodingParameters[0].rtx&&delete C.sendEncodingParameters[0].rtx,l._transceive(C,"sendrecv"===y||"recvonly"===y,"sendrecv"===y||"sendonly"===y),!E||"sendrecv"!==y&&"sendonly"!==y?delete C.rtpReceiver:(I=E.track,_?(h[_.stream]||(h[_.stream]=new t.MediaStream),n(I,h[_.stream]),d.push([I,E,h[_.stream]])):(h.default||(h.default=new t.MediaStream),n(I,h.default),d.push([I,E,h.default]))));else{(C=l.transceivers[c]||l._createTransceiver(f)).mid=w,C.iceGatherer||(C.iceGatherer=l._createIceGatherer(c,m)),M.length&&"new"===C.iceTransport.state&&(!N||m&&0!==c?M.forEach(function(t){a(C.iceTransport,t)}):C.iceTransport.setRemoteCandidates(M)),O=t.RTCRtpReceiver.getCapabilities(f),e<15019&&(O.codecs=O.codecs.filter(function(t){return"rtx"!==t.name})),T=C.sendEncodingParameters||[{ssrc:1001*(2*c+2)}];var L,F=!1;"sendrecv"===y||"sendonly"===y?(F=!C.rtpReceiver,E=C.rtpReceiver||new t.RTCRtpReceiver(C.dtlsTransport,f),F&&(I=E.track,_&&"-"===_.stream||(_?(h[_.stream]||(h[_.stream]=new t.MediaStream,Object.defineProperty(h[_.stream],"id",{get:function(){return _.stream}})),Object.defineProperty(I,"id",{get:function(){return _.track}}),L=h[_.stream]):(h.default||(h.default=new t.MediaStream),L=h.default)),L&&(n(I,L),C.associatedRemoteMediaStreams.push(L)),d.push([I,E,L]))):C.rtpReceiver&&C.rtpReceiver.track&&(C.associatedRemoteMediaStreams.forEach(function(e){var n,r,i=e.getTracks().find(function(t){return t.id===C.rtpReceiver.track.id});i&&((r=e).removeTrack(n=i),r.dispatchEvent(new t.MediaStreamTrackEvent("removetrack",{track:n})))}),C.associatedRemoteMediaStreams=[]),C.localCapabilities=O,C.remoteCapabilities=D,C.rtpReceiver=E,C.rtcpParameters=j,C.sendEncodingParameters=T,C.recvEncodingParameters=x,l._transceive(l.transceivers[c],!1,F)}}}),void 0===l._dtlsRole&&(l._dtlsRole="offer"===i.type?"active":"passive"),l._remoteDescription={type:i.type,sdp:i.sdp},l._updateSignalingState("offer"===i.type?"have-remote-offer":"stable"),Object.keys(h).forEach(function(e){var n=h[e];if(n.getTracks().length){if(-1===l.remoteStreams.indexOf(n)){l.remoteStreams.push(n);var r=new Event("addstream");r.stream=n,t.setTimeout(function(){l._dispatchEvent("addstream",r)})}d.forEach(function(t){n.id===t[2].id&&u(l,t[0],t[1],[n])})}}),d.forEach(function(t){t[2]||u(l,t[0],t[1],[])}),t.setTimeout(function(){l&&l.transceivers&&l.transceivers.forEach(function(t){t.iceTransport&&"new"===t.iceTransport.state&&t.iceTransport.getRemoteCandidates().length>0&&(console.warn("Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification"),t.iceTransport.addRemoteCandidate({}))})},4e3),Promise.resolve()},l.prototype.close=function(){this.transceivers.forEach(function(t){t.iceTransport&&t.iceTransport.stop(),t.dtlsTransport&&t.dtlsTransport.stop(),t.rtpSender&&t.rtpSender.stop(),t.rtpReceiver&&t.rtpReceiver.stop()}),this._isClosed=!0,this._updateSignalingState("closed")},l.prototype._updateSignalingState=function(t){this.signalingState=t;var e=new Event("signalingstatechange");this._dispatchEvent("signalingstatechange",e)},l.prototype._maybeFireNegotiationNeeded=function(){var e=this;"stable"===this.signalingState&&!0!==this.needNegotiation&&(this.needNegotiation=!0,t.setTimeout(function(){if(e.needNegotiation){e.needNegotiation=!1;var t=new Event("negotiationneeded");e._dispatchEvent("negotiationneeded",t)}},0))},l.prototype._updateIceConnectionState=function(){var t,e={new:0,closed:0,checking:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(t){t.iceTransport&&!t.rejected&&e[t.iceTransport.state]++}),t="new",e.failed>0?t="failed":e.checking>0?t="checking":e.disconnected>0?t="disconnected":e.new>0?t="new":e.connected>0?t="connected":e.completed>0&&(t="completed"),t!==this.iceConnectionState){this.iceConnectionState=t;var n=new Event("iceconnectionstatechange");this._dispatchEvent("iceconnectionstatechange",n)}},l.prototype._updateConnectionState=function(){var t,e={new:0,closed:0,connecting:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(t){t.iceTransport&&t.dtlsTransport&&!t.rejected&&(e[t.iceTransport.state]++,e[t.dtlsTransport.state]++)}),e.connected+=e.completed,t="new",e.failed>0?t="failed":e.connecting>0?t="connecting":e.disconnected>0?t="disconnected":e.new>0?t="new":e.connected>0&&(t="connected"),t!==this.connectionState){this.connectionState=t;var n=new Event("connectionstatechange");this._dispatchEvent("connectionstatechange",n)}},l.prototype.createOffer=function(){var n=this;if(n._isClosed)return Promise.reject(c("InvalidStateError","Can not call createOffer after close"));var o=n.transceivers.filter(function(t){return"audio"===t.kind}).length,s=n.transceivers.filter(function(t){return"video"===t.kind}).length,a=arguments[0];if(a){if(a.mandatory||a.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");void 0!==a.offerToReceiveAudio&&(o=!0===a.offerToReceiveAudio?1:!1===a.offerToReceiveAudio?0:a.offerToReceiveAudio),void 0!==a.offerToReceiveVideo&&(s=!0===a.offerToReceiveVideo?1:!1===a.offerToReceiveVideo?0:a.offerToReceiveVideo)}for(n.transceivers.forEach(function(t){"audio"===t.kind?--o<0&&(t.wantReceive=!1):"video"===t.kind&&--s<0&&(t.wantReceive=!1)});o>0||s>0;)o>0&&(n._createTransceiver("audio"),o--),s>0&&(n._createTransceiver("video"),s--);var u=r.writeSessionBoilerplate(n._sdpSessionId,n._sdpSessionVersion++);n.transceivers.forEach(function(i,o){var s=i.track,a=i.kind,c=i.mid||r.generateIdentifier();i.mid=c,i.iceGatherer||(i.iceGatherer=n._createIceGatherer(o,n.usingBundle));var u=t.RTCRtpSender.getCapabilities(a);e<15019&&(u.codecs=u.codecs.filter(function(t){return"rtx"!==t.name})),u.codecs.forEach(function(t){"H264"===t.name&&void 0===t.parameters["level-asymmetry-allowed"]&&(t.parameters["level-asymmetry-allowed"]="1"),i.remoteCapabilities&&i.remoteCapabilities.codecs&&i.remoteCapabilities.codecs.forEach(function(e){t.name.toLowerCase()===e.name.toLowerCase()&&t.clockRate===e.clockRate&&(t.preferredPayloadType=e.payloadType)})}),u.headerExtensions.forEach(function(t){(i.remoteCapabilities&&i.remoteCapabilities.headerExtensions||[]).forEach(function(e){t.uri===e.uri&&(t.id=e.id)})});var l=i.sendEncodingParameters||[{ssrc:1001*(2*o+1)}];s&&e>=15019&&"video"===a&&!l[0].rtx&&(l[0].rtx={ssrc:l[0].ssrc+1}),i.wantReceive&&(i.rtpReceiver=new t.RTCRtpReceiver(i.dtlsTransport,a)),i.localCapabilities=u,i.sendEncodingParameters=l}),"max-compat"!==n._config.bundlePolicy&&(u+="a=group:BUNDLE "+n.transceivers.map(function(t){return t.mid}).join(" ")+"\r\n"),u+="a=ice-options:trickle\r\n",n.transceivers.forEach(function(t,e){u+=i(t,t.localCapabilities,"offer",t.stream,n._dtlsRole),u+="a=rtcp-rsize\r\n",!t.iceGatherer||"new"===n.iceGatheringState||0!==e&&n.usingBundle||(t.iceGatherer.getLocalCandidates().forEach(function(t){t.component=1,u+="a="+r.writeCandidate(t)+"\r\n"}),"completed"===t.iceGatherer.state&&(u+="a=end-of-candidates\r\n"))});var l=new t.RTCSessionDescription({type:"offer",sdp:u});return Promise.resolve(l)},l.prototype.createAnswer=function(){var n=this;if(n._isClosed)return Promise.reject(c("InvalidStateError","Can not call createAnswer after close"));if("have-remote-offer"!==n.signalingState&&"have-local-pranswer"!==n.signalingState)return Promise.reject(c("InvalidStateError","Can not call createAnswer in signalingState "+n.signalingState));var s=r.writeSessionBoilerplate(n._sdpSessionId,n._sdpSessionVersion++);n.usingBundle&&(s+="a=group:BUNDLE "+n.transceivers.map(function(t){return t.mid}).join(" ")+"\r\n"),s+="a=ice-options:trickle\r\n";var a=r.getMediaSections(n._remoteDescription.sdp).length;n.transceivers.forEach(function(t,r){if(!(r+1>a)){if(t.rejected)return"application"===t.kind?s+="DTLS/SCTP"===t.protocol?"m=application 0 DTLS/SCTP 5000\r\n":"m=application 0 "+t.protocol+" webrtc-datachannel\r\n":"audio"===t.kind?s+="m=audio 0 UDP/TLS/RTP/SAVPF 0\r\na=rtpmap:0 PCMU/8000\r\n":"video"===t.kind&&(s+="m=video 0 UDP/TLS/RTP/SAVPF 120\r\na=rtpmap:120 VP8/90000\r\n"),void(s+="c=IN IP4 0.0.0.0\r\na=inactive\r\na=mid:"+t.mid+"\r\n");var c;t.stream&&("audio"===t.kind?c=t.stream.getAudioTracks()[0]:"video"===t.kind&&(c=t.stream.getVideoTracks()[0]),c&&e>=15019&&"video"===t.kind&&!t.sendEncodingParameters[0].rtx&&(t.sendEncodingParameters[0].rtx={ssrc:t.sendEncodingParameters[0].ssrc+1}));var u=o(t.localCapabilities,t.remoteCapabilities);!u.codecs.filter(function(t){return"rtx"===t.name.toLowerCase()}).length&&t.sendEncodingParameters[0].rtx&&delete t.sendEncodingParameters[0].rtx,s+=i(t,u,"answer",t.stream,n._dtlsRole),t.rtcpParameters&&t.rtcpParameters.reducedSize&&(s+="a=rtcp-rsize\r\n")}});var u=new t.RTCSessionDescription({type:"answer",sdp:s});return Promise.resolve(u)},l.prototype.addIceCandidate=function(t){var e,n=this;return t&&void 0===t.sdpMLineIndex&&!t.sdpMid?Promise.reject(new TypeError("sdpMLineIndex or sdpMid required")):new Promise(function(i,o){if(!n._remoteDescription)return o(c("InvalidStateError","Can not add ICE candidate without a remote description"));if(t&&""!==t.candidate){var s=t.sdpMLineIndex;if(t.sdpMid)for(var u=0;u<n.transceivers.length;u++)if(n.transceivers[u].mid===t.sdpMid){s=u;break}var l=n.transceivers[s];if(!l)return o(c("OperationError","Can not add ICE candidate"));if(l.rejected)return i();var h=Object.keys(t.candidate).length>0?r.parseCandidate(t.candidate):{};if("tcp"===h.protocol&&(0===h.port||9===h.port))return i();if(h.component&&1!==h.component)return i();if((0===s||s>0&&l.iceTransport!==n.transceivers[0].iceTransport)&&!a(l.iceTransport,h))return o(c("OperationError","Can not add ICE candidate"));var d=t.candidate.trim();0===d.indexOf("a=")&&(d=d.substr(2)),(e=r.getMediaSections(n._remoteDescription.sdp))[s]+="a="+(h.type?d:"end-of-candidates")+"\r\n",n._remoteDescription.sdp=r.getDescription(n._remoteDescription.sdp)+e.join("")}else for(var f=0;f<n.transceivers.length&&(n.transceivers[f].rejected||(n.transceivers[f].iceTransport.addRemoteCandidate({}),(e=r.getMediaSections(n._remoteDescription.sdp))[f]+="a=end-of-candidates\r\n",n._remoteDescription.sdp=r.getDescription(n._remoteDescription.sdp)+e.join(""),!n.usingBundle));f++);i()})},l.prototype.getStats=function(e){if(e&&e instanceof t.MediaStreamTrack){var n=null;if(this.transceivers.forEach(function(t){t.rtpSender&&t.rtpSender.track===e?n=t.rtpSender:t.rtpReceiver&&t.rtpReceiver.track===e&&(n=t.rtpReceiver)}),!n)throw c("InvalidAccessError","Invalid selector.");return n.getStats()}var r=[];return this.transceivers.forEach(function(t){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach(function(e){t[e]&&r.push(t[e].getStats())})}),Promise.all(r).then(function(t){var e=new Map;return t.forEach(function(t){t.forEach(function(t){e.set(t.id,t)})}),e})},["RTCRtpSender","RTCRtpReceiver","RTCIceGatherer","RTCIceTransport","RTCDtlsTransport"].forEach(function(e){var n=t[e];if(n&&n.prototype&&n.prototype.getStats){var r=n.prototype.getStats;n.prototype.getStats=function(){return r.apply(this).then(function(t){var e=new Map;return Object.keys(t).forEach(function(n){t[n].type=function(t){return{inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[t.type]||t.type}(t[n]),e.set(n,t[n])}),e})}}});var h=["createOffer","createAnswer"];return h.forEach(function(t){var e=l.prototype[t];l.prototype[t]=function(){var t=arguments;return"function"==typeof t[0]||"function"==typeof t[1]?e.apply(this,[arguments[2]]).then(function(e){"function"==typeof t[0]&&t[0].apply(null,[e])},function(e){"function"==typeof t[1]&&t[1].apply(null,[e])}):e.apply(this,arguments)}}),(h=["setLocalDescription","setRemoteDescription","addIceCandidate"]).forEach(function(t){var e=l.prototype[t];l.prototype[t]=function(){var t=arguments;return"function"==typeof t[1]||"function"==typeof t[2]?e.apply(this,arguments).then(function(){"function"==typeof t[1]&&t[1].apply(null)},function(e){"function"==typeof t[2]&&t[2].apply(null,[e])}):e.apply(this,arguments)}}),["getStats"].forEach(function(t){var e=l.prototype[t];l.prototype[t]=function(){var t=arguments;return"function"==typeof t[1]?e.apply(this,arguments).then(function(){"function"==typeof t[1]&&t[1].apply(null)}):e.apply(this,arguments)}}),l}},{sdp:"YHvh"}],YdKx:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.shimGetUserMedia=function(t){var e=t&&t.navigator,n=e.mediaDevices.getUserMedia.bind(e.mediaDevices);e.mediaDevices.getUserMedia=function(t){return n(t).catch(function(t){return Promise.reject(function(t){return{name:{PermissionDeniedError:"NotAllowedError"}[t.name]||t.name,message:t.message,constraint:t.constraint,toString:function(){return this.name}}}(t))})}}},{}],P3bV:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.shimGetDisplayMedia=function(t){"getDisplayMedia"in t.navigator&&t.navigator.mediaDevices&&(t.navigator.mediaDevices&&"getDisplayMedia"in t.navigator.mediaDevices||(t.navigator.mediaDevices.getDisplayMedia=t.navigator.getDisplayMedia.bind(t.navigator)))}},{}],XRic:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.shimPeerConnection=function(t){var e=r.detectBrowser(t);if(t.RTCIceGatherer&&(t.RTCIceCandidate||(t.RTCIceCandidate=function(t){return t}),t.RTCSessionDescription||(t.RTCSessionDescription=function(t){return t}),e.version<15025)){var n=Object.getOwnPropertyDescriptor(t.MediaStreamTrack.prototype,"enabled");Object.defineProperty(t.MediaStreamTrack.prototype,"enabled",{set:function(t){n.set.call(this,t);var e=new Event("enabled");e.enabled=t,this.dispatchEvent(e)}})}!t.RTCRtpSender||"dtmf"in t.RTCRtpSender.prototype||Object.defineProperty(t.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=new t.RTCDtmfSender(this):"video"===this.track.kind&&(this._dtmf=null)),this._dtmf}}),t.RTCDtmfSender&&!t.RTCDTMFSender&&(t.RTCDTMFSender=t.RTCDtmfSender);var s=(0,o.default)(t,e.version);t.RTCPeerConnection=function(t){return t&&t.iceServers&&(t.iceServers=(0,i.filterIceServers)(t.iceServers,e.version),r.log("ICE servers after filtering:",t.iceServers)),new s(t)},t.RTCPeerConnection.prototype=s.prototype},n.shimReplaceTrack=function(t){!t.RTCRtpSender||"replaceTrack"in t.RTCRtpSender.prototype||(t.RTCRtpSender.prototype.replaceTrack=t.RTCRtpSender.prototype.setTrack)},Object.defineProperty(n,"shimGetUserMedia",{enumerable:!0,get:function(){return s.shimGetUserMedia}}),Object.defineProperty(n,"shimGetDisplayMedia",{enumerable:!0,get:function(){return a.shimGetDisplayMedia}});var r=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=c();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}return n.default=t,e&&e.set(t,n),n}(t("../utils")),i=t("./filtericeservers"),o=function(t){return t&&t.__esModule?t:{default:t}}(t("rtcpeerconnection-shim")),s=t("./getusermedia"),a=t("./getdisplaymedia");function c(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return c=function(){return t},t}},{"../utils":"iSxC","./filtericeservers":"NZ1C","rtcpeerconnection-shim":"NJ2u","./getusermedia":"YdKx","./getdisplaymedia":"P3bV"}],GzSv:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.shimGetUserMedia=function(t){var e=r.detectBrowser(t),n=t&&t.navigator,i=t&&t.MediaStreamTrack;if(n.getUserMedia=function(t,e,i){r.deprecated("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(t).then(e,i)},!(e.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){var s=function(t,e,n){e in t&&!(n in t)&&(t[n]=t[e],delete t[e])},a=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(t){return"object"===o(t)&&"object"===o(t.audio)&&(t=JSON.parse(JSON.stringify(t)),s(t.audio,"autoGainControl","mozAutoGainControl"),s(t.audio,"noiseSuppression","mozNoiseSuppression")),a(t)},i&&i.prototype.getSettings){var c=i.prototype.getSettings;i.prototype.getSettings=function(){var t=c.apply(this,arguments);return s(t,"mozAutoGainControl","autoGainControl"),s(t,"mozNoiseSuppression","noiseSuppression"),t}}if(i&&i.prototype.applyConstraints){var u=i.prototype.applyConstraints;i.prototype.applyConstraints=function(t){return"audio"===this.kind&&"object"===o(t)&&(t=JSON.parse(JSON.stringify(t)),s(t,"autoGainControl","mozAutoGainControl"),s(t,"noiseSuppression","mozNoiseSuppression")),u.apply(this,[t])}}}};var r=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=i();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var s=r?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}(t("../utils"));function i(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return i=function(){return t},t}function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}},{"../utils":"iSxC"}],UuGU:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.shimGetDisplayMedia=function(t,e){t.navigator.mediaDevices&&"getDisplayMedia"in t.navigator.mediaDevices||t.navigator.mediaDevices&&(t.navigator.mediaDevices.getDisplayMedia=function(n){if(!n||!n.video){var r=new DOMException("getDisplayMedia without video constraints is undefined");return r.name="NotFoundError",r.code=8,Promise.reject(r)}return!0===n.video?n.video={mediaSource:e}:n.video.mediaSource=e,t.navigator.mediaDevices.getUserMedia(n)})}},{}],Fzdr:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.shimOnTrack=function(t){"object"===a(t)&&t.RTCTrackEvent&&"receiver"in t.RTCTrackEvent.prototype&&!("transceiver"in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})},n.shimPeerConnection=function(t){var e=r.detectBrowser(t);if("object"===a(t)&&(t.RTCPeerConnection||t.mozRTCPeerConnection)){if(!t.RTCPeerConnection&&t.mozRTCPeerConnection&&(t.RTCPeerConnection=t.mozRTCPeerConnection),e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(e){var n=t.RTCPeerConnection.prototype[e],r=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},e,function(){return arguments[0]=new("addIceCandidate"===e?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)});t.RTCPeerConnection.prototype[e]=r[e]}),e.version<68){var n=t.RTCPeerConnection.prototype.addIceCandidate;t.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?arguments[0]&&""===arguments[0].candidate?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())}}var i={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},o=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){var[t,n,r]=arguments;return o.apply(this,[t||null]).then(function(t){if(e.version<53&&!n)try{t.forEach(function(t){t.type=i[t.type]||t.type})}catch(r){if("TypeError"!==r.name)throw r;t.forEach(function(e,n){t.set(n,Object.assign({},e,{type:i[e.type]||e.type}))})}return t}).then(n,r)}}},n.shimSenderGetStats=function(t){if("object"===a(t)&&t.RTCPeerConnection&&t.RTCRtpSender&&(!t.RTCRtpSender||!("getStats"in t.RTCRtpSender.prototype))){var e=t.RTCPeerConnection.prototype.getSenders;e&&(t.RTCPeerConnection.prototype.getSenders=function(){var t=this,n=e.apply(this,[]);return n.forEach(function(e){return e._pc=t}),n});var n=t.RTCPeerConnection.prototype.addTrack;n&&(t.RTCPeerConnection.prototype.addTrack=function(){var t=n.apply(this,arguments);return t._pc=this,t}),t.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}},n.shimReceiverGetStats=function(t){if("object"===a(t)&&t.RTCPeerConnection&&t.RTCRtpSender&&(!t.RTCRtpSender||!("getStats"in t.RTCRtpReceiver.prototype))){var e=t.RTCPeerConnection.prototype.getReceivers;e&&(t.RTCPeerConnection.prototype.getReceivers=function(){var t=this,n=e.apply(this,[]);return n.forEach(function(e){return e._pc=t}),n}),r.wrapPeerConnectionEvent(t,"track",function(t){return t.receiver._pc=t.srcElement,t}),t.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}},n.shimRemoveStream=function(t){!t.RTCPeerConnection||"removeStream"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.removeStream=function(t){var e=this;r.deprecated("removeStream","removeTrack"),this.getSenders().forEach(function(n){n.track&&t.getTracks().includes(n.track)&&e.removeTrack(n)})})},n.shimRTCDataChannel=function(t){t.DataChannel&&!t.RTCDataChannel&&(t.RTCDataChannel=t.DataChannel)},n.shimAddTransceiver=function(t){if("object"===a(t)&&t.RTCPeerConnection){var e=t.RTCPeerConnection.prototype.addTransceiver;e&&(t.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];var t=arguments[1],n=t&&"sendEncodings"in t;n&&t.sendEncodings.forEach(function(t){if("rid"in t&&!/^[a-z0-9]{0,16}$/i.test(t.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in t&&!(parseFloat(t.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in t&&!(parseFloat(t.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});var r=e.apply(this,arguments);if(n){var{sender:i}=r,o=i.getParameters();"encodings"in o||(o.encodings=t.sendEncodings,this.setParametersPromises.push(i.setParameters(o).catch(function(){})))}return r})}},n.shimCreateOffer=function(t){if("object"===a(t)&&t.RTCPeerConnection){var e=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(){var t=arguments,n=this;return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(function(){return e.apply(n,t)}).finally(function(){n.setParametersPromises=[]}):e.apply(this,arguments)}}},n.shimCreateAnswer=function(t){if("object"===a(t)&&t.RTCPeerConnection){var e=t.RTCPeerConnection.prototype.createAnswer;t.RTCPeerConnection.prototype.createAnswer=function(){var t=arguments,n=this;return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(function(){return e.apply(n,t)}).finally(function(){n.setParametersPromises=[]}):e.apply(this,arguments)}}},Object.defineProperty(n,"shimGetUserMedia",{enumerable:!0,get:function(){return i.shimGetUserMedia}}),Object.defineProperty(n,"shimGetDisplayMedia",{enumerable:!0,get:function(){return o.shimGetDisplayMedia}});var r=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=s();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}return n.default=t,e&&e.set(t,n),n}(t("../utils")),i=t("./getusermedia"),o=t("./getdisplaymedia");function s(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return s=function(){return t},t}function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}},{"../utils":"iSxC","./getusermedia":"GzSv","./getdisplaymedia":"UuGU"}],t1lL:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.shimLocalStreamsAPI=function(t){if("object"===o(t)&&t.RTCPeerConnection){if("getLocalStreams"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in t.RTCPeerConnection.prototype)){var e=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addStream=function(t){var n=this;this._localStreams||(this._localStreams=[]),this._localStreams.includes(t)||this._localStreams.push(t),t.getAudioTracks().forEach(function(r){return e.call(n,r,t)}),t.getVideoTracks().forEach(function(r){return e.call(n,r,t)})},t.RTCPeerConnection.prototype.addTrack=function(t){var n=arguments[1];return n&&(this._localStreams?this._localStreams.includes(n)||this._localStreams.push(n):this._localStreams=[n]),e.apply(this,arguments)}}"removeStream"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.removeStream=function(t){var e=this;this._localStreams||(this._localStreams=[]);var n=this._localStreams.indexOf(t);if(-1!==n){this._localStreams.splice(n,1);var r=t.getTracks();this.getSenders().forEach(function(t){r.includes(t.track)&&e.removeTrack(t)})}})}},n.shimRemoteStreamsAPI=function(t){if("object"===o(t)&&t.RTCPeerConnection&&("getRemoteStreams"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in t.RTCPeerConnection.prototype))){Object.defineProperty(t.RTCPeerConnection.prototype,"onaddstream",{get:function(){return this._onaddstream},set:function(t){var e=this;this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=t),this.addEventListener("track",this._onaddstreampoly=function(t){t.streams.forEach(function(t){if(e._remoteStreams||(e._remoteStreams=[]),!e._remoteStreams.includes(t)){e._remoteStreams.push(t);var n=new Event("addstream");n.stream=t,e.dispatchEvent(n)}})})}});var e=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){var t=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(e){e.streams.forEach(function(e){if(t._remoteStreams||(t._remoteStreams=[]),!(t._remoteStreams.indexOf(e)>=0)){t._remoteStreams.push(e);var n=new Event("addstream");n.stream=e,t.dispatchEvent(n)}})}),e.apply(t,arguments)}}},n.shimCallbacksAPI=function(t){if("object"===o(t)&&t.RTCPeerConnection){var e=t.RTCPeerConnection.prototype,n=e.createOffer,r=e.createAnswer,i=e.setLocalDescription,s=e.setRemoteDescription,a=e.addIceCandidate;e.createOffer=function(t,e){var r=arguments.length>=2?arguments[2]:arguments[0],i=n.apply(this,[r]);return e?(i.then(t,e),Promise.resolve()):i},e.createAnswer=function(t,e){var n=arguments.length>=2?arguments[2]:arguments[0],i=r.apply(this,[n]);return e?(i.then(t,e),Promise.resolve()):i};var c=function(t,e,n){var r=i.apply(this,[t]);return n?(r.then(e,n),Promise.resolve()):r};e.setLocalDescription=c,e.setRemoteDescription=c=function(t,e,n){var r=s.apply(this,[t]);return n?(r.then(e,n),Promise.resolve()):r},e.addIceCandidate=c=function(t,e,n){var r=a.apply(this,[t]);return n?(r.then(e,n),Promise.resolve()):r}}},n.shimGetUserMedia=function(t){var e=t&&t.navigator;if(e.mediaDevices&&e.mediaDevices.getUserMedia){var n=e.mediaDevices,r=n.getUserMedia.bind(n);e.mediaDevices.getUserMedia=function(t){return r(s(t))}}!e.getUserMedia&&e.mediaDevices&&e.mediaDevices.getUserMedia&&(e.getUserMedia=(function(t,n,r){e.mediaDevices.getUserMedia(t).then(n,r)}).bind(e))},n.shimConstraints=s,n.shimRTCIceServerUrls=function(t){var e=t.RTCPeerConnection;t.RTCPeerConnection=function(t,n){if(t&&t.iceServers){for(var i=[],o=0;o<t.iceServers.length;o++){var s=t.iceServers[o];!s.hasOwnProperty("urls")&&s.hasOwnProperty("url")?(r.deprecated("RTCIceServer.url","RTCIceServer.urls"),(s=JSON.parse(JSON.stringify(s))).urls=s.url,delete s.url,i.push(s)):i.push(t.iceServers[o])}t.iceServers=i}return new e(t,n)},t.RTCPeerConnection.prototype=e.prototype,"generateCertificate"in t.RTCPeerConnection&&Object.defineProperty(t.RTCPeerConnection,"generateCertificate",{get:function(){return e.generateCertificate}})},n.shimTrackEventTransceiver=function(t){"object"===o(t)&&t.RTCTrackEvent&&"receiver"in t.RTCTrackEvent.prototype&&!("transceiver"in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})},n.shimCreateOfferLegacy=function(t){var e=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(t){if(t){void 0!==t.offerToReceiveAudio&&(t.offerToReceiveAudio=!!t.offerToReceiveAudio);var n=this.getTransceivers().find(function(t){return"audio"===t.receiver.track.kind});!1===t.offerToReceiveAudio&&n?"sendrecv"===n.direction?n.setDirection?n.setDirection("sendonly"):n.direction="sendonly":"recvonly"===n.direction&&(n.setDirection?n.setDirection("inactive"):n.direction="inactive"):!0!==t.offerToReceiveAudio||n||this.addTransceiver("audio"),void 0!==t.offerToReceiveVideo&&(t.offerToReceiveVideo=!!t.offerToReceiveVideo);var r=this.getTransceivers().find(function(t){return"video"===t.receiver.track.kind});!1===t.offerToReceiveVideo&&r?"sendrecv"===r.direction?r.setDirection?r.setDirection("sendonly"):r.direction="sendonly":"recvonly"===r.direction&&(r.setDirection?r.setDirection("inactive"):r.direction="inactive"):!0!==t.offerToReceiveVideo||r||this.addTransceiver("video")}return e.apply(this,arguments)}};var r=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=i();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var s=r?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}(t("../utils"));function i(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return i=function(){return t},t}function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t){return t&&void 0!==t.video?Object.assign({},t,{video:r.compactObject(t.video)}):t}},{"../utils":"iSxC"}],GOQK:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.shimRTCIceCandidate=function(t){if(t.RTCIceCandidate&&(!t.RTCIceCandidate||!("foundation"in t.RTCIceCandidate.prototype))){var e=t.RTCIceCandidate;t.RTCIceCandidate=function(t){if("object"===s(t)&&t.candidate&&0===t.candidate.indexOf("a=")&&((t=JSON.parse(JSON.stringify(t))).candidate=t.candidate.substr(2)),t.candidate&&t.candidate.length){var n=new e(t),i=r.default.parseCandidate(t.candidate),o=Object.assign(n,i);return o.toJSON=function(){return{candidate:o.candidate,sdpMid:o.sdpMid,sdpMLineIndex:o.sdpMLineIndex,usernameFragment:o.usernameFragment}},o}return new e(t)},t.RTCIceCandidate.prototype=e.prototype,i.wrapPeerConnectionEvent(t,"icecandidate",function(e){return e.candidate&&Object.defineProperty(e,"candidate",{value:new t.RTCIceCandidate(e.candidate),writable:"false"}),e})}},n.shimMaxMessageSize=function(t){if(t.RTCPeerConnection){var e=i.detectBrowser(t);"sctp"in t.RTCPeerConnection.prototype||Object.defineProperty(t.RTCPeerConnection.prototype,"sctp",{get:function(){return void 0===this._sctp?null:this._sctp}});var n=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,"chrome"===e.browser&&e.version>=76){var{sdpSemantics:t}=this.getConfiguration();"plan-b"===t&&Object.defineProperty(this,"sctp",{get:function(){return void 0===this._sctp?null:this._sctp},enumerable:!0,configurable:!0})}if(function(t){if(!t||!t.sdp)return!1;var e=r.default.splitSections(t.sdp);return e.shift(),e.some(function(t){var e=r.default.parseMLine(t);return e&&"application"===e.kind&&-1!==e.protocol.indexOf("SCTP")})}(arguments[0])){var i,o=function(t){var e=t.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===e||e.length<2)return-1;var n=parseInt(e[1],10);return n!=n?-1:n}(arguments[0]),s=(u=o,l=65536,"firefox"===e.browser&&(l=e.version<57?-1===u?16384:2147483637:e.version<60?57===e.version?65535:65536:2147483637),l),a=function(t,n){var i=65536;"firefox"===e.browser&&57===e.version&&(i=65535);var o=r.default.matchPrefix(t.sdp,"a=max-message-size:");return o.length>0?i=parseInt(o[0].substr(19),10):"firefox"===e.browser&&-1!==n&&(i=2147483637),i}(arguments[0],o);i=0===s&&0===a?Number.POSITIVE_INFINITY:0===s||0===a?Math.max(s,a):Math.min(s,a);var c={};Object.defineProperty(c,"maxMessageSize",{get:function(){return i}}),this._sctp=c}var u,l;return n.apply(this,arguments)}}},n.shimSendThrowTypeError=function(t){if(t.RTCPeerConnection&&"createDataChannel"in t.RTCPeerConnection.prototype){var e=t.RTCPeerConnection.prototype.createDataChannel;t.RTCPeerConnection.prototype.createDataChannel=function(){var t=e.apply(this,arguments);return n(t,this),t},i.wrapPeerConnectionEvent(t,"datachannel",function(t){return n(t.channel,t.target),t})}function n(t,e){var n=t.send;t.send=function(){var r=arguments[0],i=r.length||r.size||r.byteLength;if("open"===t.readyState&&e.sctp&&i>e.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+e.sctp.maxMessageSize+" bytes)");return n.apply(t,arguments)}}},n.shimConnectionState=function(t){if(t.RTCPeerConnection&&!("connectionState"in t.RTCPeerConnection.prototype)){var e=t.RTCPeerConnection.prototype;Object.defineProperty(e,"connectionState",{get:function(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(e,"onconnectionstatechange",{get:function(){return this._onconnectionstatechange||null},set:function(t){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),t&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=t)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(function(t){var n=e[t];e[t]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=function(t){var e=t.target;if(e._lastConnectionState!==e.connectionState){e._lastConnectionState=e.connectionState;var n=new Event("connectionstatechange",t);e.dispatchEvent(n)}return t},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),n.apply(this,arguments)}})}},n.removeAllowExtmapMixed=function(t){if(t.RTCPeerConnection){var e=i.detectBrowser(t);if(!("chrome"===e.browser&&e.version>=71)){var n=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(t){return t&&t.sdp&&-1!==t.sdp.indexOf("\na=extmap-allow-mixed")&&(t.sdp=t.sdp.split("\n").filter(function(t){return"a=extmap-allow-mixed"!==t.trim()}).join("\n")),n.apply(this,arguments)}}}};var r=function(t){return t&&t.__esModule?t:{default:t}}(t("sdp")),i=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=o();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var s=r?Object.getOwnPropertyDescriptor(t,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=t[i]}return n.default=t,e&&e.set(t,n),n}(t("./utils"));function o(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return o=function(){return t},t}function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}},{sdp:"YHvh","./utils":"iSxC"}],KtlG:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.adapterFactory=function(){var{window:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shimChrome:!0,shimFirefox:!0,shimEdge:!0,shimSafari:!0},n=r.log,u=r.detectBrowser(t),l={browserDetails:u,commonShim:c,extractVersion:r.extractVersion,disableLog:r.disableLog,disableWarnings:r.disableWarnings};switch(u.browser){case"chrome":if(!i||!i.shimPeerConnection||!e.shimChrome)return n("Chrome shim is not included in this adapter release."),l;n("adapter.js shimming chrome."),l.browserShim=i,i.shimGetUserMedia(t),i.shimMediaStream(t),i.shimPeerConnection(t),i.shimOnTrack(t),i.shimAddTrackRemoveTrack(t),i.shimGetSendersWithDtmf(t),i.shimGetStats(t),i.shimSenderReceiverGetStats(t),i.fixNegotiationNeeded(t),c.shimRTCIceCandidate(t),c.shimConnectionState(t),c.shimMaxMessageSize(t),c.shimSendThrowTypeError(t),c.removeAllowExtmapMixed(t);break;case"firefox":if(!s||!s.shimPeerConnection||!e.shimFirefox)return n("Firefox shim is not included in this adapter release."),l;n("adapter.js shimming firefox."),l.browserShim=s,s.shimGetUserMedia(t),s.shimPeerConnection(t),s.shimOnTrack(t),s.shimRemoveStream(t),s.shimSenderGetStats(t),s.shimReceiverGetStats(t),s.shimRTCDataChannel(t),s.shimAddTransceiver(t),s.shimCreateOffer(t),s.shimCreateAnswer(t),c.shimRTCIceCandidate(t),c.shimConnectionState(t),c.shimMaxMessageSize(t),c.shimSendThrowTypeError(t);break;case"edge":if(!o||!o.shimPeerConnection||!e.shimEdge)return n("MS edge shim is not included in this adapter release."),l;n("adapter.js shimming edge."),l.browserShim=o,o.shimGetUserMedia(t),o.shimGetDisplayMedia(t),o.shimPeerConnection(t),o.shimReplaceTrack(t),c.shimMaxMessageSize(t),c.shimSendThrowTypeError(t);break;case"safari":if(!a||!e.shimSafari)return n("Safari shim is not included in this adapter release."),l;n("adapter.js shimming safari."),l.browserShim=a,a.shimRTCIceServerUrls(t),a.shimCreateOfferLegacy(t),a.shimCallbacksAPI(t),a.shimLocalStreamsAPI(t),a.shimRemoteStreamsAPI(t),a.shimTrackEventTransceiver(t),a.shimGetUserMedia(t),c.shimRTCIceCandidate(t),c.shimMaxMessageSize(t),c.shimSendThrowTypeError(t),c.removeAllowExtmapMixed(t);break;default:n("Unsupported browser!")}return l};var r=l(t("./utils")),i=l(t("./chrome/chrome_shim")),o=l(t("./edge/edge_shim")),s=l(t("./firefox/firefox_shim")),a=l(t("./safari/safari_shim")),c=l(t("./common_shim"));function u(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return u=function(){return t},t}function l(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=u();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}return n.default=t,e&&e.set(t,n),n}},{"./utils":"iSxC","./chrome/chrome_shim":"uI5X","./edge/edge_shim":"XRic","./firefox/firefox_shim":"Fzdr","./safari/safari_shim":"t1lL","./common_shim":"GOQK"}],tI1X:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=(0,t("./adapter_factory.js").adapterFactory)({window:window});n.default=r},{"./adapter_factory.js":"KtlG"}],sXtV:[function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var i=r(t("webrtc-adapter"));n.webRTCAdapter=i.default},{"webrtc-adapter":"tI1X"}],I31f:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("./adapter");n.Supports=new(function(){function t(){this.isIOS=["iPad","iPhone","iPod"].includes(navigator.platform),this.supportedBrowsers=["firefox","chrome","safari"],this.minFirefoxVersion=59,this.minChromeVersion=72,this.minSafariVersion=605}return t.prototype.isWebRTCSupported=function(){return"undefined"!=typeof RTCPeerConnection},t.prototype.isBrowserSupported=function(){var t=this.getBrowser(),e=this.getVersion();return!!this.supportedBrowsers.includes(t)&&("chrome"===t?e>=this.minChromeVersion:"firefox"===t?e>=this.minFirefoxVersion:"safari"===t&&!this.isIOS&&e>=this.minSafariVersion)},t.prototype.getBrowser=function(){return r.webRTCAdapter.browserDetails.browser},t.prototype.getVersion=function(){return r.webRTCAdapter.browserDetails.version||0},t.prototype.isUnifiedPlanSupported=function(){var t,e=this.getBrowser(),n=r.webRTCAdapter.browserDetails.version||0;if("chrome"===e&&n<72)return!1;if("firefox"===e&&n>=59)return!0;if(!window.RTCRtpTransceiver||!("currentDirection"in RTCRtpTransceiver.prototype))return!1;var i=!1;try{(t=new RTCPeerConnection).addTransceiver("audio"),i=!0}catch(o){}finally{t&&t.close()}return i},t.prototype.toString=function(){return"Supports: \n    browser:"+this.getBrowser()+" \n    version:"+this.getVersion()+" \n    isIOS:"+this.isIOS+" \n    isWebRTCSupported:"+this.isWebRTCSupported()+" \n    isBrowserSupported:"+this.isBrowserSupported()+" \n    isUnifiedPlanSupported:"+this.isUnifiedPlanSupported()},t}())},{"./adapter":"sXtV"}],BHXf:[function(t,e,n){"use strict";var r=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(n,"__esModule",{value:!0});var i=r(t("peerjs-js-binarypack")),o=t("./supports"),s={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"turn:0.peerjs.com:3478",username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"};n.util=new(function(){function t(){this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedBrowsers={Chrome:1,chrome:1},this.chunkedMTU=16300,this.defaultConfig=s,this.browser=o.Supports.getBrowser(),this.browserVersion=o.Supports.getVersion(),this.supports=function(){var t,e={browser:o.Supports.isBrowserSupported(),webRTC:o.Supports.isWebRTCSupported(),audioVideo:!1,data:!1,binaryBlob:!1,reliable:!1};if(!e.webRTC)return e;try{t=new RTCPeerConnection(s),e.audioVideo=!0;var n=void 0;try{n=t.createDataChannel("_PEERJSTEST",{ordered:!0}),e.data=!0,e.reliable=!!n.ordered;try{n.binaryType="blob",e.binaryBlob=!o.Supports.isIOS}catch(r){}}catch(r){}finally{n&&n.close()}}catch(r){}finally{t&&t.close()}return e}(),this.pack=i.pack,this.unpack=i.unpack,this._dataCount=1}return t.prototype.noop=function(){},t.prototype.validateId=function(t){return!t||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(t)},t.prototype.chunk=function(t){for(var e=[],r=t.size,i=Math.ceil(r/n.util.chunkedMTU),o=0,s=0;s<r;){var a=Math.min(r,s+n.util.chunkedMTU),c=t.slice(s,a);e.push({__peerData:this._dataCount,n:o,data:c,total:i}),s=a,o++}return this._dataCount++,e},t.prototype.blobToArrayBuffer=function(t,e){var n=new FileReader;return n.onload=function(t){t.target&&e(t.target.result)},n.readAsArrayBuffer(t),n},t.prototype.binaryStringToArrayBuffer=function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=255&t.charCodeAt(n);return e.buffer},t.prototype.randomToken=function(){return Math.random().toString(36).substr(2)},t.prototype.isSecure=function(){return"https:"===location.protocol},t}())},{"peerjs-js-binarypack":"kdPp","./supports":"I31f"}],JJlS:[function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty,i="~";function o(){}function s(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function a(t,e,n,r,o){if("function"!=typeof n)throw new TypeError("The listener must be a function");var a=new s(n,r||t,o),c=i?i+e:e;return t._events[c]?t._events[c].fn?t._events[c]=[t._events[c],a]:t._events[c].push(a):(t._events[c]=a,t._eventsCount++),t}function c(t,e){0==--t._eventsCount?t._events=new o:delete t._events[e]}function u(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(i=!1)),u.prototype.eventNames=function(){var t,e,n=[];if(0===this._eventsCount)return n;for(e in t=this._events)r.call(t,e)&&n.push(i?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},u.prototype.listeners=function(t){var e=this._events[i?i+t:t];if(!e)return[];if(e.fn)return[e.fn];for(var n=0,r=e.length,o=new Array(r);n<r;n++)o[n]=e[n].fn;return o},u.prototype.listenerCount=function(t){var e=this._events[i?i+t:t];return e?e.fn?1:e.length:0},u.prototype.emit=function(t,e,n,r,o,s){var a=i?i+t:t;if(!this._events[a])return!1;var c,u,l=this._events[a],h=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),h){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,n),!0;case 4:return l.fn.call(l.context,e,n,r),!0;case 5:return l.fn.call(l.context,e,n,r,o),!0;case 6:return l.fn.call(l.context,e,n,r,o,s),!0}for(u=1,c=new Array(h-1);u<h;u++)c[u-1]=arguments[u];l.fn.apply(l.context,c)}else{var d,f=l.length;for(u=0;u<f;u++)switch(l[u].once&&this.removeListener(t,l[u].fn,void 0,!0),h){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,e);break;case 3:l[u].fn.call(l[u].context,e,n);break;case 4:l[u].fn.call(l[u].context,e,n,r);break;default:if(!c)for(d=1,c=new Array(h-1);d<h;d++)c[d-1]=arguments[d];l[u].fn.apply(l[u].context,c)}}return!0},u.prototype.on=function(t,e,n){return a(this,t,e,n,!1)},u.prototype.once=function(t,e,n){return a(this,t,e,n,!0)},u.prototype.removeListener=function(t,e,n,r){var o=i?i+t:t;if(!this._events[o])return this;if(!e)return c(this,o),this;var s=this._events[o];if(s.fn)s.fn!==e||r&&!s.once||n&&s.context!==n||c(this,o);else{for(var a=0,u=[],l=s.length;a<l;a++)(s[a].fn!==e||r&&!s[a].once||n&&s[a].context!==n)&&u.push(s[a]);u.length?this._events[o]=1===u.length?u[0]:u:c(this,o)}return this},u.prototype.removeAllListeners=function(t){var e;return t?this._events[e=i?i+t:t]&&c(this,e):(this._events=new o,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=i,u.EventEmitter=u,void 0!==e&&(e.exports=u)},{}],WOs9:[function(t,e,n){"use strict";var r=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},i=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(r(arguments[e]));return t};Object.defineProperty(n,"__esModule",{value:!0});var o,s="PeerJS: ";!function(t){t[t.Disabled=0]="Disabled",t[t.Errors=1]="Errors",t[t.Warnings=2]="Warnings",t[t.All=3]="All"}(o=n.LogLevel||(n.LogLevel={}));var a=function(){function t(){this._logLevel=o.Disabled}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){this._logLevel=t},enumerable:!0,configurable:!0}),t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logLevel>=o.All&&this._print.apply(this,i([o.All],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logLevel>=o.Warnings&&this._print.apply(this,i([o.Warnings],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logLevel>=o.Errors&&this._print.apply(this,i([o.Errors],t))},t.prototype.setLogFunction=function(t){this._print=t},t.prototype._print=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=i([s],e);for(var a in r)r[a]instanceof Error&&(r[a]="("+r[a].name+") "+r[a].message);t>=o.All?console.log.apply(console,i(r)):t>=o.Warnings?console.warn.apply(console,i(["WARNING"],r)):t>=o.Errors&&console.error.apply(console,i(["ERROR"],r))},t}();n.default=new a},{}],ZRYf:[function(t,e,n){"use strict";var r;Object.defineProperty(n,"__esModule",{value:!0}),(r=n.ConnectionEventType||(n.ConnectionEventType={})).Open="open",r.Stream="stream",r.Data="data",r.Close="close",r.Error="error",r.IceStateChanged="iceStateChanged",function(t){t.Data="data",t.Media="media"}(n.ConnectionType||(n.ConnectionType={})),function(t){t.Open="open",t.Close="close",t.Connection="connection",t.Call="call",t.Disconnected="disconnected",t.Error="error"}(n.PeerEventType||(n.PeerEventType={})),function(t){t.BrowserIncompatible="browser-incompatible",t.Disconnected="disconnected",t.InvalidID="invalid-id",t.InvalidKey="invalid-key",t.Network="network",t.PeerUnavailable="peer-unavailable",t.SslUnavailable="ssl-unavailable",t.ServerError="server-error",t.SocketError="socket-error",t.SocketClosed="socket-closed",t.UnavailableID="unavailable-id",t.WebRTC="webrtc"}(n.PeerErrorType||(n.PeerErrorType={})),function(t){t.Binary="binary",t.BinaryUTF8="binary-utf8",t.JSON="json"}(n.SerializationType||(n.SerializationType={})),function(t){t.Message="message",t.Disconnected="disconnected",t.Error="error",t.Close="close"}(n.SocketEventType||(n.SocketEventType={})),function(t){t.Heartbeat="HEARTBEAT",t.Candidate="CANDIDATE",t.Offer="OFFER",t.Answer="ANSWER",t.Open="OPEN",t.Error="ERROR",t.IdTaken="ID-TAKEN",t.InvalidKey="INVALID-KEY",t.Leave="LEAVE",t.Expire="EXPIRE"}(n.ServerMessageType||(n.ServerMessageType={}))},{}],wJlv:[function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(l){i={error:l}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},o=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(i(arguments[e]));return t},s=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("eventemitter3"),u=a(t("./logger")),l=t("./enums"),h=function(t){function e(e,n,r,i,o,s){void 0===s&&(s=5e3);var a=t.call(this)||this;return a.pingInterval=s,a._disconnected=!0,a._messagesQueue=[],a._baseUrl=(e?"wss://":"ws://")+n+":"+r+i+"peerjs?key="+o,a}return r(e,t),e.prototype.start=function(t,e){var n=this;this._id=t,!this._socket&&this._disconnected&&(this._socket=new WebSocket(this._baseUrl+"&id="+t+"&token="+e),this._disconnected=!1,this._socket.onmessage=function(t){var e;try{e=JSON.parse(t.data),u.default.log("Server message received:",e)}catch(s){return void u.default.log("Invalid server message",t.data)}n.emit(l.SocketEventType.Message,e)},this._socket.onclose=function(t){n._disconnected||(u.default.log("Socket closed.",t),n._cleanup(),n._disconnected=!0,n.emit(l.SocketEventType.Disconnected))},this._socket.onopen=function(){n._disconnected||(n._sendQueuedMessages(),u.default.log("Socket open"),n._scheduleHeartbeat())})},e.prototype._scheduleHeartbeat=function(){var t=this;this._wsPingTimer=setTimeout(function(){t._sendHeartbeat()},this.pingInterval)},e.prototype._sendHeartbeat=function(){if(this._wsOpen()){var t=JSON.stringify({type:l.ServerMessageType.Heartbeat});this._socket.send(t),this._scheduleHeartbeat()}else u.default.log("Cannot send heartbeat, because socket closed")},e.prototype._wsOpen=function(){return!!this._socket&&1===this._socket.readyState},e.prototype._sendQueuedMessages=function(){var t,e,n=o(this._messagesQueue);this._messagesQueue=[];try{for(var r=s(n),i=r.next();!i.done;i=r.next())this.send(i.value)}catch(h){t={error:h}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}},e.prototype.send=function(t){if(!this._disconnected)if(this._id)if(t.type){if(this._wsOpen()){var e=JSON.stringify(t);this._socket.send(e)}}else this.emit(l.SocketEventType.Error,"Invalid message");else this._messagesQueue.push(t)},e.prototype.close=function(){this._disconnected||(this._cleanup(),this._disconnected=!0)},e.prototype._cleanup=function(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)},e}(c.EventEmitter);n.Socket=h},{eventemitter3:"JJlS","./logger":"WOs9","./enums":"ZRYf"}],HCdX:[function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{c(r.next(t))}catch(e){o(e)}}function a(t){try{c(r.throw(t))}catch(e){o(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((r=r.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./util"),c=s(t("./logger")),u=t("./enums"),l=function(){function t(t){this.connection=t}return t.prototype.startConnection=function(t){var e=this._startPeerConnection();if(this.connection.peerConnection=e,this.connection.type===u.ConnectionType.Media&&t._stream&&this._addTracksToConnection(t._stream,e),t.originator){if(this.connection.type===u.ConnectionType.Data){var n=this.connection,r=e.createDataChannel(n.label,{ordered:!!t.reliable});n.initialize(r)}this._makeOffer()}else this.handleSDP("OFFER",t.sdp)},t.prototype._startPeerConnection=function(){c.default.log("Creating RTCPeerConnection.");var t=new RTCPeerConnection(this.connection.provider.options.config);return this._setupListeners(t),t},t.prototype._setupListeners=function(t){var e=this,n=this.connection.peer,r=this.connection.connectionId,i=this.connection.type,o=this.connection.provider;c.default.log("Listening for ICE candidates."),t.onicecandidate=function(t){t.candidate&&t.candidate.candidate&&(c.default.log("Received ICE candidates for "+n+":",t.candidate),o.socket.send({type:u.ServerMessageType.Candidate,payload:{candidate:t.candidate,type:i,connectionId:r},dst:n}))},t.oniceconnectionstatechange=function(){switch(t.iceConnectionState){case"failed":c.default.log("iceConnectionState is failed, closing connections to "+n),e.connection.emit(u.ConnectionEventType.Error,new Error("Negotiation of connection to "+n+" failed.")),e.connection.close();break;case"closed":c.default.log("iceConnectionState is closed, closing connections to "+n),e.connection.emit(u.ConnectionEventType.Error,new Error("Connection to "+n+" closed.")),e.connection.close();break;case"disconnected":c.default.log("iceConnectionState changed to disconnected on the connection with "+n);break;case"completed":t.onicecandidate=a.util.noop}e.connection.emit(u.ConnectionEventType.IceStateChanged,t.iceConnectionState)},c.default.log("Listening for data channel"),t.ondatachannel=function(t){c.default.log("Received data channel");var e=t.channel;o.getConnection(n,r).initialize(e)},c.default.log("Listening for remote stream"),t.ontrack=function(t){c.default.log("Received remote stream");var i=t.streams[0],s=o.getConnection(n,r);s.type===u.ConnectionType.Media&&e._addStreamToMediaConnection(i,s)}},t.prototype.cleanup=function(){c.default.log("Cleaning up PeerConnection to "+this.connection.peer);var t=this.connection.peerConnection;if(t){this.connection.peerConnection=null,t.onicecandidate=t.oniceconnectionstatechange=t.ondatachannel=t.ontrack=function(){};var e=!1;if(this.connection.type===u.ConnectionType.Data){var n=this.connection.dataChannel;n&&(e=!!n.readyState&&"closed"!==n.readyState)}("closed"!==t.signalingState||e)&&t.close()}},t.prototype._makeOffer=function(){return i(this,void 0,Promise,function(){var t,e,n,i,s,l,h;return o(this,function(o){switch(o.label){case 0:t=this.connection.peerConnection,e=this.connection.provider,o.label=1;case 1:return o.trys.push([1,7,,8]),[4,t.createOffer(this.connection.options.constraints)];case 2:n=o.sent(),c.default.log("Created offer."),this.connection.options.sdpTransform&&"function"==typeof this.connection.options.sdpTransform&&(n.sdp=this.connection.options.sdpTransform(n.sdp)||n.sdp),o.label=3;case 3:return o.trys.push([3,5,,6]),[4,t.setLocalDescription(n)];case 4:return o.sent(),c.default.log("Set localDescription:",n,"for:"+this.connection.peer),i={sdp:n,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata,browser:a.util.browser},this.connection.type===u.ConnectionType.Data&&(s=this.connection,i=r(r({},i),{label:s.label,reliable:s.reliable,serialization:s.serialization})),e.socket.send({type:u.ServerMessageType.Offer,payload:i,dst:this.connection.peer}),[3,6];case 5:return"OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"!=(l=o.sent())&&(e.emitError(u.PeerErrorType.WebRTC,l),c.default.log("Failed to setLocalDescription, ",l)),[3,6];case 6:return[3,8];case 7:return h=o.sent(),e.emitError(u.PeerErrorType.WebRTC,h),c.default.log("Failed to createOffer, ",h),[3,8];case 8:return[2]}})})},t.prototype._makeAnswer=function(){return i(this,void 0,Promise,function(){var t,e,n,r,i;return o(this,function(o){switch(o.label){case 0:t=this.connection.peerConnection,e=this.connection.provider,o.label=1;case 1:return o.trys.push([1,7,,8]),[4,t.createAnswer()];case 2:n=o.sent(),c.default.log("Created answer."),this.connection.options.sdpTransform&&"function"==typeof this.connection.options.sdpTransform&&(n.sdp=this.connection.options.sdpTransform(n.sdp)||n.sdp),o.label=3;case 3:return o.trys.push([3,5,,6]),[4,t.setLocalDescription(n)];case 4:return o.sent(),c.default.log("Set localDescription:",n,"for:"+this.connection.peer),e.socket.send({type:u.ServerMessageType.Answer,payload:{sdp:n,type:this.connection.type,connectionId:this.connection.connectionId,browser:a.util.browser},dst:this.connection.peer}),[3,6];case 5:return r=o.sent(),e.emitError(u.PeerErrorType.WebRTC,r),c.default.log("Failed to setLocalDescription, ",r),[3,6];case 6:return[3,8];case 7:return i=o.sent(),e.emitError(u.PeerErrorType.WebRTC,i),c.default.log("Failed to create answer, ",i),[3,8];case 8:return[2]}})})},t.prototype.handleSDP=function(t,e){return i(this,void 0,Promise,function(){var n,r,i,s;return o(this,function(o){switch(o.label){case 0:e=new RTCSessionDescription(e),n=this.connection.peerConnection,r=this.connection.provider,c.default.log("Setting remote description",e),i=this,o.label=1;case 1:return o.trys.push([1,5,,6]),[4,n.setRemoteDescription(e)];case 2:return o.sent(),c.default.log("Set remoteDescription:"+t+" for:"+this.connection.peer),"OFFER"!==t?[3,4]:[4,i._makeAnswer()];case 3:o.sent(),o.label=4;case 4:return[3,6];case 5:return s=o.sent(),r.emitError(u.PeerErrorType.WebRTC,s),c.default.log("Failed to setRemoteDescription, ",s),[3,6];case 6:return[2]}})})},t.prototype.handleCandidate=function(t){return i(this,void 0,Promise,function(){var e,n,r,i,s,a;return o(this,function(o){switch(o.label){case 0:c.default.log("handleCandidate:",t),e=t.candidate,n=t.sdpMLineIndex,r=t.sdpMid,i=this.connection.peerConnection,s=this.connection.provider,o.label=1;case 1:return o.trys.push([1,3,,4]),[4,i.addIceCandidate(new RTCIceCandidate({sdpMid:r,sdpMLineIndex:n,candidate:e}))];case 2:return o.sent(),c.default.log("Added ICE candidate for:"+this.connection.peer),[3,4];case 3:return a=o.sent(),s.emitError(u.PeerErrorType.WebRTC,a),c.default.log("Failed to handleCandidate, ",a),[3,4];case 4:return[2]}})})},t.prototype._addTracksToConnection=function(t,e){if(c.default.log("add tracks from stream "+t.id+" to peer connection"),!e.addTrack)return c.default.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");t.getTracks().forEach(function(n){e.addTrack(n,t)})},t.prototype._addStreamToMediaConnection=function(t,e){c.default.log("add stream "+t.id+" to media connection "+e.connectionId),e.addStream(t)},t}();n.Negotiator=l},{"./util":"BHXf","./logger":"WOs9","./enums":"ZRYf"}],tQFK:[function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(e,n,r){var i=t.call(this)||this;return i.peer=e,i.provider=n,i.options=r,i._open=!1,i.metadata=r.metadata,i}return r(e,t),Object.defineProperty(e.prototype,"open",{get:function(){return this._open},enumerable:!0,configurable:!0}),e}(t("eventemitter3").EventEmitter);n.BaseConnection=i},{eventemitter3:"JJlS"}],dbHP:[function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},o=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./util"),c=s(t("./logger")),u=t("./negotiator"),l=t("./enums"),h=function(t){function e(n,r,i){var o=t.call(this,n,r,i)||this;return o._localStream=o.options._stream,o.connectionId=o.options.connectionId||e.ID_PREFIX+a.util.randomToken(),o._negotiator=new u.Negotiator(o),o._localStream&&o._negotiator.startConnection({_stream:o._localStream,originator:!0}),o}return r(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return l.ConnectionType.Media},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"localStream",{get:function(){return this._localStream},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"remoteStream",{get:function(){return this._remoteStream},enumerable:!0,configurable:!0}),e.prototype.addStream=function(e){c.default.log("Receiving stream",e),this._remoteStream=e,t.prototype.emit.call(this,l.ConnectionEventType.Stream,e)},e.prototype.handleMessage=function(t){var e=t.type,n=t.payload;switch(t.type){case l.ServerMessageType.Answer:this._negotiator.handleSDP(e,n.sdp),this._open=!0;break;case l.ServerMessageType.Candidate:this._negotiator.handleCandidate(n.candidate);break;default:c.default.warn("Unrecognized message type:"+e+" from peer:"+this.peer)}},e.prototype.answer=function(t,e){var n,r;if(void 0===e&&(e={}),this._localStream)c.default.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");else{this._localStream=t,e&&e.sdpTransform&&(this.options.sdpTransform=e.sdpTransform),this._negotiator.startConnection(i(i({},this.options._payload),{_stream:t}));var s=this.provider._getMessages(this.connectionId);try{for(var a=o(s),u=a.next();!u.done;u=a.next())this.handleMessage(u.value)}catch(l){n={error:l}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}this._open=!0}},e.prototype.close=function(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,t.prototype.emit.call(this,l.ConnectionEventType.Close))},e.ID_PREFIX="mc_",e}(t("./baseconnection").BaseConnection);n.MediaConnection=h},{"./util":"BHXf","./logger":"WOs9","./negotiator":"HCdX","./enums":"ZRYf","./baseconnection":"tQFK"}],GGp6:[function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var o=t("eventemitter3"),s=i(t("./logger")),a=function(t){function e(){var e=t.call(this)||this;return e.fileReader=new FileReader,e._queue=[],e._processing=!1,e.fileReader.onload=function(t){e._processing=!1,t.target&&e.emit("done",t.target.result),e.doNextTask()},e.fileReader.onerror=function(t){s.default.error("EncodingQueue error:",t),e._processing=!1,e.destroy(),e.emit("error",t)},e}return r(e,t),Object.defineProperty(e.prototype,"queue",{get:function(){return this._queue},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.queue.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"processing",{get:function(){return this._processing},enumerable:!0,configurable:!0}),e.prototype.enque=function(t){this.queue.push(t),this.processing||this.doNextTask()},e.prototype.destroy=function(){this.fileReader.abort(),this._queue=[]},e.prototype.doNextTask=function(){0!==this.size&&(this.processing||(this._processing=!0,this.fileReader.readAsArrayBuffer(this.queue.shift())))},e}(o.EventEmitter);n.EncodingQueue=a},{eventemitter3:"JJlS","./logger":"WOs9"}],GBTQ:[function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var s=t("./util"),a=o(t("./logger")),c=t("./negotiator"),u=t("./enums"),l=t("./baseconnection"),h=t("./encodingQueue"),d=function(t){function e(n,r,i){var o=t.call(this,n,r,i)||this;return o.stringify=JSON.stringify,o.parse=JSON.parse,o._buffer=[],o._bufferSize=0,o._buffering=!1,o._chunkedData={},o._encodingQueue=new h.EncodingQueue,o.connectionId=o.options.connectionId||e.ID_PREFIX+s.util.randomToken(),o.label=o.options.label||o.connectionId,o.serialization=o.options.serialization||u.SerializationType.Binary,o.reliable=!!o.options.reliable,o._encodingQueue.on("done",function(t){o._bufferedSend(t)}),o._encodingQueue.on("error",function(){a.default.error("DC#"+o.connectionId+": Error occured in encoding from blob to arraybuffer, close DC"),o.close()}),o._negotiator=new c.Negotiator(o),o._negotiator.startConnection(o.options._payload||{originator:!0}),o}return r(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return u.ConnectionType.Data},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataChannel",{get:function(){return this._dc},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bufferSize",{get:function(){return this._bufferSize},enumerable:!0,configurable:!0}),e.prototype.initialize=function(t){this._dc=t,this._configureDataChannel()},e.prototype._configureDataChannel=function(){var t=this;s.util.supports.binaryBlob&&!s.util.supports.reliable||(this.dataChannel.binaryType="arraybuffer"),this.dataChannel.onopen=function(){a.default.log("DC#"+t.connectionId+" dc connection success"),t._open=!0,t.emit(u.ConnectionEventType.Open)},this.dataChannel.onmessage=function(e){a.default.log("DC#"+t.connectionId+" dc onmessage:",e.data),t._handleDataMessage(e)},this.dataChannel.onclose=function(){a.default.log("DC#"+t.connectionId+" dc closed for:",t.peer),t.close()}},e.prototype._handleDataMessage=function(e){var n=this,r=e.data,i=r.constructor,o=r;if(this.serialization===u.SerializationType.Binary||this.serialization===u.SerializationType.BinaryUTF8){if(i===Blob)return void s.util.blobToArrayBuffer(r,function(t){var e=s.util.unpack(t);n.emit(u.ConnectionEventType.Data,e)});if(i===ArrayBuffer)o=s.util.unpack(r);else if(i===String){var a=s.util.binaryStringToArrayBuffer(r);o=s.util.unpack(a)}}else this.serialization===u.SerializationType.JSON&&(o=this.parse(r));o.__peerData?this._handleChunk(o):t.prototype.emit.call(this,u.ConnectionEventType.Data,o)},e.prototype._handleChunk=function(t){var e=t.__peerData,n=this._chunkedData[e]||{data:[],count:0,total:t.total};if(n.data[t.n]=t.data,n.count++,this._chunkedData[e]=n,n.total===n.count){delete this._chunkedData[e];var r=new Blob(n.data);this._handleDataMessage({data:r})}},e.prototype.close=function(){this._buffer=[],this._bufferSize=0,this._chunkedData={},this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this._dc=null),this._encodingQueue&&(this._encodingQueue.destroy(),this._encodingQueue.removeAllListeners(),this._encodingQueue=null),this.open&&(this._open=!1,t.prototype.emit.call(this,u.ConnectionEventType.Close))},e.prototype.send=function(e,n){if(this.open)if(this.serialization===u.SerializationType.JSON)this._bufferedSend(this.stringify(e));else if(this.serialization===u.SerializationType.Binary||this.serialization===u.SerializationType.BinaryUTF8){var r=s.util.pack(e);if(!n&&r.size>s.util.chunkedMTU)return void this._sendChunks(r);s.util.supports.binaryBlob?this._bufferedSend(r):this._encodingQueue.enque(r)}else this._bufferedSend(e);else t.prototype.emit.call(this,u.ConnectionEventType.Error,new Error("Connection is not open. You should listen for the `open` event before sending messages."))},e.prototype._bufferedSend=function(t){!this._buffering&&this._trySend(t)||(this._buffer.push(t),this._bufferSize=this._buffer.length)},e.prototype._trySend=function(n){var r=this;if(!this.open)return!1;if(this.dataChannel.bufferedAmount>e.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(function(){r._buffering=!1,r._tryBuffer()},50),!1;try{this.dataChannel.send(n)}catch(t){return a.default.error("DC#:"+this.connectionId+" Error when sending:",t),this._buffering=!0,this.close(),!1}return!0},e.prototype._tryBuffer=function(){this.open&&0!==this._buffer.length&&this._trySend(this._buffer[0])&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())},e.prototype._sendChunks=function(t){var e,n,r=s.util.chunk(t);a.default.log("DC#"+this.connectionId+" Try to send "+r.length+" chunks...");try{for(var o=i(r),c=o.next();!c.done;c=o.next())this.send(c.value,!0)}catch(u){e={error:u}}finally{try{c&&!c.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}},e.prototype.handleMessage=function(t){var e=t.payload;switch(t.type){case u.ServerMessageType.Answer:this._negotiator.handleSDP(t.type,e.sdp);break;case u.ServerMessageType.Candidate:this._negotiator.handleCandidate(e.candidate);break;default:a.default.warn("Unrecognized message type:",t.type,"from peer:",this.peer)}},e.ID_PREFIX="dc_",e.MAX_BUFFERED_AMOUNT=8388608,e}(l.BaseConnection);n.DataConnection=d},{"./util":"BHXf","./logger":"WOs9","./negotiator":"HCdX","./enums":"ZRYf","./baseconnection":"tQFK","./encodingQueue":"GGp6"}],in7L:[function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{c(r.next(t))}catch(e){o(e)}}function a(t){try{c(r.throw(t))}catch(e){o(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((r=r.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var s=t("./util"),a=o(t("./logger")),c=function(){function t(t){this._options=t}return t.prototype._buildUrl=function(t){return(this._options.secure?"https://":"http://")+this._options.host+":"+this._options.port+this._options.path+this._options.key+"/"+t+"?ts="+(new Date).getTime()+Math.random()},t.prototype.retrieveId=function(){return r(this,void 0,Promise,function(){var t,e,n,r;return i(this,function(i){switch(i.label){case 0:t=this._buildUrl("id"),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,fetch(t)];case 2:if(200!==(e=i.sent()).status)throw new Error("Error. Status:"+e.status);return[2,e.text()];case 3:throw n=i.sent(),a.default.error("Error retrieving ID",n),r="","/"===this._options.path&&this._options.host!==s.util.CLOUD_HOST&&(r=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+r);case 4:return[2]}})})},t.prototype.listAllPeers=function(){return r(this,void 0,Promise,function(){var t,e,n;return i(this,function(r){switch(r.label){case 0:t=this._buildUrl("peers"),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,fetch(t)];case 2:if(200!==(e=r.sent()).status){if(401===e.status)throw new Error("It doesn't look like you have permission to list peers IDs. "+(this._options.host===s.util.CLOUD_HOST?"It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":"You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature."));throw new Error("Error. Status:"+e.status)}return[2,e.json()];case 3:throw n=r.sent(),a.default.error("Error retrieving list peers",n),new Error("Could not get list peers from the server."+n);case 4:return[2]}})})},t}();n.API=c},{"./util":"BHXf","./logger":"WOs9"}],Hxpd:[function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},o=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(l){i={error:l}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("eventemitter3"),u=t("./util"),l=a(t("./logger")),h=t("./socket"),d=t("./mediaconnection"),f=t("./dataconnection"),p=t("./enums"),g=t("./api"),m=function(t){function e(n,r){var o,s=t.call(this)||this;return s._id=null,s._lastServerId=null,s._destroyed=!1,s._disconnected=!1,s._open=!1,s._connections=new Map,s._lostMessages=new Map,n&&n.constructor==Object?r=n:n&&(o=n.toString()),r=i({debug:0,host:u.util.CLOUD_HOST,port:u.util.CLOUD_PORT,path:"/",key:e.DEFAULT_KEY,token:u.util.randomToken(),config:u.util.defaultConfig},r),s._options=r,"/"===s._options.host&&(s._options.host=window.location.hostname),s._options.path&&("/"!==s._options.path[0]&&(s._options.path="/"+s._options.path),"/"!==s._options.path[s._options.path.length-1]&&(s._options.path+="/")),void 0===s._options.secure&&s._options.host!==u.util.CLOUD_HOST?s._options.secure=u.util.isSecure():s._options.host==u.util.CLOUD_HOST&&(s._options.secure=!0),s._options.logFunction&&l.default.setLogFunction(s._options.logFunction),l.default.logLevel=s._options.debug||0,s._api=new g.API(r),s._socket=s._createServerConnection(),u.util.supports.audioVideo||u.util.supports.data?o&&!u.util.validateId(o)?(s._delayedAbort(p.PeerErrorType.InvalidID,'ID "'+o+'" is invalid'),s):(o?s._initialize(o):s._api.retrieveId().then(function(t){return s._initialize(t)}).catch(function(t){return s._abort(p.PeerErrorType.ServerError,t)}),s):(s._delayedAbort(p.PeerErrorType.BrowserIncompatible,"The current browser does not support WebRTC"),s)}return r(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"open",{get:function(){return this._open},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"socket",{get:function(){return this._socket},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"connections",{get:function(){var t,e,n=Object.create(null);try{for(var r=o(this._connections),i=r.next();!i.done;i=r.next()){var a=s(i.value,2);n[a[0]]=a[1]}}catch(f){t={error:f}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disconnected",{get:function(){return this._disconnected},enumerable:!0,configurable:!0}),e.prototype._createServerConnection=function(){var t=this,e=new h.Socket(this._options.secure,this._options.host,this._options.port,this._options.path,this._options.key,this._options.pingInterval);return e.on(p.SocketEventType.Message,function(e){t._handleMessage(e)}),e.on(p.SocketEventType.Error,function(e){t._abort(p.PeerErrorType.SocketError,e)}),e.on(p.SocketEventType.Disconnected,function(){t.disconnected||(t.emitError(p.PeerErrorType.Network,"Lost connection to server."),t.disconnect())}),e.on(p.SocketEventType.Close,function(){t.disconnected||t._abort(p.PeerErrorType.SocketClosed,"Underlying socket is already closed.")}),e},e.prototype._initialize=function(t){this._id=t,this.socket.start(t,this._options.token)},e.prototype._handleMessage=function(t){var e,n,r=t.type,i=t.payload,s=t.src;switch(r){case p.ServerMessageType.Open:this._lastServerId=this.id,this._open=!0,this.emit(p.PeerEventType.Open,this.id);break;case p.ServerMessageType.Error:this._abort(p.PeerErrorType.ServerError,i.msg);break;case p.ServerMessageType.IdTaken:this._abort(p.PeerErrorType.UnavailableID,'ID "'+this.id+'" is taken');break;case p.ServerMessageType.InvalidKey:this._abort(p.PeerErrorType.InvalidKey,'API KEY "'+this._options.key+'" is invalid');break;case p.ServerMessageType.Leave:l.default.log("Received leave message from "+s),this._cleanupPeer(s),this._connections.delete(s);break;case p.ServerMessageType.Expire:this.emitError(p.PeerErrorType.PeerUnavailable,"Could not connect to peer "+s);break;case p.ServerMessageType.Offer:var a=i.connectionId;if((g=this.getConnection(s,a))&&(g.close(),l.default.warn("Offer received for existing Connection ID:"+a)),i.type===p.ConnectionType.Media)g=new d.MediaConnection(s,this,{connectionId:a,_payload:i,metadata:i.metadata}),this._addConnection(s,g),this.emit(p.PeerEventType.Call,g);else{if(i.type!==p.ConnectionType.Data)return void l.default.warn("Received malformed connection type:"+i.type);g=new f.DataConnection(s,this,{connectionId:a,_payload:i,metadata:i.metadata,label:i.label,serialization:i.serialization,reliable:i.reliable}),this._addConnection(s,g),this.emit(p.PeerEventType.Connection,g)}var c=this._getMessages(a);try{for(var u=o(c),h=u.next();!h.done;h=u.next())g.handleMessage(h.value)}catch(m){e={error:m}}finally{try{h&&!h.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}break;default:if(!i)return void l.default.warn("You received a malformed message from "+s+" of type "+r);var g;(g=this.getConnection(s,a=i.connectionId))&&g.peerConnection?g.handleMessage(t):a?this._storeMessage(a,t):l.default.warn("You received an unrecognized message:",t)}},e.prototype._storeMessage=function(t,e){this._lostMessages.has(t)||this._lostMessages.set(t,[]),this._lostMessages.get(t).push(e)},e.prototype._getMessages=function(t){var e=this._lostMessages.get(t);return e?(this._lostMessages.delete(t),e):[]},e.prototype.connect=function(t,e){if(void 0===e&&(e={}),this.disconnected)return l.default.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),void this.emitError(p.PeerErrorType.Disconnected,"Cannot connect to new Peer after disconnecting from server.");var n=new f.DataConnection(t,this,e);return this._addConnection(t,n),n},e.prototype.call=function(t,e,n){if(void 0===n&&(n={}),this.disconnected)return l.default.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),void this.emitError(p.PeerErrorType.Disconnected,"Cannot connect to new Peer after disconnecting from server.");if(e){n._stream=e;var r=new d.MediaConnection(t,this,n);return this._addConnection(t,r),r}l.default.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.")},e.prototype._addConnection=function(t,e){l.default.log("add connection "+e.type+":"+e.connectionId+" to peerId:"+t),this._connections.has(t)||this._connections.set(t,[]),this._connections.get(t).push(e)},e.prototype._removeConnection=function(t){var e=this._connections.get(t.peer);if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}this._lostMessages.delete(t.connectionId)},e.prototype.getConnection=function(t,e){var n,r,i=this._connections.get(t);if(!i)return null;try{for(var s=o(i),a=s.next();!a.done;a=s.next()){var c=a.value;if(c.connectionId===e)return c}}catch(d){n={error:d}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return null},e.prototype._delayedAbort=function(t,e){var n=this;setTimeout(function(){n._abort(t,e)},0)},e.prototype._abort=function(t,e){l.default.error("Aborting!"),this.emitError(t,e),this._lastServerId?this.disconnect():this.destroy()},e.prototype.emitError=function(t,e){var n;l.default.error("Error:",e),(n="string"==typeof e?new Error(e):e).type=t,this.emit(p.PeerEventType.Error,n)},e.prototype.destroy=function(){this.destroyed||(l.default.log("Destroy peer with ID:"+this.id),this.disconnect(),this._cleanup(),this._destroyed=!0,this.emit(p.PeerEventType.Close))},e.prototype._cleanup=function(){var t,e;try{for(var n=o(this._connections.keys()),r=n.next();!r.done;r=n.next()){var i=r.value;this._cleanupPeer(i),this._connections.delete(i)}}catch(u){t={error:u}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.socket.removeAllListeners()},e.prototype._cleanupPeer=function(t){var e,n,r=this._connections.get(t);if(r)try{for(var i=o(r),s=i.next();!s.done;s=i.next())s.value.close()}catch(l){e={error:l}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},e.prototype.disconnect=function(){if(!this.disconnected){var t=this.id;l.default.log("Disconnect peer with ID:"+t),this._disconnected=!0,this._open=!1,this.socket.close(),this._lastServerId=t,this._id=null,this.emit(p.PeerEventType.Disconnected,t)}},e.prototype.reconnect=function(){if(this.disconnected&&!this.destroyed)l.default.log("Attempting reconnection to server with ID "+this._lastServerId),this._disconnected=!1,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(this.disconnected||this.open)throw new Error("Peer "+this.id+" cannot reconnect because it is not disconnected from the server!");l.default.error("In a hurry? We're still trying to make the initial connection!")}},e.prototype.listAllPeers=function(t){var e=this;void 0===t&&(t=function(t){}),this._api.listAllPeers().then(function(e){return t(e)}).catch(function(t){return e._abort(p.PeerErrorType.ServerError,t)})},e.DEFAULT_KEY="peerjs",e}(c.EventEmitter);n.Peer=m},{eventemitter3:"JJlS","./util":"BHXf","./logger":"WOs9","./socket":"wJlv","./mediaconnection":"dbHP","./dataconnection":"GBTQ","./enums":"ZRYf","./api":"in7L"}],iTK6:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("./util"),i=t("./peer");n.peerjs={Peer:i.Peer,util:r.util},n.default=i.Peer,window.peerjs=n.peerjs,window.Peer=i.Peer},{"./util":"BHXf","./peer":"Hxpd"}]},{},["iTK6"])},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return o}),n.d(e,"a",function(){return a});var r=n("7o/Q"),i=n("WMd4");function o(t,e=0){return function(n){return n.lift(new s(t,e))}}class s{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new a(t,this.scheduler,this.delay))}}class a extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(a.dispatch,this.delay,new c(t,this.destination)))}_next(t){this.scheduleMessage(i.a.createNext(t))}_error(t){this.scheduleMessage(i.a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(i.a.createComplete()),this.unsubscribe()}}class c{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.d(e,"a",function(){return s}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return d}),n.d(e,"d",function(){return f});var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},c=s.INFO,u=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=u[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=c,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function d(t){o.forEach(function(e){e.setLogLevel(t)})}function f(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return d}),n.d(e,"b",function(){return T}),n.d(e,"c",function(){return E}),n.d(e,"d",function(){return Q}),n.d(e,"e",function(){return S}),n.d(e,"f",function(){return i}),n.d(e,"g",function(){return o}),n.d(e,"h",function(){return a}),n.d(e,"i",function(){return c}),n.d(e,"j",function(){return Y}),n.d(e,"k",function(){return N}),n.d(e,"l",function(){return V}),n.d(e,"m",function(){return l}),n.d(e,"n",function(){return h}),n.d(e,"o",function(){return H}),n.d(e,"p",function(){return f}),n.d(e,"q",function(){return j}),n.d(e,"r",function(){return m}),n.d(e,"s",function(){return b}),n.d(e,"t",function(){return y}),n.d(e,"u",function(){return L}),n.d(e,"v",function(){return _}),n.d(e,"w",function(){return k}),n.d(e,"x",function(){return p}),n.d(e,"y",function(){return g}),n.d(e,"z",function(){return C}),n.d(e,"A",function(){return v}),n.d(e,"B",function(){return w}),n.d(e,"C",function(){return D}),n.d(e,"D",function(){return I}),n.d(e,"E",function(){return F}),n.d(e,"F",function(){return U}),n.d(e,"G",function(){return M}),n.d(e,"H",function(){return X}),n.d(e,"I",function(){return G}),n.d(e,"J",function(){return A}),n.d(e,"K",function(){return z}),n.d(e,"L",function(){return K}),n.d(e,"M",function(){return W}),n.d(e,"N",function(){return P});var r=n("30Go"),i=function(t,e){if(!t)throw o(e)},o=function(t){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+t)},s=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},a={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,l=(15&a)<<2|u>>6,h=63&u;c||(h=64,s||(l=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[l],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(s(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,c=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==c)throw Error();r.push(o<<2|s>>4),64!==a&&(r.push(s<<4&240|a>>2),64!==c&&r.push(a<<6&192|c))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},c=function(t){var e=s(t);return a.encodeByteArray(e,!0)},u=function(t){try{return a.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function l(t){return h(void 0,t)}function h(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=h(t[n],e[n]));return t}var d=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function f(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function p(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(f())}function g(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function m(){return"object"==typeof self&&self.self===self}function b(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function v(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function y(){return f().indexOf("Electron/")>=0}function _(){var t=f();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function w(){return f().indexOf("MSAppHost/")>=0}function C(){return!1}function k(){return"indexedDB"in self&&null!=indexedDB}function P(){return new Promise(function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=window.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||window.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(o){e(o)}})}function S(){return!(!navigator||!navigator.cookieEnabled)}var E=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,T.prototype.create),o}return Object(r.c)(e,t),e}(Error),T=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?x(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",c=new E(i,a,r);return c},t}();function x(t,e){return t.replace(O,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var O=/\{\$([^}]+)}/g;function I(t){return JSON.parse(t)}function A(t){return JSON.stringify(t)}var R=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=I(u(o[0])||""),n=I(u(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(s){}return{header:e,claims:n,data:r,signature:i}},D=function(t){var e=R(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},j=function(t){var e=R(t).claims;return"object"==typeof e&&!0===e.admin};function N(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function M(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0}function L(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function F(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function U(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach(function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r];n(o[0],o[1])}return e.length?"&"+e.join("&"):""}var Q=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,o,s=this.chain_[0],a=this.chain_[1],c=this.chain_[2],u=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=u^a&(c^u),o=1518500249):(i=a^c^u,o=1859775393):r<60?(i=a&c|u&(a|c),o=2400959708):(i=a^c^u,o=3395469782);var h=(s<<5|s>>>27)+i+l+o+n[r]&4294967295;l=u,u=c,c=4294967295&(a<<30|a>>>2),a=s,s=h}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+u&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}();function V(t,e){var n=new B(t,e);return n.subscribe.bind(n)}var B=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=q),void 0===r.error&&(r.error=q),void 0===r.complete&&(r.complete=q);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function q(){}var z=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function H(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t+" failed: "+r+" argument "}function K(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(H(t,e,r)+"must be a valid function.")}function W(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(H(t,e,r)+"must be a valid context object.")}var G=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var o=t.charCodeAt(r);if(o>=55296&&o<=56319){var s=o-55296;r++,i(r<t.length,"Surrogate pair missing trail surrogate."),o=65536+(s<<10)+(t.charCodeAt(r)-56320)}o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=63&o|128):o<65536?(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=63&o|128):(e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=63&o|128)}return e},X=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};function Y(t,e,n){void 0===e&&(e=1e3),void 0===n&&(n=2);var r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return c});var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var o=n("IjjT");class s extends o.a{}const a=new s(i),c=a},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("DH7j"),i=n("XoHu"),o=n("n6bG");const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:u,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(o.a)(u)){a&&(this._unsubscribe=void 0);try{u.call(this)}catch(h){e=h instanceof s?c(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof s?e=e.concat(c(h.errors)):e.push(h)}}}if(e)throw new s(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function c(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}},sRpT:function(t,e,n){const{PACKET_TYPES:r}=n("yxaB"),i="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),o="function"==typeof ArrayBuffer,s=(t,e)=>{const n=new FileReader;return n.onload=function(){const t=n.result.split(",")[1];e("b"+t)},n.readAsDataURL(t)};t.exports=({type:t,data:e},n,a)=>{return i&&e instanceof Blob?n?a(e):s(e,a):o&&(e instanceof ArrayBuffer||(c=e,"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(c):c&&c.buffer instanceof ArrayBuffer))?n?a(e instanceof ArrayBuffer?e:e.buffer):s(new Blob([e]),a):a(r[t]+(e||""));var c}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return E}),n.d(e,"b",function(){return y}),n.d(e,"c",function(){return v}),n.d(e,"d",function(){return _}),n.d(e,"e",function(){return f}),n.d(e,"f",function(){return b}),n.d(e,"g",function(){return P}),n.d(e,"h",function(){return C}),n.d(e,"i",function(){return p}),n.d(e,"j",function(){return m});var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),s=n("tf+s"),a=n("pxpQ"),c=n("fXoL"),u=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class d{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class f{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.b))}}function p(t){return function(e){return(e=e.lift(new d(t.ngZone))).pipe(Object(s.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const g=["ngOnDestroy"],m=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(g.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(t=>{const e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>s[e],apply:(t,e,n)=>s.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i})})})}),b=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},v=new c.q("angularfire2.app.options"),y=new c.q("angularfire2.app.nameOrConfig");class _{}const w=new c.P("6.1.4");function C(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=u.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>u.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(o.options)&&k("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(s){}return o}const k=(t,...e)=>{Object(c.W)()&&"undefined"!=typeof console&&console[t](...e)};function P(e,n,r,i,o){const[s,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(s){try{o.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&k("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(c){}return s}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...o]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const S={provide:_,useFactory:C,deps:[v,c.z,[new c.A,y]]};let E=(()=>{class t{constructor(t){u.a.registerVersion("angularfire",w.full,t.toString()),u.a.registerVersion("angular",c.O.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:v,useValue:e},{provide:y,useValue:n}]}}}return t.\u0275mod=c.Ib({type:t}),t.\u0275inj=c.Hb({factory:function(e){return new(e||t)(c.Ub(c.B))},providers:[S]}),t})()}).call(this,n("3UD+")(t))},t6oF:function(t,e,n){"use strict";var r=n("zIRd");(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},n=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,t];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}return globalThis}(this);function i(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function o(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:i(t)}}!function(t,r){if(r){var i=n;t=t.split(".");for(var o=0;o<t.length-1;o++){var s=t[o];s in i||(i[s]={}),i=i[s]}(r=r(o=i[t=t[t.length-1]]))!=o&&null!=r&&e(i,t,{configurable:!0,writable:!0,value:r})}}("Promise",function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function r(){this.a=null}function i(t){return t instanceof e?t:new e(function(e){e(t)})}if(t)return t;r.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c(function(){e.g()})}this.a.push(t)};var s=n.setTimeout;r.prototype.c=function(t){s(t,0)},r.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(r){this.f(r)}}}this.a=null},r.prototype.f=function(t){this.c(function(){throw t})},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.v),reject:t(this.g)}},e.prototype.v=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.m(t):this.i(t)}},e.prototype.m=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.u(e,t):this.i(t)},e.prototype.g=function(t){this.h(2,t)},e.prototype.i=function(t){this.h(1,t)},e.prototype.h=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)a.b(this.a[t]);this.a=null}};var a=new r;return e.prototype.s=function(t){var e=this.f();t.Pa(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(r){n.reject(r)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(n){o(n)}}:e}var i,o,s=new e(function(t,e){i=t,o=e});return this.Pa(r(t,i),r(n,o)),s},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Pa=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?a.b(n):this.a.push(n)},e.resolve=i,e.reject=function(t){return new e(function(e,n){n(t)})},e.race=function(t){return new e(function(e,n){for(var r=o(t),s=r.next();!s.done;s=r.next())i(s.value).Pa(e,n)})},e.all=function(t){var n=o(t),r=n.next();return r.done?i([]):new e(function(t,e){function o(e){return function(n){s[e]=n,0==--a&&t(s)}}var s=[],a=0;do{s.push(void 0),a++,i(r.value).Pa(o(s.length-1),e),r=n.next()}while(!r.done)})},e});var s=s||{},a=this||self,c=/^[\w+/_-]+[=]{0,2}$/,u=null;function l(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&c.test(t)?t:""}function h(){}function d(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function f(t){var e=d(t);return"array"==e||"object"==e&&"number"==typeof t.length}function p(t){return"function"==d(t)}function g(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function m(t){return Object.prototype.hasOwnProperty.call(t,b)&&t[b]||(t[b]=++v)}var b="closure_uid_"+(1e9*Math.random()>>>0),v=0;function y(t,e,n){return t.call.apply(t.bind,arguments)}function _(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function w(t,e,n){return(w=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?y:_).apply(null,arguments)}function C(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var k=Date.now;function P(t,e){function n(){}n.prototype=e.prototype,t.$a=e.prototype,t.prototype=new n,t.prototype.constructor=t}function S(t){return t}function E(t,e,n){this.code=O+t,this.message=e||I[t]||"",this.a=n||null}function T(t){var e=t&&t.code;return e?new E(e.substring(O.length),t.message,t.serverResponse):null}P(E,Error),E.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},E.prototype.toJSON=function(){return this.w()};var x,O="auth/",I={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},A={kd:{Sa:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Va:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},rd:{Sa:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://securetoken.googleapis.com/v1/token",Va:"https://identitytoolkit.googleapis.com/v2/",id:"p"},td:{Sa:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Va:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},ud:{Sa:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Ya:"https://test-securetoken.sandbox.googleapis.com/v1/token",Va:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function R(t){for(var e in A)if(A[e].id===t)return{firebaseEndpoint:(t=A[e]).Sa,secureTokenEndpoint:t.Ya,identityPlatformEndpoint:t.Va};return null}function D(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function j(t){if(Error.captureStackTrace)Error.captureStackTrace(this,j);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function N(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");j.call(this,n+t[r])}function M(t,e){throw new N("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function L(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function F(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function U(){this.b=this.a=null}x=R("__EID__")?"__EID__":void 0,P(j,Error),j.prototype.name="CustomError",P(N,j),N.prototype.name="AssertionError",L.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var Q=new L(function(){return new B},function(t){t.reset()});function V(){var t=ve,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function B(){this.next=this.b=this.a=null}U.prototype.add=function(t,e){var n=Q.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},B.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},B.prototype.reset=function(){this.next=this.b=this.a=null};var q=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},z=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)},H=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"==typeof t?t.split(""):t,s=0;s<n;s++)if(s in o){var a=o[s];e.call(void 0,a,s,t)&&(r[i++]=a)}return r},K=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},W=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function G(t,e){return 0<=q(t,e)}function X(t,e){var n;return(n=0<=(e=q(t,e)))&&Array.prototype.splice.call(t,e,1),n}function Y(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,function(n,r){e.call(void 0,n,r,t)&&Array.prototype.splice.call(t,r,1)})}function $(t){return Array.prototype.concat.apply([],arguments)}function J(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var Z,tt=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},et=/&/g,nt=/</g,rt=/>/g,it=/"/g,ot=/'/g,st=/\x00/g,at=/[\x00&<>"']/;function ct(t,e){return-1!=t.indexOf(e)}function ut(t,e){return t<e?-1:t>e?1:0}t:{var lt=a.navigator;if(lt){var ht=lt.userAgent;if(ht){Z=ht;break t}}Z=""}function dt(t){return ct(Z,t)}function ft(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function pt(t){for(var e in t)return!1;return!0}function gt(t){var e,n={};for(e in t)n[e]=t[e];return n}var mt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function bt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<mt.length;o++)n=mt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function vt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||a).Element&&r.Location){var i=r;break t}}catch(s){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(g(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(s){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;M("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function yt(t,e){this.a=t===kt&&e||"",this.b=Ct}function _t(t){return t instanceof yt&&t.constructor===yt&&t.b===Ct?t.a:(M("expected object of type Const, got '"+t+"'"),"type_error:Const")}yt.prototype.sa=!0,yt.prototype.ra=function(){return this.a},yt.prototype.toString=function(){return"Const{"+this.a+"}"};var wt,Ct={},kt={};function Pt(){if(void 0===wt){var t=null,e=a.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:S,createScript:S,createScriptURL:S})}catch(n){a.console&&a.console.error(n.message)}wt=t}else wt=t}return wt}function St(t,e){this.a=e===It?t:""}function Et(t){return t instanceof St&&t.constructor===St?t.a:(M("expected object of type TrustedResourceUrl, got '"+t+"' of type "+d(t)),"type_error:TrustedResourceUrl")}function Tt(t,e){var n=_t(t);if(!Ot.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=Pt();return new St(t=e?e.createScriptURL(t):t,It)}(t=n.replace(xt,function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof yt?_t(t):encodeURIComponent(String(t))}))}St.prototype.sa=!0,St.prototype.ra=function(){return this.a.toString()},St.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var xt=/%{(\w+)}/g,Ot=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,It={};function At(t,e){this.a=e===Ft?t:""}function Rt(t){return t instanceof At&&t.constructor===At?t.a:(M("expected object of type SafeUrl, got '"+t+"' of type "+d(t)),"type_error:SafeUrl")}At.prototype.sa=!0,At.prototype.ra=function(){return this.a.toString()},At.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Dt=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,jt=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Nt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Mt(t){if(t instanceof At)return t;if(t="object"==typeof t&&t.sa?t.ra():String(t),Nt.test(t))t=new At(t,Ft);else{var e=(t=(t=String(t)).replace(/(%0A|%0D)/g,"")).match(jt);t=e&&Dt.test(e[1])?new At(t,Ft):null}return t}function Lt(t){return t instanceof At?t:(t="object"==typeof t&&t.sa?t.ra():String(t),Nt.test(t)||(t="about:invalid#zClosurez"),new At(t,Ft))}var Ft={},Ut=new At("about:invalid#zClosurez",Ft);function Qt(t,e,n){this.a=n===Vt?t:""}Qt.prototype.sa=!0,Qt.prototype.ra=function(){return this.a.toString()},Qt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Vt={};function Bt(t,e,n,r){return t=t instanceof At?t:Lt(t),e=e||a,n=n instanceof yt?_t(n):n||"",e.open(Rt(t),n,r,void 0)}function qt(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function zt(t){return at.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(et,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(nt,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(rt,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(it,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(ot,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(st,"&#0;"))),t}function Ht(t){return Ht[" "](t),t}Ht[" "]=h;var Kt,Wt,Gt=dt("Opera"),Xt=dt("Trident")||dt("MSIE"),Yt=dt("Edge"),$t=Yt||Xt,Jt=dt("Gecko")&&!(ct(Z.toLowerCase(),"webkit")&&!dt("Edge"))&&!(dt("Trident")||dt("MSIE"))&&!dt("Edge"),Zt=ct(Z.toLowerCase(),"webkit")&&!dt("Edge");function te(){var t=a.document;return t?t.documentMode:void 0}t:{var ee="",ne=(Wt=Z,Jt?/rv:([^\);]+)(\)|;)/.exec(Wt):Yt?/Edge\/([\d\.]+)/.exec(Wt):Xt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Wt):Zt?/WebKit\/(\S+)/.exec(Wt):Gt?/(?:Version)[ \/]?(\S+)/.exec(Wt):void 0);if(ne&&(ee=ne?ne[1]:""),Xt){var re=te();if(null!=re&&re>parseFloat(ee)){Kt=String(re);break t}}Kt=ee}var ie={};function oe(t){return function(t,e){var n=ie;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=tt(String(Kt)).split("."),r=tt(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=ut(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||ut(0==s[2].length,0==a[2].length)||ut(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e})}var se=a.document&&Xt&&(te()||parseInt(Kt,10))||void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(Wt){}var ae=!Xt||9<=Number(se);function ce(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function ue(t,e){ft(e,function(e,n){e&&"object"==typeof e&&e.sa&&(e=e.ra()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:de.hasOwnProperty(n)?t.setAttribute(de[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e})}var le,he,de={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function fe(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!f(o)||g(o)&&0<o.nodeType)r(o);else{t:{if(o&&"number"==typeof o.length){if(g(o)){var s="function"==typeof o.item||"string"==typeof o.item;break t}if(p(o)){s="function"==typeof o.item;break t}}s=!1}z(s?J(o):o,r)}}}function pe(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function ge(t){a.setTimeout(function(){throw t},0)}function me(t,e){he||function(){if(a.Promise&&a.Promise.resolve){var t=a.Promise.resolve(void 0);he=function(){t.then(ye)}}else he=function(){var t=ye;!p(a.setImmediate)||a.Window&&a.Window.prototype&&!dt("Edge")&&a.Window.prototype.setImmediate==a.setImmediate?(le||(le=function(){var t=a.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!dt("Presto")&&(t=function(){var t=pe(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=w(function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()},this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!dt("Trident")&&!dt("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Fb;n.Fb=null,t()}},function(t){r.next={Fb:t},r=r.next,e.port2.postMessage(0)}}return function(t){a.setTimeout(t,0)}}()),le(t)):a.setImmediate(t)}}(),be||(he(),be=!0),ve.add(t,e)}var be=!1,ve=new U;function ye(){for(var t;t=V();){try{t.a.call(t.b)}catch(e){ge(e)}F(Q,t)}be=!1}function _e(t,e){if(this.a=we,this.h=void 0,this.f=this.b=this.c=null,this.g=this.i=!1,t!=h)try{var n=this;t.call(e,function(t){je(n,Ce,t)},function(t){if(!(t instanceof Ve))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}je(n,ke,t)})}catch(r){je(this,ke,r)}}var we=0,Ce=2,ke=3;function Pe(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Pe.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Se=new L(function(){return new Pe},function(t){t.reset()});function Ee(t,e,n){var r=Se.get();return r.g=t,r.b=e,r.f=n,r}function Te(t){if(t instanceof _e)return t;var e=new _e(h);return je(e,Ce,t),e}function xe(t){return new _e(function(e,n){n(t)})}function Oe(t,e,n){Ne(t,e,n,null)||me(C(e,t))}function Ie(t){return new _e(function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Ob:!0,value:o}:{Ob:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)Oe(t[o],C(i,o,!0),C(i,o,!1));else e(r)})}function Ae(t,e){if(t.a==we)if(t.c){var n=t.c;if(n.b){for(var r=0,i=null,o=null,s=n.b;s&&(s.c||(r++,s.a==t&&(i=s),!(i&&1<r)));s=s.next)i||(o=s);i&&(n.a==we&&1==r?Ae(n,e):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):Le(n),Fe(n,i,ke,e)))}t.c=null}else je(t,ke,e)}function Re(t,e){t.b||t.a!=Ce&&t.a!=ke||Me(t),t.f?t.f.next=e:t.b=e,t.f=e}function De(t,e,n,r){var i=Ee(null,null,null);return i.a=new _e(function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(s){o(s)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof Ve?o(e):t(i)}catch(s){o(s)}}:o}),i.a.c=t,Re(t,i),i.a}function je(t,e,n){t.a==we&&(t===n&&(e=ke,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Ne(n,t.Zc,t.$c,t)||(t.h=n,t.a=e,t.c=null,Me(t),e!=ke||n instanceof Ve||function(t,e){t.g=!0,me(function(){t.g&&Qe.call(null,e)})}(t,n)))}function Ne(t,e,n,r){if(t instanceof _e)return Re(t,Ee(e||h,n||null,r)),!0;if(D(t))return t.then(e,n,r),!0;if(g(t))try{var i=t.then;if(p(i))return function(t,e,n,r,i){function o(t){s||(s=!0,r.call(i,t))}var s=!1;try{e.call(t,function(t){s||(s=!0,n.call(i,t))},o)}catch(a){o(a)}}(t,i,e,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function Me(t){t.i||(t.i=!0,me(t.fc,t))}function Le(t){var e=null;return t.b&&(t.b=(e=t.b).next,e.next=null),t.b||(t.f=null),e}function Fe(t,e,n,r){if(n==ke&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Ue(e,n,r);else try{e.c?e.g.call(e.f):Ue(e,n,r)}catch(i){Qe.call(null,i)}F(Se,e)}function Ue(t,e,n){e==Ce?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}_e.prototype.then=function(t,e,n){return De(this,p(t)?t:null,p(e)?e:null,n)},_e.prototype.$goog_Thenable=!0,(t=_e.prototype).na=function(t,e){return(t=Ee(t,t,e)).c=!0,Re(this,t),this},t.o=function(t,e){return De(this,null,t,e)},t.cancel=function(t){if(this.a==we){var e=new Ve(t);me(function(){Ae(this,e)},this)}},t.Zc=function(t){this.a=we,je(this,Ce,t)},t.$c=function(t){this.a=we,je(this,ke,t)},t.fc=function(){for(var t;t=Le(this);)Fe(this,t,this.a,this.h);this.i=!1};var Qe=ge;function Ve(t){j.call(this,t)}function Be(){0!=qe&&(ze[m(this)]=this),this.xa=this.xa,this.oa=this.oa}P(Ve,j),Ve.prototype.name="cancel";var qe=0,ze={};function He(t){if(!t.xa&&(t.xa=!0,t.Da(),0!=qe)){var e=m(t);if(0!=qe&&t.oa&&0<t.oa.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete ze[e]}}Be.prototype.xa=!1,Be.prototype.Da=function(){if(this.oa)for(;this.oa.length;)this.oa.shift()()};var Ke=Object.freeze||function(t){return t},We=!Xt||9<=Number(se),Ge=Xt&&!oe("9"),Xe=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{a.addEventListener("test",h,e),a.removeEventListener("test",h,e)}catch(n){}return t}();function Ye(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function $e(t,e){if(Ye.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Jt){t:{try{Ht(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Je[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Ye.prototype.preventDefault=function(){this.defaultPrevented=!0},P($e,Ye);var Je=Ke({2:"touch",3:"pen",4:"mouse"});$e.prototype.preventDefault=function(){$e.$a.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Ge)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},$e.prototype.g=function(){return this.a};var Ze="closure_listenable_"+(1e6*Math.random()|0),tn=0;function en(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Ua=i,this.key=++tn,this.va=this.Oa=!1}function nn(t){t.va=!0,t.listener=null,t.proxy=null,t.src=null,t.Ua=null}function rn(t){this.src=t,this.a={},this.b=0}function on(t,e){var n=e.type;n in t.a&&X(t.a[n],e)&&(nn(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function sn(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.va&&o.listener==e&&o.capture==!!n&&o.Ua==r)return i}return-1}rn.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=sn(t,e,r,i);return-1<s?(e=t[s],n||(e.Oa=!1)):((e=new en(e,this.src,o,!!r,i)).Oa=n,t.push(e)),e};var an="closure_lm_"+(1e6*Math.random()|0),cn={};function un(t,e,n,r,i){if(r&&r.once)hn(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)un(t,e[o],n,r,i);else n=_n(n),t&&t[Ze]?Cn(t,e,n,g(r)?!!r.capture:!!r,i):ln(t,e,n,!1,r,i)}function ln(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=g(i)?!!i.capture:!!i,a=vn(t);if(a||(t[an]=a=new rn(t)),!(n=a.add(e,n,r,s,o)).proxy)if(r=function(){var t=bn,e=We?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Xe||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(pn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function hn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)hn(t,e[o],n,r,i);else n=_n(n),t&&t[Ze]?kn(t,e,n,g(r)?!!r.capture:!!r,i):ln(t,e,n,!0,r,i)}function dn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)dn(t,e[o],n,r,i);else r=g(r)?!!r.capture:!!r,n=_n(n),t&&t[Ze]?(t=t.v,(e=String(e).toString())in t.a&&-1<(n=sn(o=t.a[e],n,r,i))&&(nn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=vn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=sn(e,n,r,i)),(n=-1<t?e[t]:null)&&fn(n))}function fn(t){if("number"!=typeof t&&t&&!t.va){var e=t.src;if(e&&e[Ze])on(e.v,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(pn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=vn(e))?(on(n,t),0==n.b&&(n.src=null,e[an]=null)):nn(t)}}}function pn(t){return t in cn?cn[t]:cn[t]="on"+t}function gn(t,e,n,r){var i=!0;if((t=vn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.va&&(o=mn(o,r),i=i&&!1!==o)}return i}function mn(t,e){var n=t.listener,r=t.Ua||t.src;return t.Oa&&fn(t),n.call(r,e)}function bn(t,e){if(t.va)return!0;if(!We){if(!e)t:{e=["window","event"];for(var n=a,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new $e(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(s){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=gn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=gn(r[i],t,!1,e),n=n&&o}return n}return mn(t,new $e(e,this))}function vn(t){return(t=t[an])instanceof rn?t:null}var yn="__closure_events_fn_"+(1e9*Math.random()>>>0);function _n(t){return p(t)?t:(t[yn]||(t[yn]=function(e){return t.handleEvent(e)}),t[yn])}function wn(){Be.call(this),this.v=new rn(this),this.$b=this,this.fb=null}function Cn(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function kn(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function Pn(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.va&&s.capture==n){var a=s.listener,c=s.Ua||s.src;s.Oa&&on(t.v,s),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}function Sn(t,e,n){if(p(t))n&&(t=w(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=w(t.handleEvent,t)}return 2147483647<Number(e)?-1:a.setTimeout(t,e||0)}function En(t){var e=null;return new _e(function(n,r){-1==(e=Sn(function(){n(void 0)},t))&&r(Error("Failed to schedule timer."))}).o(function(t){throw a.clearTimeout(e),t})}function Tn(t){if(t.V&&"function"==typeof t.V)return t.V();if("string"==typeof t)return t.split("");if(f(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function xn(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.V||"function"!=typeof t.V){if(f(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function On(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof On)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function In(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];An(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)An(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function An(t,e){return Object.prototype.hasOwnProperty.call(t,e)}P(wn,Be),wn.prototype[Ze]=!0,wn.prototype.addEventListener=function(t,e,n,r){un(this,t,e,n,r)},wn.prototype.removeEventListener=function(t,e,n,r){dn(this,t,e,n,r)},wn.prototype.dispatchEvent=function(t){var e,n=this.fb;if(n)for(e=[];n;n=n.fb)e.push(n);n=this.$b;var r=t.type||t;if("string"==typeof t)t=new Ye(t,n);else if(t instanceof Ye)t.target=t.target||n;else{var i=t;bt(t=new Ye(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.b=e[o];i=Pn(s,r,!0,t)&&i}if(i=Pn(s=t.b=n,r,!0,t)&&i,i=Pn(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=Pn(s=t.b=e[o],r,!1,t)&&i;return i},wn.prototype.Da=function(){if(wn.$a.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)nn(n[r]);delete e.a[t],e.b--}}this.fb=null},(t=On.prototype).V=function(){In(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.Y=function(){return In(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return An(this.b,t)?this.b[t]:e},t.set=function(t,e){An(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Rn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Dn(t,e){var n;this.a=this.l=this.f="",this.g=null,this.i=this.c="",this.h=!1,t instanceof Dn?(this.h=void 0!==e?e:t.h,jn(this,t.f),this.l=t.l,this.a=t.a,Nn(this,t.g),this.c=t.c,Mn(this,er(t.b)),this.i=t.i):t&&(n=String(t).match(Rn))?(this.h=!!e,jn(this,n[1]||"",!0),this.l=Vn(n[2]||""),this.a=Vn(n[3]||"",!0),Nn(this,n[4]),this.c=Vn(n[5]||"",!0),Mn(this,n[6]||"",!0),this.i=Vn(n[7]||"")):(this.h=!!e,this.b=new Xn(null,this.h))}function jn(t,e,n){t.f=n?Vn(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Nn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function Mn(t,e,n){e instanceof Xn?(t.b=e,function(t,e){e&&!t.f&&(Yn(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Jn(this,e),tr(this,n,t))},t)),t.f=e}(t.b,t.h)):(n||(e=Bn(e,Wn)),t.b=new Xn(e,t.h))}function Ln(t,e,n){t.b.set(e,n)}function Fn(t,e){return t.b.get(e)}function Un(t){return t instanceof Dn?new Dn(t):new Dn(t,void 0)}function Qn(t,e,n,r){var i=new Dn(null,void 0);return t&&jn(i,t),e&&(i.a=e),n&&Nn(i,n),r&&(i.c=r),i}function Vn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Bn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,qn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function qn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Dn.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Bn(e,zn,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(Bn(e,zn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.c)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(Bn(n,"/"==n.charAt(0)?Kn:Hn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Bn(n,Gn)),t.join("")},Dn.prototype.resolve=function(t){var e=new Dn(this),n=!!t.f;n?jn(e,t.f):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r=t.c;if(n)Nn(e,t.g);else if(n=!!t.c){if("/"!=r.charAt(0))if(this.a&&!this.c)r="/"+r;else{var i=e.c.lastIndexOf("/");-1!=i&&(r=e.c.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ct(i,"./")||ct(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],s=0;s<i.length;){var a=i[s++];"."==a?r&&s==i.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&s==i.length&&o.push("")):(o.push(a),r=!0)}r=o.join("/")}else r=i}return n?e.c=r:n=""!==t.b.toString(),n?Mn(e,er(t.b)):n=!!t.i,n&&(e.i=t.i),e};var zn=/[#\/\?@]/g,Hn=/[#\?:]/g,Kn=/[#\?]/g,Wn=/[#\?@]/g,Gn=/#/g;function Xn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Yn(t){t.a||(t.a=new On,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function $n(t){var e=xn(t);if(void 0===e)throw Error("Keys are undefined");var n=new Xn(null,void 0);t=Tn(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?tr(n,i,o):n.add(i,o)}return n}function Jn(t,e){Yn(t),e=nr(t,e),An(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,An((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&In(t)))}function Zn(t,e){return Yn(t),e=nr(t,e),An(t.a.b,e)}function tr(t,e,n){Jn(t,e),0<n.length&&(t.c=null,t.a.set(nr(t,e),J(n)),t.b+=n.length)}function er(t){var e=new Xn;return e.c=t.c,t.a&&(e.a=new On(t.a),e.b=t.b),e}function nr(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function rr(t){var e=[];return or(new ir,t,e),e.join("")}function ir(){}function or(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(Array.isArray(e)){var r=e;e=r.length,n.push("[");for(var i="",o=0;o<e;o++)n.push(i),or(t,r[o],n),i=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){for(r in n.push("{"),i="",e)Object.prototype.hasOwnProperty.call(e,r)&&"function"!=typeof(o=e[r])&&(n.push(i),cr(r,n),n.push(":"),or(t,o,n),i=",");return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":cr(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}(t=Xn.prototype).add=function(t,e){Yn(this),this.c=null,t=nr(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){Yn(this),this.a.forEach(function(n,r){z(n,function(n){t.call(e,n,r,this)},this)},this)},t.Y=function(){Yn(this);for(var t=this.a.V(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.V=function(t){Yn(this);var e=[];if("string"==typeof t)Zn(this,t)&&(e=$(e,this.a.get(nr(this,t))));else{t=this.a.V();for(var n=0;n<t.length;n++)e=$(e,t[n])}return e},t.set=function(t,e){return Yn(this),this.c=null,Zn(this,t=nr(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.V(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.V(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var sr={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},ar=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function cr(t,e){e.push('"',t.replace(ar,function(t){var e=sr[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),sr[t]=e),e}),'"')}function ur(){var t=Or();return Xt&&!!se&&11==se||/Edge\/\d+/.test(t)}function lr(){return a.window&&a.window.location.href||self&&self.location&&self.location.href||""}function hr(t,e){e=e||a.window;var n="about:blank";t&&(n=Rt(Mt(t)||Ut)),e.location.href=n}function dr(t,e){var n,r=[];for(n in t)n in e?typeof t[n]!=typeof e[n]?r.push(n):"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<dr(t[n],e[n]).length&&r.push(n):t[n]!==e[n]&&r.push(n):r.push(n);for(n in e)n in t||r.push(n);return r}function fr(t){return!!((t=(t||Or()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function pr(t){t=t||a.window;try{t.close()}catch(e){}}function gr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(s in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Or().toLowerCase(),r&&(e.target=r,ct(n,"crios/")&&(e.target="_blank")),Er(Or())==Pr&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof At?n:Mt(void 0!==n.href?n.href:String(n))||Ut,n=t.target||n.target,i=[],t)switch(s){case"width":case"height":case"top":case"left":i.push(s+"="+t[s]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(s+"="+(t[s]?1:0))}var s=i.join(",");if((dt("iPhone")&&!dt("iPod")&&!dt("iPad")||dt("iPad")||dt("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(vt(s=pe(document,"A"),"HTMLAnchorElement"),e=e instanceof At?e:Lt(e),s.href=Rt(e),s.setAttribute("target",n),t.noreferrer&&s.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),s.dispatchEvent(t),s={}):t.noreferrer?(s=Bt("",r,n,s),t=Rt(e),s&&($t&&ct(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),s.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+zt(t)+'">',t=new Qt(t=(r=Pt())?r.createHTML(t):t,null,Vt),r=s.document)&&(r.write(function(t){return t instanceof Qt&&t.constructor===Qt?t.a:(M("expected object of type SafeHtml, got '"+t+"' of type "+d(t)),"type_error:SafeHtml")}(t)),r.close())):(s=Bt(e,r,n,s))&&t.noopener&&(s.opener=null),s)try{s.focus()}catch(a){}return s}var mr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,br=/^[^@]+@[^@]+$/;function vr(){var t=null;return new _e(function(e){"complete"==a.document.readyState?e():(t=function(){e()},hn(window,"load",t))}).o(function(e){throw dn(window,"load",t),e})}function yr(t){return t=t||Or(),!("file:"!==jr()&&"ionic:"!==jr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function _r(){var t=a.window;try{return!(!t||t==t.top)}catch(e){return!1}}function wr(){return void 0!==a.WorkerGlobalScope&&"function"==typeof a.importScripts}function Cr(){return r.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":r.a.INTERNAL.hasOwnProperty("node")?"Node":wr()?"Worker":"Browser"}function kr(){var t=Cr();return"ReactNative"===t||"Node"===t}var Pr="Firefox",Sr="Chrome";function Er(t){var e=t.toLowerCase();return ct(e,"opera/")||ct(e,"opr/")||ct(e,"opios/")?"Opera":ct(e,"iemobile")?"IEMobile":ct(e,"msie")||ct(e,"trident/")?"IE":ct(e,"edge/")?"Edge":ct(e,"firefox/")?Pr:ct(e,"silk/")?"Silk":ct(e,"blackberry")?"Blackberry":ct(e,"webos")?"Webos":!ct(e,"safari/")||ct(e,"chrome/")||ct(e,"crios/")||ct(e,"android")?!ct(e,"chrome/")&&!ct(e,"crios/")||ct(e,"edge/")?ct(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":Sr:"Safari"}var Tr={ld:"FirebaseCore-web",nd:"FirebaseUI-web"};function xr(t,e){e=e||[];var n,r=[],i={};for(n in Tr)i[Tr[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=Cr())?r=Er(i=Or()):"Worker"===r&&(r=Er(i=Or())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function Or(){return a.navigator&&a.navigator.userAgent||""}function Ir(t,e){t=t.split("."),e=e||a;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Ar(){try{var t=a.localStorage,e=Ur();if(t)return t.setItem(e,"1"),t.removeItem(e),!ur()||!!a.indexedDB}catch(n){return wr()&&!!a.indexedDB}return!1}function Rr(){return(Dr()||"chrome-extension:"===jr()||yr())&&!kr()&&Ar()&&!wr()}function Dr(){return"http:"===jr()||"https:"===jr()}function jr(){return a.location&&a.location.protocol||null}function Nr(t){return!fr(t=t||Or())&&Er(t)!=Pr}function Mr(t){return void 0===t?null:rr(t)}function Lr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!=t[e]&&(n[e]=t[e]);return n}function Fr(t){if(null!==t)return JSON.parse(t)}function Ur(t){return t||Math.floor(1e9*Math.random()).toString()}function Qr(t){return"Safari"!=Er(t=t||Or())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Vr(){var t=a.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Br(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Or(),e=Cr(),this.b=fr(t)||"ReactNative"===e}function qr(){var t=a.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function zr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function Hr(){return!(!Ir("fireauth.oauthhelper",a)&&!Ir("fireauth.iframe",a))}Br.prototype.get=function(){var t=a.navigator;return!t||"boolean"!=typeof t.onLine||!Dr()&&"chrome-extension:"!==jr()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Kr,Wr={};function Gr(t){Wr[t]||(Wr[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Xr={};Object.defineProperty(Xr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Xr,"abcd",{configurable:!0,enumerable:!0,value:2}),Kr=2==Xr.abcd}catch(Wt){Kr=!1}function Yr(t,e,n){Kr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function $r(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Yr(t,n,e[n])}function Jr(t){var e={};return $r(e,t),e}function Zr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Yr(e,n,Zr(t[n]));return e}function ti(t){var e=t&&(t[oi]?"phone":null);if(!(e&&t&&t[ii]))throw new E("internal-error","Internal assert: invalid MultiFactorInfo object");Yr(this,"uid",t[ii]),Yr(this,"displayName",t[ni]||null);var n=null;t[ri]&&(n=new Date(t[ri]).toUTCString()),Yr(this,"enrollmentTime",n),Yr(this,"factorId",e)}function ei(t){try{var e=new si(t)}catch(n){e=null}return e}ti.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var ni="displayName",ri="enrolledAt",ii="mfaEnrollmentId",oi="phoneInfo";function si(t){ti.call(this,t),Yr(this,"phoneNumber",t[oi])}function ai(t){var e={},n=t[hi],r=t[fi],i=t[pi];if(t=ei(t[di]),!i||i!=ui&&i!=li&&!n||i==li&&!r||i==ci&&!t)throw Error("Invalid checkActionCode response!");i==li?(e[mi]=n||null,e[vi]=n||null,e[gi]=r):(e[mi]=r||null,e[vi]=r||null,e[gi]=n||null),e[bi]=t||null,Yr(this,_i,i),Yr(this,yi,Zr(e))}P(si,ti),si.prototype.w=function(){var t=si.$a.w.call(this);return t.phoneNumber=this.phoneNumber,t};var ci="REVERT_SECOND_FACTOR_ADDITION",ui="EMAIL_SIGNIN",li="VERIFY_AND_CHANGE_EMAIL",hi="email",di="mfaInfo",fi="newEmail",pi="requestType",gi="email",mi="fromEmail",bi="multiFactorInfo",vi="previousEmail",yi="data",_i="operation";function wi(t){var e=Fn(t=Un(t),Ci)||null,n=Fn(t,ki)||null,r=Fn(t,Ei)||null;if(r=r&&xi[r]||null,!e||!n||!r)throw new E("argument-error",Ci+", "+ki+"and "+Ei+" are required in a valid action code URL.");$r(this,{apiKey:e,operation:r,code:n,continueUrl:Fn(t,Pi)||null,languageCode:Fn(t,Si)||null,tenantId:Fn(t,Ti)||null})}var Ci="apiKey",ki="oobCode",Pi="continueUrl",Si="languageCode",Ei="mode",Ti="tenantId",xi={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ci,signIn:ui,verifyAndChangeEmail:li,verifyEmail:"VERIFY_EMAIL"};function Oi(t){try{return new wi(t)}catch(e){return null}}function Ii(t){var e=t[Ni];if(void 0===e)throw new E("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new E("invalid-continue-uri");this.i=e,this.b=this.a=null,this.g=!1;var n=t[Ai];if(n&&"object"==typeof n){e=n[Fi];var r=n[Mi];if(n=n[Li],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new E("argument-error",Mi+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new E("argument-error",Li+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new E("argument-error",Fi+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new E("missing-android-pkg-name")}}else if(void 0!==n)throw new E("argument-error",Ai+" property must be a non null object when specified.");if(this.f=null,(e=t[ji])&&"object"==typeof e){if("string"==typeof(e=e[Ui])&&e.length)this.f=e;else if(void 0!==e)throw new E("argument-error",Ui+" property must be a non empty string when specified.")}else if(void 0!==e)throw new E("argument-error",ji+" property must be a non null object when specified.");if(void 0!==(e=t[Di])&&"boolean"!=typeof e)throw new E("argument-error",Di+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[Ri])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new E("argument-error",Ri+" property must be a non empty string when specified.");this.h=t||null}var Ai="android",Ri="dynamicLinkDomain",Di="handleCodeInApp",ji="iOS",Ni="url",Mi="installApp",Li="minimumVersion",Fi="packageName",Ui="bundleId";function Qi(t){var e={};for(var n in e.continueUrl=t.i,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.h,e)null===e[n]&&delete e[n];return e}var Vi=null;function Bi(t){var e=zi(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.i=t,this.a=e.exp,this.h=e.sub,t=Date.now()/1e3,this.g=e.iat||(t>this.a?this.a:t),this.b=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.c=!!e.is_anonymous||"anonymous"==this.b}function qi(t){try{return new Bi(t)}catch(e){return null}}function zi(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(function(t){var e="";return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Vi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Vi){Vi={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Vi[o]&&(Vi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),s=n(64),a=n(64);if(64===a&&-1===i)break;e(i<<2|o>>4),64!=s&&(e(o<<4&240|s>>2),64!=a&&e(s<<6&192|a))}}(t,function(t){e+=String.fromCharCode(t)}),e}(t))}catch(r){}return null}Bi.prototype.S=function(){return this.f},Bi.prototype.l=function(){return this.c},Bi.prototype.toString=function(){return this.i};var Hi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Ki=["client_id","response_type","scope","redirect_uri","state"],Wi={md:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Wa:Ki},od:{Ja:null,ua:500,ta:750,fa:"github.com",Wa:Ki},pd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Wa:Ki},vd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Wa:Hi},jd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Wa:[]}};function Gi(t){for(var e in Wi)if(Wi[e].fa==t)return Wi[e];return null}function Xi(t){var e={};e["facebook.com"]=to,e["google.com"]=no,e["github.com"]=eo,e["twitter.com"]=ro;var n=t&&t[$i];try{if(n)return e[n]?new e[n](t):new Zi(t);if(void 0!==t[Yi])return new Ji(t)}catch(r){}return null}var Yi="idToken",$i="providerId";function Ji(t){var e=t[$i];if(!e&&t[Yi]){var n=qi(t[Yi]);n&&n.b&&(e=n.b)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Yr(this,"providerId",e),Yr(this,"isNewUser",n)}function Zi(t){Ji.call(this,t),Yr(this,"profile",Zr((t=Fr(t.rawUserInfo||"{}"))||{}))}function to(t){if(Zi.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function eo(t){if(Zi.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Yr(this,"username",this.profile&&this.profile.login||null)}function no(t){if(Zi.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function ro(t){if(Zi.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Yr(this,"username",t.screenName||null)}function io(t){var e=Un(t),n=Fn(e,"link"),r=Fn(Un(n),"link");return e=Fn(e,"deep_link_id"),Fn(Un(e),"link")||e||r||n||t}function oo(t,e){if(!t&&!e)throw new E("internal-error","Internal assert: no raw session string available");if(t&&e)throw new E("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?so:ao}P(Zi,Ji),P(to,Zi),P(eo,Zi),P(no,Zi),P(ro,Zi);var so="enroll",ao="signin";function co(){}function uo(t,e){return t.then(function(t){if(t[Ys]){var n=qi(t[Ys]);if(!n||e!=n.h)throw new E("user-mismatch");return t}throw new E("user-mismatch")}).o(function(t){throw t&&t.code&&t.code==O+"user-not-found"?new E("user-mismatch"):t})}function lo(t,e){if(!e)throw new E("internal-error","failed to construct a credential");this.a=e,Yr(this,"providerId",t),Yr(this,"signInMethod",t)}function ho(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function fo(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new lo(t.providerId,t.pendingToken)}catch(e){}return null}function po(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Yr(this,"idToken",e.idToken),e.accessToken&&Yr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Yr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new E("internal-error","failed to construct a credential");Yr(this,"accessToken",e.oauthToken),Yr(this,"secret",e.oauthTokenSecret)}Yr(this,"providerId",t),Yr(this,"signInMethod",n)}function go(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:$n(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function mo(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new po(t.providerId,e,t.signInMethod)}catch(n){}}return null}function bo(t,e){this.Pc=e||[],$r(this,{providerId:t,isOAuthProvider:!0}),this.Hb={},this.ob=(Gi(t)||{}).Ja||null,this.nb=null}function vo(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new E("argument-error",'SAML provider IDs must be prefixed with "saml."');bo.call(this,t,[])}function yo(t){bo.call(this,t,Ki),this.a=[]}function _o(){yo.call(this,"facebook.com")}function wo(t){if(!t)throw new E("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return g(t)&&(e=t.accessToken),(new _o).credential({accessToken:e})}function Co(){yo.call(this,"github.com")}function ko(t){if(!t)throw new E("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return g(t)&&(e=t.accessToken),(new Co).credential({accessToken:e})}function Po(){yo.call(this,"google.com"),this.Ca("profile")}function So(t,e){var n=t;return g(t)&&(n=t.idToken,e=t.accessToken),(new Po).credential({idToken:n,accessToken:e})}function Eo(){bo.call(this,"twitter.com",Hi)}function To(t,e){var n=t;if(g(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new E("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new po("twitter.com",n,"twitter.com")}function xo(t,e,n){this.a=t,this.f=e,Yr(this,"providerId","password"),Yr(this,"signInMethod",n===Io.EMAIL_LINK_SIGN_IN_METHOD?Io.EMAIL_LINK_SIGN_IN_METHOD:Io.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Oo(t){return t&&t.email&&t.password?new xo(t.email,t.password,t.signInMethod):null}function Io(){$r(this,{providerId:"password",isOAuthProvider:!1})}function Ao(t,e){if(!(e=Ro(e)))throw new E("argument-error","Invalid email link!");return new xo(t,e.code,Io.EMAIL_LINK_SIGN_IN_METHOD)}function Ro(t){return(t=Oi(t=io(t)))&&t.operation===ui?t:null}function Do(t){if(!(t.cb&&t.bb||t.La&&t.ea))throw new E("internal-error");this.a=t,Yr(this,"providerId","phone"),this.fa="phone",Yr(this,"signInMethod","phone")}function jo(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return z(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(n){t[n]&&(e[n]=t[n])}),new Do(e)}return null}function No(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.cb,code:t.a.bb}}function Mo(t){try{this.a=t||r.a.auth()}catch(e){throw new E("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}$r(this,{providerId:"phone",isOAuthProvider:!1})}function Lo(t,e){if(!t)throw new E("missing-verification-id");if(!e)throw new E("missing-verification-code");return new Do({cb:t,bb:e})}function Fo(t){if(t.temporaryProof&&t.phoneNumber)return new Do({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,s=t&&t.pendingToken;try{switch(e){case"google.com":return So(o,n);case"facebook.com":return wo(n);case"github.com":return ko(n);case"twitter.com":return To(n,r);default:return n||r||o||s?s?0==e.indexOf("saml.")?new lo(e,s):new po(e,{pendingToken:s,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new yo(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(a){return null}}function Uo(t){if(!t.isOAuthProvider)throw new E("invalid-oauth-provider")}function Qo(t,e,n,r,i,o,s){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.h=o||null,this.i=s||null,this.a=i||null,!this.g&&!this.a)throw new E("invalid-auth-event");if(this.g&&this.a)throw new E("invalid-auth-event");if(this.g&&!this.f)throw new E("invalid-auth-event")}function Vo(t){return(t=t||{}).type?new Qo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&T(t.error),t.postBody,t.tenantId):null}function Bo(){this.b=null,this.a=[]}oo.prototype.Ha=function(){return Te(this.a?this.a:this.b)},oo.prototype.w=function(){return this.type==so?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},co.prototype.ja=function(){},co.prototype.b=function(){},co.prototype.c=function(){},co.prototype.w=function(){},lo.prototype.ja=function(t){return ba(t,ho(this))},lo.prototype.b=function(t,e){var n=ho(this);return n.idToken=e,va(t,n)},lo.prototype.c=function(t,e){return uo(ya(t,ho(this)),e)},lo.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},po.prototype.ja=function(t){return ba(t,go(this))},po.prototype.b=function(t,e){var n=go(this);return n.idToken=e,va(t,n)},po.prototype.c=function(t,e){return uo(ya(t,go(this)),e)},po.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},bo.prototype.Ka=function(t){return this.Hb=gt(t),this},P(vo,bo),P(yo,bo),yo.prototype.Ca=function(t){return G(this.a,t)||this.a.push(t),this},yo.prototype.Pb=function(){return J(this.a)},yo.prototype.credential=function(t,e){var n;if(!(n=g(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new E("argument-error","credential failed: must provide the ID token and/or the access token.");return new po(this.providerId,n,this.providerId)},P(_o,yo),Yr(_o,"PROVIDER_ID","facebook.com"),Yr(_o,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),P(Co,yo),Yr(Co,"PROVIDER_ID","github.com"),Yr(Co,"GITHUB_SIGN_IN_METHOD","github.com"),P(Po,yo),Yr(Po,"PROVIDER_ID","google.com"),Yr(Po,"GOOGLE_SIGN_IN_METHOD","google.com"),P(Eo,bo),Yr(Eo,"PROVIDER_ID","twitter.com"),Yr(Eo,"TWITTER_SIGN_IN_METHOD","twitter.com"),xo.prototype.ja=function(t){return this.signInMethod==Io.EMAIL_LINK_SIGN_IN_METHOD?tc(t,Ta,{email:this.a,oobCode:this.f}):tc(t,Xa,{email:this.a,password:this.f})},xo.prototype.b=function(t,e){return this.signInMethod==Io.EMAIL_LINK_SIGN_IN_METHOD?tc(t,xa,{idToken:e,email:this.a,oobCode:this.f}):tc(t,Va,{idToken:e,email:this.a,password:this.f})},xo.prototype.c=function(t,e){return uo(this.ja(t),e)},xo.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},$r(Io,{PROVIDER_ID:"password"}),$r(Io,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),$r(Io,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Do.prototype.ja=function(t){return t.eb(No(this))},Do.prototype.b=function(t,e){var n=No(this);return n.idToken=e,tc(t,$a,n)},Do.prototype.c=function(t,e){var n=No(this);return n.operation="REAUTH",uo(t=tc(t,Ja,n),e)},Do.prototype.w=function(){var t={providerId:"phone"};return this.a.cb&&(t.verificationId=this.a.cb),this.a.bb&&(t.verificationCode=this.a.bb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},Mo.prototype.eb=function(t,e){var n=this.a.a;return Te(e.verify()).then(function(r){if("string"!=typeof r)throw new E("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=g(t)?t.session:null,o=g(t)?t.phoneNumber:t;return(i&&i.type==so?i.Ha().then(function(t){return function(t,e){return tc(t,qa,e).then(function(t){return t.phoneSessionInfo.sessionInfo})}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})}):i&&i.type==ao?i.Ha().then(function(e){return function(t,e){return tc(t,za,e).then(function(t){return t.phoneResponseInfo.sessionInfo})}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})}):function(t,e){return tc(t,Ua,e)}(n,{phoneNumber:o,recaptchaToken:r})).then(function(t){return"function"==typeof e.reset&&e.reset(),t},function(t){throw"function"==typeof e.reset&&e.reset(),t});default:throw new E("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})},$r(Mo,{PROVIDER_ID:"phone"}),$r(Mo,{PHONE_SIGN_IN_METHOD:"phone"}),Qo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.i&&t.push(this.i),t.join("-")},Qo.prototype.S=function(){return this.i},Qo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.h,tenantId:this.i,error:this.a&&this.a.w()}};var qo,zo=null;function Ho(t){var e="unauthorized-domain",n=void 0,r=Un(t);t=r.a,"chrome-extension"==(r=r.f)?n=qt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=qt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",E.call(this,e,n)}function Ko(t,e,n){E.call(this,t,n),(t=e||{}).Ib&&Yr(this,"email",t.Ib),t.ea&&Yr(this,"phoneNumber",t.ea),t.credential&&Yr(this,"credential",t.credential),t.Yb&&Yr(this,"tenantId",t.Yb)}function Wo(t){if(t.code){var e=t.code||"";0==e.indexOf(O)&&(e=e.substring(O.length));var n={credential:Fo(t),Yb:t.tenantId};if(t.email)n.Ib=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new E(e,t.message||void 0);return new Ko(e,n,t.message)}return null}function Go(){}function Xo(){}function Yo(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function $o(){}function Jo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=w(this.pc,this),this.a.onerror=w(this.Rb,this),this.a.onprogress=w(this.qc,this),this.a.ontimeout=w(this.uc,this)}function Zo(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function ts(t,e,n){this.reset(t,e,n,void 0,void 0)}function es(t){this.f=t,this.b=this.c=this.a=null}function ns(t,e){this.name=t,this.value=e}P(Ho,E),P(Ko,E),Ko.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&bt(t,e),t},Ko.prototype.toJSON=function(){return this.w()},Go.prototype.c=null,P(Xo,Go),Xo.prototype.a=function(){var t=Yo(this);return t?new ActiveXObject(t):new XMLHttpRequest},Xo.prototype.b=function(){var t={};return Yo(this)&&(t[0]=!0,t[1]=!0),t},qo=new Xo,P($o,Go),$o.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Jo;throw Error("Unsupported browser")},$o.prototype.b=function(){return{}},(t=Jo.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.pc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Zo(this,4)},t.Rb=function(){this.status=500,this.response=this.responseText="",Zo(this,4)},t.uc=function(){this.Rb()},t.qc=function(){this.status=200,Zo(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},ts.prototype.a=null,ts.prototype.reset=function(t,e,n,r,i){r||k(),delete this.a},ns.prototype.toString=function(){return this.name};var rs=new ns("SEVERE",1e3),is=new ns("WARNING",900),os=new ns("CONFIG",700),ss=new ns("FINE",500);function as(t){return t.c?t.c:t.a?as(t.a):(M("Root logger has no level set."),null)}es.prototype.log=function(t,e,n){if(t.value>=as(this).value)for(p(e)&&(e=e()),t=new ts(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var cs={},us=null;function ls(t){var e;if(us||(us=new es(""),cs[""]=us,us.c=os),!(e=cs[t])){e=new es(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=ls(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,cs[t]=e}return e}function hs(t,e){t&&t.log(ss,e,void 0)}function ds(t){this.f=t}function fs(t){wn.call(this),this.u=t,this.i=void 0,this.readyState=ps,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.h=ls("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}P(ds,Go),ds.prototype.a=function(){return new fs(this.f)},ds.prototype.b=function(t){return function(){return t}}({}),P(fs,wn);var ps=0;function gs(t){t.c.read().then(t.oc.bind(t)).catch(t.Ta.bind(t))}function ms(t){t.readyState=4,t.g=null,t.c=null,t.m=null,bs(t)}function bs(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function vs(t){wn.call(this),this.headers=new On,this.O=t||null,this.c=!1,this.A=this.a=null,this.i=this.P=this.l="",this.f=this.N=this.h=this.G=!1,this.g=0,this.s=null,this.m=ys,this.u=this.R=!1}(t=fs.prototype).open=function(t,e){if(this.readyState!=ps)throw this.abort(),Error("Error reopening a connection");this.s=t,this.f=e,this.readyState=1,bs(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.i,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.tc.bind(this),this.Ta.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ms(this)),this.readyState=ps},t.tc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,bs(this)),this.a&&(this.readyState=3,bs(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.rc.bind(this),this.Ta.bind(this)):void 0!==a.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,gs(this)):t.text().then(this.sc.bind(this),this.Ta.bind(this)))))},t.oc=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?ms(this):bs(this),3==this.readyState&&gs(this)}},t.sc=function(t){this.a&&(this.response=this.responseText=t,ms(this))},t.rc=function(t){this.a&&(this.response=t,ms(this))},t.Ta=function(t){var e=this.h;e&&e.log(is,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&ms(this)},t.setRequestHeader=function(t,e){this.l.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.h)&&t.log(is,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.h;return t&&t.log(is,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(fs.prototype,"withCredentials",{get:function(){return"include"===this.i},set:function(t){this.i=t?"include":"same-origin"}}),P(vs,wn);var ys="";vs.prototype.b=ls("goog.net.XhrIo");var _s=/^https?$/i,ws=["POST","PUT"];function Cs(t){return"content-type"==t.toLowerCase()}function ks(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.i=e,Ps(t),Es(t)}function Ps(t){t.G||(t.G=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Ss(t){if(t.c&&void 0!==s)if(t.A[1]&&4==xs(t)&&2==Os(t))hs(t.b,Is(t,"Local request error detected and ignored"));else if(t.h&&4==xs(t))Sn(t.Ub,0,t);else if(t.dispatchEvent("readystatechange"),4==xs(t)){hs(t.b,Is(t,"Request complete")),t.c=!1;try{var e,n=Os(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.l).match(Rn)[1]||null;if(!o&&a.self&&a.self.location){var c=a.self.location.protocol;o=c.substr(0,c.length-1)}i=!_s.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var u=2<xs(t)?t.a.statusText:""}catch(l){hs(t.b,"Can not get status: "+l.message),u=""}t.i=u+" ["+Os(t)+"]",Ps(t)}}finally{Es(t)}}}function Es(t,e){if(t.a){Ts(t);var n=t.a,r=t.A[0]?h:null;t.a=null,t.A=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(t=t.b)&&t.log(rs,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function Ts(t){t.a&&t.u&&(t.a.ontimeout=null),t.s&&(a.clearTimeout(t.s),t.s=null)}function xs(t){return t.a?t.a.readyState:0}function Os(t){try{return 2<xs(t)?t.a.status:-1}catch(e){return-1}}function Is(t,e){return e+" ["+t.P+" "+t.l+" "+Os(t)+"]"}function As(t){var e=Bs;this.g=[],this.u=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.m=this.A=this.h=!1,this.i=0,this.b=null,this.l=0}function Rs(t,e,n){t.a=!0,t.c=n,t.f=!e,Ms(t)}function Ds(t){if(t.a){if(!t.m)throw new Ls(t);t.m=!1}}function js(t,e,n,r){t.g.push([e,n,r]),t.a&&Ms(t)}function Ns(t){return W(t.g,function(t){return p(t[1])})}function Ms(t){if(t.i&&t.a&&Ns(t)){var e=t.i,n=Qs[e];n&&(a.clearTimeout(n.a),delete Qs[e]),t.i=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.h;){var i=t.g.shift(),o=i[0],s=i[1];if(i=i[2],o=t.f?s:o)try{var c=o.call(i||t.s,e);void 0!==c&&(t.f=t.f&&(c==e||c instanceof Error),t.c=e=c),(D(e)||"function"==typeof a.Promise&&e instanceof a.Promise)&&(r=!0,t.h=!0)}catch(u){e=u,t.f=!0,Ns(t)||(n=!0)}}t.c=e,r&&(c=w(t.v,t,!0),r=w(t.v,t,!1),e instanceof As?(js(e,c,r),e.A=!0):e.then(c,r)),n&&(e=new Us(e),Qs[e.a]=e,t.i=e.a)}function Ls(){j.call(this)}function Fs(){j.call(this)}function Us(t){this.a=a.setTimeout(w(this.c,this),0),this.b=t}(t=vs.prototype).Ma=function(){void 0!==s&&this.a&&(this.i="Timed out after "+this.g+"ms, aborting",hs(this.b,Is(this,this.i)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(hs(this.b,Is(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Es(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Es(this,!0)),vs.$a.Da.call(this)},t.Ub=function(){this.xa||(this.N||this.h||this.f?Ss(this):this.Ic())},t.Ic=function(){Ss(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ys:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(rs,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return hs(this.b,"Can not get response: "+e.message),null}},As.prototype.cancel=function(t){if(this.a)this.c instanceof As&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.s,this):this.m=!0,this.a||(t=new Fs(this),Ds(this),Rs(this,!1,t))}},As.prototype.v=function(t,e){this.h=!1,Rs(this,t,e)},As.prototype.then=function(t,e,n){var r,i,o=new _e(function(t,e){r=t,i=e});return js(this,r,function(t){t instanceof Fs?o.cancel():i(t)}),o.then(t,e,n)},As.prototype.$goog_Thenable=!0,P(Ls,j),Ls.prototype.message="Deferred has already fired",Ls.prototype.name="AlreadyCalledError",P(Fs,j),Fs.prototype.message="Deferred was canceled",Fs.prototype.name="CanceledError",Us.prototype.c=function(){throw delete Qs[this.a],this.b};var Qs={};function Vs(t){var e={},n=e.document||document,r=Et(t).toString(),i=pe(document,"SCRIPT"),o={Vb:i,Ma:void 0},s=new As(o),c=null,h=null!=e.timeout?e.timeout:5e3;return 0<h&&(c=window.setTimeout(function(){qs(i,!0);var t=new Ks(Hs,"Timeout reached for loading script "+r);Ds(s),Rs(s,!1,t)},h),o.Ma=c),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(qs(i,e.wd||!1,c),Ds(s),Rs(s,!0,null))},i.onerror=function(){qs(i,!0,c);var t=new Ks(zs,"Error while loading script "+r);Ds(s),Rs(s,!1,t)},bt(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),ue(i,o),function(t,e){vt(t,"HTMLScriptElement"),t.src=Et(e),(e=t.ownerDocument&&t.ownerDocument.defaultView)&&e!=a?e=l(e.document):(null===u&&(u=l(a.document)),e=u),e&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),s}function Bs(){if(this&&this.Vb){var t=this.Vb;t&&"SCRIPT"==t.tagName&&qs(t,!0,this.Ma)}}function qs(t,e,n){null!=n&&a.clearTimeout(n),t.onload=h,t.onerror=h,t.onreadystatechange=h,e&&window.setTimeout(function(){t&&t.parentNode&&t.parentNode.removeChild(t)},0)}var zs=0,Hs=1;function Ks(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),j.call(this,n),this.code=t}function Ws(t){this.f=t}function Gs(t,e,n){if(this.c=t,this.l=(t=e||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.v=t.secureTokenTimeout||$s,this.g=gt(t.secureTokenHeaders||Js),this.i=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.h=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.m=t.firebaseTimeout||Zs,this.a=gt(t.firebaseHeaders||ta),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==Cr(),!(n=a.XMLHttpRequest||n&&r.a.INTERNAL.node&&r.a.INTERNAL.node.XMLHttpRequest)&&!wr())throw new E("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,this.f=wr()?new ds(self):kr()?new Ws(n):new $o,this.b=null}P(Ks,j),P(Ws,Go),Ws.prototype.a=function(){return new this.f},Ws.prototype.b=function(){return{}};var Xs,Ys="idToken",$s=new Br(3e4,6e4),Js={"Content-Type":"application/x-www-form-urlencoded"},Zs=new Br(3e4,6e4),ta={"Content-Type":"application/json"};function ea(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function na(t,e){e&&(t.l=ra("https://securetoken.googleapis.com/v1/token",e),t.i=ra("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.h=ra("https://identitytoolkit.googleapis.com/v2/",e))}function ra(t,e){return t=Un(t),e=Un(e.url),t.c=t.a+t.c,jn(t,e.f),t.a=e.a,Nn(t,e.g),t.toString()}function ia(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function oa(t,e,n,r,i,o,s){(function(){var t=Or();return!((t=Er(t)!=Sr?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||Xt&&se&&!(9<se))})()||wr()?t=w(t.u,t):(Xs||(Xs=new _e(function(t,e){!function(t,e){((window.gapi||{}).client||{}).request?t():(a[aa]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){js(t,null,e,void 0)}(Vs(Tt(sa,{onload:aa})),function(){e(Error("CORS_UNSUPPORTED"))}))}(t,e)})),t=w(t.s,t)),t(e,n,r,i,o,s)}Gs.prototype.S=function(){return this.b},Gs.prototype.u=function(t,e,n,r,i,o){if(wr()&&(void 0===a.fetch||void 0===a.Headers||void 0===a.Request))throw new E("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s=new vs(this.f);if(o){s.g=Math.max(0,o);var c=setTimeout(function(){s.dispatchEvent("timeout")},o)}Cn(s,"complete",function(){c&&clearTimeout(c);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return hs(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(n){t=null}e&&e(t)}),kn(s,"ready",function(){c&&clearTimeout(c),He(this)}),kn(s,"timeout",function(){c&&clearTimeout(c),He(this),e&&e(null)}),function(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.i="",t.P=n,t.G=!1,t.c=!0,t.a=t.O?t.O.a():qo.a(),t.A=function(t){return t.c||(t.c=t.b())}(t.O?t.O:qo),t.a.onreadystatechange=w(t.Ub,t);try{hs(t.b,Is(t,"Opening Xhr")),t.N=!0,t.a.open(n,String(e),!0),t.N=!1}catch(s){return hs(t.b,Is(t,"Error opening Xhr: "+s.message)),void ks(t,s)}e=r||"";var o=new On(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(f(t)||"string"==typeof t)z(t,e,void 0);else for(var n=xn(t),r=Tn(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,function(t,e){o.set(e,t)}),i=function(t){t:{for(var e=Cs,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.Y()),r=a.FormData&&e instanceof a.FormData,!G(ws,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(t,e){this.a.setRequestHeader(e,t)},t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.R&&(t.a.withCredentials=t.R);try{Ts(t),0<t.g&&(t.u=function(t){return Xt&&oe(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),hs(t.b,Is(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=w(t.Ma,t)):t.s=Sn(t.Ma,t.g,t)),hs(t.b,Is(t,"Sending request")),t.h=!0,t.a.send(e),t.h=!1}catch(s){hs(t.b,Is(t,"Send error: "+s.message)),ks(t,s)}}(s,t,n,r,i)};var sa=new yt(kt,"https://apis.google.com/js/client.js?onload=%{onload}"),aa="__fcb"+Math.floor(1e6*Math.random()).toString();function ca(t){if("string"!=typeof(t=t.email)||!br.test(t))throw new E("invalid-email")}function ua(t){"email"in t&&ca(t)}function la(t){if(!t[Ys]){if(t.mfaPendingCredential)throw new E("multi-factor-auth-required",null,gt(t));throw new E("internal-error")}}function ha(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new E("internal-error")}else{if(!t.sessionInfo)throw new E("missing-verification-id");if(!t.code)throw new E("missing-verification-code")}}Gs.prototype.s=function(t,e,n,r,i){var o=this;Xs.then(function(){window.gapi.client.setApiKey(o.c);var s=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(s),e&&e(t)}})}).o(function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})})},Gs.prototype.yb=function(){return tc(this,Ba,{})},Gs.prototype.Ab=function(t,e){return tc(this,Qa,{idToken:t,email:e})},Gs.prototype.Bb=function(t,e){return tc(this,Va,{idToken:t,password:e})};var da={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function fa(t){if(!t.phoneVerificationInfo)throw new E("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new E("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new E("missing-verification-code")}function pa(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new E("internal-error")}function ga(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&Zn(t=new Xn(t.postBody),"nonce")&&(e.nonce=t.get("nonce"))),e}function ma(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Wo(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Wo(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Wo(t)):t.errorMessage&&(e=ec(t.errorMessage)),e)throw e;la(t)}function ba(t,e){return e.returnIdpCredential=!0,tc(t,Ha,e)}function va(t,e){return e.returnIdpCredential=!0,tc(t,Wa,e)}function ya(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,tc(t,Ka,e)}function _a(t){if(!t.oobCode)throw new E("invalid-action-code")}(t=Gs.prototype).Cb=function(t,e){var n={idToken:t},r=[];return ft(da,function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)}),r.length&&(n.deleteAttribute=r),tc(this,Qa,n)},t.ub=function(t,e){return bt(t={requestType:"PASSWORD_RESET",email:t},e),tc(this,Na,t)},t.vb=function(t,e){return bt(t={requestType:"EMAIL_SIGNIN",email:t},e),tc(this,Ra,t)},t.tb=function(t,e){return bt(t={requestType:"VERIFY_EMAIL",idToken:t},e),tc(this,Da,t)},t.Db=function(t,e,n){return bt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),tc(this,ja,t)},t.eb=function(t){return tc(this,Ya,t)},t.mb=function(t,e){return tc(this,Fa,{oobCode:t,newPassword:e})},t.Qa=function(t){return tc(this,Ca,{oobCode:t})},t.ib=function(t){return tc(this,wa,{oobCode:t})};var wa={endpoint:"setAccountInfo",B:_a,Z:"email",C:!0},Ca={endpoint:"resetPassword",B:_a,F:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new E("internal-error")},C:!0},ka={endpoint:"signupNewUser",B:function(t){if(ca(t),!t.password)throw new E("weak-password")},F:la,U:!0,C:!0},Pa={endpoint:"createAuthUri",C:!0},Sa={endpoint:"deleteAccount",M:["idToken"]},Ea={endpoint:"setAccountInfo",M:["idToken","deleteProvider"],B:function(t){if(!Array.isArray(t.deleteProvider))throw new E("internal-error")}},Ta={endpoint:"emailLinkSignin",M:["email","oobCode"],B:ca,F:la,U:!0,C:!0},xa={endpoint:"emailLinkSignin",M:["idToken","email","oobCode"],B:ca,F:la,U:!0},Oa={endpoint:"accounts/mfaEnrollment:finalize",M:["idToken","phoneVerificationInfo"],B:fa,F:la,C:!0,Na:!0},Ia={endpoint:"accounts/mfaSignIn:finalize",M:["mfaPendingCredential","phoneVerificationInfo"],B:fa,F:la,C:!0,Na:!0},Aa={endpoint:"getAccountInfo"},Ra={endpoint:"getOobConfirmationCode",M:["requestType"],B:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new E("internal-error");ca(t)},Z:"email",C:!0},Da={endpoint:"getOobConfirmationCode",M:["idToken","requestType"],B:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new E("internal-error")},Z:"email",C:!0},ja={endpoint:"getOobConfirmationCode",M:["idToken","newEmail","requestType"],B:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new E("internal-error")},Z:"email",C:!0},Na={endpoint:"getOobConfirmationCode",M:["requestType"],B:function(t){if("PASSWORD_RESET"!=t.requestType)throw new E("internal-error");ca(t)},Z:"email",C:!0},Ma={kb:!0,endpoint:"getProjectConfig",Tb:"GET"},La={kb:!0,endpoint:"getRecaptchaParam",Tb:"GET",F:function(t){if(!t.recaptchaSiteKey)throw new E("internal-error")}},Fa={endpoint:"resetPassword",B:_a,Z:"email",C:!0},Ua={endpoint:"sendVerificationCode",M:["phoneNumber","recaptchaToken"],Z:"sessionInfo",C:!0},Qa={endpoint:"setAccountInfo",M:["idToken"],B:ua,U:!0},Va={endpoint:"setAccountInfo",M:["idToken"],B:function(t){if(ua(t),!t.password)throw new E("weak-password")},F:la,U:!0},Ba={endpoint:"signupNewUser",F:la,U:!0,C:!0},qa={endpoint:"accounts/mfaEnrollment:start",M:["idToken","phoneEnrollmentInfo"],B:function(t){if(!t.phoneEnrollmentInfo)throw new E("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new E("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new E("missing-app-credential")},F:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new E("internal-error")},C:!0,Na:!0},za={endpoint:"accounts/mfaSignIn:start",M:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],B:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new E("missing-app-credential")},F:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new E("internal-error")},C:!0,Na:!0},Ha={endpoint:"verifyAssertion",B:pa,Xa:ga,F:ma,U:!0,C:!0},Ka={endpoint:"verifyAssertion",B:pa,Xa:ga,F:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new E("user-not-found");if(t.errorMessage)throw ec(t.errorMessage);la(t)},U:!0,C:!0},Wa={endpoint:"verifyAssertion",B:function(t){if(pa(t),!t.idToken)throw new E("internal-error")},Xa:ga,F:ma,U:!0},Ga={endpoint:"verifyCustomToken",B:function(t){if(!t.token)throw new E("invalid-custom-token")},F:la,U:!0,C:!0},Xa={endpoint:"verifyPassword",B:function(t){if(ca(t),!t.password)throw new E("wrong-password")},F:la,U:!0,C:!0},Ya={endpoint:"verifyPhoneNumber",B:ha,F:la,C:!0},$a={endpoint:"verifyPhoneNumber",B:function(t){if(!t.idToken)throw new E("internal-error");ha(t)},F:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Wo(t);la(t)}},Ja={Gb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",B:ha,F:la,C:!0},Za={endpoint:"accounts/mfaEnrollment:withdraw",M:["idToken","mfaEnrollmentId"],F:function(t){if(!!t[Ys]^!!t.refreshToken)throw new E("internal-error")},C:!0,Na:!0};function tc(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.M))return xe(new E("internal-error"));var r,i=!!e.Na,o=e.Tb||"POST";return Te(n).then(e.B).then(function(){return e.U&&(n.returnSecureToken=!0),e.C&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),function(t,e,n,r,i,o,s){var a=Un(e+n);Ln(a,"key",t.c),s&&Ln(a,"cb",k().toString());var c="GET"==r;if(c)for(var u in i)i.hasOwnProperty(u)&&Ln(a,u,i[u]);return new _e(function(e,n){oa(t,a.toString(),function(t){t?t.error?n(nc(t,o||{})):e(t):n(new E("network-request-failed"))},r,c?void 0:rr(Lr(i)),t.a,t.m.get())})}(t,i?t.h:t.i,e.endpoint,o,n,e.Gb,e.kb||!1)}).then(function(t){return r=t,e.Xa?e.Xa(n,r):r}).then(e.F).then(function(){if(!e.Z)return r;if(!(e.Z in r))throw new E("internal-error");return r[e.Z]})}function ec(t){return nc({error:{errors:[{message:t}],code:400,message:t}})}function nc(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new E(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",bt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new E(r[i],e);return!e&&t&&(e=Mr(t)),new E("internal-error",e)}function rc(t){this.b=t,this.a=null,this.qb=function(t){return(ac||(ac=new _e(function(t,e){function n(){Vr(),Ir("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Vr(),e(Error("Network Error"))},timeout:oc.get()})}if(Ir("gapi.iframes.Iframe"))t();else if(Ir("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();a[r]=function(){Ir("gapi.load")?n():e(Error("Network Error"))},Te(Vs(r=Tt(ic,{onload:r}))).o(function(){e(Error("Network Error"))})}}).o(function(t){throw ac=null,t}))).then(function(){return new _e(function(e,n){Ir("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Ir("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout(function(){n(Error("Network Error"))},sc.get());r.ping(i).then(i,function(){n(Error("Network Error"))})})})})}(this)}var ic=new yt(kt,"https://apis.google.com/js/api.js?onload=%{onload}"),oc=new Br(3e4,6e4),sc=new Br(5e3,15e3),ac=null;function cc(t,e,n,r){this.l=t,this.i=e,this.h=n,this.g=r,this.f=null,t=this.g?Qn((t=Un(this.g.url)).f,t.a,t.g,"/emulator/auth/iframe"):Qn("https",this.l,null,"/__/auth/iframe"),this.a=t,Ln(this.a,"apiKey",this.i),Ln(this.a,"appName",this.h),this.b=null,this.c=[]}function uc(t,e,n,r,i,o){this.u=t,this.s=e,this.c=n,this.v=r,this.m=o,this.h=this.g=this.l=null,this.a=i,this.i=this.f=null}function lc(t){try{return r.a.app(t).auth().Ga()}catch(e){return[]}}function hc(t,e,n,r,i,o){this.s=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.h=i||null,this.l=this.u=this.A=null,this.i=[],this.v=this.a=null}function dc(t){var e=lr();return function(t){return tc(t,Ma,{}).then(function(t){return t.authorizedDomains||[]})}(t).then(function(t){t:{var n=Un(e),r=n.f;n=n.a;for(var i=0;i<t.length;i++){var o=t[i],s=n,a=r;if(0==o.indexOf("chrome-extension://")?s=Un(o).a==s&&"chrome-extension"==a:"http"!=a&&"https"!=a?s=!1:mr.test(o)?s=s==o:(o=o.split(".").join("\\."),s=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)),s){t=!0;break t}}t=!1}if(!t)throw new Ho(lr())})}function fc(t){return t.v||(t.v=vr().then(function(){if(!t.u){var e=t.c,n=t.h,r=lc(t.b),i=new cc(t.s,t.g,t.b,t.f);i.f=e,i.b=n,i.c=J(r||[]),t.u=i.toString()}t.m=new rc(t.u),function(t){if(!t.m)throw Error("IfcHandler must be initialized!");!function(t,e){t.qb.then(function(){t.a.register("authEvent",e,Ir("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(t.m,function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=Vo(e.authEvent),n=0;n<t.i.length;n++)r=t.i[n](e)||r;return(n={}).status=r?"ACK":"ERROR",Te(n)}return n.status="ERROR",Te(n)})}(t)})),t.v}function pc(t){return t.l||(t.A=t.c?xr(t.c,lc(t.b)):null,t.l=new Gs(t.g,R(t.h),t.A),t.f&&na(t.l,t.f)),t.l}function gc(t,e,n,r,i,o,s,a,c,u,l,h){return(t=new uc(t,e,n,r,i,h)).l=o,t.g=s,t.h=a,t.b=gt(c||null),t.f=u,t.xb(l).toString()}function mc(t){if(this.a=t||r.a.INTERNAL.reactNative&&r.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new E("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function bc(t){this.b=t,this.a={},this.f=w(this.c,this)}cc.prototype.toString=function(){return this.f?Ln(this.a,"v",this.f):Jn(this.a.b,"v"),this.b?Ln(this.a,"eid",this.b):Jn(this.a.b,"eid"),this.c.length?Ln(this.a,"fw",this.c.join(",")):Jn(this.a.b,"fw"),this.a.toString()},uc.prototype.xb=function(t){return this.i=t,this},uc.prototype.toString=function(){if(this.m){var t=Un(this.m.url);t=Qn(t.f,t.a,t.g,"/emulator/auth/handler")}else t=Qn("https",this.u,null,"/__/auth/handler");if(Ln(t,"apiKey",this.s),Ln(t,"appName",this.c),Ln(t,"authType",this.v),this.a.isOAuthProvider){var e=this.a;try{var n=r.a.app(this.c).auth().ka()}catch(c){n=null}for(var i in e.nb=n,Ln(t,"providerId",this.a.providerId),e=Lr((n=this.a).Hb))e[i]=e[i].toString();i=n.Pc,e=gt(e);for(var o=0;o<i.length;o++){var s=i[o];s in e&&delete e[s]}n.ob&&n.nb&&!e[n.ob]&&(e[n.ob]=n.nb),pt(e)||Ln(t,"customParameters",Mr(e))}if("function"==typeof this.a.Pb&&(n=this.a.Pb()).length&&Ln(t,"scopes",n.join(",")),this.l?Ln(t,"redirectUrl",this.l):Jn(t.b,"redirectUrl"),this.g?Ln(t,"eventId",this.g):Jn(t.b,"eventId"),this.h?Ln(t,"v",this.h):Jn(t.b,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Fn(t,a)&&Ln(t,a,this.b[a]);return this.i?Ln(t,"tid",this.i):Jn(t.b,"tid"),this.f?Ln(t,"eid",this.f):Jn(t.b,"eid"),(a=lc(this.c)).length&&Ln(t,"fw",a.join(",")),t.toString()},(t=hc.prototype).Nb=function(t,e,n){var r=new E("popup-closed-by-user"),i=new E("web-storage-unsupported"),o=this,s=!1;return this.la().then(function(){(function(t){var e={type:"webStorageSupport"};return fc(t).then(function(){return function(t,e){return t.qb.then(function(){return new _e(function(n){t.a.send(e.type,e,n,Ir("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}(t.m,e)}).then(function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()})})(o).then(function(n){n||(t&&pr(t),e(i),s=!0)})}).o(function(){}).then(function(){if(!s)return function(t){return new _e(function(e){return function n(){En(2e3).then(function(){if(t&&!t.closed)return n();e()})}()})}(t)}).then(function(){if(!s)return En(n).then(function(){e(r)})})},t.Wb=function(){var t=Or();return!Nr(t)&&!Qr(t)},t.Sb=function(){return!1},t.Lb=function(t,e,n,r,i,o,s,a){if(!t)return xe(new E("popup-blocked"));if(s&&!Nr())return this.la().o(function(e){pr(t),i(e)}),r(),Te();this.a||(this.a=dc(pc(this)));var c=this;return this.a.then(function(){var e=c.la().o(function(e){throw pr(t),i(e),e});return r(),e}).then(function(){Uo(n),s||hr(gc(c.s,c.g,c.b,e,n,null,o,c.c,void 0,c.h,a,c.f),t)}).o(function(t){throw"auth/network-request-failed"==t.code&&(c.a=null),t})},t.Mb=function(t,e,n,r){this.a||(this.a=dc(pc(this)));var i=this;return this.a.then(function(){Uo(e),hr(gc(i.s,i.g,i.b,t,e,lr(),n,i.c,void 0,i.h,r,i.f))}).o(function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t})},t.la=function(){var t=this;return fc(this).then(function(){return t.m.qb}).o(function(){throw t.a=null,new E("network-request-failed")})},t.Zb=function(){return!0},t.Ea=function(t){this.i.push(t)},t.Ra=function(t){Y(this.i,function(e){return e==t})},(t=mc.prototype).get=function(t){return Te(this.a.getItem(t)).then(function(t){return t&&Fr(t)})},t.set=function(t,e){return Te(this.a.setItem(t,Mr(e)))},t.T=function(t){return Te(this.a.removeItem(t))},t.ca=function(){},t.ia=function(){};var vc,yc=[];function _c(t,e,n){pt(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function wc(t){this.a=t}function Cc(t){this.c=t,this.b=!1,this.a=[]}function kc(t,e,n,r){var i,o,s,a,c=n||{},u=null;if(t.b)return xe(Error("connection_unavailable"));var l=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new _e(function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),s=setTimeout(function(){r(Error("unsupported_event"))},l),t.a.push(u={messageChannel:h,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(s),a=setTimeout(function(){r(Error("timeout"))},3e3)):"done"===t.data.status?(clearTimeout(a),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(s),clearTimeout(a),r(Error("invalid_response"))))}}),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:c},[h.port2])):r(Error("connection_unavailable"))}).then(function(e){return Pc(t,u),e}).o(function(e){throw Pc(t,u),e})}function Pc(t,e){if(e){var n=e.messageChannel;n&&(n.port1.removeEventListener("message",e.onMessage),n.port1.close()),Y(t.a,function(t){return t==e})}}function Sc(){if(!Oc())throw new E("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.v=a.indexedDB,this.type="indexedDB",this.g=this.m=this.f=this.l=null,this.s=!1,this.i=null;var t=this;wr()&&self?(this.m=function(){var t=wr()?self:null;if(z(yc,function(n){n.b==t&&(e=n)}),!e){var e=new bc(t);yc.push(e)}return e}(),_c(this.m,"keyChanged",function(e,n){return jc(t).then(function(e){return 0<e.length&&z(t.a,function(t){t(e)}),{keyProcessed:G(e,n.key)}})}),_c(this.m,"ping",function(){return Te(["keyChanged"])})):function(){var t=a.navigator;return t&&t.serviceWorker?Te().then(function(){return t.serviceWorker.ready}).then(function(t){return t.active||null}).o(function(){return null}):Te(null)}().then(function(e){(t.i=e)&&(t.g=new Cc(new wc(e)),kc(t.g,"ping",null,!0).then(function(e){e[0].fulfilled&&G(e[0].value,"keyChanged")&&(t.s=!0)}).o(function(){}))})}function Ec(t){return new _e(function(e,n){var r=t.v.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(e){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(r):function(t){return new _e(function(e,n){var r=t.v.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}})}(t).then(function(){return Ec(t)}).then(function(t){e(t)}).o(function(t){n(t)})}})}function Tc(t){return t.h||(t.h=Ec(t)),t.h}function xc(t,e){var n=0;return new _e(function r(i,o){Tc(t).then(e).then(i).o(function(e){if(!(3<++n))return Tc(t).then(function(e){return e.close(),t.h=void 0,r(i,o)}).o(function(t){o(t)});o(e)})})}function Oc(){try{return!!a.indexedDB}catch(Wt){return!1}}function Ic(t){return t.objectStore("firebaseLocalStorage")}function Ac(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Rc(t){return new _e(function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}})}function Dc(t,e){return t.g&&t.i&&function(){var t=a.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.i?kc(t.g,"keyChanged",{key:e},t.s).then(function(){}).o(function(){}):Te()}function jc(t){return Tc(t).then(function(t){var e=Ic(Ac(t,!1));return e.getAll?Rc(e.getAll()):new _e(function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}})}).then(function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=dr(t.c,n),t.c=n}return r})}function Nc(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Mc(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Te().then(function(){if(Oc()){var t=Ur(),r="__sak"+t;return vc||(vc=new Sc),(n=vc).set(r,t).then(function(){return n.get(r)}).then(function(e){if(e!==t)throw Error("indexedDB not supported!");return n.T(r)}).then(function(){return n}).o(function(){return e.c})}return e.c}).then(function(t){return e.type=t.type,t.ca(function(t){z(e.a,function(e){e(t)})}),t})}function Lc(){this.a={},this.type="inMemory"}function Fc(){if(!function(){var t="Node"==Cr();if(!(t=Uc()||t&&r.a.INTERNAL.node&&r.a.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==Cr())throw new E("internal-error","The LocalStorage compatibility library was not found.");throw new E("web-storage-unsupported")}this.a=Uc()||r.a.INTERNAL.node.localStorage,this.type="localStorage"}function Uc(){try{var t=a.localStorage,e=Ur();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Qc(){this.type="nullStorage"}function Vc(){if(!function(){var t="Node"==Cr();if(!(t=Bc()||t&&r.a.INTERNAL.node&&r.a.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==Cr())throw new E("internal-error","The SessionStorage compatibility library was not found.");throw new E("web-storage-unsupported")}this.a=Bc()||r.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Bc(){try{var t=a.sessionStorage,e=Ur();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function qc(){var t={};t.Browser=Kc,t.Node=Wc,t.ReactNative=Gc,t.Worker=Xc,this.a=t[Cr()]}bc.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];z(r,function(e){i.push(Te().then(function(){return e(t.origin,t.data.data)}))}),Ie(i).then(function(r){var i=[];z(r,function(t){i.push({fulfilled:t.Ob,value:t.value,reason:t.reason?t.reason.message:void 0})}),z(i,function(t){for(var e in t)void 0===t[e]&&delete t[e]}),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})})}},wc.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},Cc.prototype.close=function(){for(;0<this.a.length;)Pc(this,this.a[0]);this.b=!0},(t=Sc.prototype).set=function(t,e){var n=this,r=!1;return xc(this,function(e){return Rc((e=Ic(Ac(e,!0))).get(t))}).then(function(i){return xc(n,function(o){if(o=Ic(Ac(o,!0)),i)return i.value=e,Rc(o.put(i));n.b++,r=!0;var s={};return s.fbase_key=t,s.value=e,Rc(o.add(s))})}).then(function(){return n.c[t]=e,Dc(n,t)}).na(function(){r&&n.b--})},t.get=function(t){return xc(this,function(e){return Rc(Ic(Ac(e,!1)).get(t))}).then(function(t){return t&&t.value})},t.T=function(t){var e=this,n=!1;return xc(this,function(r){return n=!0,e.b++,Rc(Ic(Ac(r,!0)).delete(t))}).then(function(){return delete e.c[t],Dc(e,t)}).na(function(){n&&e.b--})},t.ca=function(t){0==this.a.length&&function(t){Nc(t),function e(){t.f=setTimeout(function(){t.l=jc(t).then(function(e){0<e.length&&z(t.a,function(t){t(e)})}).then(function(){e()}).o(function(t){"STOP_EVENT"!=t.message&&e()})},800)}()}(this),this.a.push(t)},t.ia=function(t){Y(this.a,function(e){return e==t}),0==this.a.length&&Nc(this)},(t=Mc.prototype).get=function(t){return this.b.then(function(e){return e.get(t)})},t.set=function(t,e){return this.b.then(function(n){return n.set(t,e)})},t.T=function(t){return this.b.then(function(e){return e.T(t)})},t.ca=function(t){this.a.push(t)},t.ia=function(t){Y(this.a,function(e){return e==t})},(t=Lc.prototype).get=function(t){return Te(this.a[t])},t.set=function(t,e){return this.a[t]=e,Te()},t.T=function(t){return delete this.a[t],Te()},t.ca=function(){},t.ia=function(){},(t=Fc.prototype).get=function(t){var e=this;return Te().then(function(){return Fr(e.a.getItem(t))})},t.set=function(t,e){var n=this;return Te().then(function(){var r=Mr(e);null===r?n.T(t):n.a.setItem(t,r)})},t.T=function(t){var e=this;return Te().then(function(){e.a.removeItem(t)})},t.ca=function(t){a.window&&un(a.window,"storage",t)},t.ia=function(t){a.window&&dn(a.window,"storage",t)},(t=Qc.prototype).get=function(){return Te(null)},t.set=function(){return Te()},t.T=function(){return Te()},t.ca=function(){},t.ia=function(){},(t=Vc.prototype).get=function(t){var e=this;return Te().then(function(){return Fr(e.a.getItem(t))})},t.set=function(t,e){var n=this;return Te().then(function(){var r=Mr(e);null===r?n.T(t):n.a.setItem(t,r)})},t.T=function(t){var e=this;return Te().then(function(){e.a.removeItem(t)})},t.ca=function(){},t.ia=function(){};var zc,Hc,Kc={D:Fc,ab:Vc},Wc={D:Fc,ab:Vc},Gc={D:mc,ab:Qc},Xc={D:Fc,ab:Qc},Yc={qd:"local",NONE:"none",sd:"session"};function $c(){var t=!(Qr(Or())||!_r()),e=Nr(),n=Ar();this.v=t,this.i=e,this.l=n,this.a={},zc||(zc=new qc),t=zc;try{this.g=!ur()&&Hr()||!a.indexedDB?new t.a.D:new Mc(wr()?new Lc:new t.a.D)}catch(r){this.g=new Lc,this.i=!0}try{this.h=new t.a.ab}catch(r){this.h=new Lc}this.m=new Lc,this.f=w(this.Xb,this),this.b={}}function Jc(){return Hc||(Hc=new $c),Hc}function Zc(t,e){switch(e){case"session":return t.h;case"none":return t.m;default:return t.g}}function tu(t,e){return"firebase:"+t.name+(e?":"+e:"")}function eu(t,e,n){return n=tu(e,n),"local"==e.D&&(t.b[n]=null),Zc(t,e.D).T(n)}function nu(t){t.c&&(clearInterval(t.c),t.c=null)}function ru(t){this.a=t,this.b=Jc()}(t=$c.prototype).get=function(t,e){return Zc(this,t.D).get(tu(t,e))},t.set=function(t,e,n){var r=tu(t,n),i=this,o=Zc(this,t.D);return o.set(r,e).then(function(){return o.get(r)}).then(function(e){"local"==t.D&&(i.b[r]=e)})},t.addListener=function(t,e,n){t=tu(t,e),this.l&&(this.b[t]=a.localStorage.getItem(t)),pt(this.a)&&(Zc(this,"local").ca(this.f),this.i||(ur()||!Hr())&&a.indexedDB||!this.l||function(t){nu(t),t.c=setInterval(function(){for(var e in t.a){var n=a.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new $e({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Xb(n))}},1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=tu(t,e),this.a[t]&&(Y(this.a[t],function(t){return t==n}),0==this.a[t].length&&delete this.a[t]),pt(this.a)&&(Zc(this,"local").ia(this.f),nu(this))},t.Xb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=a.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.lb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?Zc(this,"local").ia(this.f):nu(this),this.v)if(n=a.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?a.localStorage.setItem(e,r):a.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===a.localStorage.getItem(e)||(o.b[e]=a.localStorage.getItem(e),o.lb(e))},Xt&&se&&10==se&&a.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else z(t,w(this.lb,this))},t.lb=function(t){this.a[t]&&z(this.a[t],function(t){t()})};var iu,ou={name:"authEvent",D:"local"};function su(){this.a=Jc()}function au(t,e){this.b=cu,this.f=a.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.h=t,this.i=e,this.l=a.Int32Array?new Int32Array(64):Array(64),void 0===iu&&(iu=a.Int32Array?new Int32Array(gu):gu),this.reset()}P(au,function(){this.b=-1});for(var cu=64,uu=cu-1,lu=[],hu=0;hu<uu;hu++)lu[hu]=0;var du=$(128,lu);function fu(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){var o=(0|n[e-16])+(((i=0|n[e-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,s=(0|n[e-7])+(((r=0|n[e-2])>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+s|0}r=0|t.a[0],i=0|t.a[1];var a=0|t.a[2],c=0|t.a[3],u=0|t.a[4],l=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var d=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&a^i&a)|0;s=(o=o+((u>>>6|u<<26)^(u>>>11|u<<21)^(u>>>25|u<<7))|0)+((s=(s=u&l^~u&h)+(0|iu[e])|0)+(0|n[e])|0)|0,o=h,h=l,l=u,u=c+s|0,c=a,a=i,i=r,r=s+d|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+a|0,t.a[3]=t.a[3]+c|0,t.a[4]=t.a[4]+u|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function pu(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(fu(t),i=0);else{if(!f(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(fu(t),i=0)}}t.c=i,t.g+=n}au.prototype.reset=function(){this.g=this.c=0,this.a=a.Int32Array?new Int32Array(this.i):J(this.i)};var gu=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function mu(){au.call(this,8,bu)}P(mu,au);var bu=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function vu(t,e,n,r,i,o){this.m=t,this.h=e,this.l=n,this.v=r||null,this.u=i||null,this.s=o,this.i=e+":"+n,this.A=new su,this.g=new ru(this.i),this.f=null,this.b=[],this.a=this.c=null}function yu(t){return new E("invalid-cordova-configuration",t)}function _u(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(r){}}function wu(t){return t.f||(t.f=t.la().then(function(){return new _e(function(e){t.Ea(function n(r){return e(r),t.Ra(n),!1}),function(t){function e(e){r=!0,i&&i.cancel(),Cu(t).then(function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=io(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Fr(Fn(o=Un(i),"firebaseError")||null))?T(o):null)?new Qo(r.c,r.b,null,null,o,null,r.S()):new Qo(r.c,r.b,i,r.f,null,null,r.S())),i=o||n}_u(t,i)})}var n=new Qo("unknown",null,null,null,new E("no-auth-event")),r=!1,i=En(500).then(function(){return Cu(t).then(function(){r||_u(t,n)})}),o=a.handleOpenURL;a.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Ir("BuildInfo.packageName",a).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(n){console.error(n)}},zo||(zo=new Bo),function(t){var e=zo;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=Ir("universalLinks.subscribe",a))&&t(null,e.b))}(e)}(t)})})),t.f}function Cu(t){var e=null;return function(t){return t.b.get(ou,t.a).then(function(t){return Vo(t)})}(t.g).then(function(n){return e=n,eu((n=t.g).b,ou,n.a)}).then(function(){return e})}function ku(t){this.a=t,this.b=Jc()}(t=vu.prototype).la=function(){return this.Ia?this.Ia:this.Ia=(yr(void 0)?vr().then(function(){return new _e(function(t,e){var n=a.document,r=setTimeout(function(){e(Error("Cordova framework is not ready."))},1e3);n.addEventListener("deviceready",function(){clearTimeout(r),t()},!1)})}):xe(Error("Cordova must run in an Android or iOS file scheme."))).then(function(){if("function"!=typeof Ir("universalLinks.subscribe",a))throw yu("cordova-universal-links-plugin-fix is not installed");if(void 0===Ir("BuildInfo.packageName",a))throw yu("cordova-plugin-buildinfo is not installed");if("function"!=typeof Ir("cordova.plugins.browsertab.openUrl",a))throw yu("cordova-plugin-browsertab is not installed");if("function"!=typeof Ir("cordova.InAppBrowser.open",a))throw yu("cordova-plugin-inappbrowser is not installed")},function(){throw new E("cordova-not-ready")})},t.Nb=function(t,e){return e(new E("operation-not-supported-in-this-environment")),Te()},t.Lb=function(){return xe(new E("operation-not-supported-in-this-environment"))},t.Zb=function(){return!1},t.Wb=function(){return!0},t.Sb=function(){return!0},t.Mb=function(t,e,n,r){if(this.c)return xe(new E("redirect-operation-pending"));var i=this,o=a.document,s=null,c=null,u=null,l=null;return this.c=Te().then(function(){return Uo(e),wu(i)}).then(function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),s=new Qo(e,r,null,o,new E("no-auth-event"),null,i),c=Ir("BuildInfo.packageName",a);if("string"!=typeof c)throw new E("invalid-cordova-configuration");var u=Ir("BuildInfo.displayName",a),l={};if(Or().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=c;else{if(!Or().toLowerCase().match(/android/))return xe(new E("operation-not-supported-in-this-environment"));l.apn=c}u&&(l.appDisplayName=u),o=function(t){var e=new mu;pu(e,t),t=[];var n=8*e.g;pu(e,du,56>e.c?56-e.c:e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(fu(e),r=n=0;r<e.h;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return K(t,function(t){return 1<(t=t.toString(16)).length?t:"0"+t}).join("")}(t)}(o),l.sessionId=o;var h=gc(t.m,t.h,t.l,e,n,null,r,t.v,l,t.u,i,t.s);return t.la().then(function(){var e=t.i;return t.A.a.set(ou,s.w(),e)}).then(function(){var e=Ir("cordova.plugins.browsertab.isAvailable",a);if("function"!=typeof e)throw new E("invalid-cordova-configuration");var n=null;e(function(e){if(e){if("function"!=typeof(n=Ir("cordova.plugins.browsertab.openUrl",a)))throw new E("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=Ir("cordova.InAppBrowser.open",a)))throw new E("invalid-cordova-configuration");e=Or(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}(i,t,e,n,r)}).then(function(){return new _e(function(t,e){c=function(){var e=Ir("cordova.plugins.browsertab.close",a);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(c),l=function(){qr()&&u()},o.addEventListener("resume",u=function(){s||(s=En(2e3).then(function(){e(new E("redirect-cancelled-by-user"))}))},!1),Or().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)}).o(function(t){return Cu(i).then(function(){throw t})})}).na(function(){u&&o.removeEventListener("resume",u,!1),l&&o.removeEventListener("visibilitychange",l,!1),s&&s.cancel(),c&&i.Ra(c),i.c=null})},t.Ea=function(t){this.b.push(t),wu(this).o(function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Qo("unknown",null,null,null,new E("no-auth-event")),t(e))})},t.Ra=function(t){Y(this.b,function(e){return e==t})};var Pu={name:"pendingRedirect",D:"session"};function Su(t){return eu(t.b,Pu,t.a)}function Eu(t,e,n,r){this.h={},this.u=0,this.O=t,this.m=e,this.v=n,this.G=r,this.i=[],this.f=!1,this.l=w(this.s,this),this.b=new Vu,this.A=new Ku,this.g=new ku(Uu(this.m,this.v)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.A,this.c.linkViaPopup=this.A,this.c.reauthViaPopup=this.A,this.a=Tu(this.O,this.m,this.v,x,this.G)}function Tu(t,e,n,i,o){var s=r.a.SDK_VERSION||null;return yr()?new vu(t,e,n,s,i,o):new hc(t,e,n,s,i,o)}function xu(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.la().o(function(n){throw t.a==e&&t.reset(),n})}function Ou(t){t.a.Wb()&&xu(t).o(function(e){var n=new Qo("unknown",null,null,null,new E("operation-not-supported-in-this-environment"));Nu(e)&&t.s(n)}),t.a.Sb()||Bu(t.b)}function Iu(t,e){G(t.i,e)||t.i.push(e),t.f||function(t){return t.b.get(Pu,t.a).then(function(t){return"pending"==t})}(t.g).then(function(e){e?Su(t.g).then(function(){xu(t).o(function(e){var n=new Qo("unknown",null,null,null,new E("operation-not-supported-in-this-environment"));Nu(e)&&t.s(n)})}):Ou(t)}).o(function(){Ou(t)})}function Au(t,e){Y(t.i,function(t){return t==e})}Eu.prototype.reset=function(){this.f=!1,this.a.Ra(this.l),this.a=Tu(this.O,this.m,this.v,null,this.G),this.h={}},Eu.prototype.s=function(t){if(!t)throw new E("invalid-auth-event");if(6e5<=k()-this.u&&(this.h={},this.u=0),t&&t.getUid()&&this.h.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.i.length;n++){var r=this.i[n];if(r.Eb(t.c,t.b)){(e=this.c[t.c])&&(e.i(t,r),t&&(t.f||t.b)&&(this.h[t.getUid()]=!0,this.u=k())),e=!0;break}}return Bu(this.b),e};var Ru=new Br(2e3,1e4),Du=new Br(3e4,6e4);function ju(t,e,n,r,i,o,s){return t.a.Lb(e,n,r,function(){t.f||(t.f=!0,t.a.Ea(t.l))},function(){t.reset()},i,o,s)}function Nu(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Mu(t,e,n,r,i){var o;return function(t){return t.b.set(Pu,"pending",t.a)}(t.g).then(function(){return t.a.Mb(e,n,r,i).o(function(e){if(Nu(e))throw new E("operation-not-supported-in-this-environment");return o=e,Su(t.g).then(function(){throw o})}).then(function(){return t.a.Zb()?new _e(function(){}):Su(t.g).then(function(){return t.qa()}).then(function(){}).o(function(){})})})}function Lu(t,e,n,r,i){return t.a.Nb(r,function(t){e.ma(n,null,t,i)},Ru.get())}Eu.prototype.qa=function(){return this.b.qa()};var Fu={};function Uu(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function Qu(t,e,n,r){var i=Uu(e,n,r);return Fu[i]||(Fu[i]=new Eu(t,e,n,r)),Fu[i]}function Vu(){this.b=null,this.f=[],this.c=[],this.a=null,this.h=this.g=!1}function Bu(t){t.g||(t.g=!0,Hu(t,!1,null,null))}function qu(t){t.g&&!t.h&&Hu(t,!1,null,null)}function zu(t,e){if(t.b=function(){return Te(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Hu(t,e,n,r){e?r?function(t,e){if(t.b=function(){return xe(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):zu(t,n):zu(t,{user:null}),t.f=[],t.c=[]}function Ku(){}function Wu(){this.hb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.hb},set:function(t){this.hb=t},enumerable:!1})}function Gu(t,e){this.a=e,Yr(this,"verificationId",t)}function Xu(t,e,n,r){return new Mo(t).eb(e,n).then(function(t){return new Gu(t,r)})}function Yu(t){var e=zi(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new E("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");$r(this,{token:t,expirationTime:zr(1e3*e.exp),authTime:zr(1e3*e.auth_time),issuedAtTime:zr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function $u(t,e,n){var r=e&&e[Zu];if(!r)throw new E("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=gt(e),this.g=n,this.c=new oo(null,r),this.b=[];var i=this;z(e[Ju]||[],function(t){(t=ei(t))&&i.b.push(t)}),Yr(this,"auth",this.a),Yr(this,"session",this.c),Yr(this,"hints",this.b)}Vu.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Vu.prototype.i=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.h=!(!i&&!o),"unknown"!=n||i||o?t.a?(Hu(this,!0,null,t.a),Te()):e.Fa(n,r)?function(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.h,s=e.S(),a=!!e.c.match(/Redirect$/);n(r,i,s,o).then(function(e){Hu(t,a,e,null)}).o(function(e){Hu(t,a,null,e)})}(this,t,e):xe(new E("invalid-auth-event")):(Hu(this,!1,null,null),Te())}else xe(new E("invalid-auth-event"))},Vu.prototype.qa=function(){var t=this;return new _e(function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new E("timeout");t.a&&t.a.cancel(),t.a=En(Du.get()).then(function(){t.b||(t.g=!0,Hu(t,!0,null,e))})}(t))})},Ku.prototype.i=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.ma(t.c,null,t.a,t.b),Te()):e.Fa(n,r)?function(t,e){var n=t.b,r=t.c;e.Fa(r,n)(t.g,t.f,t.S(),t.h).then(function(t){e.ma(r,t,null,n)}).o(function(t){e.ma(r,null,t,n)})}(t,e):xe(new E("invalid-auth-event"))}else xe(new E("invalid-auth-event"))},Gu.prototype.confirm=function(t){return t=Lo(this.verificationId,t),this.a(t)};var Ju="mfaInfo",Zu="mfaPendingCredential";function tl(t,e,n,r){E.call(this,"multi-factor-auth-required",r,e),this.b=new $u(t,e,n),Yr(this,"resolver",this.b)}function el(t,e,n){if(t&&g(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new tl(e,t.serverResponse,n,t.message)}catch(r){}return null}function nl(){}function rl(t){Yr(this,"factorId",t.fa),this.a=t}function il(t){if(rl.call(this,t),this.a.fa!=Mo.PROVIDER_ID)throw new E("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function ol(t,e){for(var n in Ye.call(this,t),e)this[n]=e[n]}function sl(t,e){this.a=t,this.b=[],this.c=w(this.xc,this),un(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&z(e.multiFactor.enrolledFactors,function(t){var e=null,r={};if(t){t.uid&&(r[ii]=t.uid),t.displayName&&(r[ni]=t.displayName),t.enrollmentTime&&(r[ri]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[oi]=t.phoneNumber);try{e=new si(r)}catch(i){}t=e}else t=null;t&&n.push(t)}),al(this,n)}function al(t,e){t.b=e,Yr(t,"enrolledFactors",e)}function cl(t,e,n){if(this.i=t,this.h=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function ul(t,e){t.stop(),t.b=En(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(t,e)).then(function(){return function(){var t=a.document,e=null;return qr()||!t?Te():new _e(function(n){e=function(){qr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)}).o(function(n){throw t.removeEventListener("visibilitychange",e,!1),n})}()}).then(function(){return t.i()}).then(function(){ul(t,!0)}).o(function(e){t.h(e)&&ul(t,!1)})}function ll(t){this.f=t,this.b=this.a=null,this.c=Date.now()}function hl(t,e){void 0===e&&(e=t.b?(e=t.b).a-e.g:0),t.c=Date.now()+1e3*e}function dl(t,e){t.b=qi(e[Ys]||""),t.a=e.refreshToken,hl(t,void 0!==(e=e.expiresIn)?Number(e):void 0)}function fl(t,e){this.a=t||null,this.b=e||null,$r(this,{lastSignInTime:zr(e||null),creationTime:zr(t||null)})}function pl(t,e,n,r,i,o){$r(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function gl(t,e,n){this.G=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null;var i=r.a.SDK_VERSION?xr(r.a.SDK_VERSION):null;this.a=new Gs(this.l,R(x),i),t.emulatorConfig&&na(this.a,t.emulatorConfig),this.b=new ll(this.a),kl(this,e[Ys]),dl(this.b,e),Yr(this,"refreshToken",this.b.a),El(this,n||{}),wn.call(this),this.P=!1,this.s&&Rr()&&(this.h=Qu(this.s,this.l,this.m)),this.R=[],this.f=null,this.u=function(t){return new cl(function(){return t.I(!0)},function(t){return!(!t||"auth/network-request-failed"!=t.code)},function(){var e=t.b.c-Date.now()-3e5;return 0<e?e:0})}(this),this.$=w(this.gb,this);var o=this;this.pa=null,this.Ba=function(t){o.wa(t.i)},this.ba=null,this.za=function(t){na(o.a,t.c)},this.W=null,this.X=[],this.Aa=function(t){vl(o,t.f)},this.aa=null,this.N=new sl(this,n),Yr(this,"multiFactor",this.N)}function ml(t,e){t.ba&&dn(t.ba,"languageCodeChanged",t.Ba),(t.ba=e)&&un(e,"languageCodeChanged",t.Ba)}function bl(t,e){t.W&&dn(t.W,"emulatorConfigChanged",t.za),(t.W=e)&&un(e,"emulatorConfigChanged",t.za)}function vl(t,e){t.X=e,ia(t.a,r.a.SDK_VERSION?xr(r.a.SDK_VERSION,t.X):null)}function yl(t,e){t.aa&&dn(t.aa,"frameworkChanged",t.Aa),(t.aa=e)&&un(e,"frameworkChanged",t.Aa)}function _l(t){try{return r.a.app(t.m).auth()}catch(e){throw new E("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function wl(t){t.A||t.u.b||(t.u.start(),dn(t,"tokenChanged",t.$),un(t,"tokenChanged",t.$))}function Cl(t){dn(t,"tokenChanged",t.$),t.u.stop()}function kl(t,e){t.ya=e,Yr(t,"_lat",e)}function Pl(t){for(var e=[],n=0;n<t.R.length;n++)e.push(t.R[n](t));return Ie(e).then(function(){return t})}function Sl(t){t.h&&!t.P&&(t.P=!0,Iu(t.h,t))}function El(t,e){$r(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new fl(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function Tl(){}function xl(t){return Te().then(function(){if(t.A)throw new E("app-deleted")})}function Ol(t){return K(t.providerData,function(t){return t.providerId})}function Il(t,e){e&&(Al(t,e.providerId),t.providerData.push(e))}function Al(t,e){Y(t.providerData,function(t){return t.providerId==e})}function Rl(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Yr(t,e,n)}function Dl(t,e){t!=e&&($r(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),Yr(t,"metadata",e.metadata?function(t){return new fl(t.a,t.b)}(e.metadata):new fl),z(e.providerData,function(e){Il(t,e)}),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.b,e.b),Yr(t,"refreshToken",t.b.a),al(t.N,e.N.b))}function jl(t){return t.I().then(function(e){var n=t.isAnonymous;return function(t,e){return tc(t.a,Aa,{idToken:e}).then(w(t.Jc,t))}(t,e).then(function(){return n||Rl(t,"isAnonymous",!1),e})})}function Nl(t,e){e[Ys]&&t.ya!=e[Ys]&&(dl(t.b,e),t.dispatchEvent(new ol("tokenChanged")),kl(t,e[Ys]),Rl(t,"refreshToken",t.b.a))}function Ml(t,e){return jl(t).then(function(){if(G(Ol(t),e))return Pl(t).then(function(){throw new E("provider-already-linked")})})}function Ll(t,e,n){return Jr({user:t,credential:Fo(e),additionalUserInfo:e=Xi(e),operationType:n})}function Fl(t,e){return Nl(t,e),t.reload().then(function(){return t})}function Ul(t,e,n,i,o){if(!Rr())return xe(new E("operation-not-supported-in-this-environment"));if(t.f&&!o)return xe(t.f);var s=Gi(n.providerId),a=Ur(t.uid+":::"),c=null;(!Nr()||_r())&&t.s&&n.isOAuthProvider&&(c=gc(t.s,t.l,t.m,e,n,null,a,r.a.SDK_VERSION||null,null,null,t.tenantId));var u=gr(c,s&&s.ua,s&&s.ta);return i=i().then(function(){if(Vl(t),!o)return t.I().then(function(){})}).then(function(){return ju(t.h,u,e,n,a,!!c,t.tenantId)}).then(function(){return new _e(function(n,r){t.ma(e,null,new E("cancelled-popup-request"),t.i||null),t.g=n,t.O=r,t.i=a,t.c=Lu(t.h,t,e,u,a)})}).then(function(t){return u&&pr(u),t?Jr(t):null}).o(function(t){throw u&&pr(u),t}),Bl(t,i,o)}function Ql(t,e,n,r,i){if(!Rr())return xe(new E("operation-not-supported-in-this-environment"));if(t.f&&!i)return xe(t.f);var o=null,s=Ur(t.uid+":::");return r=r().then(function(){if(Vl(t),!i)return t.I().then(function(){})}).then(function(){return t.ga=s,Pl(t)}).then(function(e){return t.ha&&(e=(e=t.ha).b.set(Hl,t.w(),e.a)),e}).then(function(){return Mu(t.h,e,n,s,t.tenantId)}).o(function(e){if(o=e,t.ha)return Kl(t.ha);throw o}).then(function(){if(o)throw o}),Bl(t,r,i)}function Vl(t){if(!t.h||!t.P){if(t.h&&!t.P)throw new E("internal-error");throw new E("auth-domain-config-required")}}function Bl(t,e,n){var r=function(t,e,n){return t.f&&!n?(e.cancel(),xe(t.f)):e.o(function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.f||t.dispatchEvent(new ol("userInvalidated")),t.f=e),e})}(t,e,n);return t.G.push(r),r.na(function(){X(t.G,r)}),r.o(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=el(e.w(),_l(t),w(t.ic,t))),n||e})}function ql(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Ys]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=t.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new gl(e,n,t);return t.providerData&&z(t.providerData,function(t){t&&Il(i,Jr(t))}),t.redirectEventId&&(i.ga=t.redirectEventId),i}function zl(t){this.a=t,this.b=Jc()}$u.prototype.Qc=function(t){var e=this;return t.rb(this.a.a,this.c).then(function(t){var n=gt(e.f);return delete n[Ju],delete n[Zu],bt(n,t),e.g(n)})},P(tl,E),nl.prototype.rb=function(t,e,n){return e.type==so?function(t,e,n,r){return n.Ha().then(function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),bt(n,{phoneVerificationInfo:No(t.a)}),tc(e,Oa,n)})}(this,t,e,n):function(t,e,n){return n.Ha().then(function(n){return bt(n={mfaPendingCredential:n},{phoneVerificationInfo:No(t.a)}),tc(e,Ia,n)})}(this,t,e)},P(rl,nl),P(il,rl),P(ol,Ye),(t=sl.prototype).xc=function(t){al(this,function(t){var e=[];return z(t.mfaInfo||[],function(t){(t=ei(t))&&e.push(t)}),e}(t.gd))},t.Qb=function(){return this.a.I().then(function(t){return new oo(t,null)})},t.ec=function(t,e){var n=this,r=this.a.a;return this.Qb().then(function(n){return t.rb(r,n,e)}).then(function(t){return Nl(n.a,t),n.a.reload()})},t.ad=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then(function(t){return tc(r,Za,{idToken:t,mfaEnrollmentId:n})}).then(function(t){var r=H(e.b,function(t){return t.uid!=n});return al(e,r),Nl(e.a,t),e.a.reload().o(function(t){if("auth/user-token-expired"!=t.code)throw t})})},t.w=function(){return{multiFactor:{enrolledFactors:K(this.b,function(t){return t.w()})}}},cl.prototype.start=function(){this.a=this.c,ul(this,!0)},cl.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},ll.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},ll.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?xe(new E("user-token-expired")):t||!this.b||Date.now()>this.c-3e4?this.a?function(t,e){return function(t,e){return new _e(function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?oa(t,t.l+"?key="+encodeURIComponent(t.c),function(t){t?t.error?r(nc(t)):t.access_token&&t.refresh_token?n(t):r(new E("internal-error")):r(new E("network-request-failed"))},"POST",$n(e).toString(),t.g,t.v.get()):r(new E("internal-error"))})}(t.f,e).then(function(e){return t.b=qi(e.access_token),t.a=e.refresh_token,hl(t,e.expires_in),{accessToken:t.b.toString(),refreshToken:t.a}}).o(function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e})}(this,{grant_type:"refresh_token",refresh_token:this.a}):Te(null):Te({accessToken:this.b.toString(),refreshToken:this.a})},fl.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},P(gl,wn),gl.prototype.wa=function(t){this.pa=t,ea(this.a,t)},gl.prototype.ka=function(){return this.pa},gl.prototype.Ga=function(){return J(this.X)},gl.prototype.gb=function(){this.u.b&&(this.u.stop(),this.u.start())},Yr(gl.prototype,"providerId","firebase"),(t=gl.prototype).reload=function(){var t=this;return Bl(this,xl(this).then(function(){return jl(t).then(function(){return Pl(t)}).then(Tl)}))},t.nc=function(t){return this.I(t).then(function(t){return new Yu(t)})},t.I=function(t){var e=this;return Bl(this,xl(this).then(function(){return e.b.getToken(t)}).then(function(t){if(!t)throw new E("internal-error");return t.accessToken!=e.ya&&(kl(e,t.accessToken),e.dispatchEvent(new ol("tokenChanged"))),Rl(e,"refreshToken",t.refreshToken),t.accessToken}))},t.Jc=function(t){if(!(t=t.users)||!t.length)throw new E("internal-error");El(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?K(t,function(t){return new pl(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)}):[]}(t),n=0;n<e.length;n++)Il(this,e[n]);Rl(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new ol("userReloaded",{gd:t}))},t.Kc=function(t){return Gr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.sb(t)},t.sb=function(t){var e=this,n=null;return Bl(this,t.c(this.a,this.uid).then(function(t){return Nl(e,t),n=Ll(e,t,"reauthenticate"),e.f=null,e.reload()}).then(function(){return n}),!0)},t.Bc=function(t){return Gr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.pb(t)},t.pb=function(t){var e=this,n=null;return Bl(this,Ml(this,t.providerId).then(function(){return e.I()}).then(function(n){return t.b(e.a,n)}).then(function(t){return n=Ll(e,t,"link"),Fl(e,t)}).then(function(){return n}))},t.Cc=function(t,e){var n=this;return Bl(this,Ml(this,"phone").then(function(){return Xu(_l(n),t,e,w(n.pb,n))}))},t.Lc=function(t,e){var n=this;return Bl(this,Te().then(function(){return Xu(_l(n),t,e,w(n.sb,n))}),!0)},t.Ab=function(t){var e=this;return Bl(this,this.I().then(function(n){return e.a.Ab(n,t)}).then(function(t){return Nl(e,t),e.reload()}))},t.dd=function(t){var e=this;return Bl(this,this.I().then(function(n){return t.b(e.a,n)}).then(function(t){return Nl(e,t),e.reload()}))},t.Bb=function(t){var e=this;return Bl(this,this.I().then(function(n){return e.a.Bb(n,t)}).then(function(t){return Nl(e,t),e.reload()}))},t.Cb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return xl(this);var e=this;return Bl(this,this.I().then(function(n){return e.a.Cb(n,{displayName:t.displayName,photoUrl:t.photoURL})}).then(function(t){return Nl(e,t),Rl(e,"displayName",t.displayName||null),Rl(e,"photoURL",t.photoUrl||null),z(e.providerData,function(t){"password"===t.providerId&&(Yr(t,"displayName",e.displayName),Yr(t,"photoURL",e.photoURL))}),Pl(e)}).then(Tl))},t.bd=function(t){var e=this;return Bl(this,jl(this).then(function(n){return G(Ol(e),t)?function(t,e,n){return tc(t,Ea,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then(function(t){var n={};return z(t.providerUserInfo||[],function(t){n[t.providerId]=!0}),z(Ol(e),function(t){n[t]||Al(e,t)}),n[Mo.PROVIDER_ID]||Yr(e,"phoneNumber",null),Pl(e)}):Pl(e).then(function(){throw new E("no-such-provider")})}))},t.delete=function(){var t=this;return Bl(this,this.I().then(function(e){return tc(t.a,Sa,{idToken:e})}).then(function(){t.dispatchEvent(new ol("userDeleted"))})).then(function(){for(var e=0;e<t.G.length;e++)t.G[e].cancel("app-deleted");ml(t,null),bl(t,null),yl(t,null),t.G=[],t.A=!0,Cl(t),Yr(t,"refreshToken",null),t.h&&Au(t.h,t)})},t.Eb=function(t,e){return!!("linkViaPopup"==t&&(this.i||null)==e&&this.g||"reauthViaPopup"==t&&(this.i||null)==e&&this.g||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},t.ma=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.i||null)||(n&&this.O?this.O(n):e&&!n&&this.g&&this.g(e),this.c&&(this.c.cancel(),this.c=null),delete this.g,delete this.O)},t.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.i||null)?w(this.Jb,this):"reauthViaPopup"==t&&e==(this.i||null)?w(this.Kb,this):"linkViaRedirect"==t&&(this.ga||null)==e?w(this.Jb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?w(this.Kb,this):null},t.Dc=function(t){var e=this;return Ul(this,"linkViaPopup",t,function(){return Ml(e,t.providerId).then(function(){return Pl(e)})},!1)},t.Mc=function(t){return Ul(this,"reauthViaPopup",t,function(){return Te()},!0)},t.Ec=function(t){var e=this;return Ql(this,"linkViaRedirect",t,function(){return Ml(e,t.providerId)},!1)},t.Nc=function(t){return Ql(this,"reauthViaRedirect",t,function(){return Te()},!0)},t.Jb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Bl(this,this.I().then(function(n){return va(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})}).then(function(t){return o=Ll(i,t,"link"),Fl(i,t)}).then(function(){return o}))},t.Kb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Bl(this,Te().then(function(){return uo(ya(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)}).then(function(t){return o=Ll(i,t,"reauthenticate"),Nl(i,t),i.f=null,i.reload()}).then(function(){return o}),!0)},t.tb=function(t){var e=this,n=null;return Bl(this,this.I().then(function(e){return n=e,void 0===t||pt(t)?{}:Qi(new Ii(t))}).then(function(t){return e.a.tb(n,t)}).then(function(t){if(e.email!=t)return e.reload()}).then(function(){}))},t.Db=function(t,e){var n=this,r=null;return Bl(this,this.I().then(function(t){return r=t,void 0===e||pt(e)?{}:Qi(new Ii(e))}).then(function(e){return n.a.Db(r,t,e)}).then(function(t){if(n.email!=t)return n.reload()}).then(function(){}))},t.ic=function(t){var e=null,n=this;return Bl(this,t=uo(Te(t),n.uid).then(function(t){return e=Ll(n,t,"reauthenticate"),Nl(n,t),n.f=null,n.reload()}).then(function(){return e}),!0)},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&bt(t,this.metadata.w()),z(this.providerData,function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))}),bt(t,this.N.w()),t};var Hl={name:"redirectUser",D:"session"};function Kl(t){return eu(t.b,Hl,t.a)}function Wl(t){this.a=t,this.b=Jc(),this.c=null,this.f=function(t){var e=Yl("local"),n=Yl("session"),r=Yl("none");return function(t,e,n){var r=tu(e,n),i=Zc(t,e.D);return t.get(e,n).then(function(o){var s=null;try{s=Fr(a.localStorage.getItem(r))}catch(c){}if(s&&!o)return a.localStorage.removeItem(r),t.set(e,s,n);s&&o&&"localStorage"!=i.type&&a.localStorage.removeItem(r)})}(t.b,e,t.a).then(function(){return t.b.get(n,t.a)}).then(function(i){return i?n:t.b.get(r,t.a).then(function(n){return n?r:t.b.get(e,t.a).then(function(n){return n?e:t.b.get(Xl,t.a).then(function(t){return t?Yl(t):e})})})}).then(function(e){return t.c=e,Gl(t,e.D)}).o(function(){t.c||(t.c=e)})}(this),this.b.addListener(Yl("local"),this.a,w(this.g,this))}function Gl(t,e){var n,r=[];for(n in Yc)Yc[n]!==e&&r.push(eu(t.b,Yl(Yc[n]),t.a));return r.push(eu(t.b,Xl,t.a)),function(t){return new _e(function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},s=function(t){n(t)},a=0;a<t.length;a++)Oe(t[a],C(o,a),s);else e(i)})}(r)}Wl.prototype.g=function(){var t=this,e=Yl("local");th(this,function(){return Te().then(function(){return t.c&&"local"!=t.c.D?t.b.get(e,t.a):null}).then(function(n){if(n)return Gl(t,"local").then(function(){t.c=e})})})};var Xl={name:"persistence",D:"session"};function Yl(t){return{name:"authUser",D:t}}function $l(t,e){return th(t,function(){return t.b.set(t.c,e.w(),t.a)})}function Jl(t){return th(t,function(){return eu(t.b,t.c,t.a)})}function Zl(t,e,n){return th(t,function(){return t.b.get(t.c,t.a).then(function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),ql(t||{})})})}function th(t,e){return t.f=t.f.then(e,e),t.f}function eh(t){if(this.m=!1,Yr(this,"settings",new Wu),Yr(this,"app",t),!uh(this).options||!uh(this).options.apiKey)throw new E("invalid-api-key");t=r.a.SDK_VERSION?xr(r.a.SDK_VERSION):null,this.a=new Gs(uh(this).options&&uh(this).options.apiKey,R(x),t),this.R=[],this.u=[],this.P=[],this.ac=r.a.INTERNAL.createSubscribe(w(this.yc,this)),this.X=void 0,this.bc=r.a.INTERNAL.createSubscribe(w(this.zc,this)),ah(this,null),this.l=new Wl(uh(this).options.apiKey+":"+uh(this).name),this.G=new zl(uh(this).options.apiKey+":"+uh(this).name),this.$=fh(this,function(t){var e=uh(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Hl,t.a).then(function(t){return t&&e&&(t.authDomain=e),ql(t||{})})}(t.G,uh(t).options.authDomain).then(function(e){return(t.s=e)&&(e.ha=t.G),Kl(t.G)});return fh(t,e)}(t).then(function(){return Zl(t.l,e,t.f)}).then(function(e){return e?(e.ha=t.G,t.s&&(t.s.ga||null)==(e.ga||null)?e:e.reload().then(function(){return $l(t.l,e).then(function(){return e})}).o(function(n){return"auth/network-request-failed"==n.code?e:Jl(t.l)})):null}).then(function(e){ah(t,e||null)});return fh(t,n)}(this)),this.h=fh(this,function(t){return t.$.then(function(){return sh(t)}).o(function(){}).then(function(){if(!t.m)return t.pa()}).o(function(){}).then(function(){if(!t.m){t.ba=!0;var e=t.l;e.b.addListener(Yl("local"),e.a,t.pa)}})}(this)),this.ba=!1,this.pa=w(this.Yc,this),this.Ba=w(this.da,this),this.ya=w(this.kc,this),this.za=w(this.vc,this),this.Aa=w(this.wc,this),this.b=null,function(t){var e=uh(t).options.authDomain,n=uh(t).options.apiKey;e&&Rr()&&(t.gb=t.$.then(function(){if(!t.m){if(t.b=Qu(e,n,uh(t).name,t.f),Iu(t.b,t),lh(t)&&Sl(lh(t)),t.s){Sl(t.s);var r=t.s;r.wa(t.ka()),ml(r,t),vl(r=t.s,t.N),yl(r,t),na((r=t.s).a,t.f),bl(r,t),t.s=null}return t.b}}))}(this),this.INTERNAL={},this.INTERNAL.delete=w(this.delete,this),this.INTERNAL.logFramework=w(this.Fc,this),this.A=0,wn.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.ka()},set:function(t){this.wa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.S()},set:function(t){this.xb(t)},enumerable:!1}),t.W=null}(this),this.N=[],this.f=null}function nh(t){Ye.call(this,"languageCodeChanged"),this.i=t}function rh(t){Ye.call(this,"emulatorConfigChanged"),this.c=t}function ih(t){Ye.call(this,"frameworkChanged"),this.f=t}function oh(t){return t.gb||xe(new E("auth-domain-config-required"))}function sh(t){if(!Rr())return xe(new E("operation-not-supported-in-this-environment"));var e=oh(t).then(function(){return t.b.qa()}).then(function(t){return t?Jr(t):null});return fh(t,e)}function ah(t,e){lh(t)&&(function(t,e){Y(t.R,function(t){return t==e})}(lh(t),t.Ba),dn(lh(t),"tokenChanged",t.ya),dn(lh(t),"userDeleted",t.za),dn(lh(t),"userInvalidated",t.Aa),Cl(lh(t))),e&&(e.R.push(t.Ba),un(e,"tokenChanged",t.ya),un(e,"userDeleted",t.za),un(e,"userInvalidated",t.Aa),0<t.A&&wl(e)),Yr(t,"currentUser",e),e&&(e.wa(t.ka()),ml(e,t),vl(e,t.N),yl(e,t),na(e.a,t.f),bl(e,t))}function ch(t,e){var n=null,r=null;return fh(t,e.then(function(e){return n=Fo(e),r=Xi(e),function(t,e){var n={};return n.apiKey=uh(t).options.apiKey,n.authDomain=uh(t).options.authDomain,n.appName=uh(t).name,t.f&&(n.emulatorConfig=t.f),t.$.then(function(){return function(t,e,n,r){var i=new gl(t,e);return n&&(i.ha=n),r&&vl(i,r),i.reload().then(function(){return i})}(n,e,t.G,t.Ga())}).then(function(e){return lh(t)&&e.uid==lh(t).uid?(Dl(lh(t),e),t.da(e)):(ah(t,e),Sl(e),t.da(e))}).then(function(){dh(t)})}(t,e)},function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=el(e.w(),t,w(t.jc,t))),n||e}).then(function(){return Jr({user:lh(t),credential:n,additionalUserInfo:r,operationType:"signIn"})}))}function uh(t){return t.app}function lh(t){return t.currentUser}function hh(t){return lh(t)&&lh(t)._lat||null}function dh(t){if(t.ba){for(var e=0;e<t.u.length;e++)t.u[e]&&t.u[e](hh(t));if(t.X!==t.getUid()&&t.P.length)for(t.X=t.getUid(),e=0;e<t.P.length;e++)t.P[e]&&t.P[e](hh(t))}}function fh(t,e){return t.R.push(e),e.na(function(){X(t.R,e)}),e}function ph(){}function gh(){this.a={},this.b=1e12}Wl.prototype.wb=function(t){var e=null,n=this;return function(t){var e=new E("invalid-persistence-type"),n=new E("unsupported-persistence-type");t:{for(r in Yc)if(Yc[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(Cr()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!Oc()&&"none"!==t)throw n;break;default:if(!Ar()&&"none"!==t)throw n}}(t),th(this,function(){return t!=n.c.D?n.b.get(n.c,n.a).then(function(r){return e=r,Gl(n,t)}).then(function(){if(n.c=Yl(t),e)return n.b.set(n.c,e,n.a)}):Te()})},P(eh,wn),P(nh,Ye),P(rh,Ye),P(ih,Ye),(t=eh.prototype).wb=function(t){return fh(this,t=this.l.wb(t))},t.wa=function(t){this.aa===t||this.m||(this.aa=t,ea(this.a,this.aa),this.dispatchEvent(new nh(this.ka())))},t.ka=function(){return this.aa},t.ed=function(){var t=a.navigator;this.wa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.fd=function(t,e){if(!this.f){if(!/^https?:\/\//.test(t))throw new E("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");!function(t){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),a.document&&!t&&vr().then(function(){var t=a.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#ff0000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),a.document.body.appendChild(t)})}(!!e&&!!e.disableWarnings),this.f={url:t},this.settings.hb=!0,na(this.a,this.f),this.dispatchEvent(new rh(this.f))}},t.Fc=function(t){this.N.push(t),ia(this.a,r.a.SDK_VERSION?xr(r.a.SDK_VERSION,this.N):null),this.dispatchEvent(new ih(this.N))},t.Ga=function(){return J(this.N)},t.xb=function(t){this.W===t||this.m||(this.W=t,this.a.b=this.W)},t.S=function(){return this.W},t.toJSON=function(){return{apiKey:uh(this).options.apiKey,authDomain:uh(this).options.authDomain,appName:uh(this).name,currentUser:lh(this)&&lh(this).w()}},t.Eb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.i==e&&!!this.g;default:return!1}},t.ma=function(t,e,n,r){"signInViaPopup"==t&&this.i==r&&(n&&this.O?this.O(n):e&&!n&&this.g&&this.g(e),this.c&&(this.c.cancel(),this.c=null),delete this.g,delete this.O)},t.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.i==e&&this.g?w(this.hc,this):null},t.hc=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then(function(){return ch(i,ba(i.a,o))})},t.Wc=function(t){if(!Rr())return xe(new E("operation-not-supported-in-this-environment"));var e=this,n=Gi(t.providerId),i=Ur(),o=null;(!Nr()||_r())&&uh(this).options.authDomain&&t.isOAuthProvider&&(o=gc(uh(this).options.authDomain,uh(this).options.apiKey,uh(this).name,"signInViaPopup",t,null,i,r.a.SDK_VERSION||null,null,null,this.S(),this.f));var s=gr(o,n&&n.ua,n&&n.ta);return fh(this,n=oh(this).then(function(n){return ju(n,s,"signInViaPopup",t,i,!!o,e.S())}).then(function(){return new _e(function(t,n){e.ma("signInViaPopup",null,new E("cancelled-popup-request"),e.i),e.g=t,e.O=n,e.i=i,e.c=Lu(e.b,e,"signInViaPopup",s,i)})}).then(function(t){return s&&pr(s),t?Jr(t):null}).o(function(t){throw s&&pr(s),t}))},t.Xc=function(t){if(!Rr())return xe(new E("operation-not-supported-in-this-environment"));var e=this;return fh(this,oh(this).then(function(){return function(t){return th(t,function(){return t.b.set(Xl,t.c.D,t.a)})}(e.l)}).then(function(){return Mu(e.b,"signInViaRedirect",t,void 0,e.S())}))},t.qa=function(){var t=this;return sh(this).then(function(e){return t.b&&qu(t.b.b),e}).o(function(e){throw t.b&&qu(t.b.b),e})},t.cd=function(t){if(!t)return xe(new E("null-user"));if(this.W!=t.tenantId)return xe(new E("tenant-id-mismatch"));var e=this,n={};n.apiKey=uh(this).options.apiKey,n.authDomain=uh(this).options.authDomain,n.appName=uh(this).name;var r=function(t,e,n,r){var i=t.b,o={};return o[Ys]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new gl(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ha=n),r&&vl(e,r),Dl(e,t),e}(t,n,e.G,e.Ga());return fh(this,this.h.then(function(){if(uh(e).options.apiKey!=t.l)return r.reload()}).then(function(){return lh(e)&&t.uid==lh(e).uid?(Dl(lh(e),t),e.da(t)):(ah(e,r),Sl(r),e.da(r))}).then(function(){dh(e)}))},t.zb=function(){var t=this;return fh(this,this.h.then(function(){return t.b&&qu(t.b.b),lh(t)?(ah(t,null),Jl(t.l).then(function(){dh(t)})):Te()}))},t.Yc=function(){var t=this;return Zl(this.l,uh(this).options.authDomain).then(function(e){if(!t.m){var n;if(n=lh(t)&&e){n=lh(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return Dl(lh(t),e),lh(t).I();(lh(t)||e)&&(ah(t,e),e&&(Sl(e),e.ha=t.G),t.b&&Iu(t.b,t),dh(t))}})},t.da=function(t){return $l(this.l,t)},t.kc=function(){dh(this),this.da(lh(this))},t.vc=function(){this.zb()},t.wc=function(){this.zb()},t.jc=function(t){var e=this;return this.h.then(function(){return ch(e,Te(t))})},t.yc=function(t){var e=this;this.addAuthTokenListener(function(){t.next(lh(e))})},t.zc=function(t){var e=this;!function(t,e){t.P.push(e),fh(t,t.h.then(function(){!t.m&&G(t.P,e)&&t.X!==t.getUid()&&(t.X=t.getUid(),e(hh(t)))}))}(this,function(){t.next(lh(e))})},t.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then(function(){"function"==typeof t?t(lh(r)):"function"==typeof t.next&&t.next(lh(r))}),this.ac(t,e,n)},t.Gc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then(function(){r.X=r.getUid(),"function"==typeof t?t(lh(r)):"function"==typeof t.next&&t.next(lh(r))}),this.bc(t,e,n)},t.mc=function(t){var e=this;return fh(this,this.h.then(function(){return lh(e)?lh(e).I(t).then(function(t){return{accessToken:t}}):null}))},t.Sc=function(t){var e=this;return this.h.then(function(){return ch(e,tc(e.a,Ga,{token:t}))}).then(function(t){var n=t.user;return Rl(n,"isAnonymous",!1),e.da(n),t})},t.Tc=function(t,e){var n=this;return this.h.then(function(){return ch(n,tc(n.a,Xa,{email:t,password:e}))})},t.dc=function(t,e){var n=this;return this.h.then(function(){return ch(n,tc(n.a,ka,{email:t,password:e}))})},t.Za=function(t){var e=this;return this.h.then(function(){return ch(e,t.ja(e.a))})},t.Rc=function(t){return Gr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Za(t)},t.yb=function(){var t=this;return this.h.then(function(){var e=lh(t);if(e&&e.isAnonymous){var n=Jr({providerId:null,isNewUser:!1});return Jr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return ch(t,t.a.yb()).then(function(e){var n=e.user;return Rl(n,"isAnonymous",!0),t.da(n),e})})},t.getUid=function(){return lh(this)&&lh(this).uid||null},t.cc=function(t){this.addAuthTokenListener(t),this.A++,0<this.A&&lh(this)&&wl(lh(this))},t.Oc=function(t){var e=this;z(this.u,function(n){n==t&&e.A--}),0>this.A&&(this.A=0),0==this.A&&lh(this)&&Cl(lh(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.u.push(t),fh(this,this.h.then(function(){e.m||G(e.u,t)&&t(hh(e))}))},t.removeAuthTokenListener=function(t){Y(this.u,function(e){return e==t})},t.delete=function(){this.m=!0;for(var t=0;t<this.R.length;t++)this.R[t].cancel("app-deleted");return this.R=[],this.l&&(t=this.l).b.removeListener(Yl("local"),t.a,this.pa),this.b&&(Au(this.b,this),qu(this.b.b)),Promise.resolve()},t.gc=function(t){return fh(this,function(t,e){return tc(t,Pa,{identifier:e,continueUri:Dr()?lr():"http://localhost"}).then(function(t){return t.signinMethods||[]})}(this.a,t))},t.Ac=function(t){return!!Ro(t)},t.vb=function(t,e){var n=this;return fh(this,Te().then(function(){var t=new Ii(e);if(!t.c)throw new E("argument-error",Di+" must be true when sending sign in link to email");return Qi(t)}).then(function(e){return n.a.vb(t,e)}).then(function(){}))},t.hd=function(t){return this.Qa(t).then(function(t){return t.data.email})},t.mb=function(t,e){return fh(this,this.a.mb(t,e).then(function(){}))},t.Qa=function(t){return fh(this,this.a.Qa(t).then(function(t){return new ai(t)}))},t.ib=function(t){return fh(this,this.a.ib(t).then(function(){}))},t.ub=function(t,e){var n=this;return fh(this,Te().then(function(){return void 0===e||pt(e)?{}:Qi(new Ii(e))}).then(function(e){return n.a.ub(t,e)}).then(function(){}))},t.Vc=function(t,e){return fh(this,Xu(this,t,e,w(this.Za,this)))},t.Uc=function(t,e){var n=this;return fh(this,Te().then(function(){var r=e||lr(),i=Ao(t,r);if(!(r=Ro(r)))throw new E("argument-error","Invalid email link!");if(r.tenantId!==n.S())throw new E("tenant-id-mismatch");return n.Za(i)}))},ph.prototype.render=function(){},ph.prototype.reset=function(){},ph.prototype.getResponse=function(){},ph.prototype.execute=function(){};var mh=null;function bh(t,e){return(e=vh(e))&&t.a[e]||null}function vh(t){return(t=void 0===t?1e12:t)?t.toString():null}function yh(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.i="invisible"!==this.c.size,this.f=ce(t);var n=this;this.h=function(){n.execute()},this.i?this.execute():un(this.f,"click",this.h)}function _h(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function wh(){}function Ch(){}gh.prototype.render=function(t,e){return this.a[this.b.toString()]=new yh(t,e),this.b++},gh.prototype.reset=function(t){var e=bh(this,t);t=vh(t),e&&t&&(e.delete(),delete this.a[t])},gh.prototype.getResponse=function(t){return(t=bh(this,t))?t.getResponse():null},gh.prototype.execute=function(t){(t=bh(this,t))&&t.execute()},yh.prototype.getResponse=function(){return _h(this),this.b},yh.prototype.execute=function(){_h(this);var t=this;this.a||(this.a=setTimeout(function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(r){}t.a=setTimeout(function(){if(t.a=null,t.b=null,n)try{n()}catch(r){}t.i&&t.execute()},6e4)},500))},yh.prototype.delete=function(){_h(this),this.g=!0,clearTimeout(this.a),this.a=null,dn(this.f,"click",this.h)},Yr(wh,"FACTOR_ID","phone"),Ch.prototype.g=function(){return mh||(mh=new gh),Te(mh)},Ch.prototype.c=function(){};var kh=null;function Ph(){this.b=a.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Sh=new yt(kt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Eh=new Br(3e4,6e4);Ph.prototype.g=function(t){var e=this;return new _e(function(n,r){var i=setTimeout(function(){r(new E("network-request-failed"))},Eh.get());!a.grecaptcha||t!==e.f&&!e.b?(a[e.a]=function(){if(a.grecaptcha){e.f=t;var o=a.grecaptcha.render;a.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(a.grecaptcha)}else clearTimeout(i),r(new E("internal-error"));delete a[e.a]},Te(Vs(Tt(Sh,{onload:e.a,hl:t||""}))).o(function(){clearTimeout(i),r(new E("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(i),n(a.grecaptcha))})},Ph.prototype.c=function(){this.b--};var Th=null;function xh(t,e,n,r,i,o,s){if(Yr(this,"type","recaptcha"),this.c=this.f=null,this.A=!1,this.m=e,this.g=null,s?(kh||(kh=new Ch),s=kh):(Th||(Th=new Ph),s=Th),this.v=s,this.a=n||{theme:"light",type:"image"},this.i=[],this.a[Ah])throw new E("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.h="invisible"===this.a[Rh],!a.document)throw new E("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ce(e)||!this.h&&ce(e).hasChildNodes())throw new E("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Gs(t,o||null,i||null),this.u=r||function(){return null};var c=this;this.l=[];var u=this.a[Oh];this.a[Oh]=function(t){if(Dh(c,t),"function"==typeof u)u(t);else if("string"==typeof u){var e=Ir(u,a);"function"==typeof e&&e(t)}};var l=this.a[Ih];this.a[Ih]=function(){if(Dh(c,null),"function"==typeof l)l();else if("string"==typeof l){var t=Ir(l,a);"function"==typeof t&&t()}}}var Oh="callback",Ih="expired-callback",Ah="sitekey",Rh="size";function Dh(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(r){}}function jh(t,e){return t.i.push(e),e.na(function(){X(t.i,e)}),e}function Nh(t){if(t.A)throw new E("internal-error","RecaptchaVerifier instance has been destroyed.")}function Mh(t,e,n){var i=!1;try{this.b=n||r.a.app()}catch(a){throw new E("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new E("invalid-api-key");n=this.b.options.apiKey;var o=this,s=null;try{s=this.b.auth().Ga()}catch(a){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(a){}s=r.a.SDK_VERSION?xr(r.a.SDK_VERSION,s):null,xh.call(this,n,t,e,function(){try{var t=o.b.auth().ka()}catch(e){t=null}return t},s,R(x),i)}function Lh(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,s=0;s<e.length;s++)if(e[s].optional)o=!0;else{if(o)throw new E("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].K(n[i])&&!o){if(e=e[i],0>i||i>=Fh.length)throw new E("internal-error","Argument validator received an unsupported number of arguments.");n=Fh[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.J+".";break t}r=null}}if(r)throw new E("argument-error",t+" failed: "+r)}(t=xh.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=jh(this,Te().then(function(){if(Dr()&&!wr())return vr();throw new E("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return t.v.g(t.u())}).then(function(e){return t.g=e,tc(t.s,La,{})}).then(function(e){t.a[Ah]=e.recaptchaSiteKey}).o(function(e){throw t.f=null,e}))},t.render=function(){Nh(this);var t=this;return jh(this,this.Ia().then(function(){if(null===t.c){var e=t.m;if(!t.h){var n=ce(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),s=r[1];if(!ae&&s&&(s.name||s.type)){if(o=["<",o],s.name&&o.push(' name="',zt(s.name),'"'),s.type){o.push(' type="',zt(s.type),'"');var a={};bt(a,s),delete a.type,s=a}o.push(">"),o=o.join("")}return o=pe(i,o),s&&("string"==typeof s?o.className=s:Array.isArray(s)?o.className=s.join(" "):ue(o,s)),2<r.length&&fe(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c}))},t.verify=function(){Nh(this);var t=this;return jh(this,this.render().then(function(e){return new _e(function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){Y(t.l,function(t){return t==e})}(t,i),n(e))};t.l.push(i),t.h&&t.g.execute(t.c)}})}))},t.reset=function(){Nh(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Nh(this),this.A=!0,this.v.c();for(var t=0;t<this.i.length;t++)this.i[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.h){t=ce(this.m);for(var e;e=t.firstChild;)t.removeChild(e)}},P(Mh,xh);var Fh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Uh(t,e){return{name:t||"",J:"a valid string",optional:!!e,K:function(t){return"string"==typeof t}}}function Qh(t,e){return{name:t||"",J:"a boolean",optional:!!e,K:function(t){return"boolean"==typeof t}}}function Vh(t,e){return{name:t||"",J:"a valid object",optional:!!e,K:g}}function Bh(t,e){return{name:t||"",J:"a function",optional:!!e,K:function(t){return"function"==typeof t}}}function qh(t,e){return{name:t||"",J:"null",optional:!!e,K:function(t){return null===t}}}function zh(t){return{name:t?t+"Credential":"credential",J:t?"a valid "+t+" credential":"a valid credential",optional:!1,K:function(e){return!!e&&!(!e.ja||t&&e.providerId!==t)}}}function Hh(t,e){return g(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Ha}function Kh(t){return g(t)&&"string"==typeof t.uid}function Wh(t,e,n,r){return{name:n||"",J:t.J+" or "+e.J,optional:!!r,K:function(n){return t.K(n)||e.K(n)}}}function Gh(t,e){for(var n in e){var r=e[n].name;t[r]=$h(r,t[n],e[n].j)}}function Xh(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:C(function(t){return this[t]},n),set:C(function(t,e,n,r){Lh(t,[n],[r],!0),this[e]=r},r,n,e[n].jb),enumerable:!0})}}function Yh(t,e,n,r){t[e]=$h(e,n,r)}function $h(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Lh(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}Gh(eh.prototype,{ib:{name:"applyActionCode",j:[Uh("code")]},Qa:{name:"checkActionCode",j:[Uh("code")]},mb:{name:"confirmPasswordReset",j:[Uh("code"),Uh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Uh("email"),Uh("password")]},gc:{name:"fetchSignInMethodsForEmail",j:[Uh("email")]},qa:{name:"getRedirectResult",j:[]},Ac:{name:"isSignInWithEmailLink",j:[Uh("emailLink")]},Gc:{name:"onAuthStateChanged",j:[Wh(Vh(),Bh(),"nextOrObserver"),Bh("opt_error",!0),Bh("opt_completed",!0)]},Hc:{name:"onIdTokenChanged",j:[Wh(Vh(),Bh(),"nextOrObserver"),Bh("opt_error",!0),Bh("opt_completed",!0)]},ub:{name:"sendPasswordResetEmail",j:[Uh("email"),Wh(Vh("opt_actionCodeSettings",!0),qh(null,!0),"opt_actionCodeSettings",!0)]},vb:{name:"sendSignInLinkToEmail",j:[Uh("email"),Vh("actionCodeSettings")]},wb:{name:"setPersistence",j:[Uh("persistence")]},Rc:{name:"signInAndRetrieveDataWithCredential",j:[zh()]},yb:{name:"signInAnonymously",j:[]},Za:{name:"signInWithCredential",j:[zh()]},Sc:{name:"signInWithCustomToken",j:[Uh("token")]},Tc:{name:"signInWithEmailAndPassword",j:[Uh("email"),Uh("password")]},Uc:{name:"signInWithEmailLink",j:[Uh("email"),Uh("emailLink",!0)]},Vc:{name:"signInWithPhoneNumber",j:[Uh("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Wc:{name:"signInWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Xc:{name:"signInWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},cd:{name:"updateCurrentUser",j:[Wh({name:"user",J:"an instance of Firebase User",optional:!1,K:function(t){return!!(t&&t instanceof gl)}},qh(),"user")]},zb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Uh(null,!0)]},ed:{name:"useDeviceLanguage",j:[]},fd:{name:"useEmulator",j:[Uh("url"),Vh("options",!0)]},hd:{name:"verifyPasswordResetCode",j:[Uh("code")]}}),Xh(eh.prototype,{lc:{name:"languageCode",jb:Wh(Uh(),qh(),"languageCode")},ti:{name:"tenantId",jb:Wh(Uh(),qh(),"tenantId")}}),(eh.Persistence=Yc).LOCAL="local",eh.Persistence.SESSION="session",eh.Persistence.NONE="none",Gh(gl.prototype,{delete:{name:"delete",j:[]},nc:{name:"getIdTokenResult",j:[Qh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Qh("opt_forceRefresh",!0)]},Bc:{name:"linkAndRetrieveDataWithCredential",j:[zh()]},pb:{name:"linkWithCredential",j:[zh()]},Cc:{name:"linkWithPhoneNumber",j:[Uh("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Dc:{name:"linkWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Ec:{name:"linkWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Kc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[zh()]},sb:{name:"reauthenticateWithCredential",j:[zh()]},Lc:{name:"reauthenticateWithPhoneNumber",j:[Uh("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Mc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Nc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},tb:{name:"sendEmailVerification",j:[Wh(Vh("opt_actionCodeSettings",!0),qh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Uh(null,!0)]},bd:{name:"unlink",j:[Uh("provider")]},Ab:{name:"updateEmail",j:[Uh("email")]},Bb:{name:"updatePassword",j:[Uh("password")]},dd:{name:"updatePhoneNumber",j:[zh("phone")]},Cb:{name:"updateProfile",j:[Vh("profile")]},Db:{name:"verifyBeforeUpdateEmail",j:[Uh("email"),Wh(Vh("opt_actionCodeSettings",!0),qh(null,!0),"opt_actionCodeSettings",!0)]}}),Gh(gh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Gh(ph.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Gh(_e.prototype,{na:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Xh(Wu.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",jb:Qh("appVerificationDisabledForTesting")}}),Gh(Gu.prototype,{confirm:{name:"confirm",j:[Uh("verificationCode")]}}),Yh(co,"fromJSON",function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[mo,Oo,jo,fo],r=0;r<n.length;r++)if(e=n[r](t))return e;return null},[Wh(Uh(),Vh(),"json")]),Yh(Io,"credential",function(t,e){return new xo(t,e)},[Uh("email"),Uh("password")]),Gh(xo.prototype,{w:{name:"toJSON",j:[Uh(null,!0)]}}),Gh(_o.prototype,{Ca:{name:"addScope",j:[Uh("scope")]},Ka:{name:"setCustomParameters",j:[Vh("customOAuthParameters")]}}),Yh(_o,"credential",wo,[Wh(Uh(),Vh(),"token")]),Yh(Io,"credentialWithLink",Ao,[Uh("email"),Uh("emailLink")]),Gh(Co.prototype,{Ca:{name:"addScope",j:[Uh("scope")]},Ka:{name:"setCustomParameters",j:[Vh("customOAuthParameters")]}}),Yh(Co,"credential",ko,[Wh(Uh(),Vh(),"token")]),Gh(Po.prototype,{Ca:{name:"addScope",j:[Uh("scope")]},Ka:{name:"setCustomParameters",j:[Vh("customOAuthParameters")]}}),Yh(Po,"credential",So,[Wh(Uh(),Wh(Vh(),qh()),"idToken"),Wh(Uh(),qh(),"accessToken",!0)]),Gh(Eo.prototype,{Ka:{name:"setCustomParameters",j:[Vh("customOAuthParameters")]}}),Yh(Eo,"credential",To,[Wh(Uh(),Vh(),"token"),Uh("secret",!0)]),Gh(yo.prototype,{Ca:{name:"addScope",j:[Uh("scope")]},credential:{name:"credential",j:[Wh(Uh(),Wh(Vh(),qh()),"optionsOrIdToken"),Wh(Uh(),qh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Vh("customOAuthParameters")]}}),Gh(po.prototype,{w:{name:"toJSON",j:[Uh(null,!0)]}}),Gh(lo.prototype,{w:{name:"toJSON",j:[Uh(null,!0)]}}),Yh(Mo,"credential",Lo,[Uh("verificationId"),Uh("verificationCode")]),Gh(Mo.prototype,{eb:{name:"verifyPhoneNumber",j:[Wh(Uh(),{name:"phoneInfoOptions",J:"valid phone info options",optional:!1,K:function(t){return!!t&&(t.session&&t.phoneNumber?Hh(t.session,so)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Hh(t.session,ao)&&Kh(t.multiFactorHint):t.session&&t.multiFactorUid?Hh(t.session,ao)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]}}),Gh(Do.prototype,{w:{name:"toJSON",j:[Uh(null,!0)]}}),Gh(E.prototype,{toJSON:{name:"toJSON",j:[Uh(null,!0)]}}),Gh(Ko.prototype,{toJSON:{name:"toJSON",j:[Uh(null,!0)]}}),Gh(Ho.prototype,{toJSON:{name:"toJSON",j:[Uh(null,!0)]}}),Gh(tl.prototype,{toJSON:{name:"toJSON",j:[Uh(null,!0)]}}),Gh($u.prototype,{Qc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.rb}}]}}),Gh(sl.prototype,{Qb:{name:"getSession",j:[]},ec:{name:"enroll",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.rb}},Uh("displayName",!0)]},ad:{name:"unenroll",j:[Wh({name:"multiFactorInfo",J:"a valid multiFactorInfo",optional:!1,K:Kh},Uh(),"multiFactorInfoIdentifier")]}}),Gh(Mh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Yh(wi,"parseLink",Oi,[Uh("link")]),Yh(wh,"assertion",function(t){return new il(t)},[zh("phone")]),function(){if(void 0===r.a||!r.a.INTERNAL||!r.a.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ui,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ci,VERIFY_AND_CHANGE_EMAIL:li,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:eh,AuthCredential:co,Error:E};Yh(t,"EmailAuthProvider",Io,[]),Yh(t,"FacebookAuthProvider",_o,[]),Yh(t,"GithubAuthProvider",Co,[]),Yh(t,"GoogleAuthProvider",Po,[]),Yh(t,"TwitterAuthProvider",Eo,[]),Yh(t,"OAuthProvider",yo,[Uh("providerId")]),Yh(t,"SAMLAuthProvider",vo,[Uh("providerId")]),Yh(t,"PhoneAuthProvider",Mo,[{name:"auth",J:"an instance of Firebase Auth",optional:!0,K:function(t){return!!(t&&t instanceof eh)}}]),Yh(t,"RecaptchaVerifier",Mh,[Wh(Uh(),{name:"",J:"an HTML element",optional:!1,K:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Vh("recaptchaParameters",!0),{name:"app",J:"an instance of Firebase App",optional:!0,K:function(t){return!!(t&&t instanceof r.a.app.App)}}]),Yh(t,"ActionCodeURL",wi,[]),Yh(t,"PhoneMultiFactorGenerator",wh,[]),r.a.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new eh(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),r.a.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:w((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:w(t.mc,t),addAuthTokenListener:w(t.cc,t),removeAuthTokenListener:w(t.Oc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),r.a.registerVersion("@firebase/auth","0.16.1"),r.a.INTERNAL.extendNamespace({User:gl})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("7Hc7"),o=n("Y7HM");class s extends r.a{constructor(t,e=0,n=i.a){super(),this.source=t,this.delayTime=e,this.scheduler=n,(!Object(o.a)(e)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=i.a)}static create(t,e=0,n=i.a){return new s(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(s.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function a(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new s(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("7o/Q");function i(){}var o=n("n6bG");function s(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new c(t,this.nextOrObserver,this.error,this.complete))}}class c extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(o.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},x7D4:function(t,e,n){e.log=function(...t){return"object"==typeof console&&console.log&&console.log(...t)},e.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;e.splice(1,0,n,"color: inherit");let r=0,i=0;e[0].replace(/%[a-zA-Z%]/g,t=>{"%%"!==t&&(r++,"%c"===t&&(i=r))}),e.splice(i,0,n)},e.save=function(t){try{t?e.storage.setItem("debug",t):e.storage.removeItem("debug")}catch(n){}},e.load=function(){let t;try{t=e.storage.getItem("debug")}catch(n){}return!t&&"undefined"!=typeof process&&"env"in process&&(t=process.env.DEBUG),t},e.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},e.storage=function(){try{return localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.exports=n("L8wN")(e);const{formatters:r}=t.exports;r.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function s(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},yeub:function(t,e){try{t.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(n){t.exports=!1}},yxaB:function(t,e){const n=Object.create(null);n.open="0",n.close="1",n.ping="2",n.pong="3",n.message="4",n.upgrade="5",n.noop="6";const r=Object.create(null);Object.keys(n).forEach(t=>{r[n[t]]=t}),t.exports={PACKET_TYPES:n,PACKET_TYPES_REVERSE:r,ERROR_PACKET:{type:"error",data:"parser error"}}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},zIRd:function(t,e,n){"use strict";var r,i,o=n("30Go"),s=n("qOnz"),a=n("/6Yf"),c=n("q/0M"),u=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.b("app","Firebase",u),h="@firebase/app",d="[DEFAULT]",f=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new c.b("@firebase/app"),g=function(){function t(t,e,n){var r,i,c=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(s.m)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",function(){return c},"PUBLIC"));try{for(var u=Object(o.h)(this.firebase_.INTERNAL.components.values()),l=u.next();!l.done;l=u.next())this._addComponent(l.value)}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e=d),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=d),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var m=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=d);var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(s.k)(e,a))throw l.create("duplicate-app",{appName:a});var c=new t(n,o,r);return e[a]=c,c},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=f[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&s&&c.push("and"),s&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}u(new a.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:c.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument",{appName:name});Object(c.d)(t,e)},apps:null,SDK_VERSION:"8.0.1",INTERNAL:{registerComponent:u,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||d,!Object(s.k)(e,t))throw l.create("no-app",{appName:t});return e[t]}function u(a){var c,u,h=a.name;if(n.has(h))return p.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===a.type?r[h]:null;if(n.set(h,a),"PUBLIC"===a.type){var d=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw l.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==a.serviceProps&&Object(s.n)(d,a.serviceProps),r[h]=d,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,h).apply(this,a.multipleInstances?t:[])}}try{for(var f=Object(o.h)(Object.keys(e)),g=f.next();!g.done;g=f.next())e[g.value]._addComponent(a)}catch(m){c={error:m}}finally{try{g&&!g.done&&(u=f.return)&&u.call(f)}finally{if(c)throw c.error}}return"PUBLIC"===a.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(g);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(s.n)(e,t)},createSubscribe:s.l,ErrorFactory:s.b,deepExtend:s.n}),e}(),b=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(s.r)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var v=self.firebase.SDK_VERSION;v&&v.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var y=m.initializeApp;m.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(s.y)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),y.apply(void 0,t)};var _=m;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",function(t){return new b(t)},"PRIVATE")),t.registerVersion(h,"0.6.13",void 0),t.registerVersion("fire-js","")}(_),e.a=_},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");const i="https://api.thedive.app",o={host:"peer.thedive.app",port:443,path:"app",secure:!0,config:{iceServers:[{url:"stun:stun.l.google.com:19302"},{url:"stun:stun1.l.google.com:19302"},{url:"stun:stun2.l.google.com:19302"},{url:"turn:numb.viagenie.ca",credential:"muazkh",username:"webrtc@live.com"}]}},s={apiKey:"AIzaSyCvC9YqudRf43YfLeB_Exv0v0qv1U7Y8Y0",authDomain:"f122-thediveapp.firebaseapp.com",projectId:"f122-thediveapp",storageBucket:"f122-thediveapp.appspot.com",messagingSenderId:"607452129015",appId:"1:607452129015:web:c64f8d9d4dd1677cb7d5f2",measurementId:"G-KNJX4T8628"};let a=null;function c(){return a}const u=new r.q("DocumentToken");let l=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Gb)({factory:h,token:t,providedIn:"platform"}),t})();function h(){return Object(r.Ub)(f)}const d=new r.q("Location Initialized");let f=(()=>{class t extends l{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=c().getLocation(),this._history=c().getHistory()}getBaseHrefFromDOM(){return c().getBaseHref(this._doc)}onPopState(t){c().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){c().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){p()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){p()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(u))},t.\u0275prov=Object(r.Gb)({factory:g,token:t,providedIn:"platform"}),t})();function p(){return!!window.history.pushState}function g(){return new f(Object(r.Ub)(u))}function m(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function b(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function v(t){return t&&"?"!==t[0]?"?"+t:t}let y=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Gb)({factory:_,token:t,providedIn:"root"}),t})();function _(t){const e=Object(r.Ub)(u).location;return new C(Object(r.Ub)(l),e&&e.origin||"")}const w=new r.q("appBaseHref");let C=(()=>{class t extends y{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return m(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+v(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+v(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+v(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(l),r.Ub(w,8))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),k=(()=>{class t extends y{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=m(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+v(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+v(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(l),r.Ub(w,8))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),P=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=b(E(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+v(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,E(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+v(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+v(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(y),r.Ub(l))},t.normalizeQueryParams=v,t.joinWithSlash=m,t.stripTrailingSlash=b,t.\u0275prov=Object(r.Gb)({factory:S,token:t,providedIn:"root"}),t})();function S(){return new P(Object(r.Ub)(y),Object(r.Ub)(l))}function E(t){return t.replace(/\/index.html$/,"")}var T=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),x=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}({}),O=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}({}),I=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}({}),A=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t[1/0]=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}({});function R(t,e){return F(Object(r.kb)(t)[r.bb.DateFormat],e)}function D(t,e){return F(Object(r.kb)(t)[r.bb.TimeFormat],e)}function j(t,e){return F(Object(r.kb)(t)[r.bb.DateTimeFormat],e)}function N(t,e){const n=Object(r.kb)(t),i=n[r.bb.NumberSymbols][e];if(void 0===i){if(e===A.CurrencyDecimal)return n[r.bb.NumberSymbols][A.Decimal];if(e===A.CurrencyGroup)return n[r.bb.NumberSymbols][A.Group]}return i}const M=r.nb;function L(t){if(!t[r.bb.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[r.bb.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function F(t,e){for(let n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function U(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}const Q=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,V={},B=/((?:[^GyYMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var q=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}({}),z=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}({}),H=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}({});function K(t,e,n,r){let i=function(t){if(it(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){t=t.trim();const e=parseFloat(t);if(!isNaN(t-e))return new Date(e);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(t)){const[e,n,r]=t.split("-").map(t=>+t);return new Date(e,n-1,r)}let n;if(n=t.match(Q))return function(t){const e=new Date(0);let n=0,r=0;const i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,c=Number(t[6]||0),u=Math.floor(1e3*parseFloat("0."+(t[7]||0)));return o.call(e,s,a,c,u),e}(n)}const e=new Date(t);if(!it(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=W(n,e)||e;let o,s=[];for(;e;){if(o=B.exec(e),!o){s.push(e);break}{s=s.concat(o.slice(1));const t=s.pop();if(!t)break;e=t}}let a=i.getTimezoneOffset();r&&(a=rt(r,a),i=function(t,e,n){const r=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(rt(e,r)-r))}(i,r));let c="";return s.forEach(t=>{const e=function(t){if(nt[t])return nt[t];let e;switch(t){case"G":case"GG":case"GGG":e=$(H.Eras,O.Abbreviated);break;case"GGGG":e=$(H.Eras,O.Wide);break;case"GGGGG":e=$(H.Eras,O.Narrow);break;case"y":e=Y(z.FullYear,1,0,!1,!0);break;case"yy":e=Y(z.FullYear,2,0,!0,!0);break;case"yyy":e=Y(z.FullYear,3,0,!1,!0);break;case"yyyy":e=Y(z.FullYear,4,0,!1,!0);break;case"Y":e=et(1);break;case"YY":e=et(2,!0);break;case"YYY":e=et(3);break;case"YYYY":e=et(4);break;case"M":case"L":e=Y(z.Month,1,1);break;case"MM":case"LL":e=Y(z.Month,2,1);break;case"MMM":e=$(H.Months,O.Abbreviated);break;case"MMMM":e=$(H.Months,O.Wide);break;case"MMMMM":e=$(H.Months,O.Narrow);break;case"LLL":e=$(H.Months,O.Abbreviated,x.Standalone);break;case"LLLL":e=$(H.Months,O.Wide,x.Standalone);break;case"LLLLL":e=$(H.Months,O.Narrow,x.Standalone);break;case"w":e=tt(1);break;case"ww":e=tt(2);break;case"W":e=tt(1,!0);break;case"d":e=Y(z.Date,1);break;case"dd":e=Y(z.Date,2);break;case"E":case"EE":case"EEE":e=$(H.Days,O.Abbreviated);break;case"EEEE":e=$(H.Days,O.Wide);break;case"EEEEE":e=$(H.Days,O.Narrow);break;case"EEEEEE":e=$(H.Days,O.Short);break;case"a":case"aa":case"aaa":e=$(H.DayPeriods,O.Abbreviated);break;case"aaaa":e=$(H.DayPeriods,O.Wide);break;case"aaaaa":e=$(H.DayPeriods,O.Narrow);break;case"b":case"bb":case"bbb":e=$(H.DayPeriods,O.Abbreviated,x.Standalone,!0);break;case"bbbb":e=$(H.DayPeriods,O.Wide,x.Standalone,!0);break;case"bbbbb":e=$(H.DayPeriods,O.Narrow,x.Standalone,!0);break;case"B":case"BB":case"BBB":e=$(H.DayPeriods,O.Abbreviated,x.Format,!0);break;case"BBBB":e=$(H.DayPeriods,O.Wide,x.Format,!0);break;case"BBBBB":e=$(H.DayPeriods,O.Narrow,x.Format,!0);break;case"h":e=Y(z.Hours,1,-12);break;case"hh":e=Y(z.Hours,2,-12);break;case"H":e=Y(z.Hours,1);break;case"HH":e=Y(z.Hours,2);break;case"m":e=Y(z.Minutes,1);break;case"mm":e=Y(z.Minutes,2);break;case"s":e=Y(z.Seconds,1);break;case"ss":e=Y(z.Seconds,2);break;case"S":e=Y(z.FractionalSeconds,1);break;case"SS":e=Y(z.FractionalSeconds,2);break;case"SSS":e=Y(z.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=J(q.Short);break;case"ZZZZZ":e=J(q.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=J(q.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=J(q.Long);break;default:return null}return nt[t]=e,e}(t);c+=e?e(i,n,a):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function W(t,e){const n=function(t){return Object(r.kb)(t)[r.bb.LocaleId]}(t);if(V[n]=V[n]||{},V[n][e])return V[n][e];let i="";switch(e){case"shortDate":i=R(t,I.Short);break;case"mediumDate":i=R(t,I.Medium);break;case"longDate":i=R(t,I.Long);break;case"fullDate":i=R(t,I.Full);break;case"shortTime":i=D(t,I.Short);break;case"mediumTime":i=D(t,I.Medium);break;case"longTime":i=D(t,I.Long);break;case"fullTime":i=D(t,I.Full);break;case"short":const e=W(t,"shortTime"),n=W(t,"shortDate");i=G(j(t,I.Short),[e,n]);break;case"medium":const r=W(t,"mediumTime"),o=W(t,"mediumDate");i=G(j(t,I.Medium),[r,o]);break;case"long":const s=W(t,"longTime"),a=W(t,"longDate");i=G(j(t,I.Long),[s,a]);break;case"full":const c=W(t,"fullTime"),u=W(t,"fullDate");i=G(j(t,I.Full),[c,u])}return i&&(V[n][e]=i),i}function G(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(t,n){return null!=e&&n in e?e[n]:t})),t}function X(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.substr(s.length-e)),o+s}function Y(t,e,n=0,r=!1,i=!1){return function(o,s){let a=function(t,e){switch(t){case z.FullYear:return e.getFullYear();case z.Month:return e.getMonth();case z.Date:return e.getDate();case z.Hours:return e.getHours();case z.Minutes:return e.getMinutes();case z.Seconds:return e.getSeconds();case z.FractionalSeconds:return e.getMilliseconds();case z.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,o);if((n>0||a>-n)&&(a+=n),t===z.Hours)0===a&&-12===n&&(a=12);else if(t===z.FractionalSeconds)return c=e,X(a,3).substr(0,c);var c;const u=N(s,A.MinusSign);return X(a,e,u,r,i)}}function $(t,e,n=x.Format,i=!1){return function(o,s){return function(t,e,n,i,o,s){switch(n){case H.Months:return function(t,e,n){const i=Object(r.kb)(t),o=F([i[r.bb.MonthsFormat],i[r.bb.MonthsStandalone]],e);return F(o,n)}(e,o,i)[t.getMonth()];case H.Days:return function(t,e,n){const i=Object(r.kb)(t),o=F([i[r.bb.DaysFormat],i[r.bb.DaysStandalone]],e);return F(o,n)}(e,o,i)[t.getDay()];case H.DayPeriods:const a=t.getHours(),c=t.getMinutes();if(s){const t=function(t){const e=Object(r.kb)(t);return L(e),(e[r.bb.ExtraData][2]||[]).map(t=>"string"==typeof t?U(t):[U(t[0]),U(t[1])])}(e),n=function(t,e,n){const i=Object(r.kb)(t);L(i);const o=F([i[r.bb.ExtraData][0],i[r.bb.ExtraData][1]],e)||[];return F(o,n)||[]}(e,o,i),s=t.findIndex(t=>{if(Array.isArray(t)){const[e,n]=t,r=a>=e.hours&&c>=e.minutes,i=a<n.hours||a===n.hours&&c<n.minutes;if(e.hours<n.hours){if(r&&i)return!0}else if(r||i)return!0}else if(t.hours===a&&t.minutes===c)return!0;return!1});if(-1!==s)return n[s]}return function(t,e,n){const i=Object(r.kb)(t),o=F([i[r.bb.DayPeriodsFormat],i[r.bb.DayPeriodsStandalone]],e);return F(o,n)}(e,o,i)[a<12?0:1];case H.Eras:return function(t,e){return F(Object(r.kb)(t)[r.bb.Eras],e)}(e,i)[t.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type "+n)}}(o,s,t,e,n,i)}}function J(t){return function(e,n,r){const i=-1*r,o=N(n,A.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case q.Short:return(i>=0?"+":"")+X(s,2,o)+X(Math.abs(i%60),2,o);case q.ShortGMT:return"GMT"+(i>=0?"+":"")+X(s,1,o);case q.Long:return"GMT"+(i>=0?"+":"")+X(s,2,o)+":"+X(Math.abs(i%60),2,o);case q.Extended:return 0===r?"Z":(i>=0?"+":"")+X(s,2,o)+":"+X(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}function Z(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function tt(t,e=!1){return function(n,r){let i;if(e){const t=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,e=n.getDate();i=1+Math.floor((e+t)/7)}else{const t=Z(n),e=function(t){const e=new Date(t,0,1).getDay();return new Date(t,0,1+(e<=4?4:11)-e)}(t.getFullYear()),r=t.getTime()-e.getTime();i=1+Math.round(r/6048e5)}return X(i,t,N(r,A.MinusSign))}}function et(t,e=!1){return function(n,r){return X(Z(n).getFullYear(),t,N(r,A.MinusSign),e)}}const nt={};function rt(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function it(t){return t instanceof Date&&!isNaN(t.valueOf())}class ot{}let st=(()=>{class t extends ot{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(M(e||this.locale)(t)){case T.Zero:return"zero";case T.One:return"one";case T.Two:return"two";case T.Few:return"few";case T.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(r.u))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();function at(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}let ct=(()=>{class t{constructor(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(r.qb)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+Object(r.vb)(t.item));this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.s),r.Kb(r.t),r.Kb(r.l),r.Kb(r.E))},t.\u0275dir=r.Fb({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class ut{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let lt=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new ut(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new ht(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new ht(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.Q),r.Kb(r.L),r.Kb(r.s))},t.\u0275dir=r.Fb({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class ht{constructor(t,e){this.record=t,this.view=e}}let dt=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new ft,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){pt("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){pt("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.Q),r.Kb(r.L))},t.\u0275dir=r.Fb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class ft{constructor(){this.$implicit=null,this.ngIf=null}}function pt(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.vb)(e)}'.`)}let gt=(()=>{class t{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(t){if(this._shouldRecreateView(t)){const t=this._viewContainerRef;this._viewRef&&t.remove(t.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?t.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}_shouldRecreateView(t){const e=t.ngTemplateOutletContext;return!!t.ngTemplateOutlet||e&&this._hasContextShapeChanged(e)}_hasContextShapeChanged(t){const e=Object.keys(t.previousValue||{}),n=Object.keys(t.currentValue||{});if(e.length===n.length){for(let t of n)if(-1===e.indexOf(t))return!0;return!1}return!0}_updateExistingContext(t){for(let e of Object.keys(t))this._viewRef.context[e]=this.ngTemplateOutletContext[e]}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.Q))},t.\u0275dir=r.Fb({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[r.yb]}),t})(),mt=(()=>{class t{constructor(t){this.locale=t}transform(e,n="mediumDate",i,o){if(null==e||""===e||e!=e)return null;try{return K(e,n,o||this.locale,i)}catch(s){throw function(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${Object(r.vb)(t)}'`)}(t,s.message)}}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.u))},t.\u0275pipe=r.Jb({name:"date",type:t,pure:!0}),t})(),bt=(()=>{class t{constructor(t){this.differs=t,this.keyValues=[]}transform(t,e=vt){if(!t||!(t instanceof Map)&&"object"!=typeof t)return null;this.differ||(this.differ=this.differs.find(t).create());const n=this.differ.diff(t);return n&&(this.keyValues=[],n.forEachItem(t=>{this.keyValues.push({key:t.key,value:t.currentValue})}),this.keyValues.sort(e)),this.keyValues}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.t))},t.\u0275pipe=r.Jb({name:"keyvalue",type:t,pure:!1}),t})();function vt(t,e){const n=t.key,r=e.key;if(n===r)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(null===n)return 1;if(null===r)return-1;if("string"==typeof n&&"string"==typeof r)return n<r?-1:1;if("number"==typeof n&&"number"==typeof r)return n-r;if("boolean"==typeof n&&"boolean"==typeof r)return n<r?-1:1;const i=String(n),o=String(r);return i==o?0:i<o?-1:1}let yt=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[{provide:ot,useClass:st}]}),t})();function _t(t){return"browser"===t}function wt(t){return"server"===t}let Ct=(()=>{class t{}return t.\u0275prov=Object(r.Gb)({token:t,providedIn:"root",factory:()=>new kt(Object(r.Ub)(u),window,Object(r.Ub)(r.m))}),t})();class kt{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportsScrolling()){const e=this.document.getElementById(t)||this.document.getElementsByName(t)[0];e&&this.scrollToElement(e)}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Pt(this.window.history)||Pt(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function Pt(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class St extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new St,a||(a=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=Tt||(Tt=document.querySelector("base"),Tt)?Tt.getAttribute("href"):null;return null==e?null:(n=e,Et||(Et=document.createElement("a")),Et.setAttribute("href",n),"/"===Et.pathname.charAt(0)?Et.pathname:"/"+Et.pathname);var n}resetBaseElement(){Tt=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return at(document.cookie,t)}}let Et,Tt=null;const xt=new r.q("TRANSITION_ID"),Ot=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=c();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[xt,u,r.r],multi:!0}];class It{static init(){Object(r.Y)(new It)}addToWindow(t){r.pb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.pb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.pb.getAllAngularRootElements=()=>t.getAllRootElements(),r.pb.frameworkStabilizers||(r.pb.frameworkStabilizers=[]),r.pb.frameworkStabilizers.push(t=>{const e=r.pb.getAllAngularTestabilities();let n=e.length,i=!1;const o=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(o)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?c().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const At=new r.q("EventManagerPlugins");let Rt=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(At),r.Ub(r.z))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();class Dt{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=c().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let jt=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),Nt=(()=>{class t extends jt{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>c().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(u))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const Mt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Lt=/%COMP%/g;function Ft(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Ft(t,i,n):(i=i.replace(Lt,t),n.push(i))}return n}function Ut(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Qt=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new Vt(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.R.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new Bt(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.R.ShadowDom:return new qt(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=Ft(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(Rt),r.Ub(Nt),r.Ub(r.c))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();class Vt{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(Mt[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=Mt[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=Mt[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.G.DashCase|r.G.Important)?t.style.setProperty(e,n,i&r.G.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.G.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Ut(n)):this.eventManager.addEventListener(t,e,Ut(n))}}class Bt extends Vt{constructor(t,e,n,r){super(t),this.component=n;const i=Ft(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(Lt,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(Lt,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class qt extends Vt{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=Ft(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let zt=(()=>{class t extends Dt{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(u))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const Ht=["alt","control","meta","shift"],Kt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Wt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Gt={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Xt=(()=>{class t extends Dt{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>c().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(Ht.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Wt.hasOwnProperty(e)&&(e=Wt[e]))}return Kt[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),Ht.forEach(r=>{r!=n&&(0,Gt[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(u))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const Yt=[{provide:r.B,useValue:"browser"},{provide:r.C,useValue:function(){St.makeCurrent(),It.init()},multi:!0},{provide:u,useFactory:function(){return Object(r.ub)(document),document},deps:[]}],$t=Object(r.S)(r.X,"browser",Yt),Jt=[[],{provide:r.ab,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:At,useClass:zt,multi:!0,deps:[u,r.z,r.B]},{provide:At,useClass:Xt,multi:!0,deps:[u]},[],{provide:Qt,useClass:Qt,deps:[Rt,Nt,r.c]},{provide:r.F,useExisting:Qt},{provide:jt,useExisting:Nt},{provide:Nt,useClass:Nt,deps:[u]},{provide:r.M,useClass:r.M,deps:[r.z]},{provide:Rt,useClass:Rt,deps:[At,r.z]},[]];let Zt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:xt,useExisting:r.c},Ot]}}}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)(r.Ub(t,12))},providers:Jt,imports:[yt,r.f]}),t})();function te(){return new ee(Object(r.Ub)(u))}let ee=(()=>{class t{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(u))},t.\u0275prov=Object(r.Gb)({factory:te,token:t,providedIn:"root"}),t})();"undefined"!=typeof window&&window;var ne=n("HDdC"),re=n("DH7j"),ie=n("lJxs"),oe=n("XoHu"),se=n("Cfvw");function ae(t,e){return new ne.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const c=Object(se.a)(t[a]);let u=!1;n.add(c.subscribe({next:t=>{u||(u=!0,s++),i[a]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&u||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const ce=new r.q("NgValueAccessor"),ue={provide:ce,useExisting:Object(r.U)(()=>le),multi:!0};let le=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.E),r.Kb(r.l))},t.\u0275dir=r.Fb({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&r.Xb("change",function(t){return e.onChange(t.target.checked)})("blur",function(){return e.onTouched()})},features:[r.zb([ue])]}),t})();const he={provide:ce,useExisting:Object(r.U)(()=>fe),multi:!0},de=new r.q("CompositionEventMode");let fe=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=c()?c().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.E),r.Kb(r.l),r.Kb(de,8))},t.\u0275dir=r.Fb({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.Xb("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[r.zb([he])]}),t})();function pe(t){return null==t||0===t.length}function ge(t){return null!=t&&"number"==typeof t.length}const me=new r.q("NgValidators"),be=new r.q("NgAsyncValidators"),ve=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ye{static min(t){return e=>{if(pe(e.value)||pe(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(pe(e.value)||pe(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return pe(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return pe(t.value)||ve.test(t.value)?null:{email:!0}}static minLength(t){return e=>pe(e.value)||!ge(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}static maxLength(t){return e=>ge(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}static pattern(t){if(!t)return ye.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(pe(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(_e);return 0==e.length?null:function(t){return Ce(ke(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(_e);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(re.a)(e))return ae(e,null);if(Object(oe.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return ae(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return ae(t=1===t.length&&Object(re.a)(t[0])?t[0]:t,null).pipe(Object(ie.a)(t=>e(...t)))}return ae(t,null)}(ke(t,e).map(we)).pipe(Object(ie.a)(Ce))}}}function _e(t){return null!=t}function we(t){const e=Object(r.sb)(t)?Object(se.a)(t):t;return Object(r.rb)(e),e}function Ce(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function ke(t,e){return e.map(e=>e(t))}function Pe(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function Se(t){return null!=t?ye.compose(Pe(t)):null}function Ee(t){return null!=t?ye.composeAsync(Pe(t)):null}function Te(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function xe(t){return t._rawValidators}function Oe(t){return t._rawAsyncValidators}let Ie=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Se(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Ee(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Fb({type:t}),t})(),Ae=(()=>{class t extends Ie{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return Re(e||t)},t.\u0275dir=r.Fb({type:t,features:[r.xb]}),t})();const Re=r.Sb(Ae);class De extends Ie{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class je{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}let Ne=(()=>{class t extends je{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(De,2))},t.\u0275dir=r.Fb({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Cb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.xb]}),t})(),Me=(()=>{class t extends je{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(Ae,2))},t.\u0275dir=r.Fb({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Cb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.xb]}),t})();const Le={provide:ce,useExisting:Object(r.U)(()=>Fe),multi:!0};let Fe=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.E),r.Kb(r.l))},t.\u0275dir=r.Fb({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.Xb("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.zb([Le])]}),t})();const Ue={provide:ce,useExisting:Object(r.U)(()=>Ve),multi:!0};let Qe=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),Ve=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(De),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.E),r.Kb(r.l),r.Kb(Qe),r.Kb(r.r))},t.\u0275dir=r.Fb({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&r.Xb("change",function(){return e.onChange()})("blur",function(){return e.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r.zb([Ue])]}),t})();const Be={provide:ce,useExisting:Object(r.U)(()=>qe),multi:!0};let qe=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.E),r.Kb(r.l))},t.\u0275dir=r.Fb({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&r.Xb("change",function(t){return e.onChange(t.target.value)})("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.zb([Be])]}),t})();const ze={provide:ce,useExisting:Object(r.U)(()=>He),multi:!0};let He=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=function(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.E),r.Kb(r.l))},t.\u0275dir=r.Fb({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.Xb("change",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.zb([ze])]}),t})();const Ke={provide:ce,useExisting:Object(r.U)(()=>We),multi:!0};let We=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.E),r.Kb(r.l))},t.\u0275dir=r.Fb({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.Xb("change",function(t){return e.onChange(t.target)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.zb([Ke])]}),t})();function Ge(t,e){return[...e.path,t]}function Xe(t,e){$e(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Ze(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Ze(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function Ye(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function $e(t,e,n){const r=xe(t);null!==e.validator?t.setValidators(Te(r,e.validator)):"function"==typeof r&&t.setValidators([r]);const i=Oe(t);if(null!==e.asyncValidator?t.setAsyncValidators(Te(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]),n){const n=()=>t.updateValueAndValidity();Ye(e._rawValidators,n),Ye(e._rawAsyncValidators,n)}}function Je(t,e,n){if(null!==t){if(null!==e.validator){const n=xe(t);Array.isArray(n)&&n.length>0&&t.setValidators(n.filter(t=>t!==e.validator))}if(null!==e.asyncValidator){const n=Oe(t);Array.isArray(n)&&n.length>0&&t.setAsyncValidators(n.filter(t=>t!==e.asyncValidator))}}if(n){const t=()=>{};Ye(e._rawValidators,t),Ye(e._rawAsyncValidators,t)}}function Ze(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function tn(t,e){$e(t,e,!1)}function en(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}const nn=[le,qe,Fe,He,We,Ve];function rn(t,e){t._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function on(t,e){if(!e)return null;Array.isArray(e);let n=void 0,r=void 0,i=void 0;return e.forEach(t=>{var e;t.constructor===fe?n=t:(e=t,nn.some(t=>e.constructor===t)?r=t:i=t)}),i||r||n||null}function sn(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const an="VALID",cn="INVALID",un="PENDING",ln="DISABLED";function hn(t){return(gn(t)?t.validators:t)||null}function dn(t){return Array.isArray(t)?Se(t):t||null}function fn(t,e){return(gn(e)?e.asyncValidators:t)||null}function pn(t){return Array.isArray(t)?Ee(t):t||null}function gn(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class mn{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=dn(this._rawValidators),this._composedAsyncValidatorFn=pn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===an}get invalid(){return this.status===cn}get pending(){return this.status==un}get disabled(){return this.status===ln}get enabled(){return this.status!==ln}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=dn(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=pn(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=un,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=ln,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=an,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==an&&this.status!==un||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ln:an}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=un,this._hasOwnPendingAsyncValidator=!0;const e=we(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof vn?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof yn&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.n,this.statusChanges=new r.n}_calculateStatus(){return this._allControlsDisabled()?ln:this.errors?cn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(un)?un:this._anyControlsHaveStatus(cn)?cn:an}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){gn(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class bn extends mn{constructor(t=null,e,n){super(hn(e),fn(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){sn(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){sn(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class vn extends mn{constructor(t,e,n){super(hn(e),fn(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof bn?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class yn extends mn{constructor(t,e,n){super(hn(e),fn(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof bn?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const _n={provide:Ae,useExisting:Object(r.U)(()=>Cn)},wn=(()=>Promise.resolve(null))();let Cn=(()=>{class t extends Ae{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new r.n,this.form=new vn({},Se(t),Ee(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){wn.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),Xe(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){wn.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),sn(this._directives,t)})}addFormGroup(t){wn.then(()=>{const e=this._findContainer(t.path),n=new vn({});tn(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){wn.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){wn.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,rn(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(me,10),r.Kb(be,10))},t.\u0275dir=r.Fb({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&r.Xb("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.zb([_n]),r.xb]}),t})();const kn={provide:De,useExisting:Object(r.U)(()=>Sn)},Pn=(()=>Promise.resolve(null))();let Sn=(()=>{class t extends De{constructor(t,e,n,i){super(),this.control=new bn,this._registered=!1,this.update=new r.n,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=on(0,i)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),en(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?Ge(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Xe(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Pn.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;Pn.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(Ae,9),r.Kb(me,10),r.Kb(be,10),r.Kb(ce,10))},t.\u0275dir=r.Fb({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r.zb([kn]),r.xb,r.yb]}),t})(),En=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Fb({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const Tn=new r.q("NgModelWithFormControlWarning"),xn={provide:Ae,useExisting:Object(r.U)(()=>On)};let On=(()=>{class t extends Ae{constructor(t,e){super(),this.validators=t,this.asyncValidators=e,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new r.n,this._setValidators(t),this._setAsyncValidators(e)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return Xe(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){sn(this.directives,t)}addFormGroup(t){const e=this.form.get(t.path);tn(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormGroup(t){}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){const e=this.form.get(t.path);tn(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormArray(t){}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,rn(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(function(t,e){const n=()=>{};e.valueAccessor.registerOnChange(n),e.valueAccessor.registerOnTouched(n),Je(t,e,!0),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}(t.control||null,t),e&&Xe(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){$e(this.form,this,!1),this._oldForm&&Je(this._oldForm,this,!1)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(me,10),r.Kb(be,10))},t.\u0275dir=r.Fb({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&r.Xb("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.zb([xn]),r.xb,r.yb]}),t})();const In={provide:De,useExisting:Object(r.U)(()=>An)};let An=(()=>{class t extends De{constructor(t,e,n,i,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new r.n,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=on(0,i)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),en(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Ge(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(Ae,13),r.Kb(me,10),r.Kb(be,10),r.Kb(ce,10),r.Kb(Tn,8))},t.\u0275dir=r.Fb({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r.zb([In]),r.xb,r.yb]}),t._ngModelWarningSentOnce=!1,t})();const Rn={provide:me,useExisting:Object(r.U)(()=>Dn),multi:!0};let Dn=(()=>{class t{constructor(){this._required=!1}get required(){return this._required}set required(t){this._required=null!=t&&!1!==t&&""+t!="false",this._onChange&&this._onChange()}validate(t){return this.required?ye.required(t):null}registerOnValidatorChange(t){this._onChange=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Fb({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,e){2&t&&r.Bb("required",e.required?"":null)},inputs:{required:"required"},features:[r.zb([Rn])]}),t})();const jn={provide:me,useExisting:Object(r.U)(()=>Nn),multi:!0};let Nn=(()=>{class t{constructor(){this._validator=ye.nullValidator}ngOnChanges(t){"minlength"in t&&(this._createValidator(),this._onChange&&this._onChange())}validate(t){return null==this.minlength?null:this._validator(t)}registerOnValidatorChange(t){this._onChange=t}_createValidator(){this._validator=ye.minLength("number"==typeof this.minlength?this.minlength:parseInt(this.minlength,10))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Fb({type:t,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(t,e){2&t&&r.Bb("minlength",e.minlength?e.minlength:null)},inputs:{minlength:"minlength"},features:[r.zb([jn]),r.yb]}),t})();const Mn={provide:me,useExisting:Object(r.U)(()=>Ln),multi:!0};let Ln=(()=>{class t{constructor(){this._validator=ye.nullValidator}ngOnChanges(t){"maxlength"in t&&(this._createValidator(),this._onChange&&this._onChange())}validate(t){return null!=this.maxlength?this._validator(t):null}registerOnValidatorChange(t){this._onChange=t}_createValidator(){this._validator=ye.maxLength("number"==typeof this.maxlength?this.maxlength:parseInt(this.maxlength,10))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Fb({type:t,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(t,e){2&t&&r.Bb("maxlength",e.maxlength?e.maxlength:null)},inputs:{maxlength:"maxlength"},features:[r.zb([Mn]),r.yb]}),t})(),Fn=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)}}),t})(),Un=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let r=null,i=null,o=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(r=null!=e.validators?e.validators:null,i=null!=e.asyncValidators?e.asyncValidators:null,o=null!=e.updateOn?e.updateOn:void 0):(r=null!=e.validator?e.validator:null,i=null!=e.asyncValidator?e.asyncValidator:null)),new vn(n,{asyncValidators:i,updateOn:o,validators:r})}control(t,e,n){return new bn(t,e,n)}array(t,e,n){const r=t.map(t=>this._createControl(t));return new yn(r,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof bn||t instanceof vn||t instanceof yn?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),Qn=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[Qe],imports:[Fn]}),t})(),Vn=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Tn,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[Un,Qe],imports:[Fn]}),t})();var Bn=n("LRne"),qn=n("5+tZ");function zn(t,e){return Object(qn.a)(t,e,1)}var Hn=n("7o/Q");function Kn(t,e){return function(n){return n.lift(new Wn(t,e))}}class Wn{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Gn(t,this.predicate,this.thisArg))}}class Gn extends Hn.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}class Xn{}class Yn{}class $n{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof $n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new $n;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof $n?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class Jn{encodeKey(t){return Zn(t)}encodeValue(t){return Zn(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function Zn(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class tr{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Jn,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.split("&").forEach(t=>{const r=t.indexOf("="),[i,o]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],s=n.get(i)||[];s.push(o),n.set(i,s)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new tr({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat([t]),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function er(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function nr(t){return"undefined"!=typeof Blob&&t instanceof Blob}function rr(t){return"undefined"!=typeof FormData&&t instanceof FormData}class ir{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new $n),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new tr,this.urlWithParams=e}serializeBody(){return null===this.body?null:er(this.body)||nr(this.body)||rr(this.body)||"string"==typeof this.body?this.body:this.body instanceof tr?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||rr(this.body)?null:nr(this.body)?this.body.type||null:er(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof tr?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,s=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,c=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(c=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),c)),new ir(e,n,i,{params:c,headers:a,reportProgress:s,responseType:r,withCredentials:o})}}var or=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({});class sr{constructor(t,e=200,n="OK"){this.headers=t.headers||new $n,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class ar extends sr{constructor(t={}){super(t),this.type=or.ResponseHeader}clone(t={}){return new ar({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class cr extends sr{constructor(t={}){super(t),this.type=or.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new cr({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class ur extends sr{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?"Http failure during parsing for "+(t.url||"(unknown url)"):`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function lr(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let hr=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof ir)r=t;else{let i=void 0;i=n.headers instanceof $n?n.headers:new $n(n.headers);let o=void 0;n.params&&(o=n.params instanceof tr?n.params:new tr({fromObject:n.params})),r=new ir(t,e,void 0!==n.body?n.body:null,{headers:i,params:o,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=Object(Bn.a)(r).pipe(zn(t=>this.handler.handle(t)));if(t instanceof ir||"events"===n.observe)return i;const o=i.pipe(Kn(t=>t instanceof cr));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return o.pipe(Object(ie.a)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return o.pipe(Object(ie.a)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return o.pipe(Object(ie.a)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return o.pipe(Object(ie.a)(t=>t.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new tr).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,lr(n,e))}post(t,e,n={}){return this.request("POST",t,lr(n,e))}put(t,e,n={}){return this.request("PUT",t,lr(n,e))}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(Xn))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();class dr{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const fr=new r.q("HTTP_INTERCEPTORS");let pr=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const gr=/^\)\]\}',?\n/;class mr{}let br=(()=>{class t{constructor(){}build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),vr=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new ne.a(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const r=t.serializeBody();let i=null;const o=()=>{if(null!==i)return i;const e=1223===n.status?204:n.status,r=n.statusText||"OK",o=new $n(n.getAllResponseHeaders()),s=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return i=new ar({headers:o,status:e,statusText:r,url:s}),i},s=()=>{let{headers:r,status:i,statusText:s,url:a}=o(),c=null;204!==i&&(c=void 0===n.response?n.responseText:n.response),0===i&&(i=c?200:0);let u=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof c){const t=c;c=c.replace(gr,"");try{c=""!==c?JSON.parse(c):null}catch(l){c=t,u&&(u=!1,c={error:l,text:c})}}u?(e.next(new cr({body:c,headers:r,status:i,statusText:s,url:a||void 0})),e.complete()):e.error(new ur({error:c,headers:r,status:i,statusText:s,url:a||void 0}))},a=t=>{const{url:r}=o(),i=new ur({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});e.error(i)};let c=!1;const u=r=>{c||(e.next(o()),c=!0);let i={type:or.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===t.responseType&&n.responseText&&(i.partialText=n.responseText),e.next(i)},l=t=>{let n={type:or.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",s),n.addEventListener("error",a),t.reportProgress&&(n.addEventListener("progress",u),null!==r&&n.upload&&n.upload.addEventListener("progress",l)),n.send(r),e.next({type:or.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("load",s),t.reportProgress&&(n.removeEventListener("progress",u),null!==r&&n.upload&&n.upload.removeEventListener("progress",l)),n.readyState!==n.DONE&&n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(mr))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const yr=new r.q("XSRF_COOKIE_NAME"),_r=new r.q("XSRF_HEADER_NAME");class wr{}let Cr=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=at(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(u),r.Ub(r.B),r.Ub(yr))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),kr=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(wr),r.Ub(_r))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),Pr=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(fr,[]);this.chain=t.reduceRight((t,e)=>new dr(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(Yn),r.Ub(r.r))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),Sr=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:kr,useClass:pr}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:yr,useValue:e.cookieName}:[],e.headerName?{provide:_r,useValue:e.headerName}:[]]}}}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[kr,{provide:fr,useExisting:kr,multi:!0},{provide:wr,useClass:Cr},{provide:yr,useValue:"XSRF-TOKEN"},{provide:_r,useValue:"X-XSRF-TOKEN"}]}),t})(),Er=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[hr,{provide:Xn,useClass:Pr},vr,{provide:Yn,useExisting:vr},br,{provide:mr,useExisting:br}],imports:[[Sr.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})();var Tr=n("spgP");function xr(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{c(r.next(t))}catch(OC){o(OC)}}function a(t){try{c(r.throw(t))}catch(OC){o(OC)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((r=r.apply(t,e||[])).next())})}var Or=n("EY2u"),Ir=n("pxpQ"),Ar=n("zx2A");function Rr(t,e){return"function"==typeof e?n=>n.pipe(Rr((n,r)=>Object(se.a)(t(n,r)).pipe(Object(ie.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new Dr(t))}class Dr{constructor(t){this.project=t}call(t,e){return e.subscribe(new jr(t,this.project))}}class jr extends Ar.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new Ar.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(Ar.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}var Nr=n("XNiG"),Mr=n("qgXg"),Lr=n("quSY"),Fr=n("9ppp"),Ur=n("Ylt2");class Qr extends Nr.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new Vr(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let o;if(this.closed)throw new Fr.a;if(this.isStopped||this.hasError?o=Lr.a.EMPTY:(this.observers.push(t),o=new Ur.a(this,t)),r&&t.add(t=new Ir.a(t,r)),e)for(let s=0;s<i&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<i&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||Mr.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}class Vr{constructor(t,e){this.time=t,this.value=e}}function Br(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,o,s=0,a=!1,c=!1;return function(u){let l;s++,!i||a?(a=!1,i=new Qr(t,e,r),l=i.subscribe(this),o=u.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){c=!0,o=void 0,i.complete()}})):l=i.subscribe(this),this.add(()=>{s--,l.unsubscribe(),o&&!c&&n&&0===s&&(o.unsubscribe(),o=void 0,i=void 0)})}}(r))}class qr{constructor(t,e,n,r){this.keySelector=t,this.elementSelector=e,this.durationSelector=n,this.subjectSelector=r}call(t,e){return e.subscribe(new zr(t,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}class zr extends Hn.a{constructor(t,e,n,r,i){super(t),this.keySelector=e,this.elementSelector=n,this.durationSelector=r,this.subjectSelector=i,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}_next(t){let e;try{e=this.keySelector(t)}catch(n){return void this.error(n)}this._group(t,e)}_group(t,e){let n=this.groups;n||(n=this.groups=new Map);let r,i=n.get(e);if(this.elementSelector)try{r=this.elementSelector(t)}catch(o){this.error(o)}else r=t;if(!i){i=this.subjectSelector?this.subjectSelector():new Nr.a,n.set(e,i);const t=new Kr(e,i,this);if(this.destination.next(t),this.durationSelector){let t;try{t=this.durationSelector(new Kr(e,i))}catch(o){return void this.error(o)}this.add(t.subscribe(new Hr(e,i,this)))}}i.closed||i.next(r)}_error(t){const e=this.groups;e&&(e.forEach((e,n)=>{e.error(t)}),e.clear()),this.destination.error(t)}_complete(){const t=this.groups;t&&(t.forEach((t,e)=>{t.complete()}),t.clear()),this.destination.complete()}removeGroup(t){this.groups.delete(t)}unsubscribe(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&super.unsubscribe())}}class Hr extends Hn.a{constructor(t,e,n){super(e),this.key=t,this.group=e,this.parent=n}_next(t){this.complete()}_unsubscribe(){const{parent:t,key:e}=this;this.key=this.parent=null,t&&t.removeGroup(e)}}class Kr extends ne.a{constructor(t,e,n){super(),this.key=t,this.groupSubject=e,this.refCountSubscription=n}_subscribe(t){const e=new Lr.a,{refCountSubscription:n,groupSubject:r}=this;return n&&!n.closed&&e.add(new Wr(n)),e.add(r.subscribe(t)),e}}class Wr extends Lr.a{constructor(t){super(),this.parent=t,t.count++}unsubscribe(){const t=this.parent;t.closed||this.closed||(super.unsubscribe(),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())}}class Gr{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new Xr(t,this.compare,this.keySelector))}}class Xr extends Hn.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var Yr=n("bHdf");function $r(){return Object(Yr.a)(1)}function Jr(...t){return $r()(Object(Bn.a)(...t))}var Zr=n("z+Ro");function ti(...t){const e=t[t.length-1];return Object(Zr.a)(e)?(t.pop(),n=>Jr(t,n,e)):e=>Jr(t,e)}class ei{call(t,e){return e.subscribe(new ni(t))}}class ni extends Hn.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}class ri extends Nr.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Fr.a;return this._value}next(t){super.next(this._value=t)}}class ii extends Hn.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class oi extends Hn.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var si=n("SeVD");function ai(t,e,n,r,i=new oi(t,n,r)){if(!i.closed)return e instanceof ne.a?e.subscribe(i):Object(si.a)(e)(i)}var ci=n("yCtX");const ui={};class li{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new hi(t,this.resultSelector))}}class hi extends ii{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(ui),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(ai(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===ui?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const di=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();function fi(t){return new ne.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(se.a)(n):Object(Or.b)()).subscribe(e)})}const pi=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function gi(t){return function(e){return 0===t?Object(Or.b)():e.lift(new mi(t))}}class mi{constructor(t){if(this.total=t,this.total<0)throw new pi}call(t,e){return e.subscribe(new bi(t,this.total))}}class bi extends Hn.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function vi(t=wi){return e=>e.lift(new yi(t))}class yi{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new _i(t,this.errorFactory))}}class _i extends Hn.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(OC){t=OC}this.destination.error(t)}}}function wi(){return new di}function Ci(t=null){return e=>e.lift(new ki(t))}class ki{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Pi(t,this.defaultValue))}}class Pi extends Hn.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Si=n("SpAZ");function Ei(t){return e=>0===t?Object(Or.b)():e.lift(new Ti(t))}class Ti{constructor(t){if(this.total=t,this.total<0)throw new pi}call(t,e){return e.subscribe(new xi(t,this.total))}}class xi extends Hn.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}class Oi{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new Ii(t,this.accumulator,this.seed,this.hasSeed))}}class Ii extends Hn.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function Ai(t){return function(e){const n=new Ri(t),r=e.lift(n);return n.caught=r}}class Ri{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Di(t,this.selector,this.caught))}}class Di extends Ar.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new Ar.a(this);this.add(r);const i=Object(Ar.c)(n,r);i!==r&&this.add(i)}}}function ji(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Kn((e,n)=>t(e,n,r)):Si.a,Ei(1),n?Ci(e):vi(()=>new di))}var Ni=n("vkgz");class Mi{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Li(t,this.callback))}}class Li extends Hn.a{constructor(t,e){super(t),this.add(new Lr.a(e))}}class Fi{constructor(t,e){this.id=t,this.url=e}}class Ui extends Fi{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Qi extends Fi{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Vi extends Fi{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Bi extends Fi{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class qi extends Fi{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zi extends Fi{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hi extends Fi{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ki extends Fi{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wi extends Fi{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gi{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Xi{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Yi{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $i{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ji{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zi{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class to{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const eo="primary";class no{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function ro(t){return new no(t)}function io(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function oo(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function so(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!ao(t[i],e[i]))return!1;return!0}function ao(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function co(t){return Array.prototype.concat.apply([],t)}function uo(t){return t.length>0?t[t.length-1]:null}function lo(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function ho(t){return Object(r.rb)(t)?t:Object(r.sb)(t)?Object(se.a)(Promise.resolve(t)):Object(Bn.a)(t)}function fo(t,e,n){return n?function(t,e){return so(t,e)}(t.queryParams,e.queryParams)&&po(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>ao(t[n],e[n]))}(t.queryParams,e.queryParams)&&go(t.root,e.root)}function po(t,e){if(!_o(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!po(t.children[n],e.children[n]))return!1}return!0}function go(t,e){return mo(t,e,e.segments)}function mo(t,e,n){if(t.segments.length>n.length)return!!_o(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!_o(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!go(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!_o(t.segments,r)&&!!t.children.primary&&mo(t.children.primary,e,i)}}class bo{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ro(this.queryParams)),this._queryParamMap}toString(){return Po.serialize(this)}}class vo{constructor(t,e){this.segments=t,this.children=e,this.parent=null,lo(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return So(this)}}class yo{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=ro(this.parameters)),this._parameterMap}toString(){return Ro(this)}}function _o(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function wo(t,e){let n=[];return lo(t.children,(t,r)=>{r===eo&&(n=n.concat(e(t,r)))}),lo(t.children,(t,r)=>{r!==eo&&(n=n.concat(e(t,r)))}),n}class Co{}class ko{parse(t){const e=new Lo(t);return new bo(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+Eo(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${xo(e)}=${xo(t)}`).join("&"):`${xo(e)}=${xo(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const Po=new ko;function So(t){return t.segments.map(t=>Ro(t)).join("/")}function Eo(t,e){if(!t.hasChildren())return So(t);if(e){const e=t.children.primary?Eo(t.children.primary,!1):"",n=[];return lo(t.children,(t,e)=>{e!==eo&&n.push(`${e}:${Eo(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=wo(t,(e,n)=>n===eo?[Eo(t.children.primary,!1)]:[`${n}:${Eo(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${So(t)}/${e[0]}`:`${So(t)}/(${e.join("//")})`}}function To(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function xo(t){return To(t).replace(/%3B/gi,";")}function Oo(t){return To(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Io(t){return decodeURIComponent(t)}function Ao(t){return Io(t.replace(/\+/g,"%20"))}function Ro(t){return`${Oo(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${Oo(t)}=${Oo(e[t])}`).join("")}`;var e}const Do=/^[^\/()?;=#]+/;function jo(t){const e=t.match(Do);return e?e[0]:""}const No=/^[^=?&#]+/,Mo=/^[^?&#]+/;class Lo{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new vo([],{}):new vo([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new vo(t,e)),n}parseSegment(){const t=jo(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new yo(Io(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=jo(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=jo(this.remaining);t&&(n=t,this.capture(n))}t[Io(e)]=Io(n)}parseQueryParam(t){const e=function(t){const e=t.match(No);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Mo);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=Ao(e),i=Ao(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=jo(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=eo);const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new vo([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Fo{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Uo(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Uo(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Qo(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Qo(t,this._root).map(t=>t.value)}}function Uo(t,e){if(t===e.value)return e;for(const n of e.children){const e=Uo(t,n);if(e)return e}return null}function Qo(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Qo(t,n);if(r.length)return r.unshift(e),r}return[]}class Vo{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Bo(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class qo extends Fo{constructor(t,e){super(t),this.snapshot=e,Xo(this,t)}toString(){return this.snapshot.toString()}}function zo(t,e){const n=function(t,e){const n=new Wo([],{},{},"",{},eo,e,null,t.root,-1,{});return new Go("",new Vo(n,[]))}(t,e),r=new ri([new yo("",{})]),i=new ri({}),o=new ri({}),s=new ri({}),a=new ri(""),c=new Ho(r,i,s,a,o,eo,e,n.root);return c.snapshot=n.root,new qo(new Vo(c,[]),n)}class Ho{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(ie.a)(t=>ro(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(ie.a)(t=>ro(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ko(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Wo{constructor(t,e,n,r,i,o,s,a,c,u,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=c,this._lastPathIndex=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ro(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ro(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Go extends Fo{constructor(t,e){super(e),this.url=t,Xo(this,e)}toString(){return Yo(this._root)}}function Xo(t,e){e.value._routerState=t,e.children.forEach(e=>Xo(t,e))}function Yo(t){const e=t.children.length>0?` { ${t.children.map(Yo).join(", ")} } `:"";return`${t.value}${e}`}function $o(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,so(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),so(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!so(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),so(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Jo(t,e){return so(t.params,e.params)&&function(t,e){return _o(t,e)&&t.every((t,n)=>so(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||Jo(t.parent,e.parent))}function Zo(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return Zo(t,e,r);return Zo(t,e)})}(t,e,n);return new Vo(r,i)}{const n=t.retrieve(e.value);if(n){const t=n.route;return ts(e,t),t}{const n=new Ho(new ri((r=e.value).url),new ri(r.params),new ri(r.queryParams),new ri(r.fragment),new ri(r.data),r.outlet,r.component,r),i=e.children.map(e=>Zo(t,e));return new Vo(n,i)}}var r}function ts(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)ts(t.children[n],e.children[n])}function es(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function ns(t){return"object"==typeof t&&null!=t&&t.outlets}function rs(t,e,n,r,i){let o={};return r&&lo(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new bo(n.root===t?e:is(n.root,t,e),o,i)}function is(t,e,n){const r={};return lo(t.children,(t,i)=>{r[i]=t===e?n:is(t,e,n)}),new vo(t.segments,r)}class os{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&es(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(ns);if(r&&r!==uo(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ss{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function as(t,e,n){if(t||(t=new vo([],{})),0===t.segments.length&&t.hasChildren())return cs(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=n[r];if(ns(s))break;const a=""+s,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&c&&"object"==typeof c&&void 0===c.outlets){if(!ds(a,c,e))return o;r+=2}else{if(!ds(a,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new vo(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new vo(t.segments.slice(r.pathIndex),t.children),cs(e,0,i)}return r.match&&0===i.length?new vo(t.segments,{}):r.match&&!t.hasChildren()?us(t,e,n):r.match?cs(t,0,i):us(t,e,n)}function cs(t,e,n){if(0===n.length)return new vo(t.segments,{});{const r=function(t){return ns(t[0])?t[0].outlets:{[eo]:t}}(n),i={};return lo(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=as(t.children[r],e,n))}),lo(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new vo(t.segments,i)}}function us(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(ns(o)){const t=ls(o.outlets);return new vo(r,t)}if(0===i&&es(n[0])){r.push(new yo(t.segments[e].path,n[0])),i++;continue}const s=ns(o)?o.outlets.primary:""+o,a=i<n.length-1?n[i+1]:null;s&&a&&es(a)?(r.push(new yo(s,hs(a))),i+=2):(r.push(new yo(s,{})),i++)}return new vo(r,{})}function ls(t){const e={};return lo(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=us(new vo([],{}),0,t))}),e}function hs(t){const e={};return lo(t,(t,n)=>e[n]=""+t),e}function ds(t,e,n){return t==n.path&&so(e,n.parameters)}class fs{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),$o(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Bo(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),lo(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=Bo(t),i=t.value.component?n.children:e;lo(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=Bo(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new Zi(t.value.snapshot))}),t.children.length&&this.forwardEvent(new $i(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if($o(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),ps(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function ps(t){$o(t.value),t.children.forEach(ps)}class gs{constructor(t,e){this.routes=t,this.module=e}}function ms(t){return"function"==typeof t}function bs(t){return t instanceof bo}const vs=Symbol("INITIAL_VALUE");function ys(){return Rr(t=>function(...t){let e=void 0,n=void 0;return Object(Zr.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(re.a)(t[0])&&(t=t[0]),Object(ci.a)(t,n).lift(new li(e))}(...t.map(t=>t.pipe(Ei(1),ti(vs)))).pipe(function(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Oi(t,e,n))}}((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==vs)return t;if(r===vs&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||bs(r))return r}return t},t)},vs),Kn(t=>t!==vs),Object(ie.a)(t=>bs(t)?t:!0===t),Ei(1)))}let _s=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Lb(0,"router-outlet")},directives:function(){return[da]},encapsulation:2}),t})();function ws(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];Cs(r,ks(e,r))}}function Cs(t,e){t.children&&ws(t.children,e)}function ks(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Ps(t){const e=t.children&&t.children.map(Ps),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==eo&&(n.component=_s),n}function Ss(t){return t.outlet||eo}class Es{constructor(t){this.segmentGroup=t||null}}class Ts{constructor(t){this.urlTree=t}}function xs(t){return new ne.a(e=>e.error(new Es(t)))}function Os(t){return new ne.a(e=>e.error(new Ts(t)))}function Is(t){return new ne.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class As{constructor(t,e,n,i,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(r.x)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,eo).pipe(Object(ie.a)(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ai(t=>{if(t instanceof Ts)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Es)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,eo).pipe(Object(ie.a)(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(Ai(t=>{if(t instanceof Es)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new vo([],{[eo]:t}):t;return new bo(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(ie.a)(t=>new vo([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return Object(Bn.a)({});const n=[],r=[],i={};return lo(t,(t,o)=>{const s=e(o,t).pipe(Object(ie.a)(t=>i[o]=t));o===eo?n.push(s):r.push(s)}),Bn.a.apply(null,n.concat(r)).pipe($r(),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Kn((e,n)=>t(e,n,r)):Si.a,gi(1),n?Ci(e):vi(()=>new di))}(),Object(ie.a)(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,o){const s=function(t){return t.reduce((t,e)=>{const n=Ss(e);return t.has(n)?t.get(n).push(e):t.set(n,[e]),t},new Map)}(n);s.has(i)||s.set(i,[]);const a=n=>Object(se.a)(n).pipe(zn(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(Ai(t=>{if(t instanceof Es)return Object(Bn.a)(null);throw t}))),ji(t=>null!==t),Ai(t=>{if(t instanceof di||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return Object(Bn.a)(new vo([],{}));throw new Es(e)}throw t})),c=Array.from(s.entries()).map(([t,e])=>{const n=a(e);return t===i?n:n.pipe(Object(ie.a)(()=>null),Ai(()=>Object(Bn.a)(null)))});return Object(se.a)(c).pipe(t=>t.lift(new li(void 0)),ji(),Object(ie.a)(t=>t.find(t=>null!==t)))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return Ss(r)!==o&&""!==r.path?xs(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):xs(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Os(i):this.lineralizeSegments(n,i).pipe(Object(qn.a)(n=>{const i=new vo(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:c,positionalParamSegments:u}=Rs(e,r,i);if(!s)return xs(e);const l=this.applyRedirectCommands(a,r.redirectTo,u);return r.redirectTo.startsWith("/")?Os(l):this.lineralizeSegments(r,l).pipe(Object(qn.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(c)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(ie.a)(t=>(n._loadedConfig=t,new vo(r,{})))):Object(Bn.a)(new vo(r,{}));const{matched:i,consumedSegments:o,lastChild:s}=Rs(e,n,r);if(!i)return xs(e);const a=r.slice(s);return this.getChildConfig(t,n,r).pipe(Object(qn.a)(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:s}=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some(n=>js(t,e,n)&&Ss(n)!==eo)}(t,n,r)?{segmentGroup:Ds(new vo(e,function(t,e){const n={};n.primary=e;for(const r of t)""===r.path&&Ss(r)!==eo&&(n[Ss(r)]=new vo([],{}));return n}(r,new vo(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>js(t,e,n))}(t,n,r)?{segmentGroup:Ds(new vo(t.segments,function(t,e,n,r){const i={};for(const o of n)js(t,e,o)&&!r[Ss(o)]&&(i[Ss(o)]=new vo([],{}));return Object.assign(Object.assign({},r),i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,o,a,r);return 0===s.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(Object(ie.a)(t=>new vo(o,t))):0===r.length&&0===s.length?Object(Bn.a)(new vo(o,{})):this.expandSegment(n,i,r,s,eo,!0).pipe(Object(ie.a)(t=>new vo(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(Bn.a)(new gs(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(Bn.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(qn.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(ie.a)(t=>(e._loadedConfig=t,t))):function(t){return new ne.a(e=>e.error(io(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(Bn.a)(new gs([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(Bn.a)(!0);const i=r.map(r=>{const i=t.get(r);let o;if(function(t){return t&&ms(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!ms(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return ho(o)});return Object(Bn.a)(i).pipe(ys(),Object(Ni.a)(t=>{if(!bs(t))return;const e=io(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(ie.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(Bn.a)(n);if(r.numberOfChildren>1||!r.children.primary)return Is(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new bo(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return lo(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return lo(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new vo(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Rs(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||oo)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Ds(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new vo(t.segments.concat(e.segments),e.children)}return t}function js(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}class Ns{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Ms{constructor(t,e){this.component=t,this.route=e}}function Ls(t,e,n){const r=t._root;return Us(r,e?e._root:null,n,[r.value])}function Fs(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Us(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Bo(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const c=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!_o(t.url,e.url);case"pathParamsOrQueryParamsChange":return!_o(t.url,e.url)||!so(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Jo(t,e)||!so(t.queryParams,e.queryParams);case"paramsChange":default:return!Jo(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Ns(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Us(t,e,o.component?a?a.children:null:n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ms(a.outlet.component,s))}else s&&Qs(e,a,i),i.canActivateChecks.push(new Ns(r)),Us(t,null,o.component?a?a.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),lo(o,(t,e)=>Qs(t,n.getContext(e),i)),i}function Qs(t,e,n){const r=Bo(t),i=t.value;lo(r,(t,r)=>{Qs(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Ms(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Vs(t,e){return null!==t&&e&&e(new Ji(t)),Object(Bn.a)(!0)}function Bs(t,e){return null!==t&&e&&e(new Yi(t)),Object(Bn.a)(!0)}function qs(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(Bn.a)(!0);const i=r.map(r=>fi(()=>{const i=Fs(r,e,n);let o;if(function(t){return t&&ms(t.canActivate)}(i))o=ho(i.canActivate(e,t));else{if(!ms(i))throw new Error("Invalid CanActivate guard");o=ho(i(e,t))}return o.pipe(ji())}));return Object(Bn.a)(i).pipe(ys())}function zs(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>fi(()=>{const i=e.guards.map(i=>{const o=Fs(i,e.node,n);let s;if(function(t){return t&&ms(t.canActivateChild)}(o))s=ho(o.canActivateChild(r,t));else{if(!ms(o))throw new Error("Invalid CanActivateChild guard");s=ho(o(r,t))}return s.pipe(ji())});return Object(Bn.a)(i).pipe(ys())}));return Object(Bn.a)(i).pipe(ys())}class Hs{}class Ks{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){try{const t=Xs(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,eo),n=new Wo([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},eo,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Vo(n,e),i=new Go(this.url,r);return this.inheritParamsAndData(i._root),Object(Bn.a)(i)}catch(OC){return new ne.a(e=>e.error(OC))}}inheritParamsAndData(t){const e=t.value,n=Ko(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=wo(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>t.value.outlet===eo?-1:e.value.outlet===eo?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const i of t)try{return this.processSegmentAgainstRoute(i,e,n,r)}catch(OC){if(!(OC instanceof Hs))throw OC}if(this.noLeftoversInUrl(e,n,r))return[];throw new Hs}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new Hs;if((t.outlet||eo)!==r)throw new Hs;let i,o=[],s=[];if("**"===t.path){const o=n.length>0?uo(n).parameters:{};i=new Wo(n,o,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,$s(t),r,t.component,t,Ws(e),Gs(e)+n.length,Js(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new Hs;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||oo)(n,t,e);if(!r)throw new Hs;const i={};lo(r.posParams,(t,e)=>{i[e]=t.path});const o=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(e,t,n);o=a.consumedSegments,s=n.slice(a.lastChild),i=new Wo(o,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,$s(t),r,t.component,t,Ws(e),Gs(e)+o.length,Js(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:c,slicedSegments:u}=Xs(e,o,s,a,this.relativeLinkResolution);if(0===u.length&&c.hasChildren()){const t=this.processChildren(a,c);return[new Vo(i,t)]}if(0===a.length&&0===u.length)return[new Vo(i,[])];const l=this.processSegment(a,c,u,eo);return[new Vo(i,l)]}}function Ws(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Gs(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Xs(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some(n=>Ys(t,e,n)&&Ss(n)!==eo)}(t,n,r)){const i=new vo(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&Ss(o)!==eo){const n=new vo([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[Ss(o)]=n}return i}(t,e,r,new vo(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Ys(t,e,n))}(t,n,r)){const o=new vo(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(Ys(t,n,a)&&!i[Ss(a)]){const n=new vo([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[Ss(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new vo(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function Ys(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function $s(t){return t.data||{}}function Js(t){return t.resolve||{}}function Zs(t){return function(e){return e.pipe(Rr(e=>{const n=t(e);return n?Object(se.a)(n).pipe(Object(ie.a)(()=>e)):Object(se.a)([e])}))}}class ta extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const ea=new r.q("ROUTES");class na{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(ie.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new gs(co(r.injector.get(ea)).map(Ps),r)}))}loadModuleFactory(t){return"string"==typeof t?Object(se.a)(this.loader.load(t)):ho(t()).pipe(Object(qn.a)(t=>t instanceof r.v?Object(Bn.a)(t):Object(se.a)(this.compiler.compileModuleAsync(t))))}}class ra{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ia,this.attachRef=null}}class ia{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new ra,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class oa{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function sa(t){throw t}function aa(t,e,n){return e.parse("/")}function ca(t,e){return Object(Bn.a)(null)}let ua=(()=>{class t{constructor(t,e,n,i,o,s,a,c){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new Nr.a,this.errorHandler=sa,this.malformedUriErrorHandler=aa,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:ca,afterPreactivation:ca},this.urlHandlingStrategy=new oa,this.routeReuseStrategy=new ta,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=o.get(r.x),this.console=o.get(r.Z);const u=o.get(r.z);this.isNgZoneEnabled=u instanceof r.z,this.resetConfig(c),this.currentUrlTree=new bo(new vo([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new na(s,a,t=>this.triggerEvent(new Gi(t)),t=>this.triggerEvent(new Xi(t))),this.routerState=zo(this.currentUrlTree,this.rootComponentType),this.transitions=new ri({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Kn(t=>0!==t.id),Object(ie.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Rr(t=>{let n=!1,r=!1;return Object(Bn.a)(t).pipe(Object(Ni.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Rr(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(Bn.a)(t).pipe(Rr(t=>{const n=this.transitions.getValue();return e.next(new Ui(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Or.a:[t]}),Rr(t=>Promise.resolve(t)),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,function(t){return t.pipe(Rr(t=>function(t,e,n,r,i){return new As(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe(Object(ie.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),Object(Ni.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(o){return o.pipe(Object(qn.a)(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){return new Ks(t,e,n,r,i,o).recognize()}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(Object(ie.a)(t=>Object.assign(Object.assign({},o),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(Ni.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Object(Ni.a)(t=>{const n=new qi(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new Ui(n,this.serializeUrl(r),i,o);e.next(a);const c=zo(r,this.rootComponentType).snapshot;return Object(Bn.a)(Object.assign(Object.assign({},t),{targetSnapshot:c,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Or.a}),Zs(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(Ni.a)(t=>{const e=new zi(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(ie.a)(t=>Object.assign(Object.assign({},t),{guards:Ls(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(Object(qn.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Object(Bn.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(se.a)(t).pipe(Object(qn.a)(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(Bn.a)(!0);const s=o.map(o=>{const s=Fs(o,e,i);let a;if(function(t){return t&&ms(t.canDeactivate)}(s))a=ho(s.canDeactivate(t,e,n,r));else{if(!ms(s))throw new Error("Invalid CanDeactivate guard");a=ho(s(t,e,n,r))}return a.pipe(ji())});return Object(Bn.a)(s).pipe(ys())}(t.component,t.route,n,e,r)),ji(t=>!0!==t,!0))}(s,r,i,t).pipe(Object(qn.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(se.a)(e).pipe(zn(e=>Object(se.a)([Bs(e.route.parent,r),Vs(e.route,r),zs(t,e.path,n),qs(t,e.route,n)]).pipe($r(),ji(t=>!0!==t,!0))),ji(t=>!0!==t,!0))}(r,o,t,e):Object(Bn.a)(n)),Object(ie.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(Ni.a)(t=>{if(bs(t.guardsResult)){const e=io(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),Object(Ni.a)(t=>{const e=new Hi(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Kn(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Vi(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),Zs(t=>{if(t.guards.canActivateChecks.length)return Object(Bn.a)(t).pipe(Object(Ni.a)(t=>{const e=new Ki(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Rr(t=>{let n=!1;return Object(Bn.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,function(t){return t.pipe(Object(qn.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(Bn.a)(t);let o=0;return Object(se.a)(n).pipe(zn(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(Bn.a)({});const o={};return Object(se.a)(i).pipe(Object(qn.a)(i=>function(t,e,n,r){const i=Fs(t,e,r);return ho(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(Ni.a)(t=>{o[i]=t}))),gi(1),Object(qn.a)(()=>Object.keys(o).length===i.length?Object(Bn.a)(o):Or.a))}(t._resolve,t,e,r).pipe(Object(ie.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Ko(t,n).resolve),null)))}(t.route,e,r,i)),Object(Ni.a)(()=>o++),gi(1),Object(qn.a)(e=>o===n.length?Object(Bn.a)(t):Or.a))}))}),Object(Ni.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new Vi(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(Ni.a)(t=>{const e=new Wi(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),Zs(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(ie.a)(t=>{const e=function(t,e,n){const r=Zo(t,e._root,n?n._root:void 0);return new qo(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(Ni.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(o=this.rootContexts,s=this.routeReuseStrategy,a=t=>this.triggerEvent(t),Object(ie.a)(t=>(new fs(s,t.targetRouterState,t.currentRouterState,a).activate(o),t))),Object(Ni.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new Vi(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new Mi(i))),Ai(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=bs(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new Vi(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new Bi(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(Gf){t.reject(Gf)}}var i;return Or.a}));var i,o,s,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){ws(t),this.config=t.map(Ps),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:o,preserveFragment:s}=e,a=n||this.routerState.root,c=s?this.currentUrlTree.fragment:i;let u=null;switch(o){case"merge":u=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=r||null}return null!==u&&(u=this.removeEmptyProps(u)),function(t,e,n,r,i){if(0===n.length)return rs(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new os(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return lo(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new os(n,e,r)}(n);if(o.toRoot())return rs(e.root,new vo([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new ss(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new ss(t,t===e.root,0)}const r=es(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new ss(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?cs(s.segmentGroup,s.index,o.commands):as(s.segmentGroup,s.index,o.commands);return rs(s.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,u,c)}navigateByUrl(t,e={skipLocationChange:!1}){const n=bs(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(OC){e=this.malformedUriErrorHandler(OC,this.urlSerializer,t)}return e}isActive(t,e){if(bs(t))return fo(this.currentUrlTree,t,e);const n=this.parseUrl(t);return fo(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new Qi(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const o=this.getTransition(),s="imperative"!==e&&"imperative"===(null==o?void 0:o.source),a=(this.lastSuccessfulId===o.id||this.currentNavigation?o.rawUrl:o.urlAfterRedirects).toString()===t.toString();if(s&&a)return Promise.resolve(!0);let c,u,l;i?(c=i.resolve,u=i.reject,l=i.promise):l=new Promise((t,e)=>{c=t,u=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(r.N),r.Ub(Co),r.Ub(ia),r.Ub(P),r.Ub(r.r),r.Ub(r.w),r.Ub(r.i),r.Ub(void 0))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),la=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new Nr.a,this.subscription=t.events.subscribe(t=>{t instanceof Qi&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const o={skipLocationChange:ha(this.skipLocationChange),replaceUrl:ha(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,o),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ha(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(ua),r.Kb(Ho),r.Kb(y))},t.\u0275dir=r.Fb({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.Xb("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(r.Tb("href",e.href,r.qc),r.Bb("target",e.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[r.yb]}),t})();function ha(t){return""===t||!!t}let da=(()=>{class t{constructor(t,e,n,i,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||eo,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new fa(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(ia),r.Kb(r.Q),r.Kb(r.j),r.Vb("name"),r.Kb(r.h))},t.\u0275dir=r.Fb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class fa{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Ho?this.route:t===ia?this.childContexts:this.parent.get(t,e)}}class pa{}class ga{preload(t,e){return Object(Bn.a)(null)}}let ma=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new na(e,n,e=>t.triggerEvent(new Gi(e)),e=>t.triggerEvent(new Xi(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Kn(t=>t instanceof Qi),zn(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.x);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(se.a)(n).pipe(Object(Yr.a)(),Object(ie.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(qn.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(ua),r.Ub(r.w),r.Ub(r.i),r.Ub(r.r),r.Ub(pa))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),ba=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Ui?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Qi&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof to&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new to(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(ua),r.Ub(Ct),r.Ub(void 0))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const va=new r.q("ROUTER_CONFIGURATION"),ya=new r.q("ROUTER_FORROOT_GUARD"),_a=[P,{provide:Co,useClass:ko},{provide:ua,useFactory:function(t,e,n,r,i,o,s,a={},u,l){const h=new ua(null,t,e,n,r,i,o,co(s));if(u&&(h.urlHandlingStrategy=u),l&&(h.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(a,h),a.enableTracing){const t=c();h.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return h},deps:[Co,ia,P,r.r,r.w,r.i,ea,va,[class{},new r.A],[class{},new r.A]]},ia,{provide:Ho,useFactory:function(t){return t.routerState.root},deps:[ua]},{provide:r.w,useClass:r.K},ma,ga,class{preload(t,e){return e().pipe(Ai(()=>Object(Bn.a)(null)))}},{provide:va,useValue:{enableTracing:!1}}];function wa(){return new r.y("Router",ua)}let Ca=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[_a,Ea(e),{provide:ya,useFactory:Sa,deps:[[ua,new r.A,new r.J]]},{provide:va,useValue:n||{}},{provide:y,useFactory:Pa,deps:[l,[new r.p(w),new r.A],va]},{provide:ba,useFactory:ka,deps:[ua,Ct,va]},{provide:pa,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:ga},{provide:r.y,multi:!0,useFactory:wa},[Ta,{provide:r.d,multi:!0,useFactory:xa,deps:[Ta]},{provide:Ia,useFactory:Oa,deps:[Ta]},{provide:r.b,multi:!0,useExisting:Ia}]]}}static forChild(e){return{ngModule:t,providers:[Ea(e)]}}}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)(r.Ub(ya,8),r.Ub(ua,8))}}),t})();function ka(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new ba(t,e,n)}function Pa(t,e,n={}){return n.useHash?new k(t,e):new C(t,e)}function Sa(t){return"guarded"}function Ea(t){return[{provide:r.a,multi:!0,useValue:t},{provide:ea,multi:!0,useValue:t}]}let Ta=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new Nr.a}appInitializer(){return this.injector.get(d,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(ua),r=this.injector.get(va);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object(Bn.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(va),n=this.injector.get(ma),i=this.injector.get(ba),o=this.injector.get(ua),s=this.injector.get(r.g);t===s.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||o.initialNavigation(),n.setUpPreloading(),i.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(r.r))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();function xa(t){return t.appInitializer.bind(t)}function Oa(t){return t.bootstrapListener.bind(t)}const Ia=new r.q("Router Initializer");var Aa=n("VRyK");function Ra(t,e){return e?Rr(()=>t,e):Rr(()=>t)}var Da=n("tf+s");const ja=new r.q("angularfire2.auth.use-emulator"),Na=new r.q("angularfire2.auth.settings"),Ma=new r.q("angularfire2.auth.tenant-id"),La=new r.q("angularfire2.auth.langugage-code"),Fa=new r.q("angularfire2.auth.use-device-language"),Ua=new r.q("angularfire.auth.persistence");let Qa=(()=>{class t{constructor(t,e,r,i,o,s,a,c,u,l){const h=new Tr.e(i),d=Object(Tr.i)(h),f=new Nr.a,p=Object(Bn.a)(void 0).pipe(Object(Ir.b)(h.outsideAngular),Rr(()=>i.runOutsideAngular(()=>n.e(4).then(n.bind(null,"6nsN")))),Object(ie.a)(()=>Object(Tr.h)(t,i,e)),Object(ie.a)(t=>i.runOutsideAngular(()=>{const e=o,n=s;return Object(Tr.g)(t.name+".auth","AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());return e&&r.useEmulator("http://"+e.join(":")),a&&(r.tenantId=a),r.languageCode=c,u&&r.useDeviceLanguage(),n&&(r.settings=n),l&&r.setPersistence(l),r},[e,a,c,u,n,l])})),Br({bufferSize:1,refCount:!1}));if(wt(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(Bn.a)(null);else{p.pipe(ji()).subscribe();const t=p.pipe(Rr(t=>t.getRedirectResult().then(t=>t,()=>null)),d,Br({bufferSize:1,refCount:!1})),e=t=>new ne.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(Rr(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(Rr(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(Ra(n),Object(Da.a)(h.outsideAngular),Object(Ir.b)(h.insideAngular)),this.user=t.pipe(Ra(r),Object(Da.a)(h.outsideAngular),Object(Ir.b)(h.insideAngular)),this.idToken=this.user.pipe(Rr(t=>t?Object(se.a)(t.getIdToken()):Object(Bn.a)(null))),this.idTokenResult=this.user.pipe(Rr(t=>t?Object(se.a)(t.getIdTokenResult()):Object(Bn.a)(null))),this.credential=Object(Aa.a)(t,f,this.authState.pipe(Kn(t=>!t))).pipe(Object(ie.a)(t=>(null==t?void 0:t.user)?t:null),Object(Da.a)(h.outsideAngular),Object(Ir.b)(h.insideAngular))}return Object(Tr.j)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>f.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(Tr.c),r.Ub(Tr.b,8),r.Ub(r.B),r.Ub(r.z),r.Ub(ja,8),r.Ub(Na,8),r.Ub(Ma,8),r.Ub(La,8),r.Ub(Fa,8),r.Ub(Ua,8))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Ub)(Tr.c),Object(r.Ub)(Tr.b,8),Object(r.Ub)(r.B),Object(r.Ub)(r.z),Object(r.Ub)(ja,8),Object(r.Ub)(Na,8),Object(r.Ub)(Ma,8),Object(r.Ub)(La,8),Object(r.Ub)(Fa,8),Object(r.Ub)(Ua,8))},token:t,providedIn:"any"}),t})();Object(Tr.f)(Qa,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);const Va=new r.q("angularfire2.analytics.analyticsCollectionEnabled"),Ba=new r.q("angularfire2.analytics.appVersion"),qa=new r.q("angularfire2.analytics.appName"),za=new r.q("angularfire2.analytics.debugMode"),Ha=new r.q("angularfire2.analytics.config");let Ka=(()=>{class t{constructor(t,e,r,i,o,s,a,c){if(this.analyticsInitialized=new Promise(()=>{}),_t(a)){window.dataLayer=window.dataLayer||[];const t=(...t)=>"config"===t[0]&&"firebase"===t[2].origin&&(this.measurementId=t[1],!0),e=t=>{window.gtag=(...e)=>{t&&t(...e),"event"===e[0]&&e[2].send_to===this.measurementId&&(i&&(e[2].app_name=i),r&&(e[2].app_version=r)),o&&"undefined"!=typeof console&&console.info(...e),function(...t){window.dataLayer.push(arguments)}(...e)}};window.dataLayer.some(t)?(this.analyticsInitialized=Promise.resolve(),e()):this.analyticsInitialized=new Promise(n=>{e((...e)=>{t(...e)&&n()})}),s&&this.updateConfig(s),o&&this.updateConfig({debug_mode:1})}else this.analyticsInitialized=Promise.resolve();const u=Object(Bn.a)(void 0).pipe(Object(Ir.b)(new Tr.e(c).outsideAngular),Rr(()=>_t(a)?c.runOutsideAngular(()=>Promise.resolve().then(n.bind(null,"AAub"))):Or.a),Object(ie.a)(()=>Object(Tr.g)("analytics","AngularFireAnalytics",t,()=>{const n=t.analytics();return!1===e&&n.setAnalyticsCollectionEnabled(!1),n},[t,e,s,o])),Br({bufferSize:1,refCount:!1}));return Object(Tr.j)(this,u,c)}updateConfig(t){return xr(this,void 0,void 0,function*(){yield this.analyticsInitialized,window.gtag("config",this.measurementId,Object.assign(Object.assign({},t),{update:!0}))})}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(Tr.d),r.Ub(Va,8),r.Ub(Ba,8),r.Ub(qa,8),r.Ub(za,8),r.Ub(Ha,8),r.Ub(r.B),r.Ub(r.z))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Ub)(Tr.d),Object(r.Ub)(Va,8),Object(r.Ub)(Ba,8),Object(r.Ub)(qa,8),Object(r.Ub)(za,8),Object(r.Ub)(Ha,8),Object(r.Ub)(r.B),Object(r.Ub)(r.z))},token:t,providedIn:"any"}),t})();Object(Tr.f)(Ka,[{app:null,logEvent:null,setCurrentScreen:null,setUserId:null,setUserProperties:null,setAnalyticsCollectionEnabled:null}]);let Wa=(()=>{class t{constructor(t,e,n,r){if(this.disposables=[],wt(e))this.initialized=Promise.resolve();else{let e;this.initialized=r.runOutsideAngular(()=>new Promise(t=>e=t)),this.disposables=[n.authState.subscribe(n=>{t.setUserId(null==n?void 0:n.uid),e()}),n.credential.subscribe(e=>{if(e){const n=e.user.isAnonymous?"anonymous":e.additionalUserInfo.providerId;e.additionalUserInfo.isNewUser&&t.logEvent("sign_up",{method:n}),t.logEvent("login",{method:n})}})]}}ngOnDestroy(){this.disposables.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(Ka),r.Ub(r.B),r.Ub(Qa),r.Ub(r.z))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const Ga="screen_class";let Xa=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const Ya={},$a=t=>{const e=[t.screen_class,t.outlet].join("#");if(Ya.hasOwnProperty(e))return Ya[e];{const t=Xa++;return Ya[e]=t,t}};let Ja=(()=>{class t{constructor(t,e,n,r,i,o,s){if(!e||!_t(i))return this;o.runOutsideAngular(()=>{const i=e.events.pipe(Kn(t=>t instanceof Zi));var o;this.disposable=i.pipe(Rr(t=>{var i;const o=(null===(i=e.parseUrl(e.url.replace(/(?:\().+(?:\))/g,t=>t.replace("://",":///"))).root.children[t.snapshot.outlet])||void 0===i?void 0:i.toString())||"",s=e.routerState.root.children.map(t=>t).find(e=>e.outlet===t.snapshot.outlet);if(!s)return Object(Bn.a)(null);let a=s;for(;a.firstChild;)a=a.firstChild;const c=a.pathFromRoot.map(t=>{var e;return null===(e=t.routeConfig)||void 0===e?void 0:e.path}).filter(t=>t).join("/")||"/",u={screen_name:c,page_path:"/"+o,firebase_event_origin:"auto",firebase_screen:c,outlet:t.snapshot.outlet};n&&(u.page_title=n.getTitle());let l=s.component;if(l){if(l===_s){let e=t.snapshot;for(;e.firstChild;)e=e.firstChild;l=e.component}}else l=t.snapshot.component;if("string"==typeof l)return Object(Bn.a)(Object.assign(Object.assign({},u),{[Ga]:l}));if(l){const t=r.resolveComponentFactory(l);return Object(Bn.a)(Object.assign(Object.assign({},u),{[Ga]:t.selector}))}return Object(Bn.a)(null)}),Kn(t=>t),Object(ie.a)(t=>Object.assign({firebase_screen_class:t.screen_class,firebase_screen_id:$a(t)},t)),(o=t=>t.outlet,t=>t.lift(new qr(o,void 0,void 0,void 0))),Object(qn.a)(e=>e.pipe(function(t,e){return e=>e.lift(new Gr(t,undefined))}((t,e)=>JSON.stringify(t)===JSON.stringify(e)),ti(void 0),t=>t.lift(new ei),Object(ie.a)(([t,e])=>t?Object.assign({firebase_previous_class:t.screen_class,firebase_previous_screen:t.screen_name,firebase_previous_id:t.firebase_screen_id},e):e),Rr(e=>xr(this,void 0,void 0,function*(){return s&&(yield s.initialized),yield t.logEvent("screen_view",e)}))))).subscribe()})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(Ka),r.Ub(ua,8),r.Ub(ee,8),r.Ub(r.j),r.Ub(r.B),r.Ub(r.z),r.Ub(Wa,8))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),Za=(()=>{class t{constructor(t,e,n){t.app.then(()=>{})}}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)(r.Ub(Ka),r.Ub(Ja,8),r.Ub(Wa,8))},providers:[Ka]}),t})();function tc(t,e){if(1&t&&(r.Ob(0),r.Lb(1,"span",2),r.Nb()),2&t){const t=r.bc();r.Ab(1),r.hc("innerHTML",t.i.text,r.pc)}}function ec(t,e){1&t&&r.Mb(0)}const nc=function(t){return{$implicit:t}};var rc=function(t){return t[t.ing=0]="ing",t[t.pause=1]="pause",t[t.stop=2]="stop",t[t.done=3]="done",t}({});let ic=(()=>{class t{constructor(t){this.ngZone=t,this.fns=[],this.commands=[],this.ing=!1}start(){!0!==this.ing&&(this.ing=!0,this.nextTime=+new Date,this.ngZone.runOutsideAngular(()=>{this.process()}))}process(){for(;this.commands.length;)this.commands.shift()();let t=+new Date-this.nextTime;const e=1+Math.floor(t/100);t=100-t%100,this.nextTime+=100*e;for(let n=0,r=this.fns.length;n<r;n+=2){let t=this.fns[n+1];if(0===t)this.fns[n](e);else{t+=2*e-1;const r=Math.floor(t/20);r>0&&this.fns[n](r),this.fns[n+1]=t%20+1}}this.ing&&setTimeout(()=>this.process(),t)}add(t,e){return this.commands.push(()=>{this.fns.push(t),this.fns.push(1e3===e?1:0),this.ing=!0}),this}remove(t){return this.commands.push(()=>{const e=this.fns.indexOf(t);-1!==e&&this.fns.splice(e,2),this.ing=this.fns.length>0}),this}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(r.z))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),oc=(()=>{class t{constructor(t){this.locale=t,this.demand=!1,this.leftTime=0,this.format="HH:mm:ss",this.timezone="+0000",this.formatDate=({date:t,formatStr:e,timezone:n})=>K(new Date(t),e,this.locale,n||this.timezone||"+0000")}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(r.u))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Ub)(r.u))},token:t,providedIn:"root"}),t})(),sc=(()=>{class t{constructor(t,e,n,i,o){this.locale=t,this.timer=e,this.defCog=n,this.cdr=i,this.ngZone=o,this.frequency=1e3,this._notify={},this.status=rc.ing,this.isDestroy=!1,this.i={},this.left=0,this.event=new r.n}begin(){this.status=rc.ing,this.callEvent("start")}restart(){this.status!==rc.stop&&this.destroy(),this.init(),this.callEvent("restart")}stop(){this.status!==rc.stop&&(this.status=rc.stop,this.destroy(),this.callEvent("stop"))}pause(){this.status!==rc.stop&&this.status!==rc.pause&&(this.status=rc.pause,this.callEvent("pause"))}resume(){this.status!==rc.stop&&this.status===rc.pause&&(this.status=rc.ing,this.callEvent("resume"))}callEvent(t){this.event.emit({action:t,left:this.left,status:this.status,text:this.i.text})}init(){const{locale:t,defCog:e}=this,n=this.config=Object.assign(Object.assign(Object.assign({},new oc(t)),e),this.config),r=this.frequency=~n.format.indexOf("S")?100:1e3;this.status=n.demand?rc.pause:rc.ing,this.getLeft();const i=this.reflow;this.reflow=(t=0,e=!1)=>i.apply(this,[t,e]),Array.isArray(n.notify)&&n.notify.forEach(t=>{if(t<1)throw new Error("The notify config must be a positive integer.");t*=1e3,this._notify[t-=t%r]=!0}),this.timer.add(this.reflow,r).start(),this.reflow(0,!0)}destroy(){return this.timer.remove(this.reflow),this}reflow(t=0,e=!1){if(this.isDestroy)return;const{status:n,config:r,_notify:i}=this;if(!e&&n!==rc.ing)return;let o=this.left=this.left-this.frequency*t;o<1&&(o=0),this.i={value:o,text:r.formatDate({date:o,formatStr:r.format,timezone:r.timezone})},"function"==typeof r.prettyText&&(this.i.text=r.prettyText(this.i.text)),this.cdr.detectChanges(),(0===r.notify||i[o])&&this.ngZone.run(()=>{this.callEvent("notify")}),0===o&&this.ngZone.run(()=>{this.status=rc.done,this.callEvent("done"),this.destroy()})}getLeft(){const{config:t,frequency:e}=this;let n=1e3*t.leftTime;const r=t.stopTime;!n&&r&&(n=r-(new Date).getTime()),this.left=n-n%e}ngOnInit(){this.init(),this.config.demand||this.begin()}ngOnDestroy(){this.isDestroy=!0,this.destroy()}ngOnChanges(t){t.config.firstChange||this.restart()}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.u),r.Kb(ic),r.Kb(oc),r.Kb(r.h),r.Kb(r.z))},t.\u0275cmp=r.Eb({type:t,selectors:[["countdown"]],hostVars:2,hostBindings:function(t,e){2&t&&r.Cb("count-down",!0)},inputs:{config:"config",render:"render"},outputs:{event:"event"},features:[r.yb],decls:2,vars:5,consts:[[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHTML"]],template:function(t,e){1&t&&(r.uc(0,tc,2,1,"ng-container",0),r.uc(1,ec,1,0,"ng-container",1)),2&t&&(r.hc("ngIf",!e.render),r.Ab(1),r.hc("ngTemplateOutlet",e.render)("ngTemplateOutletContext",r.lc(3,nc,e.i)))},directives:[dt,gt],encapsulation:2,changeDetection:0}),t})(),ac=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[ic],imports:[[yt]]}),t})();var cc=n("zIRd"),uc=(n("t6oF"),n("6Uf2"),n("q/0M")),lc=n("qOnz"),hc=function(t,e){return(hc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function dc(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var fc,pc="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},gc=gc||{},mc=pc||self;function bc(){}function vc(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function yc(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var _c="closure_uid_"+(1e9*Math.random()>>>0),wc=0;function Cc(t,e,n){return t.call.apply(t.bind,arguments)}function kc(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Pc(t,e,n){return(Pc=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Cc:kc).apply(null,arguments)}function Sc(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Ec(){return Date.now()}function Tc(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function xc(){this.j=this.j,this.i=this.i}xc.prototype.j=!1,xc.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,_c)&&t[_c]||(t[_c]=++wc)}(this)},xc.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Oc=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Ic=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function Ac(t){return Array.prototype.concat.apply([],arguments)}function Rc(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Dc(t){return/^[\s\xa0]*$/.test(t)}var jc,Nc=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Mc(t,e){return-1!=t.indexOf(e)}function Lc(t,e){return t<e?-1:t>e?1:0}t:{var Fc=mc.navigator;if(Fc){var Uc=Fc.userAgent;if(Uc){jc=Uc;break t}}jc=""}function Qc(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Vc(t){var e={};for(var n in t)e[n]=t[n];return e}var Bc="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function qc(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<Bc.length;o++)n=Bc[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function zc(t){return zc[" "](t),t}zc[" "]=bc;var Hc,Kc,Wc=Mc(jc,"Opera"),Gc=Mc(jc,"Trident")||Mc(jc,"MSIE"),Xc=Mc(jc,"Edge"),Yc=Xc||Gc,$c=Mc(jc,"Gecko")&&!(Mc(jc.toLowerCase(),"webkit")&&!Mc(jc,"Edge"))&&!(Mc(jc,"Trident")||Mc(jc,"MSIE"))&&!Mc(jc,"Edge"),Jc=Mc(jc.toLowerCase(),"webkit")&&!Mc(jc,"Edge");function Zc(){var t=mc.document;return t?t.documentMode:void 0}t:{var tu="",eu=(Kc=jc,$c?/rv:([^\);]+)(\)|;)/.exec(Kc):Xc?/Edge\/([\d\.]+)/.exec(Kc):Gc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Kc):Jc?/WebKit\/(\S+)/.exec(Kc):Wc?/(?:Version)[ \/]?(\S+)/.exec(Kc):void 0);if(eu&&(tu=eu?eu[1]:""),Gc){var nu=Zc();if(null!=nu&&nu>parseFloat(tu)){Hc=String(nu);break t}}Hc=tu}var ru={};function iu(t){return function(t,e){var n=ru;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=Nc(String(Hc)).split("."),r=Nc(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=Lc(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||Lc(0==s[2].length,0==a[2].length)||Lc(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e})}var ou=mc.document&&Gc&&(Zc()||parseInt(Hc,10))||void 0,su=!Gc||9<=Number(ou),au=Gc&&!iu("9"),cu=function(){if(!mc.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{mc.addEventListener("test",bc,e),mc.removeEventListener("test",bc,e)}catch(n){}return t}();function uu(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function lu(t,e){if(uu.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if($c){t:{try{zc(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:hu[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}uu.prototype.b=function(){this.defaultPrevented=!0},Tc(lu,uu);var hu={2:"touch",3:"pen",4:"mouse"};lu.prototype.b=function(){lu.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,au)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var du="closure_listenable_"+(1e6*Math.random()|0),fu=0;function pu(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++fu,this.Y=this.Z=!1}function gu(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function mu(t){this.src=t,this.a={},this.b=0}function bu(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=Oc(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(gu(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function vu(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}mu.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=vu(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new pu(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var yu="closure_lm_"+(1e6*Math.random()|0),_u={};function wu(t,e,n,r,i){if(r&&r.once)return ku(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)wu(t,e[o],n,r,i);return null}return n=Au(n),t&&t[du]?t.va(e,n,yc(r)?!!r.capture:!!r,i):Cu(t,e,n,!1,r,i)}function Cu(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=yc(i)?!!i.capture:!!i;if(s&&!su)return null;var a=Ou(t);if(a||(t[yu]=a=new mu(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=xu,e=su?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)cu||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Eu(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function ku(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)ku(t,e[o],n,r,i);return null}return n=Au(n),t&&t[du]?t.wa(e,n,yc(r)?!!r.capture:!!r,i):Cu(t,e,n,!0,r,i)}function Pu(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)Pu(t,e[o],n,r,i);else r=yc(r)?!!r.capture:!!r,n=Au(n),t&&t[du]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=vu(o=t.a[e],n,r,i))&&(gu(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=Ou(t))&&(e=t.a[e.toString()],t=-1,e&&(t=vu(e,n,r,i)),(n=-1<t?e[t]:null)&&Su(n))}function Su(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[du])bu(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Eu(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Ou(e))?(bu(n,t),0==n.b&&(n.src=null,e[yu]=null)):gu(t)}}}function Eu(t){return t in _u?_u[t]:_u[t]="on"+t}function Tu(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&Su(t),n.call(r,e)}function xu(t,e){if(t.Y)return!0;if(!su){if(!e)t:{e=["window","event"];for(var n=mc,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Tu(t,e=new lu(e,this))}return Tu(t,new lu(e,this))}function Ou(t){return(t=t[yu])instanceof mu?t:null}var Iu="__closure_events_fn_"+(1e9*Math.random()>>>0);function Au(t){return"function"==typeof t?t:(t[Iu]||(t[Iu]=function(e){return t.handleEvent(e)}),t[Iu])}function Ru(){xc.call(this),this.c=new mu(this),this.J=this,this.C=null}function Du(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new uu(e,t);else if(e instanceof uu)e.target=e.target||t;else{var i=e;qc(e=new uu(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=ju(s,r,!0,e)&&i}if(i=ju(s=e.a=t,r,!0,e)&&i,i=ju(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=ju(s=e.a=n[o],r,!1,e)&&i}function ju(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,c=s.ca||s.src;s.Z&&bu(t.c,s),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}Tc(Ru,xc),Ru.prototype[du]=!0,(fc=Ru.prototype).addEventListener=function(t,e,n,r){wu(this,t,e,n,r)},fc.removeEventListener=function(t,e,n,r){Pu(this,t,e,n,r)},fc.G=function(){if(Ru.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)gu(n[r]);delete e.a[t],e.b--}}this.C=null},fc.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},fc.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Nu=mc.JSON.stringify;function Mu(){this.b=this.a=null}var Lu,Fu=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new Qu},function(t){t.reset()});function Uu(){var t=zu,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Qu(){this.next=this.b=this.a=null}function Vu(t){mc.setTimeout(function(){throw t},0)}function Bu(t,e){Lu||function(){var t=mc.Promise.resolve(void 0);Lu=function(){t.then(Hu)}}(),qu||(Lu(),qu=!0),zu.add(t,e)}Mu.prototype.add=function(t,e){var n=Fu.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Qu.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Qu.prototype.reset=function(){this.next=this.b=this.a=null};var qu=!1,zu=new Mu;function Hu(){for(var t;t=Uu();){try{t.a.call(t.b)}catch(n){Vu(n)}var e=Fu;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}qu=!1}function Ku(t,e){Ru.call(this),this.b=t||1,this.a=e||mc,this.f=Pc(this.Za,this),this.g=Ec()}function Wu(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Gu(t,e,n){if("function"==typeof t)n&&(t=Pc(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Pc(t.handleEvent,t)}return 2147483647<Number(e)?-1:mc.setTimeout(t,e||0)}function Xu(t){t.a=Gu(function(){t.a=null,t.c&&(t.c=!1,Xu(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}Tc(Ku,Ru),(fc=Ku.prototype).aa=!1,fc.M=null,fc.Za=function(){if(this.aa){var t=Ec()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Du(this,"tick"),this.aa&&(Wu(this),this.start()))}},fc.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Ec())},fc.G=function(){Ku.X.G.call(this),Wu(this),delete this.a};var Yu=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}hc(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Xu(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(mc.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(xc);function $u(t){xc.call(this),this.b=t,this.a={}}Tc($u,xc);var Ju=[];function Zu(t,e,n,r){Array.isArray(n)||(n&&(Ju[0]=n.toString()),n=Ju);for(var i=0;i<n.length;i++){var o=wu(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function tl(t){Qc(t.a,function(t,e){this.a.hasOwnProperty(e)&&Su(t)},t),t.a={}}function el(){this.a=!0}function nl(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Nu(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}$u.prototype.G=function(){$u.X.G.call(this),tl(this)},$u.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},el.prototype.info=function(){};var rl={},il=null;function ol(){return il=il||new Ru}function sl(t){uu.call(this,rl.Fa,t)}function al(t){var e=ol();Du(e,new sl(e,t))}function cl(t,e){uu.call(this,rl.STAT_EVENT,t),this.stat=e}function ul(t){var e=ol();Du(e,new cl(e,t))}function ll(t){uu.call(this,rl.Ga,t)}function hl(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return mc.setTimeout(function(){t()},e)}rl.Fa="serverreachability",Tc(sl,uu),rl.STAT_EVENT="statevent",Tc(cl,uu),rl.Ga="timingevent",Tc(ll,uu);var dl={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},fl={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function pl(){}function gl(){}pl.prototype.a=null;var ml,bl={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function vl(){uu.call(this,"d")}function yl(){uu.call(this,"c")}function _l(){}function wl(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new $u(this),this.P=Cl,this.R=new Ku(t=Yc?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}Tc(vl,uu),Tc(yl,uu),Tc(_l,pl),ml=new _l;var Cl=45e3,kl={},Pl={};function Sl(t,e,n){t.H=1,t.i=Wl(Vl(e)),t.j=n,t.I=!0,El(t,null)}function El(t,e){t.u=Ec(),Ol(t),t.l=Vl(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),sh(n.b,"t",r),t.D=0,t.a=td(t.g,t.g.C?e:null),0<t.O&&(t.F=new Yu(Pc(t.Ca,t,t.a),t.O)),Zu(t.J,t.a,"readystatechange",t.Xa),e=t.B?Vc(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),al(1),function(t,e,n,r,i,o){t.info(function(){if(t.a)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+u+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.c,t.m,t.l,t.f,t.S,t.j)}function Tl(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=xl(t,n);if(i==Pl){4==e&&(t.h=4,ul(14),r=!1),nl(t.c,t.f,null,"[Incomplete Response]");break}if(i==kl){t.h=4,ul(15),nl(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}nl(t.c,t.f,i,null),jl(t,i)}4==e&&0==n.length&&(t.h=1,ul(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Kh(e),e.F=!0,ul(11))):(nl(t.c,t.f,n,"[Invalid Chunked Response]"),Dl(t),Rl(t))}function xl(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?Pl:(n=Number(e.substring(n,r)),isNaN(n)?kl:(r+=1)+n>e.length?Pl:(e=e.substr(r,n),t.D=r+n,e))}function Ol(t){t.T=Ec()+t.P,Il(t,t.P)}function Il(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=hl(Pc(t.Va,t),e)}function Al(t){t.o&&(mc.clearTimeout(t.o),t.o=null)}function Rl(t){0==t.g.v||t.A||Xh(t.g,t)}function Dl(t){Al(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Wu(t.R),tl(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function jl(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||fh(n.b,t)))if(n.I=t.N,!t.C&&fh(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(zw){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Gh(n),Lh(n)}Hh(n),ul(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=hl(Pc(n.Sa,n),6e3));if(1>=dh(n.b)&&n.ea){try{n.ea()}catch(zw){}n.ea=void 0}}else $h(n,11)}else if((t.C||n.a==t)&&Gh(n),!Dc(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var c=1.5*a;n.D=c,n.c.info("backChannelRequestTimeoutMs_="+c)}c=n;var u=t.a;if(u){var l=u.a?u.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=c.b;!h.a&&(Mc(l,"spdy")||Mc(l,"quic")||Mc(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(ph(h,h.b),h.b=null))}if(c.A){var d=u.a?u.a.getResponseHeader("X-HTTP-Session-Id"):null;d&&(c.na=d,Kl(c.B,c.A,d))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=Ec()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var f=t;if((c=n).la=Zh(c,c.C?c.ga:null,c.fa),f.C){gh(c.b,f);var p=f,g=c.D;g&&p.setTimeout(g),p.o&&(Al(p),Ol(p)),c.a=f}else zh(c);0<n.g.length&&Qh(n)}else"stop"!=i[0]&&"close"!=i[0]||$h(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?$h(n,7):Mh(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);al(4)}catch(zw){}}function Nl(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(vc(t)||"string"==typeof t)Ic(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(vc(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(vc(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Ml(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Ml)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Ll(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Fl(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Fl(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Fl(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(fc=wl.prototype).setTimeout=function(t){this.P=t},fc.Xa=function(t){t=t.target;var e=this.F;e&&3==Rh(t)?e.f():this.Ca(t)},fc.Ca=function(t){try{if(t==this.a)t:{var e=Rh(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!Yc&&!this.a.$())){this.A||4!=e||7==n||al(8==n||0>=r?3:2),Al(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Dc(s)){var c=s;break e}}c=null}if(!c){this.b=!1,this.h=3,ul(12),Dl(this),Rl(this);break t}nl(this.c,this.f,c,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,jl(this,c)}this.I?(Tl(this,e,o),Yc&&this.b&&3==e&&(Zu(this.J,this.R,"tick",this.Wa),this.R.start())):(nl(this.c,this.f,o,null),jl(this,o)),4==e&&Dl(this),this.b&&!this.A&&(4==e?Xh(this.g,this):(this.b=!1,Ol(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,ul(12)):(this.h=0,ul(13)),Dl(this),Rl(this)}}}catch(u){}},fc.Wa=function(){if(this.a){var t=Rh(this.a),e=this.a.$();this.D<e.length&&(Al(this),Tl(this,t,e),this.b&&4!=t&&Ol(this))}},fc.cancel=function(){this.A=!0,Dl(this)},fc.Va=function(){this.o=null;var t=Ec();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(al(3),ul(17)),Dl(this),this.h=2,Rl(this)):Il(this,this.T-t)},(fc=Ml.prototype).K=function(){Ll(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},fc.L=function(){return Ll(this),this.a.concat()},fc.get=function(t,e){return Fl(this.b,t)?this.b[t]:e},fc.set=function(t,e){Fl(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},fc.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Ul=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ql(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Ql){this.a=void 0!==e?e:t.a,Bl(this,t.f),this.j=t.j,ql(this,t.c),zl(this,t.h),this.g=t.g,e=t.b;var n=new nh;n.c=e.c,e.a&&(n.a=new Ml(e.a),n.b=e.b),Hl(this,n),this.i=t.i}else t&&(n=String(t).match(Ul))?(this.a=!!e,Bl(this,n[1]||"",!0),this.j=Gl(n[2]||""),ql(this,n[3]||"",!0),zl(this,n[4]),this.g=Gl(n[5]||"",!0),Hl(this,n[6]||"",!0),this.i=Gl(n[7]||"")):(this.a=!!e,this.b=new nh(null,this.a))}function Vl(t){return new Ql(t)}function Bl(t,e,n){t.f=n?Gl(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function ql(t,e,n){t.c=n?Gl(e,!0):e}function zl(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Hl(t,e,n){e instanceof nh?(t.b=e,function(t,e){e&&!t.f&&(rh(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(ih(this,e),sh(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=Xl(e,th)),t.b=new nh(e,t.a))}function Kl(t,e,n){t.b.set(e,n)}function Wl(t){return Kl(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Ec()).toString(36)),t}function Gl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Xl(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Yl),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Yl(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ql.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Xl(e,$l,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Xl(e,$l,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Xl(n,"/"==n.charAt(0)?Zl:Jl,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Xl(n,eh)),t.join("")};var $l=/[#\/\?@]/g,Jl=/[#\?:]/g,Zl=/[#\?]/g,th=/[#\?@]/g,eh=/#/g;function nh(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function rh(t){t.a||(t.a=new Ml,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function ih(t,e){rh(t),e=ah(t,e),Fl(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Fl((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Ll(t)))}function oh(t,e){return rh(t),e=ah(t,e),Fl(t.a.b,e)}function sh(t,e,n){ih(t,e),0<n.length&&(t.c=null,t.a.set(ah(t,e),Rc(n)),t.b+=n.length)}function ah(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(fc=nh.prototype).add=function(t,e){rh(this),this.c=null,t=ah(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},fc.forEach=function(t,e){rh(this),this.a.forEach(function(n,r){Ic(n,function(n){t.call(e,n,r,this)},this)},this)},fc.L=function(){rh(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},fc.K=function(t){rh(this);var e=[];if("string"==typeof t)oh(this,t)&&(e=Ac(e,this.a.get(ah(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=Ac(e,t[n])}return e},fc.set=function(t,e){return rh(this),this.c=null,oh(this,t=ah(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},fc.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},fc.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var ch=function(){return function(t,e){this.b=t,this.a=e}}();function uh(t){this.g=t||lh,t=mc.PerformanceNavigationTiming?0<(t=mc.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(mc.ia&&mc.ia.ya&&mc.ia.ya()&&mc.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var lh=10;function hh(t){return!!t.b||!!t.a&&t.a.size>=t.f}function dh(t){return t.b?1:t.a?t.a.size:0}function fh(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function ph(t,e){t.a?t.a.add(e):t.b=e}function gh(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function mh(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=dc(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Rc(t.c)}function bh(){}function vh(){this.a=new bh}function yh(t,e,n){var r=n||"";try{Nl(t,function(t,n){var i=t;yc(t)&&(i=Nu(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(OC){throw e.push(r+"type="+encodeURIComponent("_badmap")),OC}}function _h(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}uh.prototype.cancel=function(){var t,e;if(this.c=mh(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=dc(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},bh.prototype.stringify=function(t){return mc.JSON.stringify(t,void 0)},bh.prototype.parse=function(t){return mc.JSON.parse(t,void 0)};var wh=mc.JSON.parse;function Ch(t){Ru.call(this),this.headers=new Ml,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=kh,this.D=this.F=!1}Tc(Ch,Ru);var kh="",Ph=/^https?$/i,Sh=["POST","PUT"];function Eh(t){return"content-type"==t.toLowerCase()}function Th(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,xh(t),Ih(t)}function xh(t){t.u||(t.u=!0,Du(t,"complete"),Du(t,"error"))}function Oh(t){if(t.b&&void 0!==gc&&(!t.s[1]||4!=Rh(t)||2!=t.W()))if(t.l&&4==Rh(t))Gu(t.za,0,t);else if(Du(t,"readystatechange"),4==Rh(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(Ul)[1]||null;if(!o&&mc.self&&mc.self.location){var s=mc.self.location.protocol;o=s.substr(0,s.length-1)}i=!Ph.test(o?o.toLowerCase():"")}e=i}if(e)Du(t,"complete"),Du(t,"success");else{t.h=6;try{var a=2<Rh(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",xh(t)}}finally{Ih(t)}}}function Ih(t,e){if(t.a){Ah(t);var n=t.a,r=t.s[0]?bc:null;t.a=null,t.s=null,e||Du(t,"ready");try{n.onreadystatechange=r}catch(OC){}}}function Ah(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(mc.clearTimeout(t.m),t.m=null)}function Rh(t){return t.a?t.a.readyState:0}function Dh(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Qc(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Kl(t,e,n))}function jh(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Nh(t){this.pa=0,this.g=[],this.c=new el,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=jh("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=jh("baseRetryDelayMs",5e3,t),this.Ra=jh("retryDelaySeedMs",1e4,t),this.Ma=jh("forwardChannelMaxRetries",2,t),this.ma=jh("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new uh(t&&t.concurrentRequestLimit),this.ka=new vh,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Mh(t){if(Fh(t),3==t.v){var e=t.R++,n=Vl(t.B);Kl(n,"SID",t.J),Kl(n,"RID",e),Kl(n,"TYPE","terminate"),Bh(t,n),(e=new wl(t,t.c,e,void 0)).H=2,e.i=Wl(Vl(n)),n=!1,mc.navigator&&mc.navigator.sendBeacon&&(n=mc.navigator.sendBeacon(e.i.toString(),"")),!n&&mc.Image&&((new Image).src=e.i,n=!0),n||(e.a=td(e.g,null),e.a.ba(e.i)),e.u=Ec(),Ol(e)}Jh(t)}function Lh(t){t.a&&(Kh(t),t.a.cancel(),t.a=null)}function Fh(t){Lh(t),t.j&&(mc.clearTimeout(t.j),t.j=null),Gh(t),t.b.cancel(),t.h&&("number"==typeof t.h&&mc.clearTimeout(t.h),t.h=null)}function Uh(t,e){t.g.push(new ch(t.Oa++,e)),3==t.v&&Qh(t)}function Qh(t){hh(t.b)||t.h||(t.h=!0,Bu(t.Ba,t),t.u=0)}function Vh(t,e){var n;n=e?e.f:t.R++;var r=Vl(t.B);Kl(r,"SID",t.J),Kl(r,"RID",n),Kl(r,"AID",t.P),Bh(t,r),t.i&&t.l&&Dh(r,t.i,t.l),n=new wl(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=qh(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),ph(t.b,n),Sl(n,r,e)}function Bh(t,e){t.f&&Nl({},function(t,n){Kl(e,n,t)})}function qh(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Pc(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var a=!0,c=0;c<n;c++){var u=i[c].b,l=i[c].a;if(0>(u-=o))o=Math.max(0,i[c].b-100),a=!1;else try{yh(l,s,"req"+u+"_")}catch(Md){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function zh(t){t.a||t.j||(t.T=1,Bu(t.Aa,t),t.o=0)}function Hh(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=hl(Pc(t.Aa,t),Yh(t,t.o)),t.o++,0))}function Kh(t){null!=t.s&&(mc.clearTimeout(t.s),t.s=null)}function Wh(t){t.a=new wl(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Vl(t.la);Kl(e,"RID","rpc"),Kl(e,"SID",t.J),Kl(e,"CI",t.H?"0":"1"),Kl(e,"AID",t.P),Bh(t,e),Kl(e,"TYPE","xmlhttp"),t.i&&t.l&&Dh(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Wl(Vl(e)),n.j=null,n.I=!0,El(n,t)}function Gh(t){null!=t.m&&(mc.clearTimeout(t.m),t.m=null)}function Xh(t,e){var n=null;if(t.a==e){Gh(t),Kh(t),t.a=null;var r=2}else{if(!fh(t.b,e))return;n=e.s,gh(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=Ec()-e.u;var i=t.u;Du(r=ol(),new ll(r,n,e,i)),Qh(t)}else zh(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(dh(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=hl(Pc(t.Ba,t,e),Yh(t,t.u)),t.u++,0)))}(t,e)||2==r&&Hh(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:$h(t,5);break;case 4:$h(t,10);break;case 3:$h(t,6);break;default:$h(t,2)}}function Yh(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function $h(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=Pc(t.Ya,t);n||(n=new Ql("//www.google.com/images/cleardot.gif"),mc.location&&"http"==mc.location.protocol||Bl(n,"https"),Wl(n)),function(t,e){var n=new el;if(mc.Image){var r=new Image;r.onload=Sc(_h,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Sc(_h,n,r,"TestLoadImage: error",!1,e),r.onabort=Sc(_h,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Sc(_h,n,r,"TestLoadImage: timeout",!1,e),mc.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else ul(2);t.v=0,t.f&&t.f.ra(e),Jh(t),Fh(t)}function Jh(t){t.v=0,t.I=-1,t.f&&(0==mh(t.b).length&&0==t.g.length||(t.b.c.length=0,Rc(t.g),t.g.length=0),t.f.qa())}function Zh(t,e,n){var r=function(t){return t instanceof Ql?Vl(t):new Ql(t,void 0)}(n);if(""!=r.c)e&&ql(r,e+"."+r.c),zl(r,r.h);else{var i=mc.location;r=function(t,e,n,r){var i=new Ql(null,void 0);return t&&Bl(i,t),e&&ql(i,e),n&&zl(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&Qc(t.V,function(t,e){Kl(r,e,t)}),n=t.na,(e=t.A)&&n&&Kl(r,e,n),Kl(r,"VER",t.ha),Bh(t,r),r}function td(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ch(t.Na)).F=t.C,e}function ed(){}function nd(){if(Gc&&!(10<=Number(ou)))throw Error("Environmental error: no available transport.")}function rd(t,e){Ru.call(this),this.a=new Nh(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Dc(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Dc(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new sd(this)}function id(t){vl.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function od(){yl.call(this),this.status=1}function sd(t){this.a=t}(fc=Ch.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:ml),this.a.onreadystatechange=Pc(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void Th(this,o)}t=n||"";var i=new Ml(this.headers);r&&Nl(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=Eh,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=mc.FormData&&t instanceof mc.FormData,!(0<=Oc(Sh,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Ah(this),0<this.o&&((this.D=function(t){return Gc&&iu(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Pc(this.xa,this)):this.m=Gu(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){Th(this,o)}},fc.xa=function(){void 0!==gc&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Du(this,"timeout"),this.abort(8))},fc.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Du(this,"complete"),Du(this,"abort"),Ih(this))},fc.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Ih(this,!0)),Ch.X.G.call(this)},fc.za=function(){this.j||(this.A||this.l||this.g?Oh(this):this.Ua())},fc.Ua=function(){Oh(this)},fc.W=function(){try{return 2<Rh(this)?this.a.status:-1}catch(Kc){return-1}},fc.$=function(){try{return this.a?this.a.responseText:""}catch(Kc){return""}},fc.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),wh(e)}},fc.ua=function(){return this.h},fc.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(fc=Nh.prototype).ha=8,fc.v=1,fc.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new wl(this,this.c,t,void 0),r=this.l;if(this.O&&(r?qc(r=Vc(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=qh(this,n,e),Kl(i=Vl(this.B),"RID",t),Kl(i,"CVER",22),this.A&&Kl(i,"X-HTTP-Session-Id",this.A),Bh(this,i),this.i&&r&&Dh(i,this.i,r),ph(this.b,n),this.Ia&&Kl(i,"TYPE","init"),this.da?(Kl(i,"$req",e),Kl(i,"SID","null"),n.U=!0,Sl(n,i,null)):Sl(n,i,e),this.v=2}}else 3==this.v&&(t?Vh(this,t):0==this.g.length||hh(this.b)||Vh(this))},fc.Aa=function(){if(this.j=null,Wh(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=hl(Pc(this.Ta,this),t)}},fc.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,ul(10),Lh(this),Wh(this))},fc.Sa=function(){null!=this.m&&(this.m=null,Lh(this),Hh(this),ul(19))},fc.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),ul(2)):(this.c.info("Failed to ping google.com"),ul(1))},(fc=ed.prototype).ta=function(){},fc.sa=function(){},fc.ra=function(){},fc.qa=function(){},fc.Ja=function(){},nd.prototype.a=function(t,e){return new rd(t,e)},Tc(rd,Ru),rd.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;ul(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=Zh(t,null,t.fa),Qh(t)},rd.prototype.close=function(){Mh(this.a)},rd.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,Uh(this.a,e)}else this.l?((e={}).__data__=Nu(t),Uh(this.a,e)):Uh(this.a,t)},rd.prototype.G=function(){this.a.f=null,delete this.f,Mh(this.a),delete this.a,rd.X.G.call(this)},Tc(id,vl),Tc(od,yl),Tc(sd,ed),sd.prototype.ta=function(){Du(this.a,"a")},sd.prototype.sa=function(t){Du(this.a,new id(t))},sd.prototype.ra=function(t){Du(this.a,new od(t))},sd.prototype.qa=function(){Du(this.a,"b")},nd.prototype.createWebChannel=nd.prototype.a,rd.prototype.send=rd.prototype.h,rd.prototype.open=rd.prototype.g,rd.prototype.close=rd.prototype.close,dl.NO_ERROR=0,dl.TIMEOUT=8,dl.HTTP_ERROR=6,fl.COMPLETE="complete",gl.EventType=bl,bl.OPEN="a",bl.CLOSE="b",bl.ERROR="c",bl.MESSAGE="d",Ru.prototype.listen=Ru.prototype.va,Ch.prototype.listenOnce=Ch.prototype.wa,Ch.prototype.getLastError=Ch.prototype.Qa,Ch.prototype.getLastErrorCode=Ch.prototype.ua,Ch.prototype.getStatus=Ch.prototype.W,Ch.prototype.getResponseJson=Ch.prototype.Pa,Ch.prototype.getResponseText=Ch.prototype.$,Ch.prototype.send=Ch.prototype.ba;var ad=dl,cd=fl,ud=rl,ld=gl,hd=Ch,dd=n("30Go"),fd=new uc.b("@firebase/firestore");function pd(){return fd.logLevel}function gd(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(fd.logLevel<=uc.a.DEBUG){var r=e.map(vd);fd.debug.apply(fd,Object(dd.g)(["Firestore (8.2.1): "+t],r))}}function md(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(fd.logLevel<=uc.a.ERROR){var r=e.map(vd);fd.error.apply(fd,Object(dd.g)(["Firestore (8.2.1): "+t],r))}}function bd(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(fd.logLevel<=uc.a.WARN){var r=e.map(vd);fd.warn.apply(fd,Object(dd.g)(["Firestore (8.2.1): "+t],r))}}function vd(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(OC){return t}}function yd(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.2.1) INTERNAL ASSERTION FAILED: "+t;throw md(e),new Error(e)}function _d(t,e){t||yd()}function wd(t,e){return t}function Cd(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var kd=function(){function t(){}return t.t=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Cd(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Pd(t,e){return t<e?-1:t>e?1:0}function Sd(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function Ed(t){return t+"\0"}var Td=function(){function t(t){this.i=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.i)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.i)},t.prototype.o=function(){return 2*this.i.length},t.prototype.u=function(t){return Pd(this.i,t.i)},t.prototype.isEqual=function(t){return this.i===t.i},t}();Td.h=new Td("");var xd={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Od=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(dd.c)(e,t),e}(Error),Id=function(){function t(t){this.l=t}return t.fromBase64String=function(e){try{return new t(Td.fromBase64String(e))}catch(e){throw new Od(xd.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Td.fromUint8Array(e))},t.prototype.toBase64=function(){return this.l.toBase64()},t.prototype.toUint8Array=function(){return this.l.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.l.isEqual(t.l)},t}(),Ad=function(t){this._=t};function Rd(){if("undefined"==typeof Uint8Array)throw new Od(xd.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Dd(){if("undefined"==typeof atob)throw new Od(xd.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var jd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(dd.c)(e,t),e.fromBase64String=function(t){return Dd(),new e(Id.fromBase64String(t))},e.fromUint8Array=function(t){return Rd(),new e(Id.fromUint8Array(t))},e.prototype.toBase64=function(){return Dd(),this._.toBase64()},e.prototype.toUint8Array=function(){return Rd(),this._.toUint8Array()},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(Ad),Nd=function(t,e,n,r,i,o){this.T=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.I=o},Md=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"m",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Ld=function(){function t(t){this.uid=t}return t.prototype.A=function(){return null!=this.uid},t.prototype.R=function(){return this.A()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();Ld.UNAUTHENTICATED=new Ld(null),Ld.P=new Ld("google-credentials-uid"),Ld.g=new Ld("first-party-uid");var Fd=function(t,e){this.user=e,this.type="OAuth",this.V={},this.V.Authorization="Bearer "+t},Ud=function(){function t(){this.p=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.v=function(){},t.prototype.S=function(t){this.p=t,t(Ld.UNAUTHENTICATED)},t.prototype.D=function(){this.p=null},t}(),Qd=function(){function t(t){var e=this;this.C=null,this.currentUser=Ld.UNAUTHENTICATED,this.N=!1,this.F=0,this.p=null,this.forceRefresh=!1,this.C=function(){e.F++,e.currentUser=e.O(),e.N=!0,e.p&&e.p(e.currentUser)},this.F=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.C):(this.C(null),t.get().then(function(t){e.auth=t,e.C&&e.auth.addAuthTokenListener(e.C)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.F,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.F!==e?(gd("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(_d("string"==typeof n.accessToken),new Fd(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.v=function(){this.forceRefresh=!0},t.prototype.S=function(t){this.p=t,this.N&&t(this.currentUser)},t.prototype.D=function(){this.auth&&this.auth.removeAuthTokenListener(this.C),this.C=null,this.p=null},t.prototype.O=function(){var t=this.auth&&this.auth.getUid();return _d(null===t||"string"==typeof t),new Ld(t)},t}(),Vd=function(){function t(t,e){this.k=t,this.M=e,this.type="FirstParty",this.user=Ld.g}return Object.defineProperty(t.prototype,"V",{get:function(){var t={"X-Goog-AuthUser":this.M},e=this.k.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),Bd=function(){function t(t,e){this.k=t,this.M=e}return t.prototype.getToken=function(){return Promise.resolve(new Vd(this.k,this.M))},t.prototype.S=function(t){t(Ld.g)},t.prototype.D=function(){},t.prototype.v=function(){},t}(),qd=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.L=function(t){return n.$(t)},this.B=function(t){return e.q(t)})}return t.prototype.$=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.B&&this.B(t),t},t}();qd.U=-1;var zd=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Od(xd.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Od(xd.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Od(xd.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Od(xd.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.K=function(t){return this.seconds===t.seconds?Pd(this.nanoseconds,t.nanoseconds):Pd(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Hd=function(){function t(t){this.timestamp=t}return t.W=function(e){return new t(e)},t.min=function(){return new t(new zd(0,0))},t.prototype.u=function(t){return this.timestamp.K(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.j=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.G=function(){return this.timestamp},t}(),Kd=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&yd(),void 0===n?n=t.length-e:n>t.length-e&&yd(),this.segments=t,this.offset=e,this.H=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.H},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.J(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.Y(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.X=function(t){return this.Y(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.Z=function(){return this.Y(this.segments,this.offset,this.length-1)},t.prototype.tt=function(){return this.segments[this.offset]},t.prototype.et=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.nt=function(){return 0===this.length},t.prototype.st=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.it=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.rt=function(){return this.segments.slice(this.offset,this.limit())},t.J=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Wd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(dd.c)(e,t),e.prototype.Y=function(t,n,r){return new e(t,n,r)},e.prototype.ot=function(){return this.rt().join("/")},e.prototype.toString=function(){return this.ot()},e.ct=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new Od(xd.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.at=function(){return new e([])},e}(Kd),Gd=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Xd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(dd.c)(e,t),e.prototype.Y=function(t,n,r){return new e(t,n,r)},e.ut=function(t){return Gd.test(t)},e.prototype.ot=function(){return this.rt().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.ut(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.ot()},e.prototype.ht=function(){return 1===this.length&&"__name__"===this.get(0)},e.lt=function(){return new e(["__name__"])},e._t=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Od(xd.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new Od(xd.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var c=t[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new Od(xd.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=c,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Od(xd.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.at=function(){return new e([])},e}(Kd),Yd=function(){function t(t){this.path=t}return t.ft=function(e){return new t(Wd.ct(e))},t.dt=function(e){return new t(Wd.ct(e).X(5))},t.prototype.wt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Wd.J(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.J=function(t,e){return Wd.J(t.path,e.path)},t.Et=function(t){return t.length%2==0},t.Tt=function(e){return new t(new Wd(e.slice()))},t}();function $d(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Jd(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Zd(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var tf=function(){function t(t){this.fields=t,t.sort(Xd.J)}return t.prototype.It=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].st(t))return!0;return!1},t.prototype.isEqual=function(t){return Sd(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),ef=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function nf(t){if(_d(!!t),"string"==typeof t){var e=0,n=ef.exec(t);if(_d(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:rf(t.seconds),nanos:rf(t.nanos)}}function rf(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function of(t){return"string"==typeof t?Td.fromBase64String(t):Td.fromUint8Array(t)}function sf(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function af(t){var e=t.mapValue.fields.__previous_value__;return sf(e)?af(e):e}function cf(t){var e=nf(t.mapValue.fields.__local_write_time__.timestampValue);return new zd(e.seconds,e.nanos)}function uf(t){return null==t}function lf(t){return 0===t&&1/t==-1/0}function hf(t){return"number"==typeof t&&Number.isInteger(t)&&!lf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function df(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?sf(t)?4:10:yd()}function ff(t,e){var n=df(t);if(n!==df(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return cf(t).isEqual(cf(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=nf(t.timestampValue),r=nf(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return of(t.bytesValue).isEqual(of(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return rf(t.geoPointValue.latitude)===rf(e.geoPointValue.latitude)&&rf(t.geoPointValue.longitude)===rf(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return rf(t.integerValue)===rf(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=rf(t.doubleValue),r=rf(e.doubleValue);return n===r?lf(n)===lf(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Sd(t.arrayValue.values||[],e.arrayValue.values||[],ff);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if($d(n)!==$d(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!ff(n[i],r[i])))return!1;return!0}(t,e);default:return yd()}}function pf(t,e){return void 0!==(t.values||[]).find(function(t){return ff(t,e)})}function gf(t,e){var n=df(t),r=df(e);if(n!==r)return Pd(n,r);switch(n){case 0:return 0;case 1:return Pd(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=rf(t.integerValue||t.doubleValue),r=rf(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return mf(t.timestampValue,e.timestampValue);case 4:return mf(cf(t),cf(e));case 5:return Pd(t.stringValue,e.stringValue);case 6:return function(t,e){var n=of(t),r=of(e);return n.u(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Pd(n[i],r[i]);if(0!==o)return o}return Pd(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Pd(rf(t.latitude),rf(e.latitude));return 0!==n?n:Pd(rf(t.longitude),rf(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=gf(n[i],r[i]);if(o)return o}return Pd(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=Pd(r[s],o[s]);if(0!==a)return a;var c=gf(n[r[s]],i[o[s]]);if(0!==c)return c}return Pd(r.length,o.length)}(t.mapValue,e.mapValue);default:throw yd()}}function mf(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Pd(t,e);var n=nf(t),r=nf(e),i=Pd(n.seconds,r.seconds);return 0!==i?i:Pd(n.nanos,r.nanos)}function bf(t){return vf(t)}function vf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=nf(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?of(t.bytesValue).toBase64():"referenceValue"in t?Yd.dt(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=vf(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+vf(t.fields[o])}return e+"}"}(t.mapValue):yd();var e}function yf(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.ot()}}function _f(t){return!!t&&"integerValue"in t}function wf(t){return!!t&&"arrayValue"in t}function Cf(t){return!!t&&"nullValue"in t}function kf(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Pf(t){return!!t&&"mapValue"in t}var Sf=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.nt())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!Pf(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.et()])||null},t.prototype.isEqual=function(t){return ff(this.proto,t.proto)},t}(),Ef=function(){function t(t){void 0===t&&(t=Sf.empty()),this.At=t,this.Rt=new Map}return t.prototype.set=function(t,e){return this.Pt(t,e),this},t.prototype.delete=function(t){return this.Pt(t,null),this},t.prototype.Pt=function(t,e){for(var n=this.Rt,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===df(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.et(),e)},t.prototype.yt=function(){var t=this.gt(Xd.at(),this.Rt);return null!=t?new Sf(t):this.At},t.prototype.gt=function(t,e){var n=this,r=!1,i=this.At.field(t),o=Pf(i)?Object.assign({},i.mapValue.fields):{};return e.forEach(function(e,i){if(e instanceof Map){var s=n.gt(t.child(i),e);null!=s&&(o[i]=s,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)}),r?{mapValue:{fields:o}}:null},t}();function Tf(t){var e=[];return Jd(t.fields||{},function(t,n){var r=new Xd([t]);if(Pf(n)){var i=Tf(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)}),new tf(e)}var xf=function(t,e){this.key=t,this.version=e},Of=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).Vt=r,o.bt=!!i.bt,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return Object(dd.c)(e,t),e.prototype.field=function(t){return this.Vt.field(t)},e.prototype.data=function(){return this.Vt},e.prototype.vt=function(){return this.Vt.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.bt===t.bt&&this.hasCommittedMutations===t.hasCommittedMutations&&this.Vt.isEqual(t.Vt)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.Vt.toString()+", {hasLocalMutations: "+this.bt+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.bt||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(xf),If=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(dd.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(xf),Af=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(dd.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(xf),Rf=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.St=null};function Df(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new Rf(t,e,n,r,i,o,s)}function jf(t){var e=wd(t);if(null===e.St){var n=e.path.ot();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.ot()+t.op.toString()+bf(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.ot()+t.dir}(t)}).join(","),uf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Wf(e.startAt)),e.endAt&&(n+="|ub:",n+=Wf(e.endAt)),e.St=n}return e.St}function Nf(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Xf(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!ff(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!$f(t.startAt,e.startAt)&&$f(t.endAt,e.endAt)}function Mf(t){return Yd.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Lf=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(dd.c)(e,t),e.create=function(t,n,r){return t.ht()?"in"===n||"not-in"===n?this.Dt(t,n,r):new Ff(t,n,r):"array-contains"===n?new Bf(t,r):"in"===n?new qf(t,r):"not-in"===n?new zf(t,r):"array-contains-any"===n?new Hf(t,r):new e(t,n,r)},e.Dt=function(t,e,n){return"in"===e?new Uf(t,n):new Qf(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Ct(gf(e,this.value)):null!==e&&df(this.value)===df(e)&&this.Ct(gf(e,this.value))},e.prototype.Ct=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return yd()}},e.prototype.xt=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),Ff=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Yd.dt(r.referenceValue),i}return Object(dd.c)(e,t),e.prototype.matches=function(t){var e=Yd.J(t.key,this.key);return this.Ct(e)},e}(Lf),Uf=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Vf(0,n),r}return Object(dd.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(Lf),Qf=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Vf(0,n),r}return Object(dd.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(Lf);function Vf(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return Yd.dt(t.referenceValue)})}var Bf=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(dd.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return wf(e)&&pf(e.arrayValue,this.value)},e}(Lf),qf=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(dd.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&pf(this.value.arrayValue,e)},e}(Lf),zf=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(dd.c)(e,t),e.prototype.matches=function(t){if(pf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!pf(this.value.arrayValue,e)},e}(Lf),Hf=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(dd.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!wf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return pf(e.value.arrayValue,t)})},e}(Lf),Kf=function(t,e){this.position=t,this.before=e};function Wf(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return bf(t)}).join(",")}var Gf=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Xf(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Yf(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.ht()?Yd.J(Yd.dt(s.referenceValue),n.key):gf(s,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function $f(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!ff(t.position[n],e.position[n]))return!1;return!0}var Jf=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.Nt=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.Ft=null,this.Ot=null};function Zf(t,e,n,r,i,o,s,a){return new Jf(t,e,n,r,i,o,s,a)}function tp(t){return new Jf(t)}function ep(t){return!uf(t.limit)&&"F"===t.limitType}function np(t){return!uf(t.limit)&&"L"===t.limitType}function rp(t){return t.Nt.length>0?t.Nt[0].field:null}function ip(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.xt())return r.field}return null}function op(t){return null!==t.collectionGroup}function sp(t){var e=wd(t);if(null===e.Ft){e.Ft=[];var n=ip(e),r=rp(e);if(null!==n&&null===r)n.ht()||e.Ft.push(new Gf(n)),e.Ft.push(new Gf(Xd.lt(),"asc"));else{for(var i=!1,o=0,s=e.Nt;o<s.length;o++){var a=s[o];e.Ft.push(a),a.field.ht()&&(i=!0)}if(!i){var c=e.Nt.length>0?e.Nt[e.Nt.length-1].dir:"asc";e.Ft.push(new Gf(Xd.lt(),c))}}}return e.Ft}function ap(t){var e=wd(t);if(!e.Ot)if("F"===e.limitType)e.Ot=Df(e.path,e.collectionGroup,sp(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=sp(e);r<i.length;r++){var o=i[r];n.push(new Gf(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new Kf(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Kf(e.startAt.position,!e.startAt.before):null;e.Ot=Df(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.Ot}function cp(t,e,n){return new Jf(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function up(t,e){return Nf(ap(t),ap(e))&&t.limitType===e.limitType}function lp(t){return jf(ap(t))+"|lt:"+t.limitType}function hp(t){return"Query(target="+function(t){var e=t.path.ot();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.ot()+" "+e.op+" "+bf(e.value);var e}).join(", ")+"]"),uf(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.ot()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Wf(t.startAt)),t.endAt&&(e+=", endAt: "+Wf(t.endAt)),"Target("+e+")"}(ap(t))+"; limitType="+t.limitType+")"}function dp(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.wt(t.collectionGroup)&&t.path.st(n):Yd.Et(t.path)?t.path.isEqual(n):t.path.it(n)}(t,e)&&function(t,e){for(var n=0,r=t.Nt;n<r.length;n++){var i=r[n];if(!i.field.ht()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Yf(t.startAt,sp(t),e)||t.endAt&&Yf(t.endAt,sp(t),e))}(t,e)}function fp(t){return function(e,n){for(var r=!1,i=0,o=sp(t);i<o.length;i++){var s=o[i],a=pp(s,e,n);if(0!==a)return a;r=r||s.field.ht()}return 0}}function pp(t,e,n){var r=t.field.ht()?Yd.J(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?gf(r,i):yd()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return yd()}}var gp=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=Hd.min()),void 0===o&&(o=Hd.min()),void 0===s&&(s=Td.h),this.target=t,this.targetId=e,this.kt=n,this.sequenceNumber=r,this.Mt=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.Lt=function(e){return new t(this.target,this.targetId,this.kt,e,this.Mt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.$t=function(e,n){return new t(this.target,this.targetId,this.kt,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Bt=function(e){return new t(this.target,this.targetId,this.kt,this.sequenceNumber,this.Mt,e,this.resumeToken)},t}();function mp(t,e){if(t.qt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lf(e)?"-0":e}}function bp(t){return{integerValue:""+t}}function vp(t,e){return hf(e)?bp(e):mp(t,e)}var yp=function(){this.Ut=void 0};function _p(t,e,n){return t instanceof kp?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Pp?Sp(t,e):t instanceof Ep?Tp(t,e):function(t,e){var n=Cp(t,e),r=Op(n)+Op(t.Qt);return _f(n)&&_f(t.Qt)?bp(r):mp(t.Kt,r)}(t,e)}function wp(t,e,n){return t instanceof Pp?Sp(t,e):t instanceof Ep?Tp(t,e):n}function Cp(t,e){return t instanceof xp?_f(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var kp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(dd.c)(e,t),e}(yp),Pp=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(dd.c)(e,t),e}(yp);function Sp(t,e){for(var n=Ip(e),r=function(t){n.some(function(e){return ff(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Ep=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(dd.c)(e,t),e}(yp);function Tp(t,e){for(var n=Ip(e),r=function(t){n=n.filter(function(e){return!ff(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var xp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Kt=e,r.Qt=n,r}return Object(dd.c)(e,t),e}(yp);function Op(t){return rf(t.integerValue||t.doubleValue)}function Ip(t){return wf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Ap=function(t,e){this.field=t,this.transform=e},Rp=function(t,e){this.version=t,this.transformResults=e},Dp=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.Wt=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"jt",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function jp(t,e){return void 0!==t.updateTime?e instanceof Of&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof Of}var Np=function(){};function Mp(t,e,n){return t instanceof Vp?function(t,e,n){var r=t.value;if(n.transformResults){var i=zp(t.fieldTransforms,e,n.transformResults);r=Kp(t.fieldTransforms,r,i)}return new Of(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof Bp?function(t,e,n){if(!jp(t.Gt,e))return new Af(t.key,n.version);var r=qp(t,e,n.transformResults?zp(t.fieldTransforms,e,n.transformResults):[]);return new Of(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new If(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function Lp(t,e,n,r){return t instanceof Vp?function(t,e,n,r){if(!jp(t.Gt,e))return e;var i=t.value;if(t.fieldTransforms){var o=Hp(t.fieldTransforms,n,e,r);i=Kp(t.fieldTransforms,i,o)}var s=Qp(e);return new Of(t.key,s,i,{bt:!0})}(t,e,r,n):t instanceof Bp?function(t,e,n,r){if(!jp(t.Gt,e))return e;var i=Qp(e),o=qp(t,e,Hp(t.fieldTransforms,n,e,r));return new Of(t.key,i,o,{bt:!0})}(t,e,r,n):function(t,e){return jp(t.Gt,e)?new If(t.key,Hd.min()):e}(t,e)}function Fp(t,e){return void 0!==t.fieldTransforms?function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var o=i[r],s=e instanceof Of?e.field(o.field):void 0,a=Cp(o.transform,s||null);null!=a&&(n=null==n?(new Ef).set(o.field,a):n.set(o.field,a))}return n?n.yt():null}(t.fieldTransforms,e):null}function Up(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Gt.isEqual(e.Gt)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Sd(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Pp&&e instanceof Pp||t instanceof Ep&&e instanceof Ep?Sd(t.elements,e.elements,ff):t instanceof xp&&e instanceof xp?ff(t.Qt,e.Qt):t instanceof kp&&e instanceof kp}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.zt.isEqual(e.zt))}function Qp(t){return t instanceof Of?t.version:Hd.min()}var Vp=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.Gt=r,o.fieldTransforms=i,o.type=0,o}return Object(dd.c)(e,t),e}(Np),Bp=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.zt=r,s.Gt=i,s.fieldTransforms=o,s.type=1,s}return Object(dd.c)(e,t),e}(Np);function qp(t,e,n){var r;return r=function(t,e){var n=new Ef(e);return t.zt.fields.forEach(function(e){if(!e.nt()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}}),n.yt()}(t,r=e instanceof Of?e.data():Sf.empty()),Kp(t.fieldTransforms,r,n)}function zp(t,e,n){var r=[];_d(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=null;e instanceof Of&&(a=e.field(o.field)),r.push(wp(s,a,n[i]))}return r}function Hp(t,e,n,r){for(var i=[],o=0,s=t;o<s.length;o++){var a=s[o],c=a.transform,u=null;n instanceof Of&&(u=n.field(a.field)),null===u&&r instanceof Of&&(u=r.field(a.field)),i.push(_p(c,u,e))}return i}function Kp(t,e,n){for(var r=new Ef(e),i=0;i<t.length;i++)r.set(t[i].field,n[i]);return r.yt()}var Wp,Gp,Xp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Gt=n,r.type=2,r.fieldTransforms=[],r}return Object(dd.c)(e,t),e}(Np),Yp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Gt=n,r.type=3,r.fieldTransforms=[],r}return Object(dd.c)(e,t),e}(Np),$p=function(t){this.count=t};function Jp(t){switch(t){case xd.OK:return yd();case xd.CANCELLED:case xd.UNKNOWN:case xd.DEADLINE_EXCEEDED:case xd.RESOURCE_EXHAUSTED:case xd.INTERNAL:case xd.UNAVAILABLE:case xd.UNAUTHENTICATED:return!1;case xd.INVALID_ARGUMENT:case xd.NOT_FOUND:case xd.ALREADY_EXISTS:case xd.PERMISSION_DENIED:case xd.FAILED_PRECONDITION:case xd.ABORTED:case xd.OUT_OF_RANGE:case xd.UNIMPLEMENTED:case xd.DATA_LOSS:return!0;default:return yd()}}function Zp(t){if(void 0===t)return md("GRPC error has no .code"),xd.UNKNOWN;switch(t){case Wp.OK:return xd.OK;case Wp.CANCELLED:return xd.CANCELLED;case Wp.UNKNOWN:return xd.UNKNOWN;case Wp.DEADLINE_EXCEEDED:return xd.DEADLINE_EXCEEDED;case Wp.RESOURCE_EXHAUSTED:return xd.RESOURCE_EXHAUSTED;case Wp.INTERNAL:return xd.INTERNAL;case Wp.UNAVAILABLE:return xd.UNAVAILABLE;case Wp.UNAUTHENTICATED:return xd.UNAUTHENTICATED;case Wp.INVALID_ARGUMENT:return xd.INVALID_ARGUMENT;case Wp.NOT_FOUND:return xd.NOT_FOUND;case Wp.ALREADY_EXISTS:return xd.ALREADY_EXISTS;case Wp.PERMISSION_DENIED:return xd.PERMISSION_DENIED;case Wp.FAILED_PRECONDITION:return xd.FAILED_PRECONDITION;case Wp.ABORTED:return xd.ABORTED;case Wp.OUT_OF_RANGE:return xd.OUT_OF_RANGE;case Wp.UNIMPLEMENTED:return xd.UNIMPLEMENTED;case Wp.DATA_LOSS:return xd.DATA_LOSS;default:return yd()}}(Gp=Wp||(Wp={}))[Gp.OK=0]="OK",Gp[Gp.CANCELLED=1]="CANCELLED",Gp[Gp.UNKNOWN=2]="UNKNOWN",Gp[Gp.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Gp[Gp.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Gp[Gp.NOT_FOUND=5]="NOT_FOUND",Gp[Gp.ALREADY_EXISTS=6]="ALREADY_EXISTS",Gp[Gp.PERMISSION_DENIED=7]="PERMISSION_DENIED",Gp[Gp.UNAUTHENTICATED=16]="UNAUTHENTICATED",Gp[Gp.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Gp[Gp.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Gp[Gp.ABORTED=10]="ABORTED",Gp[Gp.OUT_OF_RANGE=11]="OUT_OF_RANGE",Gp[Gp.UNIMPLEMENTED=12]="UNIMPLEMENTED",Gp[Gp.INTERNAL=13]="INTERNAL",Gp[Gp.UNAVAILABLE=14]="UNAVAILABLE",Gp[Gp.DATA_LOSS=15]="DATA_LOSS";var tg=function(){function t(t,e){this.J=t,this.root=e||ng.EMPTY}return t.prototype.Ht=function(e,n){return new t(this.J,this.root.Ht(e,n,this.J).copy(null,null,ng.Jt,null,null))},t.prototype.remove=function(e){return new t(this.J,this.root.remove(e,this.J).copy(null,null,ng.Jt,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.nt();){var n=this.J(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.nt();){var r=this.J(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.nt=function(){return this.root.nt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.Yt=function(){return this.root.Yt()},t.prototype.Xt=function(){return this.root.Xt()},t.prototype.Zt=function(t){return this.root.Zt(t)},t.prototype.forEach=function(t){this.Zt(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.Zt(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.te=function(t){return this.root.te(t)},t.prototype.ee=function(){return new eg(this.root,null,this.J,!1)},t.prototype.ne=function(t){return new eg(this.root,t,this.J,!1)},t.prototype.se=function(){return new eg(this.root,null,this.J,!0)},t.prototype.ie=function(t){return new eg(this.root,t,this.J,!0)},t}(),eg=function(){function t(t,e,n,r){this.re=r,this.oe=[];for(var i=1;!t.nt();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.re?t.left:t.right;else{if(0===i){this.oe.push(t);break}this.oe.push(t),t=this.re?t.right:t.left}}return t.prototype.ce=function(){var t=this.oe.pop(),e={key:t.key,value:t.value};if(this.re)for(t=t.left;!t.nt();)this.oe.push(t),t=t.right;else for(t=t.right;!t.nt();)this.oe.push(t),t=t.left;return e},t.prototype.ae=function(){return this.oe.length>0},t.prototype.ue=function(){if(0===this.oe.length)return null;var t=this.oe[this.oe.length-1];return{key:t.key,value:t.value}},t}(),ng=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.nt=function(){return!1},t.prototype.Zt=function(t){return this.left.Zt(t)||t(this.key,this.value)||this.right.Zt(t)},t.prototype.te=function(t){return this.right.te(t)||t(this.key,this.value)||this.left.te(t)},t.prototype.min=function(){return this.left.nt()?this:this.left.min()},t.prototype.Yt=function(){return this.min().key},t.prototype.Xt=function(){return this.right.nt()?this.key:this.right.Xt()},t.prototype.Ht=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.Ht(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.Ht(t,e,n))).he()},t.prototype.le=function(){if(this.left.nt())return t.EMPTY;var e=this;return e.left._e()||e.left.left._e()||(e=e.fe()),(e=e.copy(null,null,null,e.left.le(),null)).he()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.nt()||i.left._e()||i.left.left._e()||(i=i.fe()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left._e()&&(i=i.de()),i.right.nt()||i.right._e()||i.right.left._e()||(i=i.we()),0===n(e,i.key)){if(i.right.nt())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.le())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.he()},t.prototype._e=function(){return this.color},t.prototype.he=function(){var t=this;return t.right._e()&&!t.left._e()&&(t=t.Ee()),t.left._e()&&t.left.left._e()&&(t=t.de()),t.left._e()&&t.right._e()&&(t=t.Te()),t},t.prototype.fe=function(){var t=this.Te();return t.right.left._e()&&(t=(t=(t=t.copy(null,null,null,null,t.right.de())).Ee()).Te()),t},t.prototype.we=function(){var t=this.Te();return t.left.left._e()&&(t=(t=t.de()).Te()),t},t.prototype.Ee=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.de=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Te=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ie=function(){var t=this.me();return Math.pow(2,t)<=this.size+1},t.prototype.me=function(){if(this._e()&&this.left._e())throw yd();if(this.right._e())throw yd();var t=this.left.me();if(t!==this.right.me())throw yd();return t+(this._e()?0:1)},t}();ng.EMPTY=null,ng.RED=!0,ng.Jt=!1,ng.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw yd()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw yd()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw yd()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw yd()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw yd()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.Ht=function(t,e,n){return new ng(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.nt=function(){return!0},t.prototype.Zt=function(t){return!1},t.prototype.te=function(t){return!1},t.prototype.Yt=function(){return null},t.prototype.Xt=function(){return null},t.prototype._e=function(){return!1},t.prototype.Ie=function(){return!0},t.prototype.me=function(){return 0},t}());var rg=function(){function t(t){this.J=t,this.data=new tg(this.J)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.Yt()},t.prototype.last=function(){return this.data.Xt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Zt(function(e,n){return t(e),!1})},t.prototype.Ae=function(t,e){for(var n=this.data.ne(t[0]);n.ae();){var r=n.ce();if(this.J(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Re=function(t,e){var n;for(n=void 0!==e?this.data.ne(e):this.data.ee();n.ae();)if(!t(n.ce().key))return},t.prototype.Pe=function(t){var e=this.data.ne(t);return e.ae()?e.ce().key:null},t.prototype.ee=function(){return new ig(this.data.ee())},t.prototype.ne=function(t){return new ig(this.data.ne(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).Ht(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.nt=function(){return this.data.nt()},t.prototype.ye=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.ee(),r=e.data.ee();n.ae();){var i=n.ce().key,o=r.ce().key;if(0!==this.J(i,o))return!1}return!0},t.prototype.rt=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.J);return n.data=e,n},t}(),ig=function(){function t(t){this.ge=t}return t.prototype.ce=function(){return this.ge.ce().key},t.prototype.ae=function(){return this.ge.ae()},t}(),og=new tg(Yd.J);function sg(){return og}function ag(){return sg()}var cg=new tg(Yd.J);function ug(){return cg}var lg=new tg(Yd.J);function hg(){return lg}var dg=new rg(Yd.J);function fg(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=dg,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var pg=new rg(Pd);function gg(){return pg}var mg=function(){function t(t){this.J=t?function(e,n){return t(e,n)||Yd.J(e.key,n.key)}:function(t,e){return Yd.J(t.key,e.key)},this.Ve=ug(),this.pe=new tg(this.J)}return t.be=function(e){return new t(e.J)},t.prototype.has=function(t){return null!=this.Ve.get(t)},t.prototype.get=function(t){return this.Ve.get(t)},t.prototype.first=function(){return this.pe.Yt()},t.prototype.last=function(){return this.pe.Xt()},t.prototype.nt=function(){return this.pe.nt()},t.prototype.indexOf=function(t){var e=this.Ve.get(t);return e?this.pe.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.pe.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.pe.Zt(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Ve.Ht(t.key,t),e.pe.Ht(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Ve.remove(t),this.pe.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.pe.ee(),r=e.pe.ee();n.ae();){var i=n.ce().key,o=r.ce().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.J=this.J,r.Ve=e,r.pe=n,r},t}(),bg=function(){function t(){this.ve=new tg(Yd.J)}return t.prototype.track=function(t){var e=t.doc.key,n=this.ve.get(e);n?0!==t.type&&3===n.type?this.ve=this.ve.Ht(e,t):3===t.type&&1!==n.type?this.ve=this.ve.Ht(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.ve=this.ve.Ht(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.ve=this.ve.remove(e):1===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):yd():this.ve=this.ve.Ht(e,t)},t.prototype.Se=function(){var t=[];return this.ve.Zt(function(e,n){t.push(n)}),t},t}(),vg=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.De=n,this.docChanges=r,this.Ce=i,this.fromCache=o,this.xe=s,this.Ne=a}return t.Fe=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,mg.be(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Ce.nt()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.xe===t.xe&&this.Ce.isEqual(t.Ce)&&up(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.De.isEqual(t.De)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),yg=function(){function t(t,e,n,r,i){this.Mt=t,this.Oe=e,this.ke=n,this.Me=r,this.Le=i}return t.$e=function(e,n){var r=new Map;return r.set(e,_g.Be(e,n)),new t(Hd.min(),r,gg(),sg(),fg())},t}(),_g=function(){function t(t,e,n,r,i){this.resumeToken=t,this.qe=e,this.Ue=n,this.Qe=r,this.Ke=i}return t.Be=function(e,n){return new t(Td.h,n,fg(),fg(),fg())},t}(),wg=function(t,e,n,r){this.We=t,this.removedTargetIds=e,this.key=n,this.je=r},Cg=function(t,e){this.targetId=t,this.Ge=e},kg=function(t,e,n,r){void 0===n&&(n=Td.h),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Pg=function(){function t(){this.ze=0,this.He=Tg(),this.Je=Td.h,this.Ye=!1,this.Xe=!0}return Object.defineProperty(t.prototype,"qe",{get:function(){return this.Ye},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.Je},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ze",{get:function(){return 0!==this.ze},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tn",{get:function(){return this.Xe},enumerable:!1,configurable:!0}),t.prototype.en=function(t){t.o()>0&&(this.Xe=!0,this.Je=t)},t.prototype.nn=function(){var t=fg(),e=fg(),n=fg();return this.He.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:yd()}}),new _g(this.Je,this.Ye,t,e,n)},t.prototype.sn=function(){this.Xe=!1,this.He=Tg()},t.prototype.rn=function(t,e){this.Xe=!0,this.He=this.He.Ht(t,e)},t.prototype.on=function(t){this.Xe=!0,this.He=this.He.remove(t)},t.prototype.cn=function(){this.ze+=1},t.prototype.an=function(){this.ze-=1},t.prototype.un=function(){this.Xe=!0,this.Ye=!0},t}(),Sg=function(){function t(t){this.hn=t,this.ln=new Map,this._n=sg(),this.fn=Eg(),this.dn=new rg(Pd)}return t.prototype.wn=function(t){for(var e=0,n=t.We;e<n.length;e++){var r=n[e];t.je instanceof Of?this.En(r,t.je):t.je instanceof If&&this.Tn(r,t.key,t.je)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.Tn(r=o[i],t.key,t.je)},t.prototype.In=function(t){var e=this;this.mn(t,function(n){var r=e.An(n);switch(t.state){case 0:e.Rn(n)&&r.en(t.resumeToken);break;case 1:r.an(),r.Ze||r.sn(),r.en(t.resumeToken);break;case 2:r.an(),r.Ze||e.removeTarget(n);break;case 3:e.Rn(n)&&(r.un(),r.en(t.resumeToken));break;case 4:e.Rn(n)&&(e.Pn(n),r.en(t.resumeToken));break;default:yd()}})},t.prototype.mn=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.ln.forEach(function(t,r){n.Rn(r)&&e(r)})},t.prototype.yn=function(t){var e=t.targetId,n=t.Ge.count,r=this.gn(e);if(r){var i=r.target;if(Mf(i))if(0===n){var o=new Yd(i.path);this.Tn(e,o,new If(o,Hd.min()))}else _d(1===n);else this.Vn(e)!==n&&(this.Pn(e),this.dn=this.dn.add(e))}},t.prototype.pn=function(t){var e=this,n=new Map;this.ln.forEach(function(r,i){var o=e.gn(i);if(o){if(r.qe&&Mf(o.target)){var s=new Yd(o.target.path);null!==e._n.get(s)||e.bn(i,s)||e.Tn(i,s,new If(s,t))}r.tn&&(n.set(i,r.nn()),r.sn())}});var r=fg();this.fn.forEach(function(t,n){var i=!0;n.Re(function(t){var n=e.gn(t);return!n||2===n.kt||(i=!1,!1)}),i&&(r=r.add(t))});var i=new yg(t,n,this.dn,this._n,r);return this._n=sg(),this.fn=Eg(),this.dn=new rg(Pd),i},t.prototype.En=function(t,e){if(this.Rn(t)){var n=this.bn(t,e.key)?2:0;this.An(t).rn(e.key,n),this._n=this._n.Ht(e.key,e),this.fn=this.fn.Ht(e.key,this.vn(e.key).add(t))}},t.prototype.Tn=function(t,e,n){if(this.Rn(t)){var r=this.An(t);this.bn(t,e)?r.rn(e,1):r.on(e),this.fn=this.fn.Ht(e,this.vn(e).delete(t)),n&&(this._n=this._n.Ht(e,n))}},t.prototype.removeTarget=function(t){this.ln.delete(t)},t.prototype.Vn=function(t){var e=this.An(t).nn();return this.hn.Sn(t).size+e.Ue.size-e.Ke.size},t.prototype.cn=function(t){this.An(t).cn()},t.prototype.An=function(t){var e=this.ln.get(t);return e||(e=new Pg,this.ln.set(t,e)),e},t.prototype.vn=function(t){var e=this.fn.get(t);return e||(e=new rg(Pd),this.fn=this.fn.Ht(t,e)),e},t.prototype.Rn=function(t){var e=null!==this.gn(t);return e||gd("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.gn=function(t){var e=this.ln.get(t);return e&&e.Ze?null:this.hn.Dn(t)},t.prototype.Pn=function(t){var e=this;this.ln.set(t,new Pg),this.hn.Sn(t).forEach(function(n){e.Tn(t,n,null)})},t.prototype.bn=function(t,e){return this.hn.Sn(t).has(e)},t}();function Eg(){return new tg(Yd.J)}function Tg(){return new tg(Yd.J)}var xg={asc:"ASCENDING",desc:"DESCENDING"},Og={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ig=function(t,e){this.T=t,this.qt=e};function Ag(t,e){return t.qt?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Rg(t,e){return t.qt?e.toBase64():e.toUint8Array()}function Dg(t,e){return Ag(t,e.G())}function jg(t){return _d(!!t),Hd.W(function(t){var e=nf(t);return new zd(e.seconds,e.nanos)}(t))}function Ng(t,e){return function(t){return new Wd(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).ot()}function Mg(t){var e=Wd.ct(t);return _d(sm(e)),e}function Lg(t,e){return Ng(t.T,e.path)}function Fg(t,e){var n=Mg(e);if(n.get(1)!==t.T.projectId)throw new Od(xd.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.T.projectId);if(n.get(3)!==t.T.database)throw new Od(xd.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.T.database);return new Yd(Bg(n))}function Ug(t,e){return Ng(t.T,e)}function Qg(t){var e=Mg(t);return 4===e.length?Wd.at():Bg(e)}function Vg(t){return new Wd(["projects",t.T.projectId,"databases",t.T.database]).ot()}function Bg(t){return _d(t.length>4&&"documents"===t.get(4)),t.X(5)}function qg(t,e,n){return{name:Lg(t,e),fields:n.proto.mapValue.fields}}function zg(t,e,n){var r=Fg(t,e.name),i=jg(e.updateTime),o=new Sf({mapValue:{fields:e.fields}});return new Of(r,i,o,{hasCommittedMutations:!!n})}function Hg(t,e){var n;if(e instanceof Vp)n={update:qg(t,e.key,e.value)};else if(e instanceof Xp)n={delete:Lg(t,e.key)};else if(e instanceof Bp)n={update:qg(t,e.key,e.data),updateMask:om(e.zt)};else{if(!(e instanceof Yp))return yd();n={verify:Lg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof kp)return{fieldPath:e.field.ot(),setToServerValue:"REQUEST_TIME"};if(n instanceof Pp)return{fieldPath:e.field.ot(),appendMissingElements:{values:n.elements}};if(n instanceof Ep)return{fieldPath:e.field.ot(),removeAllFromArray:{values:n.elements}};if(n instanceof xp)return{fieldPath:e.field.ot(),increment:n.Qt};throw yd()}(0,t)})),e.Gt.jt||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Dg(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:yd()}(t,e.Gt)),n}function Kg(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Dp.updateTime(jg(t.updateTime)):void 0!==t.exists?Dp.exists(t.exists):Dp.Wt()}(e.currentDocument):Dp.Wt(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(_d("REQUEST_TIME"===e.setToServerValue),n=new kp):"appendMissingElements"in e?n=new Pp(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Ep(e.removeAllFromArray.values||[]):"increment"in e?n=new xp(t,e.increment):yd();var r=Xd._t(e.fieldPath);return new Ap(r,n)}(t,e)}):[];if(e.update){var i=Fg(t,e.update.name),o=new Sf({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new tf((t.fieldPaths||[]).map(function(t){return Xd._t(t)}))}(e.updateMask);return new Bp(i,o,s,n,r)}return new Vp(i,o,n,r)}if(e.delete){var a=Fg(t,e.delete);return new Xp(a,n)}if(e.verify){var c=Fg(t,e.verify);return new Yp(c,n)}return yd()}function Wg(t,e){return{documents:[Ug(t,e.path)]}}function Gg(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Ug(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Ug(t,r.Z()),n.structuredQuery.from=[{collectionId:r.et()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(kf(t.value))return{unaryFilter:{field:em(t.field),op:"IS_NAN"}};if(Cf(t.value))return{unaryFilter:{field:em(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(kf(t.value))return{unaryFilter:{field:em(t.field),op:"IS_NOT_NAN"}};if(Cf(t.value))return{unaryFilter:{field:em(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:em(t.field),op:tm(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:em(t.field),direction:Zg(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.qt||uf(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=$g(e.startAt)),e.endAt&&(n.structuredQuery.endAt=$g(e.endAt)),n}function Xg(t){var e=Qg(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){_d(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=Yg(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new Gf(nm(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var c=null;n.limit&&(c=function(t){var e;return uf(e="object"==typeof t?t.value:t)?null:e}(n.limit));var u=null;n.startAt&&(u=Jg(n.startAt));var l=null;return n.endAt&&(l=Jg(n.endAt)),Zf(e,i,a,s,c,"F",u,l)}function Yg(t){return t?void 0!==t.unaryFilter?[im(t)]:void 0!==t.fieldFilter?[rm(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return Yg(t)}).reduce(function(t,e){return t.concat(e)}):yd():[]}function $g(t){return{before:t.before,values:t.position}}function Jg(t){return new Kf(t.values||[],!!t.before)}function Zg(t){return xg[t]}function tm(t){return Og[t]}function em(t){return{fieldPath:t.ot()}}function nm(t){return Xd._t(t.fieldPath)}function rm(t){return Lf.create(nm(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return yd()}}(t.fieldFilter.op),t.fieldFilter.value)}function im(t){switch(t.unaryFilter.op){case"IS_NAN":var e=nm(t.unaryFilter.field);return Lf.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=nm(t.unaryFilter.field);return Lf.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=nm(t.unaryFilter.field);return Lf.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=nm(t.unaryFilter.field);return Lf.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return yd()}}function om(t){var e=[];return t.fields.forEach(function(t){return e.push(t.ot())}),{fieldPaths:e}}function sm(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var am=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},cm=function(){function t(t){var e=this;this.Cn=null,this.xn=null,this.result=void 0,this.error=void 0,this.Nn=!1,this.Fn=!1,t(function(t){e.Nn=!0,e.result=t,e.Cn&&e.Cn(t)},function(t){e.Nn=!0,e.error=t,e.xn&&e.xn(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Fn&&yd(),this.Fn=!0,this.Nn?this.error?this.On(n,this.error):this.kn(e,this.result):new t(function(t,i){r.Cn=function(n){r.kn(e,n).next(t,i)},r.xn=function(e){r.On(n,e).next(t,i)}})},t.prototype.Mn=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.Ln=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.kn=function(e,n){return e?this.Ln(function(){return e(n)}):t.resolve(n)},t.prototype.On=function(e,n){return e?this.Ln(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.$n=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.Bn=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.$n(r)},t}(),um=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.qn=new am,this.transaction.oncomplete=function(){n.qn.resolve()},this.transaction.onabort=function(){e.error?n.qn.reject(new dm(t,e.error)):n.qn.resolve()},this.transaction.onerror=function(e){var r=bm(e.target.error);n.qn.reject(new dm(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new dm(n,e)}},Object.defineProperty(t.prototype,"Un",{get:function(){return this.qn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.qn.reject(t),this.aborted||(gd("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new pm(e)},t}(),lm=function(){function t(e,n,r){this.name=e,this.version=n,this.Qn=r,12.2===t.Kn(Object(lc.p)())&&md("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return gd("SimpleDb","Removing database:",t),gm(window.indexedDB.deleteDatabase(t)).Mn()},t.Wn=function(){if("undefined"==typeof indexedDB)return!1;if(t.jn())return!0;var e=Object(lc.p)(),n=t.Kn(e),r=0<n&&n<10,i=t.Gn(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.jn=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.zn)},t.Hn=function(t,e){return t.store(e)},t.Kn=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Gn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Jn=function(t){return Object(dd.b)(this,void 0,void 0,function(){var e,n=this;return Object(dd.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(gd("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new dm(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Od(xd.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new dm(t,n))},i.onupgradeneeded=function(t){gd("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Qn.Yn(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){gd("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Xn&&(this.db.onversionchange=function(t){return n.Xn(t)}),this.db)]}})})},t.prototype.Zn=function(t){this.Xn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(dd.b)(this,void 0,void 0,function(){var i,o,s,a,c;return Object(dd.d)(this,function(u){switch(u.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,c,u,l;return Object(dd.d)(this,function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.Jn(t)];case 2:return a.db=h.sent(),e=um.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch(function(t){return e.abort(t),cm.reject(t)}).Mn(),c={},s.catch(function(){}),[4,e.Un];case 3:return[2,(c.value=(h.sent(),s),c)];case 4:return gd("SimpleDb","Transaction failed with error:",(u=h.sent()).message,"Retrying:",l="FirebaseError"!==u.name&&o<3),a.close(),l?[3,5]:[2,{value:Promise.reject(u)}];case 5:return[2]}})},a=this,u.label=1;case 1:return[5,s()];case 2:if("object"==typeof(c=u.sent()))return[2,c.value];u.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),hm=function(){function t(t){this.ts=t,this.es=!1,this.ns=null}return Object.defineProperty(t.prototype,"Nn",{get:function(){return this.es},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ss",{get:function(){return this.ns},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.ts=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.es=!0},t.prototype.rs=function(t){this.ns=t},t.prototype.delete=function(){return gm(this.ts.delete())},t}(),dm=function(t){function e(e,n){var r=this;return(r=t.call(this,xd.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(dd.c)(e,t),e}(Od);function fm(t){return"IndexedDbTransactionError"===t.name}var pm=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(gd("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(gd("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),gm(n)},t.prototype.add=function(t){return gd("SimpleDb","ADD",this.store.name,t,t),gm(this.store.add(t))},t.prototype.get=function(t){var e=this;return gm(this.store.get(t)).next(function(n){return void 0===n&&(n=null),gd("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return gd("SimpleDb","DELETE",this.store.name,t),gm(this.store.delete(t))},t.prototype.count=function(){return gd("SimpleDb","COUNT",this.store.name),gm(this.store.count())},t.prototype.os=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.cs(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.us=function(t,e){gd("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.hs=!1;var r=this.cursor(n);return this.cs(r,function(t,e,n){return n.delete()})},t.prototype.ls=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.cs(r,e)},t.prototype._s=function(t){var e=this.cursor({});return new cm(function(n,r){e.onerror=function(t){var e=bm(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.cs=function(t,e){var n=[];return new cm(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new hm(i),s=e(i.primaryKey,i.value,o);if(s instanceof cm){var a=s.catch(function(t){return o.done(),cm.reject(t)});n.push(a)}o.Nn?r():null===o.ss?i.continue():i.continue(o.ss)}else r()}}).next(function(){return cm.$n(n)})},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.hs?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function gm(t){return new cm(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=bm(t.target.error);n(e)}})}var mm=!1;function bm(t){var e=lm.Kn(Object(lc.p)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Od("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return mm||(mm=!0,setTimeout(function(){throw r},0)),r}}return t}var vm=function(){function t(t,e,n,r,i){this.fs=t,this.ds=e,this.ws=n,this.op=r,this.Es=i,this.Ts=new am,this.then=this.Ts.promise.then.bind(this.Ts.promise),this.Ts.promise.catch(function(t){})}return t.Is=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.As=setTimeout(function(){return e.Rs()},t)},t.prototype.Ps=function(){return this.Rs()},t.prototype.cancel=function(t){null!==this.As&&(this.clearTimeout(),this.Ts.reject(new Od(xd.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.Rs=function(){var t=this;this.fs.ys(function(){return null!==t.As?(t.clearTimeout(),t.op().then(function(e){return t.Ts.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.As&&(this.Es(this),clearTimeout(this.As),this.As=null)},t}();function ym(t,e){if(md("AsyncQueue",e+": "+t),fm(t))return new Od(xd.UNAVAILABLE,e+": "+t);throw t}var _m=function(t,e){this.progress=t,this.gs=e},wm="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Cm=function(){function t(){this.Vs=[]}return t.prototype.ps=function(t){this.Vs.push(t)},t.prototype.bs=function(){this.Vs.forEach(function(t){return t()})},t}();function km(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Sm(e)),e=Pm(t.get(n),e);return Sm(e)}function Pm(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Sm(t){return t+"\x01\x01"}function Em(t){var e=t.length;if(_d(e>=2),2===e)return _d("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Wd.at();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&yd(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),c=void 0;0===i.length?c=a:(c=i+=a,i=""),r.push(c);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:yd()}o=s+2}return new Wd(r)}var Tm=function(t,e){this.seconds=t,this.nanoseconds=e},xm=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};xm.store="owner",xm.key="owner";var Om=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Om.store="mutationQueues",Om.keyPath="userId";var Im=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Im.store="mutations",Im.keyPath="batchId",Im.userMutationsIndex="userMutationsIndex",Im.userMutationsKeyPath=["userId","batchId"];var Am=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,km(e)]},t.key=function(t,e,n){return[t,km(e),n]},t}();Am.store="documentMutations",Am.PLACEHOLDER=new Am;var Rm=function(t,e){this.path=t,this.readTime=e},Dm=function(t,e){this.path=t,this.version=e},jm=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};jm.store="remoteDocuments",jm.readTimeIndex="readTimeIndex",jm.readTimeIndexPath="readTime",jm.collectionReadTimeIndex="collectionReadTimeIndex",jm.collectionReadTimeIndexPath=["parentPath","readTime"];var Nm=function(t){this.byteSize=t};Nm.store="remoteDocumentGlobal",Nm.key="remoteDocumentGlobalKey";var Mm=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};Mm.store="targets",Mm.keyPath="targetId",Mm.queryTargetsIndexName="queryTargetsIndex",Mm.queryTargetsKeyPath=["canonicalId","targetId"];var Lm=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Lm.store="targetDocuments",Lm.keyPath=["targetId","path"],Lm.documentTargetsIndex="documentTargetsIndex",Lm.documentTargetsKeyPath=["path","targetId"];var Fm=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Fm.key="targetGlobalKey",Fm.store="targetGlobal";var Um=function(t,e){this.collectionId=t,this.parent=e};Um.store="collectionParents",Um.keyPath=["collectionId","parent"];var Qm=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Qm.store="clientMetadata",Qm.keyPath="clientId";var Vm=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Vm.store="bundles",Vm.keyPath="bundleId";var Bm=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Bm.store="namedQueries",Bm.keyPath="name";var qm=Object(dd.g)(Object(dd.g)(Object(dd.g)(Object(dd.g)([Om.store,Im.store,Am.store,jm.store,Mm.store,xm.store,Fm.store,Lm.store],[Qm.store]),[Nm.store]),[Um.store]),[Vm.store,Bm.store]),zm=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).vs=e,r.Ss=n,r}return Object(dd.c)(e,t),e}(Cm);function Hm(t,e){var n=wd(t);return lm.Hn(n.vs,e)}var Km=function(){function t(t,e,n,r){this.batchId=t,this.Ds=e,this.baseMutations=n,this.mutations=r}return t.prototype.Cs=function(t,e,n){for(var r=n.xs,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=Mp(o,e,r[i]))}return e},t.prototype.Ns=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=Lp(i,e,e,this.Ds))}for(var o=e,s=0,a=this.mutations;s<a.length;s++){var c=a[s];c.key.isEqual(t)&&(e=Lp(c,e,o,this.Ds))}return e},t.prototype.Fs=function(t){var e=this,n=t;return this.mutations.forEach(function(r){var i=e.Ns(r.key,t.get(r.key));i&&(n=n.Ht(r.key,i))}),n},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},fg())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Sd(this.mutations,t.mutations,function(t,e){return Up(t,e)})&&Sd(this.baseMutations,t.baseMutations,function(t,e){return Up(t,e)})},t}(),Wm=function(){function t(t,e,n,r){this.batch=t,this.Os=e,this.xs=n,this.ks=r}return t.from=function(e,n,r){_d(e.mutations.length===r.length);for(var i=hg(),o=e.mutations,s=0;s<o.length;s++)i=i.Ht(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),Gm=function(t){this.Ms=t};function Xm(t,e){if(e.document)return zg(t.Ms,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Yd.Tt(e.noDocument.path),r=tb(e.noDocument.readTime);return new If(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=Yd.Tt(e.unknownDocument.path);return r=tb(e.unknownDocument.version),new Af(i,r)}return yd()}function Ym(t,e,n){var r=$m(n),i=e.key.path.Z().rt();if(e instanceof Of){var o=function(t,e){return{name:Lg(t,e.key),fields:e.vt().mapValue.fields,updateTime:Ag(t,e.version.G())}}(t.Ms,e),s=e.hasCommittedMutations;return new jm(null,null,o,s,r,i)}if(e instanceof If){var a=e.key.path.rt(),c=Zm(e.version);return s=e.hasCommittedMutations,new jm(null,new Rm(a,c),null,s,r,i)}if(e instanceof Af){var u=e.key.path.rt(),l=Zm(e.version);return new jm(new Dm(u,l),null,null,!0,r,i)}return yd()}function $m(t){var e=t.G();return[e.seconds,e.nanoseconds]}function Jm(t){var e=new zd(t[0],t[1]);return Hd.W(e)}function Zm(t){var e=t.G();return new Tm(e.seconds,e.nanoseconds)}function tb(t){var e=new zd(t.seconds,t.nanoseconds);return Hd.W(e)}function eb(t,e){for(var n=(e.baseMutations||[]).map(function(e){return Kg(t.Ms,e)}),r=e.mutations.length-1;r>=0;--r){var i=e.mutations[r];void 0!==(null==i?void 0:i.transform)&&(e.mutations[r-1].updateTransforms=i.transform.fieldTransforms,e.mutations.splice(r,1),--r)}var o=e.mutations.map(function(e){return Kg(t.Ms,e)}),s=zd.fromMillis(e.localWriteTimeMs);return new Km(e.batchId,s,n,o)}function nb(t){var e,n,r=tb(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?tb(t.lastLimboFreeSnapshotVersion):Hd.min();return void 0!==t.query.documents?(_d(1===(n=t.query).documents.length),e=ap(tp(Qg(n.documents[0])))):e=function(t){return ap(Xg(t))}(t.query),new gp(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Td.fromBase64String(t.resumeToken))}function rb(t,e){var n,r=Zm(e.Mt),i=Zm(e.lastLimboFreeSnapshotVersion);n=Mf(e.target)?Wg(t.Ms,e.target):Gg(t.Ms,e.target);var o=e.resumeToken.toBase64();return new Mm(e.targetId,jf(e.target),r,o,e.sequenceNumber,i,n)}function ib(t){var e=Xg({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?cp(e,e.limit,"L"):e}var ob=function(){function t(){}return t.prototype.Ls=function(t,e){return sb(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:tb(e.createTime),version:e.version};var e})},t.prototype.$s=function(t,e){return sb(t).put({bundleId:(n=e).id,createTime:Zm(jg(n.createTime)),version:n.version});var n},t.prototype.Bs=function(t,e){return ab(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:ib(e.bundledQuery),readTime:tb(e.readTime)};var e})},t.prototype.qs=function(t,e){return ab(t).put(function(t){return{name:t.name,readTime:Zm(jg(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function sb(t){return Hm(t,Vm.store)}function ab(t){return Hm(t,Bm.store)}var cb=function(){function t(){this.Us=new ub}return t.prototype.Qs=function(t,e){return this.Us.add(e),cm.resolve()},t.prototype.Ks=function(t,e){return cm.resolve(this.Us.getEntries(e))},t}(),ub=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.et(),n=t.Z(),r=this.index[e]||new rg(Wd.J),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.et(),n=t.Z(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new rg(Wd.J)).rt()},t}(),lb=function(){function t(){this.Ws=new ub}return t.prototype.Qs=function(t,e){var n=this;if(!this.Ws.has(e)){var r=e.et(),i=e.Z();t.ps(function(){n.Ws.add(e)});var o={collectionId:r,parent:km(i)};return hb(t).put(o)}return cm.resolve()},t.prototype.Ks=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Ed(e),""],!1,!0);return hb(t).os(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Em(o.parent))}return n})},t}();function hb(t){return Hm(t,Um.store)}var db={js:!1,Gs:0,zs:0,Hs:0},fb=function(){function t(t,e,n){this.Js=t,this.Ys=e,this.Xs=n}return t.Zs=function(e){return new t(e,t.ti,t.ei)},t}();function pb(t){return Object(dd.b)(this,void 0,void 0,function(){return Object(dd.d)(this,function(e){if(t.code!==xd.FAILED_PRECONDITION||t.message!==wm)throw t;return gd("LocalStore","Unexpectedly lost primary lease"),[2]})})}fb.ti=10,fb.ei=1e3,fb.ni=new fb(41943040,fb.ti,fb.ei),fb.si=new fb(-1,0,0);var gb=function(){function t(t,e){this.ii=t,this.ri=e,this.oi={}}return t.prototype.get=function(t){var e=this.ii(t),n=this.oi[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.ri(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.ii(t),r=this.oi[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.ri(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.oi[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.ii(t),n=this.oi[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.ri(n[r][0],t))return 1===n.length?delete this.oi[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Jd(this.oi,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.nt=function(){return Zd(this.oi)},t}(),mb=function(){function t(){this.ci=new gb(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.ai=!1}return t.prototype.ui=function(t){var e=this.ci.get(t);return e?e.readTime:Hd.min()},t.prototype.hi=function(t,e){this.li(),this.ci.set(t.key,{_i:t,readTime:e})},t.prototype.fi=function(t,e){void 0===e&&(e=null),this.li(),this.ci.set(t,{_i:null,readTime:e})},t.prototype.di=function(t,e){this.li();var n=this.ci.get(e);return void 0!==n?cm.resolve(n._i):this.wi(t,e)},t.prototype.getEntries=function(t,e){return this.Ei(t,e)},t.prototype.apply=function(t){return this.li(),this.ai=!0,this.Ti(t)},t.prototype.li=function(){},t}();function bb(t,e,n){var r=t.store(Im.store),i=t.store(Am.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,c=r.ls({range:s},function(t,e,n){return a++,n.delete()});o.push(c.next(function(){_d(1===a)}));for(var u=[],l=0,h=n.mutations;l<h.length;l++){var d=h[l],f=Am.key(e,d.key.path,n.batchId);o.push(i.delete(f)),u.push(d.key)}return cm.$n(o).next(function(){return u})}function vb(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw yd();e=t.noDocument}return JSON.stringify(e).length}var yb=function(){function t(t,e,n,r){this.userId=t,this.Kt=e,this.Ii=n,this.mi=r,this.Ai={}}return t.Ri=function(e,n,r,i){return _d(""!==e.uid),new t(e.A()?e.uid:"",n,r,i)},t.prototype.Pi=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return wb(t).ls({index:Im.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.yi=function(t,e,n,r){var i=this,o=Cb(t),s=wb(t);return s.add({}).next(function(a){_d("number"==typeof a);for(var c=new Km(a,e,n,r),u=function(t,e,n){var r=n.baseMutations.map(function(e){return Hg(t.Ms,e)}),i=n.mutations.map(function(e){return Hg(t.Ms,e)});return new Im(e,n.batchId,n.Ds.toMillis(),r,i)}(i.Kt,i.userId,c),l=[],h=new rg(function(t,e){return Pd(t.ot(),e.ot())}),d=0,f=r;d<f.length;d++){var p=f[d],g=Am.key(i.userId,p.key.path,a);h=h.add(p.key.path.Z()),l.push(s.put(u)),l.push(o.put(g,Am.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ii.Qs(t,e))}),t.ps(function(){i.Ai[a]=c.keys()}),cm.$n(l).next(function(){return c})})},t.prototype.gi=function(t,e){var n=this;return wb(t).get(e).next(function(t){return t?(_d(t.userId===n.userId),eb(n.Kt,t)):null})},t.prototype.Vi=function(t,e){var n=this;return this.Ai[e]?cm.resolve(this.Ai[e]):this.gi(t,e).next(function(t){if(t){var r=t.keys();return n.Ai[e]=r,r}return null})},t.prototype.pi=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return wb(t).ls({index:Im.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(_d(e.batchId>=r),o=eb(n.Kt,e)),i.done()}).next(function(){return o})},t.prototype.bi=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return wb(t).ls({index:Im.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.vi=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return wb(t).os(Im.userMutationsIndex,n).next(function(t){return t.map(function(t){return eb(e.Kt,t)})})},t.prototype.Si=function(t,e){var n=this,r=Am.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Cb(t).ls({range:i},function(r,i,s){var a=r[0],c=r[2],u=Em(r[1]);if(a===n.userId&&e.path.isEqual(u))return wb(t).get(c).next(function(t){if(!t)throw yd();_d(t.userId===n.userId),o.push(eb(n.Kt,t))});s.done()}).next(function(){return o})},t.prototype.Di=function(t,e){var n=this,r=new rg(Pd),i=[];return e.forEach(function(e){var o=Am.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=Cb(t).ls({range:s},function(t,i,o){var s=t[0],a=t[2],c=Em(t[1]);s===n.userId&&e.path.isEqual(c)?r=r.add(a):o.done()});i.push(a)}),cm.$n(i).next(function(){return n.Ci(t,r)})},t.prototype.xi=function(t,e){var n=this,r=e.path,i=r.length+1,o=Am.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new rg(Pd);return Cb(t).ls({range:s},function(t,e,o){var s=t[0],c=t[2],u=Em(t[1]);s===n.userId&&r.st(u)?u.length===i&&(a=a.add(c)):o.done()}).next(function(){return n.Ci(t,a)})},t.prototype.Ci=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(wb(t).get(e).next(function(t){if(null===t)throw yd();_d(t.userId===n.userId),r.push(eb(n.Kt,t))}))}),cm.$n(i).next(function(){return r})},t.prototype.Ni=function(t,e){var n=this;return bb(t.vs,this.userId,e).next(function(r){return t.ps(function(){n.Fi(e.batchId)}),cm.forEach(r,function(e){return n.mi.Oi(t,e)})})},t.prototype.Fi=function(t){delete this.Ai[t]},t.prototype.ki=function(t){var e=this;return this.Pi(t).next(function(n){if(!n)return cm.resolve();var r=IDBKeyRange.lowerBound(Am.prefixForUser(e.userId)),i=[];return Cb(t).ls({range:r},function(t,n,r){if(t[0]===e.userId){var o=Em(t[1]);i.push(o)}else r.done()}).next(function(){_d(0===i.length)})})},t.prototype.Mi=function(t,e){return _b(t,this.userId,e)},t.prototype.Li=function(t){var e=this;return kb(t).get(this.userId).next(function(t){return t||new Om(e.userId,-1,"")})},t}();function _b(t,e,n){var r=Am.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return Cb(t).ls({range:o,hs:!0},function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()}).next(function(){return s})}function wb(t){return Hm(t,Im.store)}function Cb(t){return Hm(t,Am.store)}function kb(t){return Hm(t,Om.store)}var Pb=function(){function t(t){this.$i=t}return t.prototype.next=function(){return this.$i+=2,this.$i},t.Bi=function(){return new t(0)},t.qi=function(){return new t(-1)},t}(),Sb=function(){function t(t,e){this.mi=t,this.Kt=e}return t.prototype.Ui=function(t){var e=this;return this.Qi(t).next(function(n){var r=new Pb(n.highestTargetId);return n.highestTargetId=r.next(),e.Ki(t,n).next(function(){return n.highestTargetId})})},t.prototype.Wi=function(t){return this.Qi(t).next(function(t){return Hd.W(new zd(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.ji=function(t){return this.Qi(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.Gi=function(t,e,n){var r=this;return this.Qi(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.G()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Ki(t,i)})},t.prototype.zi=function(t,e){var n=this;return this.Hi(t,e).next(function(){return n.Qi(t).next(function(r){return r.targetCount+=1,n.Ji(e,r),n.Ki(t,r)})})},t.prototype.Yi=function(t,e){return this.Hi(t,e)},t.prototype.Xi=function(t,e){var n=this;return this.Zi(t,e.targetId).next(function(){return Eb(t).delete(e.targetId)}).next(function(){return n.Qi(t)}).next(function(e){return _d(e.targetCount>0),e.targetCount-=1,n.Ki(t,e)})},t.prototype.tr=function(t,e,n){var r=this,i=0,o=[];return Eb(t).ls(function(s,a){var c=nb(a);c.sequenceNumber<=e&&null===n.get(c.targetId)&&(i++,o.push(r.Xi(t,c)))}).next(function(){return cm.$n(o)}).next(function(){return i})},t.prototype.mn=function(t,e){return Eb(t).ls(function(t,n){var r=nb(n);e(r)})},t.prototype.Qi=function(t){return Tb(t).get(Fm.key).next(function(t){return _d(null!==t),t})},t.prototype.Ki=function(t,e){return Tb(t).put(Fm.key,e)},t.prototype.Hi=function(t,e){return Eb(t).put(rb(this.Kt,e))},t.prototype.Ji=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.er=function(t){return this.Qi(t).next(function(t){return t.targetCount})},t.prototype.nr=function(t,e){var n=jf(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Eb(t).ls({range:r,index:Mm.queryTargetsIndexName},function(t,n,r){var o=nb(n);Nf(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.sr=function(t,e,n){var r=this,i=[],o=xb(t);return e.forEach(function(e){var s=km(e.path);i.push(o.put(new Lm(n,s))),i.push(r.mi.ir(t,n,e))}),cm.$n(i)},t.prototype.rr=function(t,e,n){var r=this,i=xb(t);return cm.forEach(e,function(e){var o=km(e.path);return cm.$n([i.delete([n,o]),r.mi.cr(t,n,e)])})},t.prototype.Zi=function(t,e){var n=xb(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.ar=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=xb(t),i=fg();return r.ls({range:n,hs:!0},function(t,e,n){var r=Em(t[1]),o=new Yd(r);i=i.add(o)}).next(function(){return i})},t.prototype.Mi=function(t,e){var n=km(e.path),r=IDBKeyRange.bound([n],[Ed(n)],!1,!0),i=0;return xb(t).ls({index:Lm.documentTargetsIndex,hs:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.Dn=function(t,e){return Eb(t).get(e).next(function(t){return t?nb(t):null})},t}();function Eb(t){return Hm(t,Mm.store)}function Tb(t){return Hm(t,Fm.store)}function xb(t){return Hm(t,Lm.store)}function Ob(t,e){var n=t[1],r=e[1],i=Pd(t[0],e[0]);return 0===i?Pd(n,r):i}var Ib=function(){function t(t){this.ur=t,this.buffer=new rg(Ob),this.hr=0}return t.prototype.lr=function(){return++this.hr},t.prototype._r=function(t){var e=[t,this.lr()];if(this.buffer.size<this.ur)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Ob(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Ab=function(){function t(t,e){this.dr=t,this.fs=e,this.wr=!1,this.Er=null}return t.prototype.start=function(t){-1!==this.dr.params.Js&&this.Tr(t)},t.prototype.stop=function(){this.Er&&(this.Er.cancel(),this.Er=null)},Object.defineProperty(t.prototype,"Ir",{get:function(){return null!==this.Er},enumerable:!1,configurable:!0}),t.prototype.Tr=function(t){var e=this,n=this.wr?3e5:6e4;gd("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.Er=this.fs.mr("lru_garbage_collection",n,function(){return Object(dd.b)(e,void 0,void 0,function(){var e;return Object(dd.d)(this,function(n){switch(n.label){case 0:this.Er=null,this.wr=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.Ar(this.dr)];case 2:return n.sent(),[3,7];case 3:return fm(e=n.sent())?(gd("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,pb(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.Tr(t)];case 8:return n.sent(),[2]}})})})},t}(),Rb=function(){function t(t,e){this.Rr=t,this.params=e}return t.prototype.Pr=function(t,e){return this.Rr.yr(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.gr=function(t,e){var n=this;if(0===e)return cm.resolve(qd.U);var r=new Ib(e);return this.Rr.mn(t,function(t){return r._r(t.sequenceNumber)}).next(function(){return n.Rr.Vr(t,function(t){return r._r(t)})}).next(function(){return r.maxValue})},t.prototype.tr=function(t,e,n){return this.Rr.tr(t,e,n)},t.prototype.pr=function(t,e){return this.Rr.pr(t,e)},t.prototype.br=function(t,e){var n=this;return-1===this.params.Js?(gd("LruGarbageCollector","Garbage collection skipped; disabled"),cm.resolve(db)):this.vr(t).next(function(r){return r<n.params.Js?(gd("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.Js),db):n.Sr(t,e)})},t.prototype.vr=function(t){return this.Rr.vr(t)},t.prototype.Sr=function(t,e){var n,r,i,o,s,a,c,u=this,l=Date.now();return this.Pr(t,this.params.Ys).next(function(e){return e>u.params.Xs?(gd("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+u.params.Xs+" from "+e),r=u.params.Xs):r=e,o=Date.now(),u.gr(t,r)}).next(function(r){return n=r,s=Date.now(),u.tr(t,n,e)}).next(function(e){return i=e,a=Date.now(),u.pr(t,n)}).next(function(t){return c=Date.now(),pd()<=uc.a.DEBUG&&gd("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(c-a)+"ms\nTotal Duration: "+(c-l)+"ms"),cm.resolve({js:!0,Gs:r,zs:i,Hs:t})})},t}(),Db=function(){function t(t,e){this.db=t,this.dr=function(t,e){return new Rb(t,e)}(this,e)}return t.prototype.yr=function(t){var e=this.Dr(t);return this.db.Cr().er(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.Dr=function(t){var e=0;return this.Vr(t,function(t){e++}).next(function(){return e})},t.prototype.mn=function(t,e){return this.db.Cr().mn(t,e)},t.prototype.Vr=function(t,e){return this.Nr(t,function(t,n){return e(n)})},t.prototype.ir=function(t,e,n){return jb(t,n)},t.prototype.cr=function(t,e,n){return jb(t,n)},t.prototype.tr=function(t,e,n){return this.db.Cr().tr(t,e,n)},t.prototype.Oi=function(t,e){return jb(t,e)},t.prototype.Fr=function(t,e){return function(t,e){var n=!1;return kb(t)._s(function(r){return _b(t,r,e).next(function(t){return t&&(n=!0),cm.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.pr=function(t,e){var n=this,r=this.db.kr().Or(),i=[],o=0;return this.Nr(t,function(s,a){if(a<=e){var c=n.Fr(t,s).next(function(e){if(!e)return o++,r.di(t,s).next(function(){return r.fi(s),xb(t).delete([0,km(s.path)])})});i.push(c)}}).next(function(){return cm.$n(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.Lt(t.Ss);return this.db.Cr().Yi(t,n)},t.prototype.Mr=function(t,e){return jb(t,e)},t.prototype.Nr=function(t,e){var n,r=xb(t),i=qd.U;return r.ls({index:Lm.documentTargetsIndex},function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==qd.U&&e(new Yd(Em(n)),i),i=s,n=o):i=qd.U}).next(function(){i!==qd.U&&e(new Yd(Em(n)),i)})},t.prototype.vr=function(t){return this.db.kr().Lr(t)},t}();function jb(t,e){return xb(t).put(function(t,e){return new Lm(0,km(t.path),e)}(e,t.Ss))}var Nb=function(){function t(t,e){this.Kt=t,this.Ii=e}return t.prototype.hi=function(t,e,n){return Fb(t).put(Ub(e),n)},t.prototype.fi=function(t,e){var n=Fb(t),r=Ub(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.$r(t,r)})},t.prototype.di=function(t,e){var n=this;return Fb(t).get(Ub(e)).next(function(t){return n.Br(t)})},t.prototype.qr=function(t,e){var n=this;return Fb(t).get(Ub(e)).next(function(t){var e=n.Br(t);return e?{_i:e,size:vb(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,r=ag();return this.Ur(t,e,function(t,e){var i=n.Br(e);r=r.Ht(t,i)}).next(function(){return r})},t.prototype.Qr=function(t,e){var n=this,r=ag(),i=new tg(Yd.J);return this.Ur(t,e,function(t,e){var o=n.Br(e);o?(r=r.Ht(t,o),i=i.Ht(t,vb(e))):(r=r.Ht(t,null),i=i.Ht(t,0))}).next(function(){return{Kr:r,Wr:i}})},t.prototype.Ur=function(t,e,n){if(e.nt())return cm.resolve();var r=IDBKeyRange.bound(e.first().path.rt(),e.last().path.rt()),i=e.ee(),o=i.ce();return Fb(t).ls({range:r},function(t,e,r){for(var s=Yd.Tt(t);o&&Yd.J(o,s)<0;)n(o,null),o=i.ce();o&&o.isEqual(s)&&(n(o,e),o=i.ae()?i.ce():null),o?r.rs(o.path.rt()):r.done()}).next(function(){for(;o;)n(o,null),o=i.ae()?i.ce():null})},t.prototype.jr=function(t,e,n){var r=this,i=ug(),o=e.path.length+1,s={};if(n.isEqual(Hd.min())){var a=e.path.rt();s.range=IDBKeyRange.lowerBound(a)}else{var c=e.path.rt(),u=$m(n);s.range=IDBKeyRange.lowerBound([c,u],!0),s.index=jm.collectionReadTimeIndex}return Fb(t).ls(s,function(t,n,s){if(t.length===o){var a=Xm(r.Kt,n);e.path.st(a.key.path)?a instanceof Of&&dp(e,a)&&(i=i.Ht(a.key,a)):s.done()}}).next(function(){return i})},t.prototype.Or=function(t){return new Mb(this,!!t&&t.Gr)},t.prototype.Lr=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return Lb(t).get(Nm.key).next(function(t){return _d(!!t),t})},t.prototype.$r=function(t,e){return Lb(t).put(Nm.key,e)},t.prototype.Br=function(t){if(t){var e=Xm(this.Kt,t);return e instanceof If&&e.version.isEqual(Hd.min())?null:e}return null},t}(),Mb=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).zr=e,r.Gr=n,r.Hr=new gb(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(dd.c)(e,t),e.prototype.Ti=function(t){var e=this,n=[],r=0,i=new rg(function(t,e){return Pd(t.ot(),e.ot())});return this.ci.forEach(function(o,s){var a=e.Hr.get(o);if(s._i){var c=Ym(e.zr.Kt,s._i,e.ui(o));i=i.add(o.path.Z());var u=vb(c);r+=u-a,n.push(e.zr.hi(t,o,c))}else if(r-=a,e.Gr){var l=Ym(e.zr.Kt,new If(o,Hd.min()),e.ui(o));n.push(e.zr.hi(t,o,l))}else n.push(e.zr.fi(t,o))}),i.forEach(function(r){n.push(e.zr.Ii.Qs(t,r))}),n.push(this.zr.updateMetadata(t,r)),cm.$n(n)},e.prototype.wi=function(t,e){var n=this;return this.zr.qr(t,e).next(function(t){return null===t?(n.Hr.set(e,0),null):(n.Hr.set(e,t.size),t._i)})},e.prototype.Ei=function(t,e){var n=this;return this.zr.Qr(t,e).next(function(t){var e=t.Kr;return t.Wr.forEach(function(t,e){n.Hr.set(t,e)}),e})},e}(mb);function Lb(t){return Hm(t,Nm.store)}function Fb(t){return Hm(t,jm.store)}function Ub(t){return t.path.rt()}var Qb=function(){function t(t){this.Kt=t}return t.prototype.Yn=function(t,e,n,r){var i=this;_d(n<r&&n>=0&&r<=11);var o=new um("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(xm.store)}(t),function(t){t.createObjectStore(Om.store,{keyPath:Om.keyPath}),t.createObjectStore(Im.store,{keyPath:Im.keyPath,autoIncrement:!0}).createIndex(Im.userMutationsIndex,Im.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Am.store)}(t),Vb(t),function(t){t.createObjectStore(jm.store)}(t));var s=cm.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Lm.store),t.deleteObjectStore(Mm.store),t.deleteObjectStore(Fm.store)}(t),Vb(t)),s=s.next(function(){return function(t){var e=t.store(Fm.store),n=new Fm(0,0,Hd.min().G(),0);return e.put(Fm.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(s=s.next(function(){return function(t,e){return e.store(Im.store).os().next(function(n){t.deleteObjectStore(Im.store),t.createObjectStore(Im.store,{keyPath:Im.keyPath,autoIncrement:!0}).createIndex(Im.userMutationsIndex,Im.userMutationsKeyPath,{unique:!0});var r=e.store(Im.store),i=n.map(function(t){return r.put(t)});return cm.$n(i)})}(t,o)})),s=s.next(function(){!function(t){t.createObjectStore(Qm.store,{keyPath:Qm.keyPath})}(t)})),n<5&&r>=5&&(s=s.next(function(){return i.Jr(o)})),n<6&&r>=6&&(s=s.next(function(){return function(t){t.createObjectStore(Nm.store)}(t),i.Yr(o)})),n<7&&r>=7&&(s=s.next(function(){return i.Xr(o)})),n<8&&r>=8&&(s=s.next(function(){return i.Zr(t,o)})),n<9&&r>=9&&(s=s.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(jm.store);e.createIndex(jm.readTimeIndex,jm.readTimeIndexPath,{unique:!1}),e.createIndex(jm.collectionReadTimeIndex,jm.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(s=s.next(function(){return i.eo(o)})),n<11&&r>=11&&(s=s.next(function(){!function(t){t.createObjectStore(Vm.store,{keyPath:Vm.keyPath})}(t),function(t){t.createObjectStore(Bm.store,{keyPath:Bm.keyPath})}(t)})),s},t.prototype.Yr=function(t){var e=0;return t.store(jm.store).ls(function(t,n){e+=vb(n)}).next(function(){var n=new Nm(e);return t.store(Nm.store).put(Nm.key,n)})},t.prototype.Jr=function(t){var e=this,n=t.store(Om.store),r=t.store(Im.store);return n.os().next(function(n){return cm.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.os(Im.userMutationsIndex,i).next(function(r){return cm.forEach(r,function(r){_d(r.userId===n.userId);var i=eb(e.Kt,r);return bb(t,n.userId,i).next(function(){})})})})})},t.prototype.Xr=function(t){var e=t.store(Lm.store),n=t.store(jm.store);return t.store(Fm.store).get(Fm.key).next(function(t){var r=[];return n.ls(function(n,i){var o=new Wd(n),s=function(t){return[0,km(t)]}(o);r.push(e.get(s).next(function(n){return n?cm.resolve():function(n){return e.put(new Lm(0,km(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return cm.$n(r)})})},t.prototype.Zr=function(t,e){t.createObjectStore(Um.store,{keyPath:Um.keyPath});var n=e.store(Um.store),r=new ub,i=function(t){if(r.add(t)){var e=t.et(),i=t.Z();return n.put({collectionId:e,parent:km(i)})}};return e.store(jm.store).ls({hs:!0},function(t,e){var n=new Wd(t);return i(n.Z())}).next(function(){return e.store(Am.store).ls({hs:!0},function(t,e){var n=Em(t[1]);return i(n.Z())})})},t.prototype.eo=function(t){var e=this,n=t.store(Mm.store);return n.ls(function(t,r){var i=nb(r),o=rb(e.Kt,i);return n.put(o)})},t}();function Vb(t){t.createObjectStore(Lm.store,{keyPath:Lm.keyPath}).createIndex(Lm.documentTargetsIndex,Lm.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Mm.store,{keyPath:Mm.keyPath}).createIndex(Mm.queryTargetsIndexName,Mm.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Fm.store)}var Bb="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",qb=function(){function t(e,n,r,i,o,s,a,c,u,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.no=o,this.window=s,this.document=a,this.so=u,this.io=l,this.ro=null,this.oo=!1,this.isPrimary=!1,this.networkEnabled=!0,this.co=null,this.inForeground=!1,this.ao=null,this.uo=null,this.ho=Number.NEGATIVE_INFINITY,this.lo=function(t){return Promise.resolve()},!t.Wn())throw new Od(xd.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.mi=new Db(this,i),this._o=n+"main",this.Kt=new Gm(c),this.fo=new lm(this._o,11,new Qb(this.Kt)),this.wo=new Sb(this.mi,this.Kt),this.Ii=new lb,this.Eo=function(t,e){return new Nb(t,e)}(this.Kt,this.Ii),this.To=new ob,this.window&&this.window.localStorage?this.Io=this.window.localStorage:(this.Io=null,!1===l&&md("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.mo().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Od(xd.FAILED_PRECONDITION,Bb);return t.Ao(),t.Ro(),t.Po(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.wo.ji(e)})}).then(function(e){t.ro=new qd(e,t.so)}).then(function(){t.oo=!0}).catch(function(e){return t.fo&&t.fo.close(),Promise.reject(e)})},t.prototype.yo=function(t){var e=this;return this.lo=function(n){return Object(dd.b)(e,void 0,void 0,function(){return Object(dd.d)(this,function(e){return this.Ir?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.Vo=function(t){var e=this;this.fo.Zn(function(n){return Object(dd.b)(e,void 0,void 0,function(){return Object(dd.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.po=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.no.ys(function(){return Object(dd.b)(e,void 0,void 0,function(){return Object(dd.d)(this,function(t){switch(t.label){case 0:return this.Ir?[4,this.mo()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.mo=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return Hb(e).put(new Qm(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.bo(e).next(function(e){e||(t.isPrimary=!1,t.no.vo(function(){return t.lo(!1)}))})}).next(function(){return t.So(e)}).next(function(n){return t.isPrimary&&!n?t.Do(e).next(function(){return!1}):!!n&&t.Co(e).next(function(){return!0})})}).catch(function(e){if(fm(e))return gd("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return gd("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.no.vo(function(){return t.lo(e)}),t.isPrimary=e})},t.prototype.bo=function(t){var e=this;return zb(t).get(xm.key).next(function(t){return cm.resolve(e.xo(t))})},t.prototype.No=function(t){return Hb(t).delete(this.clientId)},t.prototype.Fo=function(){return Object(dd.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(dd.d)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.Oo(this.ho,18e5)?[3,2]:(this.ho=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=Hm(t,Qm.store);return e.os().next(function(t){var n=r.ko(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return cm.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Io)for(e=0,n=t;e<n.length;e++)this.Io.removeItem(this.Mo(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.Po=function(){var t=this;this.uo=this.no.mr("client_metadata_refresh",4e3,function(){return t.mo().then(function(){return t.Fo()}).then(function(){return t.Po()})})},t.prototype.xo=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.So=function(t){var e=this;return this.io?cm.resolve(!0):zb(t).get(xm.key).next(function(n){if(null!==n&&e.Oo(n.leaseTimestampMs,5e3)&&!e.Lo(n.ownerId)){if(e.xo(n)&&e.networkEnabled)return!0;if(!e.xo(n)){if(!n.allowTabSynchronization)throw new Od(xd.FAILED_PRECONDITION,Bb);return!1}}return!(!e.networkEnabled||!e.inForeground)||Hb(t).os().next(function(t){return void 0===e.ko(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&gd("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.$o=function(){return Object(dd.b)(this,void 0,void 0,function(){var t=this;return Object(dd.d)(this,function(e){switch(e.label){case 0:return this.oo=!1,this.Bo(),this.uo&&(this.uo.cancel(),this.uo=null),this.qo(),this.Uo(),[4,this.fo.runTransaction("shutdown","readwrite",[xm.store,Qm.store],function(e){var n=new zm(e,qd.U);return t.Do(n).next(function(){return t.No(n)})})];case 1:return e.sent(),this.fo.close(),this.Qo(),[2]}})})},t.prototype.ko=function(t,e){var n=this;return t.filter(function(t){return n.Oo(t.updateTimeMs,e)&&!n.Lo(t.clientId)})},t.prototype.Ko=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return Hb(e).os().next(function(e){return t.ko(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"Ir",{get:function(){return this.oo},enumerable:!1,configurable:!0}),t.prototype.Wo=function(t){return yb.Ri(t,this.Kt,this.Ii,this.mi)},t.prototype.Cr=function(){return this.wo},t.prototype.kr=function(){return this.Eo},t.prototype.jo=function(){return this.Ii},t.prototype.Go=function(){return this.To},t.prototype.runTransaction=function(t,e,n){var r,i=this;return gd("IndexedDbPersistence","Starting transaction:",t),this.fo.runTransaction(t,"readonly"===e?"readonly":"readwrite",qm,function(o){return r=new zm(o,i.ro?i.ro.next():qd.U),"readwrite-primary"===e?i.bo(r).next(function(t){return!!t||i.So(r)}).next(function(e){if(!e)throw md("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.no.vo(function(){return i.lo(!1)}),new Od(xd.FAILED_PRECONDITION,wm);return n(r)}).next(function(t){return i.Co(r).next(function(){return t})}):i.zo(r).next(function(){return n(r)})}).then(function(t){return r.bs(),t})},t.prototype.zo=function(t){var e=this;return zb(t).get(xm.key).next(function(t){if(null!==t&&e.Oo(t.leaseTimestampMs,5e3)&&!e.Lo(t.ownerId)&&!e.xo(t)&&!(e.io||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Od(xd.FAILED_PRECONDITION,Bb)})},t.prototype.Co=function(t){var e=new xm(this.clientId,this.allowTabSynchronization,Date.now());return zb(t).put(xm.key,e)},t.Wn=function(){return lm.Wn()},t.prototype.Do=function(t){var e=this,n=zb(t);return n.get(xm.key).next(function(t){return e.xo(t)?(gd("IndexedDbPersistence","Releasing primary lease."),n.delete(xm.key)):cm.resolve()})},t.prototype.Oo=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(md("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Ao=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ao=function(){t.no.ys(function(){return t.inForeground="visible"===t.document.visibilityState,t.mo()})},this.document.addEventListener("visibilitychange",this.ao),this.inForeground="visible"===this.document.visibilityState)},t.prototype.qo=function(){this.ao&&(this.document.removeEventListener("visibilitychange",this.ao),this.ao=null)},t.prototype.Ro=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.co=function(){e.Bo(),e.no.ys(function(){return e.$o()})},this.window.addEventListener("unload",this.co))},t.prototype.Uo=function(){this.co&&(this.window.removeEventListener("unload",this.co),this.co=null)},t.prototype.Lo=function(t){var e;try{var n=null!==(null===(e=this.Io)||void 0===e?void 0:e.getItem(this.Mo(t)));return gd("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return md("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.Bo=function(){if(this.Io)try{this.Io.setItem(this.Mo(this.clientId),String(Date.now()))}catch(t){md("Failed to set zombie client id.",t)}},t.prototype.Qo=function(){if(this.Io)try{this.Io.removeItem(this.Mo(this.clientId))}catch(t){}},t.prototype.Mo=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function zb(t){return Hm(t,xm.store)}function Hb(t){return Hm(t,Qm.store)}function Kb(t,e){var n=t.projectId;return t.m||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Wb=function(){function t(t,e,n){this.Eo=t,this.Ho=e,this.Ii=n}return t.prototype.Jo=function(t,e){var n=this;return this.Ho.Si(t,e).next(function(r){return n.Yo(t,e,r)})},t.prototype.Yo=function(t,e,n){return this.Eo.di(t,e).next(function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].Ns(e,t);return t})},t.prototype.Xo=function(t,e,n){var r=ag();return e.forEach(function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].Ns(t,e);r=r.Ht(t,e)}),r},t.prototype.Zo=function(t,e){var n=this;return this.Eo.getEntries(t,e).next(function(e){return n.tc(t,e)})},t.prototype.tc=function(t,e){var n=this;return this.Ho.Di(t,e).next(function(r){var i=n.Xo(t,e,r),o=sg();return i.forEach(function(t,e){e||(e=new If(t,Hd.min())),o=o.Ht(t,e)}),o})},t.prototype.jr=function(t,e,n){return function(t){return Yd.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.ec(t,e.path):op(e)?this.nc(t,e,n):this.sc(t,e,n)},t.prototype.ec=function(t,e){return this.Jo(t,new Yd(e)).next(function(t){var e=ug();return t instanceof Of&&(e=e.Ht(t.key,t)),e})},t.prototype.nc=function(t,e,n){var r=this,i=e.collectionGroup,o=ug();return this.Ii.Ks(t,i).next(function(s){return cm.forEach(s,function(s){var a=function(t,e){return new Jf(e,null,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.sc(t,a,n).next(function(t){t.forEach(function(t,e){o=o.Ht(t,e)})})}).next(function(){return o})})},t.prototype.sc=function(t,e,n){var r,i,o=this;return this.Eo.jr(t,e,n).next(function(n){return r=n,o.Ho.xi(t,e)}).next(function(e){return o.ic(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var c=a[s],u=c.key,l=r.get(u),h=Lp(c,l,l,o.Ds);r=h instanceof Of?r.Ht(u,h):r.remove(u)}})}).next(function(){return r.forEach(function(t,n){dp(e,n)||(r=r.remove(t))}),r})},t.prototype.ic=function(t,e,n){for(var r=fg(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var c=a[s];c instanceof Bp&&null===n.get(c.key)&&(r=r.add(c.key))}var u=n;return this.Eo.getEntries(t,r).next(function(t){return t.forEach(function(t,e){null!==e&&e instanceof Of&&(u=u.Ht(t,e))}),u})},t}(),Gb=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.rc=n,this.oc=r}return t.cc=function(e,n){for(var r=fg(),i=fg(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Xb=function(){function t(){}return t.prototype.ac=function(t){this.uc=t},t.prototype.jr=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.Nt.length||1===t.Nt.length&&t.Nt[0].field.ht())}(e)||n.isEqual(Hd.min())?this.hc(t,e):this.uc.Zo(t,r).next(function(o){var s=i.lc(e,o);return(ep(e)||np(e))&&i._c(e.limitType,s,r,n)?i.hc(t,e):(pd()<=uc.a.DEBUG&&gd("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),hp(e)),i.uc.jr(t,e,n).next(function(t){return s.forEach(function(e){t=t.Ht(e.key,e)}),t}))})},t.prototype.lc=function(t,e){var n=new rg(fp(t));return e.forEach(function(e,r){r instanceof Of&&dp(t,r)&&(n=n.add(r))}),n},t.prototype._c=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.u(r)>0)},t.prototype.hc=function(t,e){return pd()<=uc.a.DEBUG&&gd("QueryEngine","Using full collection scan to execute query:",hp(e)),this.uc.jr(t,e,Hd.min())},t}(),Yb=function(){function t(t,e,n,r){this.persistence=t,this.fc=e,this.Kt=r,this.dc=new tg(Pd),this.wc=new gb(function(t){return jf(t)},Nf),this.Ec=Hd.min(),this.Ho=t.Wo(n),this.Tc=t.kr(),this.wo=t.Cr(),this.Ic=new Wb(this.Tc,this.Ho,this.persistence.jo()),this.To=t.Go(),this.fc.ac(this.Ic)}return t.prototype.Ar=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.br(n,e.dc)})},t}();function $b(t,e,n,r){return new Yb(t,e,n,r)}function Jb(t,e){return Object(dd.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(dd.d)(this,function(s){switch(s.label){case 0:return n=wd(t),r=n.Ho,i=n.Ic,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n.Ho.vi(t).next(function(s){return o=s,r=n.persistence.Wo(e),i=new Wb(n.Tc,r,n.persistence.jo()),r.vi(t)}).next(function(e){for(var n=[],r=[],s=fg(),a=0,c=o;a<c.length;a++){var u=c[a];n.push(u.batchId);for(var l=0,h=u.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var d=0,f=e;d<f.length;d++){var p=f[d];r.push(p.batchId);for(var g=0,m=p.mutations;g<m.length;g++)s=s.add(m[g].key)}return i.Zo(t,s).next(function(t){return{mc:t,Ac:n,Rc:r}})})})];case 1:return o=s.sent(),[2,(n.Ho=r,n.Ic=i,n.fc.ac(n.Ic),o)]}})})}function Zb(t,e){var n=wd(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.Tc.Or({Gr:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=cm.resolve();return o.forEach(function(t){s=s.next(function(){return r.di(e,t)}).next(function(e){var o=e,s=n.ks.get(t);_d(null!==s),(!o||o.version.u(s)<0)&&(o=i.Cs(t,o,n))&&r.hi(o,n.Os)})}),s.next(function(){return t.Ho.Ni(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n.Ho.ki(t)}).next(function(){return n.Ic.Zo(t,r)})})}function tv(t){var e=wd(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.wo.Wi(t)})}function ev(t,e){var n=wd(t),r=e.Mt,i=n.dc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.Tc.Or({Gr:!0});i=n.dc;var s=[];e.Oe.forEach(function(e,o){var a=i.get(o);if(a){s.push(n.wo.rr(t,e.Ke,o).next(function(){return n.wo.sr(t,e.Ue,o)}));var c=e.resumeToken;if(c.o()>0){var u=a.$t(c,r).Lt(t.Ss);i=i.Ht(o,u),function(t,e,n){return _d(e.resumeToken.o()>0),0===t.resumeToken.o()||e.Mt.j()-t.Mt.j()>=3e8||n.Ue.size+n.Qe.size+n.Ke.size>0}(a,u,e)&&s.push(n.wo.Yi(t,u))}}});var a=sg();if(e.Me.forEach(function(r,i){e.Le.has(r)&&s.push(n.persistence.mi.Mr(t,r))}),s.push(nv(t,o,e.Me,r,void 0).next(function(t){a=t})),!r.isEqual(Hd.min())){var c=n.wo.Wi(t).next(function(e){return n.wo.Gi(t,t.Ss,r)});s.push(c)}return cm.$n(s).next(function(){return o.apply(t)}).next(function(){return n.Ic.tc(t,a)})}).then(function(t){return n.dc=i,t})}function nv(t,e,n,r,i){var o=fg();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=sg();return n.forEach(function(n,s){var a=t.get(n),c=(null==i?void 0:i.get(n))||r;s instanceof If&&s.version.isEqual(Hd.min())?(e.fi(n,c),o=o.Ht(n,s)):null==a||s.version.u(a.version)>0||0===s.version.u(a.version)&&a.hasPendingWrites?(e.hi(s,c),o=o.Ht(n,s)):gd("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),o})}function rv(t,e){var n=wd(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n.Ho.pi(t,e)})}function iv(t,e){var n=wd(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.wo.nr(t,e).next(function(i){return i?cm.resolve(r=i):n.wo.Ui(t).next(function(i){return r=new gp(e,i,0,t.Ss),n.wo.zi(t,r).next(function(){return r})})})}).then(function(t){var r=n.dc.get(t.targetId);return(null===r||t.Mt.u(r.Mt)>0)&&(n.dc=n.dc.Ht(t.targetId,t),n.wc.set(e,t.targetId)),t})}function ov(t,e,n){return Object(dd.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(dd.d)(this,function(a){switch(a.label){case 0:r=wd(t),i=r.dc.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.mi.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!fm(s=a.sent()))throw s;return gd("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.dc=r.dc.remove(e),r.wc.delete(i.target),[2]}})})}function sv(t,e,n){var r=wd(t),i=Hd.min(),o=fg();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=wd(t),i=r.wc.get(n);return void 0!==i?cm.resolve(r.dc.get(i)):r.wo.nr(e,n)}(r,t,ap(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.wo.ar(t,e.targetId).next(function(t){o=t})}).next(function(){return r.fc.jr(t,e,n?i:Hd.min(),n?o:fg())}).next(function(t){return{documents:t,Pc:o}})})}function av(t,e){var n=wd(t),r=wd(n.wo),i=n.dc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.Dn(t,e).next(function(t){return t?t.target:null})})}function cv(t){var e=wd(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=wd(t),i=sg(),o=$m(n),s=Fb(e),a=IDBKeyRange.lowerBound(o,!0);return s.ls({index:jm.readTimeIndex,range:a},function(t,e){var n=Xm(r.Kt,e);i=i.Ht(n.key,n),o=e.readTime}).next(function(){return{gs:i,readTime:Jm(o)}})}(e.Tc,t,e.Ec)}).then(function(t){var n=t.gs;return e.Ec=t.readTime,n})}function uv(t){return Object(dd.b)(this,void 0,void 0,function(){var e;return Object(dd.d)(this,function(n){return[2,(e=wd(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=Fb(t),n=Hd.min();return e.ls({index:jm.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=Jm(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.Ec=t})]})})}function lv(t,e,n,r){return Object(dd.b)(this,void 0,void 0,function(){var i,o,s,a,c,u,l,h,d,f;return Object(dd.d)(this,function(p){switch(p.label){case 0:for(i=wd(t),o=fg(),s=sg(),a=hg(),c=0,u=n;c<u.length;c++)h=e.yc((l=u[c]).metadata.name),l.document&&(o=o.add(h)),s=s.Ht(h,e.gc(l)),a=a.Ht(h,e.Vc(l.metadata.readTime));return d=i.Tc.Or({Gr:!0}),[4,iv(i,function(t){return ap(tp(Wd.ct("__bundle__/docs/"+t)))}(r))];case 1:return f=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return nv(t,d,s,Hd.min(),a).next(function(e){return d.apply(t),e}).next(function(e){return i.wo.Zi(t,f.targetId).next(function(){return i.wo.sr(t,o,f.targetId)}).next(function(){return i.Ic.tc(t,e)})})})]}})})}function hv(t,e,n){return void 0===n&&(n=fg()),Object(dd.b)(this,void 0,void 0,function(){var r,i;return Object(dd.d)(this,function(o){switch(o.label){case 0:return[4,iv(t,ap(ib(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=wd(t)).persistence.runTransaction("Save named query","readwrite",function(t){var o=jg(e.readTime);if(r.Mt.u(o)>=0)return i.To.qs(t,e);var s=r.$t(Td.h,o);return i.dc=i.dc.Ht(s.targetId,s),i.wo.Yi(t,s).next(function(){return i.wo.Zi(t,r.targetId)}).next(function(){return i.wo.sr(t,n,r.targetId)}).next(function(){return i.To.qs(t,e)})})]}})})}var dv=function(){function t(t){this.Kt=t,this.bc=new Map,this.vc=new Map}return t.prototype.Ls=function(t,e){return cm.resolve(this.bc.get(e))},t.prototype.$s=function(t,e){var n;return this.bc.set(e.id,{id:(n=e).id,version:n.version,createTime:jg(n.createTime)}),cm.resolve()},t.prototype.Bs=function(t,e){return cm.resolve(this.vc.get(e))},t.prototype.qs=function(t,e){return this.vc.set(e.name,function(t){return{name:t.name,query:ib(t.bundledQuery),readTime:jg(t.readTime)}}(e)),cm.resolve()},t}(),fv=function(){function t(){this.Sc=new rg(pv.Dc),this.Cc=new rg(pv.xc)}return t.prototype.nt=function(){return this.Sc.nt()},t.prototype.ir=function(t,e){var n=new pv(t,e);this.Sc=this.Sc.add(n),this.Cc=this.Cc.add(n)},t.prototype.Nc=function(t,e){var n=this;t.forEach(function(t){return n.ir(t,e)})},t.prototype.cr=function(t,e){this.Fc(new pv(t,e))},t.prototype.Oc=function(t,e){var n=this;t.forEach(function(t){return n.cr(t,e)})},t.prototype.kc=function(t){var e=this,n=new Yd(new Wd([])),r=new pv(n,t),i=new pv(n,t+1),o=[];return this.Cc.Ae([r,i],function(t){e.Fc(t),o.push(t.key)}),o},t.prototype.Mc=function(){var t=this;this.Sc.forEach(function(e){return t.Fc(e)})},t.prototype.Fc=function(t){this.Sc=this.Sc.delete(t),this.Cc=this.Cc.delete(t)},t.prototype.Lc=function(t){var e=new Yd(new Wd([])),n=new pv(e,t),r=new pv(e,t+1),i=fg();return this.Cc.Ae([n,r],function(t){i=i.add(t.key)}),i},t.prototype.Mi=function(t){var e=new pv(t,0),n=this.Sc.Pe(e);return null!==n&&t.isEqual(n.key)},t}(),pv=function(){function t(t,e){this.key=t,this.$c=e}return t.Dc=function(t,e){return Yd.J(t.key,e.key)||Pd(t.$c,e.$c)},t.xc=function(t,e){return Pd(t.$c,e.$c)||Yd.J(t.key,e.key)},t}(),gv=function(){function t(t,e){this.Ii=t,this.mi=e,this.Ho=[],this.Bc=1,this.qc=new rg(pv.Dc)}return t.prototype.Pi=function(t){return cm.resolve(0===this.Ho.length)},t.prototype.yi=function(t,e,n,r){var i=this.Bc;this.Bc++;var o=new Km(i,e,n,r);this.Ho.push(o);for(var s=0,a=r;s<a.length;s++){var c=a[s];this.qc=this.qc.add(new pv(c.key,i)),this.Ii.Qs(t,c.key.path.Z())}return cm.resolve(o)},t.prototype.gi=function(t,e){return cm.resolve(this.Uc(e))},t.prototype.pi=function(t,e){var n=this.Qc(e+1),r=n<0?0:n;return cm.resolve(this.Ho.length>r?this.Ho[r]:null)},t.prototype.bi=function(){return cm.resolve(0===this.Ho.length?-1:this.Bc-1)},t.prototype.vi=function(t){return cm.resolve(this.Ho.slice())},t.prototype.Si=function(t,e){var n=this,r=new pv(e,0),i=new pv(e,Number.POSITIVE_INFINITY),o=[];return this.qc.Ae([r,i],function(t){var e=n.Uc(t.$c);o.push(e)}),cm.resolve(o)},t.prototype.Di=function(t,e){var n=this,r=new rg(Pd);return e.forEach(function(t){var e=new pv(t,0),i=new pv(t,Number.POSITIVE_INFINITY);n.qc.Ae([e,i],function(t){r=r.add(t.$c)})}),cm.resolve(this.Kc(r))},t.prototype.xi=function(t,e){var n=e.path,r=n.length+1,i=n;Yd.Et(i)||(i=i.child(""));var o=new pv(new Yd(i),0),s=new rg(Pd);return this.qc.Re(function(t){var e=t.key.path;return!!n.st(e)&&(e.length===r&&(s=s.add(t.$c)),!0)},o),cm.resolve(this.Kc(s))},t.prototype.Kc=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.Uc(t);null!==r&&n.push(r)}),n},t.prototype.Ni=function(t,e){var n=this;_d(0===this.Wc(e.batchId,"removed")),this.Ho.shift();var r=this.qc;return cm.forEach(e.mutations,function(i){var o=new pv(i.key,e.batchId);return r=r.delete(o),n.mi.Oi(t,i.key)}).next(function(){n.qc=r})},t.prototype.Fi=function(t){},t.prototype.Mi=function(t,e){var n=new pv(e,0),r=this.qc.Pe(n);return cm.resolve(e.isEqual(r&&r.key))},t.prototype.ki=function(t){return cm.resolve()},t.prototype.Wc=function(t,e){return this.Qc(t)},t.prototype.Qc=function(t){return 0===this.Ho.length?0:t-this.Ho[0].batchId},t.prototype.Uc=function(t){var e=this.Qc(t);return e<0||e>=this.Ho.length?null:this.Ho[e]},t}(),mv=function(){function t(t,e){this.Ii=t,this.jc=e,this.docs=new tg(Yd.J),this.size=0}return t.prototype.hi=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.jc(e);return this.docs=this.docs.Ht(r,{_i:e,size:s,readTime:n}),this.size+=s-o,this.Ii.Qs(t,r.path.Z())},t.prototype.fi=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.di=function(t,e){var n=this.docs.get(e);return cm.resolve(n?n._i:null)},t.prototype.getEntries=function(t,e){var n=this,r=ag();return e.forEach(function(t){var e=n.docs.get(t);r=r.Ht(t,e?e._i:null)}),cm.resolve(r)},t.prototype.jr=function(t,e,n){for(var r=ug(),i=new Yd(e.path.child("")),o=this.docs.ne(i);o.ae();){var s=o.ce(),a=s.value,c=a._i,u=a.readTime;if(!e.path.st(s.key.path))break;u.u(n)<=0||c instanceof Of&&dp(e,c)&&(r=r.Ht(c.key,c))}return cm.resolve(r)},t.prototype.Gc=function(t,e){return cm.forEach(this.docs,function(t){return e(t)})},t.prototype.Or=function(t){return new bv(this)},t.prototype.Lr=function(t){return cm.resolve(this.size)},t}(),bv=function(t){function e(e){var n=this;return(n=t.call(this)||this).zr=e,n}return Object(dd.c)(e,t),e.prototype.Ti=function(t){var e=this,n=[];return this.ci.forEach(function(r,i){i&&i._i?n.push(e.zr.hi(t,i._i,e.ui(r))):e.zr.fi(r)}),cm.$n(n)},e.prototype.wi=function(t,e){return this.zr.di(t,e)},e.prototype.Ei=function(t,e){return this.zr.getEntries(t,e)},e}(mb),vv=function(){function t(t){this.persistence=t,this.zc=new gb(function(t){return jf(t)},Nf),this.lastRemoteSnapshotVersion=Hd.min(),this.highestTargetId=0,this.Hc=0,this.Jc=new fv,this.targetCount=0,this.Yc=Pb.Bi()}return t.prototype.mn=function(t,e){return this.zc.forEach(function(t,n){return e(n)}),cm.resolve()},t.prototype.Wi=function(t){return cm.resolve(this.lastRemoteSnapshotVersion)},t.prototype.ji=function(t){return cm.resolve(this.Hc)},t.prototype.Ui=function(t){return this.highestTargetId=this.Yc.next(),cm.resolve(this.highestTargetId)},t.prototype.Gi=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Hc&&(this.Hc=e),cm.resolve()},t.prototype.Hi=function(t){this.zc.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Yc=new Pb(e),this.highestTargetId=e),t.sequenceNumber>this.Hc&&(this.Hc=t.sequenceNumber)},t.prototype.zi=function(t,e){return this.Hi(e),this.targetCount+=1,cm.resolve()},t.prototype.Yi=function(t,e){return this.Hi(e),cm.resolve()},t.prototype.Xi=function(t,e){return this.zc.delete(e.target),this.Jc.kc(e.targetId),this.targetCount-=1,cm.resolve()},t.prototype.tr=function(t,e,n){var r=this,i=0,o=[];return this.zc.forEach(function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.zc.delete(s),o.push(r.Zi(t,a.targetId)),i++)}),cm.$n(o).next(function(){return i})},t.prototype.er=function(t){return cm.resolve(this.targetCount)},t.prototype.nr=function(t,e){var n=this.zc.get(e)||null;return cm.resolve(n)},t.prototype.sr=function(t,e,n){return this.Jc.Nc(e,n),cm.resolve()},t.prototype.rr=function(t,e,n){this.Jc.Oc(e,n);var r=this.persistence.mi,i=[];return r&&e.forEach(function(e){i.push(r.Oi(t,e))}),cm.$n(i)},t.prototype.Zi=function(t,e){return this.Jc.kc(e),cm.resolve()},t.prototype.ar=function(t,e){var n=this.Jc.Lc(e);return cm.resolve(n)},t.prototype.Mi=function(t,e){return cm.resolve(this.Jc.Mi(e))},t}(),yv=function(){function t(t,e){var n=this;this.Xc={},this.ro=new qd(0),this.oo=!1,this.oo=!0,this.mi=t(this),this.wo=new vv(this),this.Ii=new cb,this.Eo=function(t,e){return new mv(t,function(t){return n.mi.Zc(t)})}(this.Ii),this.Kt=new Gm(e),this.To=new dv(this.Kt)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.$o=function(){return this.oo=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Ir",{get:function(){return this.oo},enumerable:!1,configurable:!0}),t.prototype.Vo=function(){},t.prototype.po=function(){},t.prototype.jo=function(){return this.Ii},t.prototype.Wo=function(t){var e=this.Xc[t.R()];return e||(e=new gv(this.Ii,this.mi),this.Xc[t.R()]=e),e},t.prototype.Cr=function(){return this.wo},t.prototype.kr=function(){return this.Eo},t.prototype.Go=function(){return this.To},t.prototype.runTransaction=function(t,e,n){var r=this;gd("MemoryPersistence","Starting transaction:",t);var i=new _v(this.ro.next());return this.mi.ta(),n(i).next(function(t){return r.mi.ea(i).next(function(){return t})}).Mn().then(function(t){return i.bs(),t})},t.prototype.na=function(t,e){return cm.Bn(Object.values(this.Xc).map(function(n){return function(){return n.Mi(t,e)}}))},t}(),_v=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ss=e,n}return Object(dd.c)(e,t),e}(Cm),wv=function(){function t(t){this.persistence=t,this.sa=new fv,this.ia=null}return t.ra=function(e){return new t(e)},Object.defineProperty(t.prototype,"oa",{get:function(){if(this.ia)return this.ia;throw yd()},enumerable:!1,configurable:!0}),t.prototype.ir=function(t,e,n){return this.sa.ir(n,e),this.oa.delete(n.toString()),cm.resolve()},t.prototype.cr=function(t,e,n){return this.sa.cr(n,e),this.oa.add(n.toString()),cm.resolve()},t.prototype.Oi=function(t,e){return this.oa.add(e.toString()),cm.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.sa.kc(e.targetId).forEach(function(t){return n.oa.add(t.toString())});var r=this.persistence.Cr();return r.ar(t,e.targetId).next(function(t){t.forEach(function(t){return n.oa.add(t.toString())})}).next(function(){return r.Xi(t,e)})},t.prototype.ta=function(){this.ia=new Set},t.prototype.ea=function(t){var e=this,n=this.persistence.kr().Or();return cm.forEach(this.oa,function(r){var i=Yd.ft(r);return e.ca(t,i).next(function(t){t||n.fi(i)})}).next(function(){return e.ia=null,n.apply(t)})},t.prototype.Mr=function(t,e){var n=this;return this.ca(t,e).next(function(t){t?n.oa.delete(e.toString()):n.oa.add(e.toString())})},t.prototype.Zc=function(t){return 0},t.prototype.ca=function(t,e){var n=this;return cm.Bn([function(){return cm.resolve(n.sa.Mi(e))},function(){return n.persistence.Cr().Mi(t,e)},function(){return n.persistence.na(t,e)}])},t}();function Cv(t,e){return"firestore_clients_"+t+"_"+e}function kv(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.A()&&(r+="_"+e.uid),r}function Pv(t,e){return"firestore_targets_"+t+"_"+e}var Sv=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.aa=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),s=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(s=new Od(i.error.code,i.error.message)),o?new t(e,n,i.state,s):(md("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Ev=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.aa=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new Od(r.error.code,r.error.message)),i?new t(e,r.state,o):(md("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Tv=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.aa=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=gg(),s=0;i&&s<r.activeTargetIds.length;++s)i=hf(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(md("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),xv=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.aa=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(md("SharedClientState","Failed to parse online state: "+e),null)},t}(),Ov=function(){function t(){this.activeTargetIds=gg()}return t.prototype.ha=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.la=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.ua=function(){var t={activeTargetIds:this.activeTargetIds.rt(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Iv=function(){function t(t,e,n,r,i){this.window=t,this.no=e,this.persistenceKey=n,this._a=r,this.fa=null,this.da=null,this.L=null,this.wa=this.Ea.bind(this),this.Ta=new tg(Pd),this.Ir=!1,this.Ia=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ma=Cv(this.persistenceKey,this._a),this.Aa=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Ta=this.Ta.Ht(this._a,new Ov),this.Ra=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Pa=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.ya=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.ga=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Va=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.wa)}return t.Wn=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(dd.b)(this,void 0,void 0,function(){var t,e,n,r,i,o,s,a,c,u,l=this;return Object(dd.d)(this,function(h){switch(h.label){case 0:return[4,this.fa.Ko()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this._a&&(i=this.getItem(Cv(this.persistenceKey,r)))&&(o=Tv.aa(r,i))&&(this.Ta=this.Ta.Ht(o.clientId,o));for(this.pa(),(s=this.storage.getItem(this.ga))&&(a=this.ba(s))&&this.va(a),c=0,u=this.Ia;c<u.length;c++)this.Ea(u[c]);return this.Ia=[],this.window.addEventListener("unload",function(){return l.$o()}),this.Ir=!0,[2]}})})},t.prototype.q=function(t){this.setItem(this.Aa,JSON.stringify(t))},t.prototype.Sa=function(){return this.Da(this.Ta)},t.prototype.Ca=function(t){var e=!1;return this.Ta.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.xa=function(t){this.Na(t,"pending")},t.prototype.Fa=function(t,e,n){this.Na(t,e,n),this.Oa(t)},t.prototype.ka=function(t){var e="not-current";if(this.Ca(t)){var n=this.storage.getItem(Pv(this.persistenceKey,t));if(n){var r=Ev.aa(t,n);r&&(e=r.state)}}return this.Ma.ha(t),this.pa(),e},t.prototype.La=function(t){this.Ma.la(t),this.pa()},t.prototype.$a=function(t){return this.Ma.activeTargetIds.has(t)},t.prototype.Ba=function(t){this.removeItem(Pv(this.persistenceKey,t))},t.prototype.qa=function(t,e,n){this.Ua(t,e,n)},t.prototype.Qa=function(t,e,n){var r=this;e.forEach(function(t){r.Oa(t)}),this.currentUser=t,n.forEach(function(t){r.xa(t)})},t.prototype.Ka=function(t){this.Wa(t)},t.prototype.ja=function(){this.Ga()},t.prototype.$o=function(){this.Ir&&(this.window.removeEventListener("storage",this.wa),this.removeItem(this.ma),this.Ir=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return gd("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){gd("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){gd("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Ea=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(gd("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ma)return void md("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.no.vo(function(){return Object(dd.b)(e,void 0,void 0,function(){var t,e,r,i,o,s;return Object(dd.d)(this,function(a){if(this.Ir){if(null!==n.key)if(this.Ra.test(n.key)){if(null==n.newValue)return t=this.za(n.key),[2,this.Ha(t,null)];if(e=this.Ja(n.key,n.newValue))return[2,this.Ha(e.clientId,e)]}else if(this.Pa.test(n.key)){if(null!==n.newValue&&(r=this.Ya(n.key,n.newValue)))return[2,this.Xa(r)]}else if(this.ya.test(n.key)){if(null!==n.newValue&&(i=this.Za(n.key,n.newValue)))return[2,this.tu(i)]}else if(n.key===this.ga){if(null!==n.newValue&&(o=this.ba(n.newValue)))return[2,this.va(o)]}else if(n.key===this.Aa)(s=function(t){var e=qd.U;if(null!=t)try{var n=JSON.parse(t);_d("number"==typeof n),e=n}catch(t){md("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==qd.U&&this.L(s);else if(n.key===this.Va)return[2,this.fa.eu()]}else this.Ia.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Ma",{get:function(){return this.Ta.get(this._a)},enumerable:!1,configurable:!0}),t.prototype.pa=function(){this.setItem(this.ma,this.Ma.ua())},t.prototype.Na=function(t,e,n){var r=new Sv(this.currentUser,t,e,n),i=kv(this.persistenceKey,this.currentUser,t);this.setItem(i,r.ua())},t.prototype.Oa=function(t){var e=kv(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Wa=function(t){this.storage.setItem(this.ga,JSON.stringify({clientId:this._a,onlineState:t}))},t.prototype.Ua=function(t,e,n){var r=Pv(this.persistenceKey,t),i=new Ev(t,e,n);this.setItem(r,i.ua())},t.prototype.Ga=function(){this.setItem(this.Va,"value-not-used")},t.prototype.za=function(t){var e=this.Ra.exec(t);return e?e[1]:null},t.prototype.Ja=function(t,e){var n=this.za(t);return Tv.aa(n,e)},t.prototype.Ya=function(t,e){var n=this.Pa.exec(t),r=Number(n[1]);return Sv.aa(new Ld(void 0!==n[2]?n[2]:null),r,e)},t.prototype.Za=function(t,e){var n=this.ya.exec(t),r=Number(n[1]);return Ev.aa(r,e)},t.prototype.ba=function(t){return xv.aa(t)},t.prototype.Xa=function(t){return Object(dd.b)(this,void 0,void 0,function(){return Object(dd.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.fa.nu(t.batchId,t.state,t.error)]:(gd("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.tu=function(t){return this.fa.su(t.targetId,t.state,t.error)},t.prototype.Ha=function(t,e){var n=this,r=e?this.Ta.Ht(t,e):this.Ta.remove(t),i=this.Da(this.Ta),o=this.Da(r),s=[],a=[];return o.forEach(function(t){i.has(t)||s.push(t)}),i.forEach(function(t){o.has(t)||a.push(t)}),this.fa.iu(s,a).then(function(){n.Ta=r})},t.prototype.va=function(t){this.Ta.get(t.clientId)&&this.da(t.onlineState)},t.prototype.Da=function(t){var e=gg();return t.forEach(function(t,n){e=e.ye(n.activeTargetIds)}),e},t}(),Av=function(){function t(){this.ru=new Ov,this.ou={},this.da=null,this.L=null}return t.prototype.xa=function(t){},t.prototype.Fa=function(t,e,n){},t.prototype.ka=function(t){return this.ru.ha(t),this.ou[t]||"not-current"},t.prototype.qa=function(t,e,n){this.ou[t]=e},t.prototype.La=function(t){this.ru.la(t)},t.prototype.$a=function(t){return this.ru.activeTargetIds.has(t)},t.prototype.Ba=function(t){delete this.ou[t]},t.prototype.Sa=function(){return this.ru.activeTargetIds},t.prototype.Ca=function(t){return this.ru.activeTargetIds.has(t)},t.prototype.start=function(){return this.ru=new Ov,Promise.resolve()},t.prototype.Qa=function(t,e,n){},t.prototype.Ka=function(t){},t.prototype.$o=function(){},t.prototype.q=function(t){},t.prototype.ja=function(){},t}(),Rv=function(){function t(){}return t.prototype.cu=function(t){},t.prototype.$o=function(){},t}(),Dv=function(){function t(){var t=this;this.au=function(){return t.uu()},this.hu=function(){return t.lu()},this._u=[],this.fu()}return t.prototype.cu=function(t){this._u.push(t)},t.prototype.$o=function(){window.removeEventListener("online",this.au),window.removeEventListener("offline",this.hu)},t.prototype.fu=function(){window.addEventListener("online",this.au),window.addEventListener("offline",this.hu)},t.prototype.uu=function(){gd("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(0)},t.prototype.lu=function(){gd("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(1)},t.Wn=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),jv={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Nv=function(){function t(t){this.du=t.du,this.wu=t.wu}return t.prototype.Eu=function(t){this.Tu=t},t.prototype.Iu=function(t){this.mu=t},t.prototype.onMessage=function(t){this.Au=t},t.prototype.close=function(){this.wu()},t.prototype.send=function(t){this.du(t)},t.prototype.Ru=function(){this.Tu()},t.prototype.Pu=function(t){this.mu(t)},t.prototype.yu=function(t){this.Au(t)},t}(),Mv=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.I=e.I,n}return Object(dd.c)(e,t),e.prototype.Du=function(t,e,n,r){return new Promise(function(i,o){var s=new hd;s.listenOnce(cd.COMPLETE,function(){try{switch(s.getLastErrorCode()){case ad.NO_ERROR:var e=s.getResponseJson();gd("Connection","XHR received:",JSON.stringify(e)),i(e);break;case ad.TIMEOUT:gd("Connection",'RPC "'+t+'" timed out'),o(new Od(xd.DEADLINE_EXCEEDED,"Request time out"));break;case ad.HTTP_ERROR:var n=s.getStatus();if(gd("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(xd).indexOf(e)>=0?e:xd.UNKNOWN}(r.status);o(new Od(a,r.message))}else o(new Od(xd.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Od(xd.UNAVAILABLE,"Connection failed."));break;default:yd()}}finally{gd("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);s.send(e,"POST",a,n,15)})},e.prototype.xu=function(t,e){var n=[this.Vu,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new nd,i=ol(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.T.projectId+"/databases/"+this.T.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.I};this.Su(o.initMessageHeaders,e),Object(lc.x)()||Object(lc.A)()||Object(lc.t)()||Object(lc.v)()||Object(lc.B)()||Object(lc.s)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");gd("Connection","Creating WebChannel: "+s,o);var a=r.createWebChannel(s,o),c=!1,u=!1,l=new Nv({du:function(t){u?gd("Connection","Not sending because WebChannel is closed:",t):(c||(gd("Connection","Opening WebChannel transport."),a.open(),c=!0),gd("Connection","WebChannel sending:",t),a.send(t))},wu:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,ld.EventType.OPEN,function(){u||gd("Connection","WebChannel transport opened.")}),h(a,ld.EventType.CLOSE,function(){u||(u=!0,gd("Connection","WebChannel transport closed"),l.Pu())}),h(a,ld.EventType.ERROR,function(t){u||(u=!0,bd("Connection","WebChannel transport errored:",t),l.Pu(new Od(xd.UNAVAILABLE,"The operation could not be completed")))}),h(a,ld.EventType.MESSAGE,function(t){var e;if(!u){var n=t.data[0];_d(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){gd("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=Wp[t];if(void 0!==e)return Zp(e)}(i),s=r.message;void 0===o&&(o=xd.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),u=!0,l.Pu(new Od(o,s)),a.close()}else gd("Connection","WebChannel received:",n),l.yu(n)}}),h(i,ud.STAT_EVENT,function(t){10===t.stat?gd("Connection","Detected buffering proxy"):11===t.stat&&gd("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Ru()},0),l},e}(function(){function t(t){this.gu=t,this.T=t.T,this.Vu=(t.ssl?"https":"http")+"://"+t.host,this.pu="projects/"+this.T.projectId+"/databases/"+this.T.database+"/documents"}return t.prototype.bu=function(t,e,n,r){var i=this.vu(t,e);gd("RestConnection","Sending: ",i,n);var o={};return this.Su(o,r),this.Du(t,i,o,n).then(function(t){return gd("RestConnection","Received: ",t),t},function(e){throw bd("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Cu=function(t,e,n,r){return this.bu(t,e,n,r)},t.prototype.Su=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.2.1",t["Content-Type"]="text/plain",e)for(var n in e.V)e.V.hasOwnProperty(n)&&(t[n]=e.V[n])},t.prototype.vu=function(t,e){return this.Vu+"/v1/"+e+":"+jv[t]},t}());function Lv(){return"undefined"!=typeof window?window:null}function Fv(){return"undefined"!=typeof document?document:null}function Uv(t){return new Ig(t,!0)}var Qv=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.no=t,this.ds=e,this.Nu=n,this.Fu=r,this.Ou=i,this.ku=0,this.Mu=null,this.Lu=Date.now(),this.reset()}return t.prototype.reset=function(){this.ku=0},t.prototype.$u=function(){this.ku=this.Ou},t.prototype.Bu=function(t){var e=this;this.cancel();var n=Math.floor(this.ku+this.qu()),r=Math.max(0,Date.now()-this.Lu),i=Math.max(0,n-r);i>0&&gd("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.ku+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Mu=this.no.mr(this.ds,i,function(){return e.Lu=Date.now(),t()}),this.ku*=this.Fu,this.ku<this.Nu&&(this.ku=this.Nu),this.ku>this.Ou&&(this.ku=this.Ou)},t.prototype.Uu=function(){null!==this.Mu&&(this.Mu.Ps(),this.Mu=null)},t.prototype.cancel=function(){null!==this.Mu&&(this.Mu.cancel(),this.Mu=null)},t.prototype.qu=function(){return(Math.random()-.5)*this.ku},t}(),Vv=function(){function t(t,e,n,r,i,o){this.no=t,this.Qu=n,this.Ku=r,this.Wu=i,this.listener=o,this.state=0,this.ju=0,this.Gu=null,this.stream=null,this.zu=new Qv(t,e)}return t.prototype.Hu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Ju=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Yu()},t.prototype.stop=function(){return Object(dd.b)(this,void 0,void 0,function(){return Object(dd.d)(this,function(t){switch(t.label){case 0:return this.Hu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.Xu=function(){this.state=0,this.zu.reset()},t.prototype.Zu=function(){var t=this;this.Ju()&&null===this.Gu&&(this.Gu=this.no.mr(this.Qu,6e4,function(){return t.th()}))},t.prototype.eh=function(t){this.nh(),this.stream.send(t)},t.prototype.th=function(){return Object(dd.b)(this,void 0,void 0,function(){return Object(dd.d)(this,function(t){return this.Ju()?[2,this.close(0)]:[2]})})},t.prototype.nh=function(){this.Gu&&(this.Gu.cancel(),this.Gu=null)},t.prototype.close=function(t,e){return Object(dd.b)(this,void 0,void 0,function(){return Object(dd.d)(this,function(n){switch(n.label){case 0:return this.nh(),this.zu.cancel(),this.ju++,3!==t?this.zu.reset():e&&e.code===xd.RESOURCE_EXHAUSTED?(md(e.toString()),md("Using maximum backoff delay to prevent overloading the backend."),this.zu.$u()):e&&e.code===xd.UNAUTHENTICATED&&this.Wu.v(),null!==this.stream&&(this.sh(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Iu(e)];case 1:return n.sent(),[2]}})})},t.prototype.sh=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.ih(this.ju),n=this.ju;this.Wu.getToken().then(function(e){t.ju===n&&t.rh(e)},function(n){e(function(){var e=new Od(xd.UNKNOWN,"Fetching auth token failed: "+n.message);return t.oh(e)})})},t.prototype.rh=function(t){var e=this,n=this.ih(this.ju);this.stream=this.ah(t),this.stream.Eu(function(){n(function(){return e.state=2,e.listener.Eu()})}),this.stream.Iu(function(t){n(function(){return e.oh(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.Yu=function(){var t=this;this.state=4,this.zu.Bu(function(){return Object(dd.b)(t,void 0,void 0,function(){return Object(dd.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.oh=function(t){return gd("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.ih=function(t){var e=this;return function(n){e.no.ys(function(){return e.ju===t?n():(gd("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),Bv=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).Kt=i,s}return Object(dd.c)(e,t),e.prototype.ah=function(t){return this.Ku.xu("Listen",t)},e.prototype.onMessage=function(t){this.zu.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:yd()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.qt?(_d(void 0===e||"string"==typeof e),Td.fromBase64String(e||"")):(_d(void 0===e||e instanceof Uint8Array),Td.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?xd.UNKNOWN:Zp(t.code);return new Od(e,t.message||"")}(a);n=new kg(r,i,o,s||null)}else if("documentChange"in e){i=Fg(t,(r=e.documentChange).document.name),o=jg(r.document.updateTime);var a=new Sf({mapValue:{fields:r.document.fields}}),c=(s=new Of(i,o,a,{}),r.targetIds||[]);n=new wg(c,r.removedTargetIds||[],s.key,s)}else if("documentDelete"in e)i=Fg(t,(r=e.documentDelete).document),o=r.readTime?jg(r.readTime):Hd.min(),a=new If(i,o),n=new wg([],s=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=Fg(t,(r=e.documentRemove).document),n=new wg([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return yd();var u=e.filter;i=new $p(r=u.count||0),n=new Cg(o=u.targetId,i)}return n}(this.Kt,t),n=function(t){if(!("targetChange"in t))return Hd.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Hd.min():e.readTime?jg(e.readTime):Hd.min()}(t);return this.listener.uh(e,n)},e.prototype.hh=function(t){var e={};e.database=Vg(this.Kt),e.addTarget=function(t,e){var n,r=e.target;return(n=Mf(r)?{documents:Wg(t,r)}:{query:Gg(t,r)}).targetId=e.targetId,e.resumeToken.o()>0?n.resumeToken=Rg(t,e.resumeToken):e.Mt.u(Hd.min())>0&&(n.readTime=Ag(t,e.Mt.G())),n}(this.Kt,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return yd()}}(0,e.kt);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.eh(e)},e.prototype.lh=function(t){var e={};e.database=Vg(this.Kt),e.removeTarget=t,this.eh(e)},e}(Vv),qv=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).Kt=i,s._h=!1,s}return Object(dd.c)(e,t),Object.defineProperty(e.prototype,"fh",{get:function(){return this._h},enumerable:!1,configurable:!0}),e.prototype.start=function(){this._h=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.sh=function(){this._h&&this.dh([])},e.prototype.ah=function(t){return this.Ku.xu("Write",t)},e.prototype.onMessage=function(t){if(_d(!!t.streamToken),this.lastStreamToken=t.streamToken,this._h){this.zu.reset();var e=function(t,e){return t&&t.length>0?(_d(void 0!==e),t.map(function(t){return function(t,e){var n=jg(t.updateTime?t.updateTime:e);n.isEqual(Hd.min())&&(n=jg(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new Rp(n,r)}(t,e)})):[]}(t.writeResults,t.commitTime),n=jg(t.commitTime);return this.listener.wh(n,e)}return _d(!t.writeResults||0===t.writeResults.length),this._h=!0,this.listener.Eh()},e.prototype.Th=function(){var t={};t.database=Vg(this.Kt),this.eh(t)},e.prototype.dh=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return Hg(e.Kt,t)})};this.eh(n)},e}(Vv),zv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Ku=n,i.Kt=r,i.Ih=!1,i}return Object(dd.c)(e,t),e.prototype.mh=function(){if(this.Ih)throw new Od(xd.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.bu=function(t,e,n){var r=this;return this.mh(),this.credentials.getToken().then(function(i){return r.Ku.bu(t,e,n,i)}).catch(function(t){throw t.code===xd.UNAUTHENTICATED&&r.credentials.v(),t})},e.prototype.Cu=function(t,e,n){var r=this;return this.mh(),this.credentials.getToken().then(function(i){return r.Ku.Cu(t,e,n,i)}).catch(function(t){throw t.code===xd.UNAUTHENTICATED&&r.credentials.v(),t})},e.prototype.terminate=function(){this.Ih=!1},e}(function(){}),Hv=function(){function t(t,e){this.fs=t,this.da=e,this.state="Unknown",this.Ah=0,this.Rh=null,this.Ph=!0}return t.prototype.yh=function(){var t=this;0===this.Ah&&(this.gh("Unknown"),this.Rh=this.fs.mr("online_state_timeout",1e4,function(){return t.Rh=null,t.Vh("Backend didn't respond within 10 seconds."),t.gh("Offline"),Promise.resolve()}))},t.prototype.ph=function(t){"Online"===this.state?this.gh("Unknown"):(this.Ah++,this.Ah>=1&&(this.bh(),this.Vh("Connection failed 1 times. Most recent error: "+t.toString()),this.gh("Offline")))},t.prototype.set=function(t){this.bh(),this.Ah=0,"Online"===t&&(this.Ph=!1),this.gh(t)},t.prototype.gh=function(t){t!==this.state&&(this.state=t,this.da(t))},t.prototype.Vh=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Ph?(md(e),this.Ph=!1):gd("OnlineStateTracker",e)},t.prototype.bh=function(){null!==this.Rh&&(this.Rh.cancel(),this.Rh=null)},t}(),Kv=function(t,e,n,r,i){var o=this;this.Sh=t,this.Dh=e,this.fs=n,this.Ch={},this.xh=[],this.Nh=new Map,this.Fh=new Set,this.Oh=[],this.kh=i,this.kh.cu(function(t){n.ys(function(){return Object(dd.b)(o,void 0,void 0,function(){return Object(dd.d)(this,function(t){switch(t.label){case 0:return ey(this)?(gd("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(dd.b)(this,void 0,void 0,function(){var e;return Object(dd.d)(this,function(n){switch(n.label){case 0:return(e=wd(t)).Fh.add(4),[4,Gv(e)];case 1:return n.sent(),e.Mh.set("Unknown"),e.Fh.delete(4),[4,Wv(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Mh=new Hv(n,r)};function Wv(t){return Object(dd.b)(this,void 0,void 0,function(){var e,n;return Object(dd.d)(this,function(r){switch(r.label){case 0:if(!ey(t))return[3,4];e=0,n=t.Oh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Gv(t){return Object(dd.b)(this,void 0,void 0,function(){var e,n;return Object(dd.d)(this,function(r){switch(r.label){case 0:e=0,n=t.Oh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Xv(t,e){var n=wd(t);n.Nh.has(e.targetId)||(n.Nh.set(e.targetId,e),ty(n)?Zv(n):my(n).Ju()&&$v(n,e))}function Yv(t,e){var n=wd(t),r=my(n);n.Nh.delete(e),r.Ju()&&Jv(n,e),0===n.Nh.size&&(r.Ju()?r.Zu():ey(n)&&n.Mh.set("Unknown"))}function $v(t,e){t.Lh.cn(e.targetId),my(t).hh(e)}function Jv(t,e){t.Lh.cn(e),my(t).lh(e)}function Zv(t){t.Lh=new Sg({Sn:function(e){return t.Ch.Sn(e)},Dn:function(e){return t.Nh.get(e)||null}}),my(t).start(),t.Mh.yh()}function ty(t){return ey(t)&&!my(t).Hu()&&t.Nh.size>0}function ey(t){return 0===wd(t).Fh.size}function ny(t){t.Lh=void 0}function ry(t){return Object(dd.b)(this,void 0,void 0,function(){return Object(dd.d)(this,function(e){return t.Nh.forEach(function(e,n){$v(t,e)}),[2]})})}function iy(t,e){return Object(dd.b)(this,void 0,void 0,function(){return Object(dd.d)(this,function(n){return ny(t),ty(t)?(t.Mh.ph(e),Zv(t)):t.Mh.set("Unknown"),[2]})})}function oy(t,e,n){return Object(dd.b)(this,void 0,void 0,function(){var r,i,o;return Object(dd.d)(this,function(s){switch(s.label){case 0:if(t.Mh.set("Online"),!(e instanceof kg&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Object(dd.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(dd.d)(this,function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.Nh.has(o=i[r])?[4,t.Ch.$h(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.Nh.delete(o),t.Lh.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),gd("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,sy(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof wg?t.Lh.wn(e):e instanceof Cg?t.Lh.yn(e):t.Lh.In(e),n.isEqual(Hd.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,tv(t.Sh)];case 8:return i=s.sent(),n.u(i)>=0?[4,function(t,e){var n=t.Lh.pn(e);return n.Oe.forEach(function(n,r){if(n.resumeToken.o()>0){var i=t.Nh.get(r);i&&t.Nh.set(r,i.$t(n.resumeToken,e))}}),n.ke.forEach(function(e){var n=t.Nh.get(e);if(n){t.Nh.set(e,n.$t(Td.h,n.Mt)),Jv(t,e);var r=new gp(n.target,e,1,n.sequenceNumber);$v(t,r)}}),t.Ch.Bh(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return gd("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,sy(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}function sy(t,e,n){return Object(dd.b)(this,void 0,void 0,function(){var r=this;return Object(dd.d)(this,function(i){switch(i.label){case 0:if(!fm(e))throw e;return t.Fh.add(1),[4,Gv(t)];case 1:return i.sent(),t.Mh.set("Offline"),n||(n=function(){return tv(t.Sh)}),t.fs.vo(function(){return Object(dd.b)(r,void 0,void 0,function(){return Object(dd.d)(this,function(e){switch(e.label){case 0:return gd("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Fh.delete(1),[4,Wv(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function ay(t,e){return e().catch(function(n){return sy(t,n,e)})}function cy(t){return Object(dd.b)(this,void 0,void 0,function(){var e,n,r,i,o;return Object(dd.d)(this,function(s){switch(s.label){case 0:e=wd(t),n=by(e),r=e.xh.length>0?e.xh[e.xh.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return ey(t)&&t.xh.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,rv(e.Sh,r)];case 3:return null===(i=s.sent())?(0===e.xh.length&&n.Zu(),[3,7]):(r=i.batchId,function(t,e){t.xh.push(e);var n=by(t);n.Ju()&&n.fh&&n.dh(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,sy(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return uy(e)&&ly(e),[2]}})})}function uy(t){return ey(t)&&!by(t).Hu()&&t.xh.length>0}function ly(t){by(t).start()}function hy(t){return Object(dd.b)(this,void 0,void 0,function(){return Object(dd.d)(this,function(e){return by(t).Th(),[2]})})}function dy(t){return Object(dd.b)(this,void 0,void 0,function(){var e,n,r;return Object(dd.d)(this,function(i){for(e=by(t),n=0,r=t.xh;n<r.length;n++)e.dh(r[n].mutations);return[2]})})}function fy(t,e,n){return Object(dd.b)(this,void 0,void 0,function(){var r,i;return Object(dd.d)(this,function(o){switch(o.label){case 0:return r=t.xh.shift(),i=Wm.from(r,e,n),[4,ay(t,function(){return t.Ch.qh(i)})];case 1:return o.sent(),[4,cy(t)];case 2:return o.sent(),[2]}})})}function py(t,e){return Object(dd.b)(this,void 0,void 0,function(){return Object(dd.d)(this,function(n){switch(n.label){case 0:return e&&by(t).fh?[4,function(t,e){return Object(dd.b)(this,void 0,void 0,function(){var n,r;return Object(dd.d)(this,function(i){switch(i.label){case 0:return Jp(r=e.code)&&r!==xd.ABORTED?(n=t.xh.shift(),by(t).Xu(),[4,ay(t,function(){return t.Ch.Uh(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,cy(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return uy(t)&&ly(t),[2]}})})}function gy(t,e){return Object(dd.b)(this,void 0,void 0,function(){var n;return Object(dd.d)(this,function(r){switch(r.label){case 0:return n=wd(t),e?(n.Fh.delete(2),[4,Wv(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Fh.add(2),[4,Gv(n)]);case 3:r.sent(),n.Mh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function my(t){var e=this;return t.Qh||(t.Qh=function(t,e,n){var r=wd(t);return r.mh(),new Bv(e,r.Ku,r.credentials,r.Kt,n)}(t.Dh,t.fs,{Eu:ry.bind(null,t),Iu:iy.bind(null,t),uh:oy.bind(null,t)}),t.Oh.push(function(n){return Object(dd.b)(e,void 0,void 0,function(){return Object(dd.d)(this,function(e){switch(e.label){case 0:return n?(t.Qh.Xu(),ty(t)?Zv(t):t.Mh.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Qh.stop()];case 2:e.sent(),ny(t),e.label=3;case 3:return[2]}})})})),t.Qh}function by(t){var e=this;return t.Kh||(t.Kh=function(t,e,n){var r=wd(t);return r.mh(),new qv(e,r.Ku,r.credentials,r.Kt,n)}(t.Dh,t.fs,{Eu:hy.bind(null,t),Iu:py.bind(null,t),Eh:dy.bind(null,t),wh:fy.bind(null,t)}),t.Oh.push(function(n){return Object(dd.b)(e,void 0,void 0,function(){return Object(dd.d)(this,function(e){switch(e.label){case 0:return n?(t.Kh.Xu(),[4,cy(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kh.stop()];case 3:e.sent(),t.xh.length>0&&(gd("RemoteStore","Stopping write stream with "+t.xh.length+" pending writes"),t.xh=[]),e.label=4;case 4:return[2]}})})})),t.Kh}var vy=function(){this.Wh=void 0,this.listeners=[]},yy=function(){this.queries=new gb(function(t){return lp(t)},up),this.onlineState="Unknown",this.jh=new Set};function _y(t,e){return Object(dd.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,c;return Object(dd.d)(this,function(u){switch(u.label){case 0:if(n=wd(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new vy),!i)return[3,4];u.label=1;case 1:return u.trys.push([1,3,,4]),s=o,[4,n.Gh(r)];case 2:return s.Wh=u.sent(),[3,4];case 3:return a=u.sent(),c=ym(a,"Initialization of query '"+hp(e.query)+"' failed"),[2,void e.onError(c)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zh(n.onlineState),o.Wh&&e.Hh(o.Wh)&&Py(n),[2]}})})}function wy(t,e){return Object(dd.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(dd.d)(this,function(a){return n=wd(t),i=!1,(o=n.queries.get(r=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.Jh(r))]:[2]})})}function Cy(t,e){for(var n=wd(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=n.queries.get(s.query);if(a){for(var c=0,u=a.listeners;c<u.length;c++)u[c].Hh(s)&&(r=!0);a.Wh=s}}r&&Py(n)}function ky(t,e,n){var r=wd(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function Py(t){t.jh.forEach(function(t){t.next()})}var Sy=function(){function t(t,e,n){this.query=t,this.Yh=e,this.Xh=!1,this.Zh=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hh=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new vg(t.query,t.docs,t.De,e,t.Ce,t.fromCache,t.xe,!0)}var o=!1;return this.Xh?this.tl(t)&&(this.Yh.next(t),o=!0):this.el(t,this.onlineState)&&(this.nl(t),o=!0),this.Zh=t,o},t.prototype.onError=function(t){this.Yh.error(t)},t.prototype.zh=function(t){this.onlineState=t;var e=!1;return this.Zh&&!this.Xh&&this.el(this.Zh,t)&&(this.nl(this.Zh),e=!0),e},t.prototype.el=function(t,e){return!t.fromCache||!(this.options.sl&&"Offline"!==e||t.docs.nt()&&"Offline"!==e)},t.prototype.tl=function(t){return t.docChanges.length>0||!!(t.xe||this.Zh&&this.Zh.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.nl=function(t){t=vg.Fe(t.query,t.docs,t.Ce,t.fromCache),this.Xh=!0,this.Yh.next(t)},t}(),Ey=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.il=function(){return"metadata"in this.payload},t}(),Ty=function(){function t(t){this.Kt=t}return t.prototype.yc=function(t){return Fg(this.Kt,t)},t.prototype.gc=function(t){return t.metadata.exists?zg(this.Kt,t.document,!1):new If(this.yc(t.metadata.name),this.Vc(t.metadata.readTime))},t.prototype.Vc=function(t){return jg(t)},t}(),xy=function(){function t(t,e,n){this.rl=t,this.Sh=e,this.Kt=n,this.queries=[],this.documents=[],this.progress=Oy(t)}return t.prototype.ol=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.cl=function(t){for(var e=new Map,n=new Ty(this.Kt),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.yc(o.metadata.name),a=0,c=o.metadata.queries;a<c.length;a++){var u=c[a],l=(e.get(u)||fg()).add(s);e.set(u,l)}}return e},t.prototype.complete=function(){return Object(dd.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(dd.d)(this,function(o){switch(o.label){case 0:return[4,lv(this.Sh,new Ty(this.Kt),this.documents,this.rl.id)];case 1:t=o.sent(),e=this.cl(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,hv(this.Sh,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new _m(Object.assign({},this.progress),t))]}})})},t}();function Oy(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}var Iy=function(t){this.key=t},Ay=function(t){this.key=t},Ry=function(){function t(t,e){this.query=t,this.al=e,this.ul=null,this.qe=!1,this.hl=fg(),this.Ce=fg(),this.ll=fp(t),this._l=new mg(this.ll)}return Object.defineProperty(t.prototype,"fl",{get:function(){return this.al},enumerable:!1,configurable:!0}),t.prototype.dl=function(t,e){var n=this,r=e?e.wl:new bg,i=e?e._l:this._l,o=e?e.Ce:this.Ce,s=i,a=!1,c=ep(this.query)&&i.size===this.query.limit?i.last():null,u=np(this.query)&&i.size===this.query.limit?i.first():null;if(t.Zt(function(t,e){var l=i.get(t),h=e instanceof Of?e:null;h&&(h=dp(n.query,h)?h:null);var d=!!l&&n.Ce.has(l.key),f=!!h&&(h.bt||n.Ce.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?d!==f&&(r.track({type:3,doc:h}),p=!0):n.El(l,h)||(r.track({type:2,doc:h}),p=!0,(c&&n.ll(h,c)>0||u&&n.ll(h,u)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(c||u)&&(a=!0)),p&&(h?(s=s.add(h),o=f?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))}),ep(this.query)||np(this.query))for(;s.size>this.query.limit;){var l=ep(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{_l:s,wl:r,_c:a,Ce:o}},t.prototype.El=function(t,e){return t.bt&&e.hasCommittedMutations&&!e.bt},t.prototype.Ti=function(t,e,n){var r=this,i=this._l;this._l=t._l,this.Ce=t.Ce;var o=t.wl.Se();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yd()}};return n(t)-n(e)}(t.type,e.type)||r.ll(t.doc,e.doc)}),this.Tl(n);var s=e?this.Il():[],a=0===this.hl.size&&this.qe?1:0,c=a!==this.ul;return this.ul=a,0!==o.length||c?{snapshot:new vg(this.query,t._l,i,o,t.Ce,0===a,c,!1),ml:s}:{ml:s}},t.prototype.zh=function(t){return this.qe&&"Offline"===t?(this.qe=!1,this.Ti({_l:this._l,wl:new bg,Ce:this.Ce,_c:!1},!1)):{ml:[]}},t.prototype.Al=function(t){return!this.al.has(t)&&!!this._l.has(t)&&!this._l.get(t).bt},t.prototype.Tl=function(t){var e=this;t&&(t.Ue.forEach(function(t){return e.al=e.al.add(t)}),t.Qe.forEach(function(t){}),t.Ke.forEach(function(t){return e.al=e.al.delete(t)}),this.qe=t.qe)},t.prototype.Il=function(){var t=this;if(!this.qe)return[];var e=this.hl;this.hl=fg(),this._l.forEach(function(e){t.Al(e.key)&&(t.hl=t.hl.add(e.key))});var n=[];return e.forEach(function(e){t.hl.has(e)||n.push(new Ay(e))}),this.hl.forEach(function(t){e.has(t)||n.push(new Iy(t))}),n},t.prototype.Rl=function(t){this.al=t.Pc,this.hl=fg();var e=this.dl(t.documents);return this.Ti(e,!0)},t.prototype.Pl=function(){return vg.Fe(this.query,this._l,this.Ce,0===this.ul)},t}(),Dy=function(t,e,n){this.query=t,this.targetId=e,this.view=n},jy=function(t){this.key=t,this.yl=!1},Ny=function(){function t(t,e,n,r,i,o){this.Sh=t,this.gl=e,this.Vl=n,this.pl=r,this.currentUser=i,this.bl=o,this.vl={},this.Sl=new gb(function(t){return lp(t)},up),this.Dl=new Map,this.Cl=[],this.xl=new tg(Yd.J),this.Nl=new Map,this.Fl=new fv,this.Ol={},this.kl=new Map,this.Ml=Pb.qi(),this.onlineState="Unknown",this.Ll=void 0}return Object.defineProperty(t.prototype,"$l",{get:function(){return!0===this.Ll},enumerable:!1,configurable:!0}),t}();function My(t,e){return Object(dd.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(dd.d)(this,function(a){switch(a.label){case 0:return n=h_(t),(i=n.Sl.get(e))?(n.pl.ka(i.targetId),r=i.view.Pl(),[3,4]):[3,1];case 1:return[4,iv(n.Sh,ap(e))];case 2:return o=a.sent(),s=n.pl.ka(o.targetId),[4,Ly(n,e,o.targetId,"current"===s)];case 3:r=a.sent(),n.$l&&Xv(n.gl,o),a.label=4;case 4:return[2,r]}})})}function Ly(t,e,n,r){return Object(dd.b)(this,void 0,void 0,function(){var i,o,s,a,c,u;return Object(dd.d)(this,function(l){switch(l.label){case 0:return t.Bl=function(e,n,r){return function(t,e,n,r){return Object(dd.b)(this,void 0,void 0,function(){var i,o,s;return Object(dd.d)(this,function(a){switch(a.label){case 0:return(i=e.view.dl(n))._c?[4,sv(t.Sh,e.query,!1).then(function(t){return e.view.dl(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.Oe.get(e.targetId),s=e.view.Ti(i,t.$l,o),[2,(Yy(t,e.targetId,s.ml),s.snapshot)]}})})}(t,e,n,r)},[4,sv(t.Sh,e,!0)];case 1:return i=l.sent(),o=new Ry(e,i.Pc),s=o.dl(i.documents),a=_g.Be(n,r&&"Offline"!==t.onlineState),c=o.Ti(s,t.$l,a),Yy(t,n,c.ml),u=new Dy(e,n,o),[2,(t.Sl.set(e,u),t.Dl.has(n)?t.Dl.get(n).push(e):t.Dl.set(n,[e]),c.snapshot)]}})})}function Fy(t,e){return Object(dd.b)(this,void 0,void 0,function(){var n,r,i;return Object(dd.d)(this,function(o){switch(o.label){case 0:return n=wd(t),r=n.Sl.get(e),(i=n.Dl.get(r.targetId)).length>1?[2,(n.Dl.set(r.targetId,i.filter(function(t){return!up(t,e)})),void n.Sl.delete(e))]:n.$l?(n.pl.La(r.targetId),n.pl.Ca(r.targetId)?[3,2]:[4,ov(n.Sh,r.targetId,!1).then(function(){n.pl.Ba(r.targetId),Yv(n.gl,r.targetId),Gy(n,r.targetId)}).catch(pb)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Gy(n,r.targetId),[4,ov(n.Sh,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function Uy(t,e,n){return Object(dd.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(dd.d)(this,function(a){switch(a.label){case 0:r=d_(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=wd(t),i=zd.now(),o=e.reduce(function(t,e){return t.add(e.key)},fg());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Ic.Zo(t,o).next(function(o){n=o;for(var s=[],a=0,c=e;a<c.length;a++){var u=c[a],l=Fp(u,n.get(u.key));null!=l&&s.push(new Bp(u.key,l,Tf(l.proto.mapValue),Dp.exists(!0)))}return r.Ho.yi(t,i,s,e)})}).then(function(t){var e=t.Fs(n);return{batchId:t.batchId,ci:e}})}(r.Sh,e)];case 2:return i=a.sent(),r.pl.xa(i.batchId),function(t,e,n){var r=t.Ol[t.currentUser.R()];r||(r=new tg(Pd)),r=r.Ht(e,n),t.Ol[t.currentUser.R()]=r}(r,i.batchId,n),[4,Zy(r,i.ci)];case 3:return a.sent(),[4,cy(r.gl)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=ym(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}})})}function Qy(t,e){return Object(dd.b)(this,void 0,void 0,function(){var n,r;return Object(dd.d)(this,function(i){switch(i.label){case 0:n=wd(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,ev(n.Sh,e)];case 2:return r=i.sent(),e.Oe.forEach(function(t,e){var r=n.Nl.get(e);r&&(_d(t.Ue.size+t.Qe.size+t.Ke.size<=1),t.Ue.size>0?r.yl=!0:t.Qe.size>0?_d(r.yl):t.Ke.size>0&&(_d(r.yl),r.yl=!1))}),[4,Zy(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,pb(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function Vy(t,e,n){var r=wd(t);if(r.$l&&0===n||!r.$l&&1===n){var i=[];r.Sl.forEach(function(t,n){var r=n.view.zh(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=wd(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zh(e)&&(r=!0)}),r&&Py(n)}(r.Vl,e),i.length&&r.vl.uh(i),r.onlineState=e,r.$l&&r.pl.Ka(e)}}function By(t,e,n){return Object(dd.b)(this,void 0,void 0,function(){var r,i,o,s,a,c;return Object(dd.d)(this,function(u){switch(u.label){case 0:return(r=wd(t)).pl.qa(e,"rejected",n),i=r.Nl.get(e),(o=i&&i.key)?(s=(s=new tg(Yd.J)).Ht(o,new If(o,Hd.min())),a=fg().add(o),c=new yg(Hd.min(),new Map,new rg(Pd),s,a),[4,Qy(r,c)]):[3,2];case 1:return u.sent(),r.xl=r.xl.remove(o),r.Nl.delete(e),Jy(r),[3,4];case 2:return[4,ov(r.Sh,e,!1).then(function(){return Gy(r,e,n)}).catch(pb)];case 3:u.sent(),u.label=4;case 4:return[2]}})})}function qy(t,e){return Object(dd.b)(this,void 0,void 0,function(){var n,r,i;return Object(dd.d)(this,function(o){switch(o.label){case 0:n=wd(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Zb(n.Sh,e)];case 2:return i=o.sent(),Wy(n,r,null),Ky(n,r),n.pl.Fa(r,"acknowledged"),[4,Zy(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,pb(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function zy(t,e,n){return Object(dd.b)(this,void 0,void 0,function(){var r,i;return Object(dd.d)(this,function(o){switch(o.label){case 0:r=wd(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=wd(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n.Ho.gi(t,e).next(function(e){return _d(null!==e),r=e.keys(),n.Ho.Ni(t,e)}).next(function(){return n.Ho.ki(t)}).next(function(){return n.Ic.Zo(t,r)})})}(r.Sh,e)];case 2:return i=o.sent(),Wy(r,e,n),Ky(r,e),r.pl.Fa(e,"rejected",n),[4,Zy(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,pb(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function Hy(t,e){return Object(dd.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(dd.d)(this,function(a){switch(a.label){case 0:ey((n=wd(t)).gl)||gd("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=wd(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e.Ho.bi(t)})}(n.Sh)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.kl.get(r)||[]).push(e),n.kl.set(r,i),[3,4]);case 3:return o=a.sent(),s=ym(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}})})}function Ky(t,e){(t.kl.get(e)||[]).forEach(function(t){t.resolve()}),t.kl.delete(e)}function Wy(t,e,n){var r=wd(t),i=r.Ol[r.currentUser.R()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ol[r.currentUser.R()]=i}}function Gy(t,e,n){void 0===n&&(n=null),t.pl.La(e);for(var r=0,i=t.Dl.get(e);r<i.length;r++){var o=i[r];t.Sl.delete(o),n&&t.vl.ql(o,n)}t.Dl.delete(e),t.$l&&t.Fl.kc(e).forEach(function(e){t.Fl.Mi(e)||Xy(t,e)})}function Xy(t,e){var n=t.xl.get(e);null!==n&&(Yv(t.gl,n),t.xl=t.xl.remove(e),t.Nl.delete(n),Jy(t))}function Yy(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Iy?(t.Fl.ir(o.key,e),$y(t,o)):o instanceof Ay?(gd("SyncEngine","Document no longer in limbo: "+o.key),t.Fl.cr(o.key,e),t.Fl.Mi(o.key)||Xy(t,o.key)):yd()}}function $y(t,e){var n=e.key;t.xl.get(n)||(gd("SyncEngine","New document in limbo: "+n),t.Cl.push(n),Jy(t))}function Jy(t){for(;t.Cl.length>0&&t.xl.size<t.bl;){var e=t.Cl.shift(),n=t.Ml.next();t.Nl.set(n,new jy(e)),t.xl=t.xl.Ht(e,n),Xv(t.gl,new gp(ap(tp(e.path)),n,2,qd.U))}}function Zy(t,e,n){return Object(dd.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(dd.d)(this,function(a){switch(a.label){case 0:return r=wd(t),i=[],o=[],s=[],r.Sl.nt()?[3,3]:(r.Sl.forEach(function(t,a){s.push(r.Bl(a,e,n).then(function(t){if(t){r.$l&&r.pl.qa(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Gb.cc(a.targetId,t);o.push(e)}}))}),[4,Promise.all(s)]);case 1:return a.sent(),r.vl.uh(i),[4,function(t,e){return Object(dd.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,c,u;return Object(dd.d)(this,function(l){switch(l.label){case 0:n=wd(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return cm.forEach(e,function(e){return cm.forEach(e.rc,function(r){return n.persistence.mi.ir(t,e.targetId,r)}).next(function(){return cm.forEach(e.oc,function(r){return n.persistence.mi.cr(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!fm(r=l.sent()))throw r;return gd("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=(s=o[i]).targetId,s.fromCache||(c=n.dc.get(a),u=c.Bt(c.Mt),n.dc=n.dc.Ht(a,u));return[2]}})})}(r.Sh,o)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function t_(t,e){return Object(dd.b)(this,void 0,void 0,function(){var n,r;return Object(dd.d)(this,function(i){switch(i.label){case 0:return(n=wd(t)).currentUser.isEqual(e)?[3,3]:(gd("SyncEngine","User change. New user:",e.R()),[4,Jb(n.Sh,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.kl.forEach(function(t){t.forEach(function(t){t.reject(new Od(xd.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.kl.clear()}(n),n.pl.Qa(e,r.Ac,r.Rc),[4,Zy(n,r.mc)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function e_(t,e){var n=wd(t),r=n.Nl.get(e);if(r&&r.yl)return fg().add(r.key);var i=fg(),o=n.Dl.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var c=n.Sl.get(a[s]);i=i.ye(c.view.fl)}return i}function n_(t,e){return Object(dd.b)(this,void 0,void 0,function(){var n,r,i;return Object(dd.d)(this,function(o){switch(o.label){case 0:return[4,sv((n=wd(t)).Sh,e.query,!0)];case 1:return r=o.sent(),i=e.view.Rl(r),[2,(n.$l&&Yy(n,e.targetId,i.ml),i)]}})})}function r_(t){return Object(dd.b)(this,void 0,void 0,function(){var e;return Object(dd.d)(this,function(n){return[2,cv((e=wd(t)).Sh).then(function(t){return Zy(e,t)})]})})}function i_(t,e,n,r){return Object(dd.b)(this,void 0,void 0,function(){var i,o;return Object(dd.d)(this,function(s){switch(s.label){case 0:return[4,function(t,e){var n=wd(t),r=wd(n.Ho);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.Vi(t,e).next(function(e){return e?n.Ic.Zo(t,e):cm.resolve(null)})})}((i=wd(t)).Sh,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,cy(i.gl)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Wy(i,e,r||null),Ky(i,e),function(t,e){wd(wd(t).Ho).Fi(e)}(i.Sh,e)):yd(),s.label=4;case 4:return[4,Zy(i,o)];case 5:return s.sent(),[3,7];case 6:gd("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}})})}function o_(t,e){return Object(dd.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,c;return Object(dd.d)(this,function(u){switch(u.label){case 0:return h_(n=wd(t)),d_(n),!0!==e||!0===n.Ll?[3,3]:(r=n.pl.Sa(),[4,s_(n,r.rt())]);case 1:return i=u.sent(),n.Ll=!0,[4,gy(n.gl,!0)];case 2:for(u.sent(),o=0,s=i;o<s.length;o++)Xv(n.gl,s[o]);return[3,7];case 3:return!1!==e||!1===n.Ll?[3,7]:(a=[],c=Promise.resolve(),n.Dl.forEach(function(t,e){n.pl.$a(e)?a.push(e):c=c.then(function(){return Gy(n,e),ov(n.Sh,e,!0)}),Yv(n.gl,e)}),[4,c]);case 4:return u.sent(),[4,s_(n,a)];case 5:return u.sent(),function(t){var e=wd(t);e.Nl.forEach(function(t,n){Yv(e.gl,n)}),e.Fl.Mc(),e.Nl=new Map,e.xl=new tg(Yd.J)}(n),n.Ll=!1,[4,gy(n.gl,!1)];case 6:u.sent(),u.label=7;case 7:return[2]}})})}function s_(t,e,n){return Object(dd.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,c,u,l,h,d,f,p;return Object(dd.d)(this,function(g){switch(g.label){case 0:n=wd(t),r=[],i=[],o=0,s=e,g.label=1;case 1:return o<s.length?(c=void 0,(u=n.Dl.get(a=s[o]))&&0!==u.length?[4,iv(n.Sh,ap(u[0]))]:[3,7]):[3,13];case 2:c=g.sent(),l=0,h=u,g.label=3;case 3:return l<h.length?(d=n.Sl.get(h[l]),[4,n_(n,d)]):[3,6];case 4:(f=g.sent()).snapshot&&i.push(f.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,av(n.Sh,a)];case 8:return p=g.sent(),[4,iv(n.Sh,p)];case 9:return c=g.sent(),[4,Ly(n,a_(p),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(c),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vl.uh(i),r)]}})})}function a_(t){return Zf(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function c_(t){var e=wd(t);return wd(wd(e.Sh).persistence).Ko()}function u_(t,e,n,r){return Object(dd.b)(this,void 0,void 0,function(){var i,o,s;return Object(dd.d)(this,function(a){switch(a.label){case 0:return(i=wd(t)).Ll?(gd("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Dl.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,cv(i.Sh)];case 3:return o=a.sent(),s=yg.$e(e,"current"===n),[4,Zy(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,ov(i.Sh,e,!0)];case 6:return a.sent(),Gy(i,e,r),[3,8];case 7:yd(),a.label=8;case 8:return[2]}})})}function l_(t,e,n){return Object(dd.b)(this,void 0,void 0,function(){var r,i,o,s,a,c,u,l,h;return Object(dd.d)(this,function(d){switch(d.label){case 0:if(!(r=h_(t)).Ll)return[3,10];i=0,o=e,d.label=1;case 1:return i<o.length?r.Dl.has(s=o[i])?(gd("SyncEngine","Adding an already active target "+s),[3,5]):[4,av(r.Sh,s)]:[3,6];case 2:return a=d.sent(),[4,iv(r.Sh,a)];case 3:return c=d.sent(),[4,Ly(r,a_(a),c.targetId,!1)];case 4:d.sent(),Xv(r.gl,c),d.label=5;case 5:return i++,[3,1];case 6:u=function(t){return Object(dd.d)(this,function(e){switch(e.label){case 0:return r.Dl.has(t)?[4,ov(r.Sh,t,!1).then(function(){Yv(r.gl,t),Gy(r,t)}).catch(pb)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,d.label=7;case 7:return l<h.length?[5,u(h[l])]:[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function h_(t){var e=wd(t);return e.gl.Ch.Bh=Qy.bind(null,e),e.gl.Ch.Sn=e_.bind(null,e),e.gl.Ch.$h=By.bind(null,e),e.vl.uh=Cy.bind(null,e.Vl),e.vl.ql=ky.bind(null,e.Vl),e}function d_(t){var e=wd(t);return e.gl.Ch.qh=qy.bind(null,e),e.gl.Ch.Uh=zy.bind(null,e),e}function f_(t,e,n){var r=wd(t);(function(t,e,n){return Object(dd.b)(this,void 0,void 0,function(){var r,i,o,s,a,c;return Object(dd.d)(this,function(u){switch(u.label){case 0:return u.trys.push([0,14,,15]),[4,e.getMetadata()];case 1:return r=u.sent(),[4,function(t,e){var n=wd(t),r=jg(e.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",function(t){return n.To.Ls(t,e.id)}).then(function(t){return!!t&&t.createTime.u(r)>=0})}(t.Sh,r)];case 2:return u.sent()?[4,e.close()]:[3,4];case 3:return[2,(u.sent(),void n.Ul(function(t){return{taskState:"Success",documentsLoaded:t.totalDocuments,bytesLoaded:t.totalBytes,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(r)))];case 4:return n.Ql(Oy(r)),i=new xy(r,t.Sh,e.Kt),[4,e.Kl()];case 5:o=u.sent(),u.label=6;case 6:return o?[4,i.ol(o)]:[3,10];case 7:return(s=u.sent())&&n.Ql(s),[4,e.Kl()];case 8:o=u.sent(),u.label=9;case 9:return[3,6];case 10:return[4,i.complete()];case 11:return a=u.sent(),[4,Zy(t,a.gs,void 0)];case 12:return u.sent(),[4,function(t,e){var n=wd(t);return n.persistence.runTransaction("Save bundle","readwrite",function(t){return n.To.$s(t,e)})}(t.Sh,r)];case 13:return u.sent(),n.Ul(a.progress),[3,15];case 14:return bd("SyncEngine","Loading bundle failed with "+(c=u.sent())),n.Wl(c),[3,15];case 15:return[2]}})})})(r,e,n).then(function(){r.pl.ja()})}var p_=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(dd.b)(this,void 0,void 0,function(){return Object(dd.d)(this,function(e){switch(e.label){case 0:return this.Kt=Uv(t.gu.T),this.pl=this.jl(t),this.persistence=this.Gl(t),[4,this.persistence.start()];case 1:return e.sent(),this.zl=this.Hl(t),this.Sh=this.Jl(t),[2]}})})},t.prototype.Hl=function(t){return null},t.prototype.Jl=function(t){return $b(this.persistence,new Xb,t.Yl,this.Kt)},t.prototype.Gl=function(t){return new yv(wv.ra,this.Kt)},t.prototype.jl=function(t){return new Av},t.prototype.terminate=function(){return Object(dd.b)(this,void 0,void 0,function(){return Object(dd.d)(this,function(t){switch(t.label){case 0:return this.zl&&this.zl.stop(),[4,this.pl.$o()];case 1:return t.sent(),[4,this.persistence.$o()];case 2:return t.sent(),[2]}})})},t}(),g_=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(dd.c)(e,t),e.prototype.initialize=function(e){return Object(dd.b)(this,void 0,void 0,function(){return Object(dd.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,uv(this.Sh)];case 2:return n.sent(),[4,this.Xl.initialize(this,e)];case 3:return n.sent(),[4,d_(this.Xl.fa)];case 4:return n.sent(),[4,cy(this.Xl.gl)];case 5:return n.sent(),[2]}})})},e.prototype.Jl=function(t){return $b(this.persistence,new Xb,t.Yl,this.Kt)},e.prototype.Hl=function(t){return new Ab(this.persistence.mi.dr,t.fs)},e.prototype.Gl=function(t){var e=Kb(t.gu.T,t.gu.persistenceKey),n=void 0!==this.cacheSizeBytes?fb.Zs(this.cacheSizeBytes):fb.ni;return new qb(this.synchronizeTabs,e,t.clientId,n,t.fs,Lv(),Fv(),this.Kt,this.pl,!!this.forceOwnership)},e.prototype.jl=function(t){return new Av},e}(p_),m_=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Xl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(dd.c)(e,t),e.prototype.initialize=function(e){return Object(dd.b)(this,void 0,void 0,function(){var n,r=this;return Object(dd.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Xl.fa,this.pl instanceof Iv?(this.pl.fa={nu:i_.bind(null,n),su:u_.bind(null,n),iu:l_.bind(null,n),Ko:c_.bind(null,n),eu:r_.bind(null,n)},[4,this.pl.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.yo(function(t){return Object(dd.b)(r,void 0,void 0,function(){return Object(dd.d)(this,function(e){switch(e.label){case 0:return[4,o_(this.Xl.fa,t)];case 1:return e.sent(),this.zl&&(t&&!this.zl.Ir?this.zl.start(this.Sh):t||this.zl.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.jl=function(t){var e=Lv();if(!Iv.Wn(e))throw new Od(xd.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Kb(t.gu.T,t.gu.persistenceKey);return new Iv(e,t.fs,n,t.clientId,t.Yl)},e}(g_),b_=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(dd.b)(this,void 0,void 0,function(){var n=this;return Object(dd.d)(this,function(r){switch(r.label){case 0:return this.Sh?[3,2]:(this.Sh=t.Sh,this.pl=t.pl,this.Dh=this.Zl(e),this.gl=this.t_(e),this.Vl=this.e_(e),this.fa=this.n_(e,!t.synchronizeTabs),this.pl.da=function(t){return Vy(n.fa,t,1)},this.gl.Ch.s_=t_.bind(null,this.fa),[4,gy(this.gl,this.fa.$l)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.e_=function(t){return new yy},t.prototype.Zl=function(t){var e=Uv(t.gu.T),n=new Mv(t.gu);return function(t,e,n){return new zv(t,e,n)}(t.credentials,n,e)},t.prototype.t_=function(t){var e,n,r,i,o,s=this;return e=this.Sh,n=this.Dh,r=t.fs,i=function(t){return Vy(s.fa,t,0)},o=Dv.Wn()?new Dv:new Rv,new Kv(e,n,r,i,o)},t.prototype.n_=function(t,e){return function(t,e,n,r,i,o,s){var a=new Ny(t,e,n,r,i,o);return s&&(a.Ll=!0),a}(this.Sh,this.gl,this.Vl,this.pl,t.Yl,t.bl,e)},t.prototype.terminate=function(){return function(t){return Object(dd.b)(this,void 0,void 0,function(){var e;return Object(dd.d)(this,function(n){switch(n.label){case 0:return e=wd(t),gd("RemoteStore","RemoteStore shutting down."),e.Fh.add(5),[4,Gv(e)];case 1:return n.sent(),e.kh.$o(),e.Mh.set("Unknown"),[2]}})})}(this.gl)},t}();function v_(t,e){void 0===e&&(e=10240);var n=0;return{read:function(){return Object(dd.b)(this,void 0,void 0,function(){var r;return Object(dd.d)(this,function(i){return n<t.byteLength?(r={value:t.slice(n,n+e),done:!1},[2,(n+=e,r)]):[2,{done:!0}]})})},cancel:function(){return Object(dd.b)(this,void 0,void 0,function(){return Object(dd.d)(this,function(t){return[2]})})},releaseLock:function(){}}}var y_=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.i_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.i_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.r_=function(){this.muted=!0},t.prototype.i_=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),__=function(){function t(t,e){var n=this;this.o_=t,this.Kt=e,this.metadata=new am,this.buffer=new Uint8Array,this.c_=new TextDecoder("utf-8"),this.a_().then(function(t){t&&t.il()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}return t.prototype.close=function(){return this.o_.cancel()},t.prototype.getMetadata=function(){return Object(dd.b)(this,void 0,void 0,function(){return Object(dd.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Kl=function(){return Object(dd.b)(this,void 0,void 0,function(){return Object(dd.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.a_())]}})})},t.prototype.a_=function(){return Object(dd.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(dd.d)(this,function(i){switch(i.label){case 0:return[4,this.u_()];case 1:return null===(t=i.sent())?[2,null]:(e=this.c_.decode(t),n=Number(e),isNaN(n)&&this.h_("length string ("+e+") is not valid number"),[4,this.l_(n)]);case 2:return r=i.sent(),[2,new Ey(JSON.parse(r),t.length+n)]}})})},t.prototype.__=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.u_=function(){return Object(dd.b)(this,void 0,void 0,function(){var t,e;return Object(dd.d)(this,function(n){switch(n.label){case 0:return this.__()<0?[4,this.f_()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.__())<0&&this.h_("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.l_=function(t){return Object(dd.b)(this,void 0,void 0,function(){var e;return Object(dd.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.f_()]:[3,3];case 1:n.sent()&&this.h_("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.c_.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.h_=function(t){throw this.o_.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.f_=function(){return Object(dd.b)(this,void 0,void 0,function(){var t,e;return Object(dd.d)(this,function(n){switch(n.label){case 0:return[4,this.o_.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})},t}(),w_=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Od(xd.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.d_=new Xd(t)}return t.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},t}(),C_=function(t){this._methodName=t};function k_(t,e,n){if(!n)throw new Od(xd.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function P_(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Od(xd.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function S_(t,e,n,r){if(!0===e&&!0===r)throw new Od(xd.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function E_(t){if(!Yd.Et(t))throw new Od(xd.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function T_(t){if(Yd.Et(t))throw new Od(xd.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function x_(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":yd()}function O_(t,e){if("_delegate"in t&&(t=t._),!(t instanceof e)){if(e.name===t.constructor.name)throw new Od(xd.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=x_(t);throw new Od(xd.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function I_(t,e){if(e<=0)throw new Od(xd.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var A_=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Od(xd.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Od(xd.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,S_("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),R_=new Map,D_=function(){function t(t,e){this.w_="(lite)",this.E_=new A_({}),this.T_=!1,t instanceof Md?(this.I_=t,this.m_=new Ud):(this.A_=t,this.I_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Od(xd.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Md(t.options.projectId)}(t),this.m_=new Qd(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.A_)throw new Od(xd.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"R_",{get:function(){return this.T_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"P_",{get:function(){return void 0!==this.y_},enumerable:!1,configurable:!0}),t.prototype.g_=function(t){if(this.T_)throw new Od(xd.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.E_=new A_(t),void 0!==t.credentials&&(this.m_=function(t){if(!t)return new Ud;switch(t.type){case"gapi":var e=t.client;return _d(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Bd(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new Od(xd.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.V_=function(){return this.E_},t.prototype.p_=function(){return this.T_=!0,this.E_},t.prototype._delete=function(){return this.y_||(this.y_=this.b_()),this.y_},t.prototype.b_=function(){return(t=R_.get(this))&&(gd("ComponentProvider","Removing Datastore"),R_.delete(this),t.terminate()),Promise.resolve();var t},t}(),j_=function(){function t(t,e,n){this.v_=e,this.S_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"D_",{get:function(){return this.S_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.S_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new M_(this.firestore,this.v_,this.S_.path.Z())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.S_)},t}(),N_=function(){function t(t,e,n){this.v_=e,this.C_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.C_)},t}(),M_=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,tp(r))||this).firestore=e,i.D_=r,i.type="collection",i}return Object(dd.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.C_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.C_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.D_.Z();return t.nt()?null:new j_(this.firestore,null,new Yd(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.D_)},e}(N_);function L_(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof Ad&&(t=t._),k_("collection","path",e),t instanceof D_)return T_(n=Wd.ct.apply(Wd,Object(dd.g)([e],r))),new M_(t,null,n);if(!(t instanceof j_||t instanceof M_))throw new Od(xd.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return T_(n=Wd.ct.apply(Wd,Object(dd.g)([t.path],r)).child(Wd.ct(e))),new M_(t.firestore,null,n)}function F_(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof Ad&&(t=t._),1===arguments.length&&(e=kd.t()),k_("doc","path",e),t instanceof D_)return E_(n=Wd.ct.apply(Wd,Object(dd.g)([e],r))),new j_(t,null,new Yd(n));if(!(t instanceof j_||t instanceof M_))throw new Od(xd.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return E_(n=t.D_.child(Wd.ct.apply(Wd,Object(dd.g)([e],r)))),new j_(t.firestore,t instanceof M_?t.v_:null,new Yd(n))}function U_(t,e){return t instanceof Ad&&(t=t._),e instanceof Ad&&(e=e._),(t instanceof j_||t instanceof M_)&&(e instanceof j_||e instanceof M_)&&t.firestore===e.firestore&&t.path===e.path&&t.v_===e.v_}function Q_(t,e){return t instanceof Ad&&(t=t._),e instanceof Ad&&(e=e._),t instanceof N_&&e instanceof N_&&t.firestore===e.firestore&&up(t.C_,e.C_)&&t.v_===e.v_}var V_=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Od(xd.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Od(xd.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.x_=t,this.N_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.x_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.N_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.x_===t.x_&&this.N_===t.N_},t.prototype.toJSON=function(){return{latitude:this.x_,longitude:this.N_}},t.prototype.K=function(t){return Pd(this.x_,t.x_)||Pd(this.N_,t.N_)},t}(),B_=/^__.*__$/,q_=function(){function t(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return null!==this.zt?new Bp(t,this.data,this.zt,e,this.fieldTransforms):new Vp(t,this.data,e,this.fieldTransforms)},t}(),z_=function(){function t(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return new Bp(t,this.data,this.zt,e,this.fieldTransforms)},t}();function H_(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yd()}}var K_=function(){function t(t,e,n,r,i,o){this.settings=t,this.T=e,this.Kt=n,this.ignoreUndefinedProperties=r,void 0===i&&this.O_(),this.fieldTransforms=i||[],this.zt=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k_",{get:function(){return this.settings.k_},enumerable:!1,configurable:!0}),t.prototype.M_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.T,this.Kt,this.ignoreUndefinedProperties,this.fieldTransforms,this.zt)},t.prototype.L_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.q_(t),r},t.prototype.U_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.O_(),r},t.prototype.Q_=function(t){return this.M_({path:void 0,B_:!0})},t.prototype.K_=function(t){return dw(t,this.settings.methodName,this.settings.W_||!1,this.path,this.settings.j_)},t.prototype.contains=function(t){return void 0!==this.zt.find(function(e){return t.st(e)})||void 0!==this.fieldTransforms.find(function(e){return t.st(e.field)})},t.prototype.O_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.q_(this.path.get(t))},t.prototype.q_=function(t){if(0===t.length)throw this.K_("Document fields must not be empty");if(H_(this.k_)&&B_.test(t))throw this.K_('Document fields cannot begin and end with "__"')},t}(),W_=function(){function t(t,e,n){this.T=t,this.ignoreUndefinedProperties=e,this.Kt=n||Uv(t)}return t.prototype.G_=function(t,e,n,r){return void 0===r&&(r=!1),new K_({k_:t,methodName:e,j_:n,path:Xd.at(),B_:!1,W_:r},this.T,this.Kt,this.ignoreUndefinedProperties)},t}();function G_(t){var e=t.p_(),n=Uv(t.I_);return new W_(t.I_,!!e.ignoreUndefinedProperties,n)}function X_(t,e,n,r,i,o){void 0===o&&(o={});var s=t.G_(o.merge||o.mergeFields?2:0,e,n,i);cw("Data must be an object, but it was:",s,r);var a,c,u=sw(r,s);if(o.merge)a=new tf(s.zt),c=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,d=o.mergeFields;h<d.length;h++){var f=uw(e,d[h],n);if(!s.contains(f))throw new Od(xd.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");fw(l,f)||l.push(f)}a=new tf(l),c=s.fieldTransforms.filter(function(t){return a.It(t.field)})}else a=null,c=s.fieldTransforms;return new q_(new Sf(u),a,c)}var Y_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(dd.c)(e,t),e.prototype.z_=function(t){if(2!==t.k_)throw t.K_(1===t.k_?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.zt.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(C_);function $_(t,e,n){return new K_({k_:3,j_:e.settings.j_,methodName:t._methodName,B_:n},e.T,e.Kt,e.ignoreUndefinedProperties)}var J_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(dd.c)(e,t),e.prototype.z_=function(t){return new Ap(t.path,new kp)},e.prototype.isEqual=function(t){return t instanceof e},e}(C_),Z_=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(dd.c)(e,t),e.prototype.z_=function(t){var e=$_(this,t,!0),n=this.H_.map(function(t){return ow(t,e)}),r=new Pp(n);return new Ap(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(C_),tw=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(dd.c)(e,t),e.prototype.z_=function(t){var e=$_(this,t,!0),n=this.H_.map(function(t){return ow(t,e)}),r=new Ep(n);return new Ap(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(C_),ew=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).J_=n,r}return Object(dd.c)(e,t),e.prototype.z_=function(t){var e=new xp(t.Kt,vp(t.Kt,this.J_));return new Ap(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(C_);function nw(t,e,n,r){var i=t.G_(1,e,n);cw("Data must be an object, but it was:",i,r);var o=[],s=new Ef;Jd(r,function(t,r){var a=hw(e,t,n);r instanceof Ad&&(r=r._);var c=i.U_(a);if(r instanceof Y_)o.push(a);else{var u=ow(r,c);null!=u&&(o.push(a),s.set(a,u))}});var a=new tf(o);return new z_(s.yt(),a,i.fieldTransforms)}function rw(t,e,n,r,i,o){var s=t.G_(1,e,n),a=[uw(e,r,n)],c=[i];if(o.length%2!=0)throw new Od(xd.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var u=0;u<o.length;u+=2)a.push(uw(e,o[u])),c.push(o[u+1]);for(var l=[],h=new Ef,d=a.length-1;d>=0;--d)if(!fw(l,a[d])){var f=a[d],p=c[d];p instanceof Ad&&(p=p._);var g=s.U_(f);if(p instanceof Y_)l.push(f);else{var m=ow(p,g);null!=m&&(l.push(f),h.set(f,m))}}var b=new tf(l);return new z_(h.yt(),b,s.fieldTransforms)}function iw(t,e,n,r){return void 0===r&&(r=!1),ow(n,t.G_(r?4:3,e))}function ow(t,e){if(t instanceof Ad&&(t=t._),aw(t))return cw("Unsupported field value:",e,t),sw(t,e);if(t instanceof C_)return function(t,e){if(!H_(e.k_))throw e.K_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.K_(t._methodName+"() is not currently supported inside arrays");var n=t.z_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.zt.push(e.path),t instanceof Array){if(e.settings.B_&&4!==e.k_)throw e.K_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=ow(o[i],e.Q_(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof Ad&&(t=t._),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return vp(e.Kt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=zd.fromDate(t);return{timestampValue:Ag(e.Kt,n)}}if(t instanceof zd)return n=new zd(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Ag(e.Kt,n)};if(t instanceof V_)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Id)return{bytesValue:Rg(e.Kt,t.l)};if(t instanceof j_){var r=t.firestore.I_;if(!r.isEqual(n=e.T))throw e.K_("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Ng(t.firestore.I_||e.T,t.S_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.K_("Unsupported field value: "+x_(t))}(t,e)}function sw(t,e){var n={};return Zd(t)?e.path&&e.path.length>0&&e.zt.push(e.path):Jd(t,function(t,r){var i=ow(r,e.L_(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function aw(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof zd||t instanceof V_||t instanceof Id||t instanceof j_||t instanceof C_)}function cw(t,e,n){if(!aw(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=x_(n);throw e.K_("an object"===r?t+" a custom object":t+" "+r)}}function uw(t,e,n){if(e instanceof Ad&&(e=e._),e instanceof w_)return e.d_;if("string"==typeof e)return hw(t,e);throw dw("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var lw=new RegExp("[~\\*/\\[\\]]");function hw(t,e,n){if(e.search(lw)>=0)throw dw("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(w_.bind.apply(w_,Object(dd.g)([void 0],e.split("."))))).d_}catch(r){throw dw("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function dw(t,e,n,r,i){var o=r&&!r.nt(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var c="";return(o||s)&&(c+=" (found",o&&(c+=" in field "+r),s&&(c+=" in document "+i),c+=")"),new Od(xd.INVALID_ARGUMENT,(a+=". ")+t+c)}function fw(t,e){return t.some(function(t){return t.isEqual(e)})}var pw=function(){function t(t){this.Dh=t,this.Y_=new Map,this.mutations=[],this.X_=!1,this.Z_=null,this.tf=new Set}return t.prototype.ef=function(t){return Object(dd.b)(this,void 0,void 0,function(){var e,n=this;return Object(dd.d)(this,function(r){switch(r.label){case 0:if(this.nf(),this.mutations.length>0)throw new Od(xd.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(dd.b)(this,void 0,void 0,function(){var n,r,i,o,s,a;return Object(dd.d)(this,function(c){switch(c.label){case 0:return n=wd(t),r=Vg(n.Kt)+"/documents",i={documents:e.map(function(t){return Lg(n.Kt,t)})},[4,n.Cu("BatchGetDocuments",r,i)];case 1:return o=c.sent(),s=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){_d(!!e.found);var n=Fg(t,e.found.name),r=jg(e.found.updateTime),i=new Sf({mapValue:{fields:e.found.fields}});return new Of(n,r,i,{})}(t,e):"missing"in e?function(t,e){_d(!!e.missing),_d(!!e.readTime);var n=Fg(t,e.missing),r=jg(e.readTime);return new If(n,r)}(t,e):yd()}(n.Kt,t);s.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=s.get(t.toString());_d(!!e),a.push(e)}),a)]}})})}(this.Dh,t)];case 1:return[2,((e=r.sent()).forEach(function(t){t instanceof If||t instanceof Of?n.sf(t):yd()}),e)]}})})},t.prototype.set=function(t,e){this.write(e.F_(t,this.Gt(t))),this.tf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.F_(t,this.rf(t)))}catch(t){this.Z_=t}this.tf.add(t.toString())},t.prototype.delete=function(t){this.write(new Xp(t,this.Gt(t))),this.tf.add(t.toString())},t.prototype.commit=function(){return Object(dd.b)(this,void 0,void 0,function(){var t,e=this;return Object(dd.d)(this,function(n){switch(n.label){case 0:if(this.nf(),this.Z_)throw this.Z_;return t=this.Y_,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=Yd.ft(n);e.mutations.push(new Yp(r,e.Gt(r)))}),[4,function(t,e){return Object(dd.b)(this,void 0,void 0,function(){var n,r,i;return Object(dd.d)(this,function(o){switch(o.label){case 0:return n=wd(t),r=Vg(n.Kt)+"/documents",i={writes:e.map(function(t){return Hg(n.Kt,t)})},[4,n.bu("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.Dh,this.mutations)];case 1:return n.sent(),this.X_=!0,[2]}})})},t.prototype.sf=function(t){var e;if(t instanceof Of)e=t.version;else{if(!(t instanceof If))throw yd();e=Hd.min()}var n=this.Y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Od(xd.ABORTED,"Document version changed between two reads.")}else this.Y_.set(t.key.toString(),e)},t.prototype.Gt=function(t){var e=this.Y_.get(t.toString());return!this.tf.has(t.toString())&&e?Dp.updateTime(e):Dp.Wt()},t.prototype.rf=function(t){var e=this.Y_.get(t.toString());if(!this.tf.has(t.toString())&&e){if(e.isEqual(Hd.min()))throw new Od(xd.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Dp.updateTime(e)}return Dp.exists(!0)},t.prototype.write=function(t){this.nf(),this.mutations.push(t)},t.prototype.nf=function(){},t}(),gw=function(){function t(t,e,n,r){this.fs=t,this.Dh=e,this.updateFunction=n,this.Ts=r,this.cf=5,this.zu=new Qv(this.fs,"transaction_retry")}return t.prototype.run=function(){this.af()},t.prototype.af=function(){var t=this;this.zu.Bu(function(){return Object(dd.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(dd.d)(this,function(r){return t=new pw(this.Dh),(e=this.uf(t))&&e.then(function(e){n.fs.ys(function(){return t.commit().then(function(){n.Ts.resolve(e)}).catch(function(t){n.hf(t)})})}).catch(function(t){n.hf(t)}),[2]})})})},t.prototype.uf=function(t){try{var e=this.updateFunction(t);return!uf(e)&&e.catch&&e.then?e:(this.Ts.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Ts.reject(t),null}},t.prototype.hf=function(t){var e=this;this.cf>0&&this.lf(t)?(this.cf-=1,this.fs.ys(function(){return e.af(),Promise.resolve()})):this.Ts.reject(t)},t.prototype.lf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Jp(e)}return!1},t}(),mw=function(){function t(t,e,n){var r=this;this.credentials=t,this.fs=e,this.gu=n,this.user=Ld.UNAUTHENTICATED,this.clientId=kd.t(),this._f=function(){},this.N=new am,this.credentials.S(function(t){gd("FirestoreClient","Received user=",t.uid),r.user=t,r._f(t),r.N.resolve()})}return t.prototype.getConfiguration=function(){return Object(dd.b)(this,void 0,void 0,function(){return Object(dd.d)(this,function(t){switch(t.label){case 0:return[4,this.N.promise];case 1:return[2,(t.sent(),{fs:this.fs,gu:this.gu,clientId:this.clientId,credentials:this.credentials,Yl:this.user,bl:100})]}})})},t.prototype.ff=function(t){var e=this;this._f=t,this.N.promise.then(function(){return e._f(e.user)})},t.prototype.df=function(){if(this.fs.wf)throw new Od(xd.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.fs.Ef();var e=new am;return this.fs.Tf(function(){return Object(dd.b)(t,void 0,void 0,function(){var t,n;return Object(dd.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.If?[4,this.If.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.mf?[4,this.mf.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.D(),e.resolve(),[3,6];case 5:return t=r.sent(),n=ym(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function bw(t,e){return Object(dd.b)(this,void 0,void 0,function(){var n,r,i=this;return Object(dd.d)(this,function(o){switch(o.label){case 0:return t.fs.Af(),gd("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.Yl,t.ff(function(n){r.isEqual(n)||(r=n,t.fs.vo(function(){return Object(dd.b)(i,void 0,void 0,function(){return Object(dd.d)(this,function(t){switch(t.label){case 0:return[4,Jb(e.Sh,n)];case 1:return t.sent(),[2]}})})}))}),e.persistence.Vo(function(){return t.terminate()}),t.mf=e,[2]}})})}function vw(t,e){return Object(dd.b)(this,void 0,void 0,function(){var n,r;return Object(dd.d)(this,function(i){switch(i.label){case 0:return t.fs.Af(),[4,yw(t)];case 1:return n=i.sent(),gd("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.ff(function(n){return t.fs.vo(function(){return function(t,e){return Object(dd.b)(this,void 0,void 0,function(){var n,r;return Object(dd.d)(this,function(i){switch(i.label){case 0:return(n=wd(t)).fs.Af(),gd("RemoteStore","RemoteStore received new credentials"),r=ey(n),n.Fh.add(3),[4,Gv(n)];case 1:return i.sent(),r&&n.Mh.set("Unknown"),[4,n.Ch.s_(e)];case 2:return i.sent(),n.Fh.delete(3),[4,Wv(n)];case 3:return i.sent(),[2]}})})}(e.gl,n)})}),t.If=e,[2]}})})}function yw(t){return Object(dd.b)(this,void 0,void 0,function(){return Object(dd.d)(this,function(e){switch(e.label){case 0:return t.mf?[3,2]:(gd("FirestoreClient","Using default OfflineComponentProvider"),[4,bw(t,new p_)]);case 1:e.sent(),e.label=2;case 2:return[2,t.mf]}})})}function _w(t){return Object(dd.b)(this,void 0,void 0,function(){return Object(dd.d)(this,function(e){switch(e.label){case 0:return t.If?[3,2]:(gd("FirestoreClient","Using default OnlineComponentProvider"),[4,vw(t,new b_)]);case 1:e.sent(),e.label=2;case 2:return[2,t.If]}})})}function ww(t){return yw(t).then(function(t){return t.persistence})}function Cw(t){return yw(t).then(function(t){return t.Sh})}function kw(t){return _w(t).then(function(t){return t.gl})}function Pw(t){return _w(t).then(function(t){return t.fa})}function Sw(t){return Object(dd.b)(this,void 0,void 0,function(){var e,n;return Object(dd.d)(this,function(r){switch(r.label){case 0:return[4,_w(t)];case 1:return e=r.sent(),[2,((n=e.Vl).Gh=My.bind(null,e.fa),n.Jh=Fy.bind(null,e.fa),n)]}})})}function Ew(t,e,n){var r=this;void 0===n&&(n={});var i=new am;return t.fs.ys(function(){return Object(dd.b)(r,void 0,void 0,function(){var r;return Object(dd.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new y_({next:function(o){e.ys(function(){return wy(t,s)});var a=o.docs.has(n);!a&&o.fromCache?i.reject(new Od(xd.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new Od(xd.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new Sy(tp(n.path),o,{includeMetadataChanges:!0,sl:!0});return _y(t,s)},[4,Sw(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.fs,e,n,i])]}})})}),i.promise}function Tw(t,e,n){var r=this;void 0===n&&(n={});var i=new am;return t.fs.ys(function(){return Object(dd.b)(r,void 0,void 0,function(){var r;return Object(dd.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new y_({next:function(n){e.ys(function(){return wy(t,s)}),n.fromCache&&"server"===r.source?i.reject(new Od(xd.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new Sy(n,o,{includeMetadataChanges:!0,sl:!0});return _y(t,s)},[4,Sw(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.fs,e,n,i])]}})})}),i.promise}var xw=function(){function t(){var t=this;this.Rf=Promise.resolve(),this.Pf=[],this.yf=!1,this.gf=[],this.Vf=null,this.pf=!1,this.bf=[],this.zu=new Qv(this,"async_queue_retry"),this.vf=function(){var e=Fv();e&&gd("AsyncQueue","Visibility state changed to "+e.visibilityState),t.zu.Uu()};var e=Fv();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.vf)}return Object.defineProperty(t.prototype,"wf",{get:function(){return this.yf},enumerable:!1,configurable:!0}),t.prototype.ys=function(t){this.enqueue(t)},t.prototype.Tf=function(t){this.Sf(),this.Df(t)},t.prototype.Ef=function(){if(!this.yf){this.yf=!0;var t=Fv();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.vf)}},t.prototype.enqueue=function(t){return this.Sf(),this.yf?new Promise(function(t){}):this.Df(t)},t.prototype.vo=function(t){var e=this;this.ys(function(){return e.Pf.push(t),e.Cf()})},t.prototype.Cf=function(){return Object(dd.b)(this,void 0,void 0,function(){var t,e=this;return Object(dd.d)(this,function(n){switch(n.label){case 0:if(0===this.Pf.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Pf[0]()];case 2:return n.sent(),this.Pf.shift(),this.zu.reset(),[3,4];case 3:if(!fm(t=n.sent()))throw t;return gd("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Pf.length>0&&this.zu.Bu(function(){return e.Cf()}),n.label=5;case 5:return[2]}})})},t.prototype.Df=function(t){var e=this,n=this.Rf.then(function(){return e.pf=!0,t().catch(function(t){throw e.Vf=t,e.pf=!1,md("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.pf=!1,t})});return this.Rf=n,n},t.prototype.mr=function(t,e,n){var r=this;this.Sf(),this.bf.indexOf(t)>-1&&(e=0);var i=vm.Is(this,t,e,n,function(t){return r.xf(t)});return this.gf.push(i),i},t.prototype.Sf=function(){this.Vf&&yd()},t.prototype.Af=function(){},t.prototype.Nf=function(){return Object(dd.b)(this,void 0,void 0,function(){var t;return Object(dd.d)(this,function(e){switch(e.label){case 0:return[4,t=this.Rf];case 1:e.sent(),e.label=2;case 2:if(t!==this.Rf)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Ff=function(t){for(var e=0,n=this.gf;e<n.length;e++)if(n[e].ds===t)return!0;return!1},t.prototype.Of=function(t){var e=this;return this.Nf().then(function(){e.gf.sort(function(t,e){return t.ws-e.ws});for(var n=0,r=e.gf;n<r.length;n++){var i=r[n];if(i.Ps(),"all"!==t&&i.ds===t)break}return e.Nf()})},t.prototype.kf=function(t){this.bf.push(t)},t.prototype.xf=function(t){var e=this.gf.indexOf(t);this.gf.splice(e,1)},t}(),Ow=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Mf=new xw,r.w_="name"in e?e.name:"[DEFAULT]",r}return Object(dd.c)(e,t),e.prototype.b_=function(){return this.Lf||Aw(this),this.Lf.terminate()},e}(D_);function Iw(t){return t.Lf||Aw(t),t.Lf.df(),t.Lf}function Aw(t){var e=t.p_(),n=function(t,e,n){return new Nd(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.I_,t.w_,e);t.Lf=new mw(t.m_,t.Mf,n)}function Rw(t,e,n){var r=this,i=new am;return t.fs.enqueue(function(){return Object(dd.b)(r,void 0,void 0,function(){var r;return Object(dd.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,bw(t,n)];case 1:return o.sent(),[4,vw(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===xd.FAILED_PRECONDITION||t.code===xd.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function Dw(t){if(t.R_||t.P_)throw new Od(xd.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var jw=function(){function t(){}return t.prototype.$f=function(t,e){switch(void 0===e&&(e="none"),df(t)){case 0:return null;case 1:return t.booleanValue;case 2:return rf(t.integerValue||t.doubleValue);case 3:return this.Bf(t.timestampValue);case 4:return this.qf(t,e);case 5:return t.stringValue;case 6:return this.Uf(of(t.bytesValue));case 7:return this.Qf(t.referenceValue);case 8:return this.Kf(t.geoPointValue);case 9:return this.Wf(t.arrayValue,e);case 10:return this.jf(t.mapValue,e);default:throw yd()}},t.prototype.jf=function(t,e){var n=this,r={};return Jd(t.fields||{},function(t,i){r[t]=n.$f(i,e)}),r},t.prototype.Kf=function(t){return new V_(rf(t.latitude),rf(t.longitude))},t.prototype.Wf=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.$f(t,e)})},t.prototype.qf=function(t,e){switch(e){case"previous":var n=af(t);return null==n?null:this.$f(n,e);case"estimate":return this.Bf(cf(t));default:return null}},t.prototype.Bf=function(t){var e=nf(t);return new zd(e.seconds,e.nanos)},t.prototype.Gf=function(t,e){var n=Wd.ct(t);_d(sm(n));var r=new Md(n.get(1),n.get(3)),i=new Yd(n.X(5));return r.isEqual(e)||md("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),Nw=function(){function t(t,e,n,r,i){this.zf=t,this.Hf=e,this.S_=n,this.Jf=r,this.v_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new j_(this.zf,this.v_,this.S_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.Jf},t.prototype.data=function(){if(this.Jf){if(this.v_){var t=new Mw(this.zf,this.Hf,this.S_,this.Jf,null);return this.v_.fromFirestore(t)}return this.Hf.$f(this.Jf.vt())}},t.prototype.get=function(t){if(this.Jf){var e=this.Jf.data().field(Lw("DocumentSnapshot.get",t));if(null!==e)return this.Hf.$f(e)}},t}(),Mw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(dd.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Nw);function Lw(t,e){return"string"==typeof e?hw(t,e):e instanceof Ad?e._.d_:e.d_}function Fw(t){if(np(t)&&0===t.Nt.length)throw new Od(xd.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Uw=function(){};function Qw(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o.Yf(t)}return t}var Vw=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xf=e,i.Zf=n,i.td=r,i.type="where",i}return Object(dd.c)(e,t),e.prototype.Yf=function(t){var e=G_(t.firestore),n=function(t,e,n,r,i,o,s){var a;if(i.ht()){if("array-contains"===o||"array-contains-any"===o)throw new Od(xd.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Gw(s,o);for(var c=[],u=0,l=s;u<l.length;u++)c.push(Ww(r,t,l[u]));a={arrayValue:{values:c}}}else a=Ww(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Gw(s,o),a=iw(n,"where",s,"in"===o||"not-in"===o);var h=Lf.create(i,o,a);return function(t,e){if(e.xt()){var n=ip(t);if(null!==n&&!n.isEqual(e.field))throw new Od(xd.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=rp(t);null!==r&&Xw(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Od(xd.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t.C_,0,e,t.firestore.I_,this.Xf,this.Zf,this.td);return new N_(t.firestore,t.v_,function(t,e){var n=t.filters.concat([e]);return new Jf(t.path,t.collectionGroup,t.Nt.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,n))},e}(Uw),Bw=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Xf=e,r.ed=n,r.type="orderBy",r}return Object(dd.c)(e,t),e.prototype.Yf=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Od(xd.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Od(xd.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Gf(e,n);return function(t,e){if(null===rp(t)){var n=ip(t);null!==n&&Xw(0,n,e.field)}}(t,r),r}(t.C_,this.Xf,this.ed);return new N_(t.firestore,t.v_,function(t,e){var n=t.Nt.concat([e]);return new Jf(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,e))},e}(Uw),qw=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.nd=n,i.sd=r,i}return Object(dd.c)(e,t),e.prototype.Yf=function(t){return new N_(t.firestore,t.v_,cp(t.C_,this.nd,this.sd))},e}(Uw),zw=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.rd=n,i.od=r,i}return Object(dd.c)(e,t),e.prototype.Yf=function(t){var e=Kw(t,this.type,this.rd,this.od);return new N_(t.firestore,t.v_,function(t,e){return new Jf(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.C_,e))},e}(Uw),Hw=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.rd=n,i.od=r,i}return Object(dd.c)(e,t),e.prototype.Yf=function(t){var e=Kw(t,this.type,this.rd,this.od);return new N_(t.firestore,t.v_,function(t,e){return new Jf(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.C_,e))},e}(Uw);function Kw(t,e,n,r){if(n[0]instanceof Ad&&(n[0]=n[0]._),n[0]instanceof Nw)return function(t,e,n,r,i){if(!r)throw new Od(xd.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=sp(t);s<a.length;s++){var c=a[s];if(c.field.ht())o.push(yf(e,r.key));else{var u=r.field(c.field);if(sf(u))throw new Od(xd.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+c.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===u){var l=c.field.ot();throw new Od(xd.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(u)}}return new Kf(o,i)}(t.C_,t.firestore.I_,e,n[0].Jf,r);var i=G_(t.firestore);return function(t,e,n,r,i,o){var s=t.Nt;if(i.length>s.length)throw new Od(xd.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],c=0;c<i.length;c++){var u=i[c];if(s[c].field.ht()){if("string"!=typeof u)throw new Od(xd.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof u);if(!op(t)&&-1!==u.indexOf("/"))throw new Od(xd.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+u+"' contains a slash.");var l=t.path.child(Wd.ct(u));if(!Yd.Et(l))throw new Od(xd.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Yd(l);a.push(yf(e,h))}else{var d=iw(n,r,u);a.push(d)}}return new Kf(a,o)}(t.C_,t.firestore.I_,i,e,n,r)}function Ww(t,e,n){if(n instanceof Ad&&(n=n._),"string"==typeof n){if(""===n)throw new Od(xd.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!op(e)&&-1!==n.indexOf("/"))throw new Od(xd.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Wd.ct(n));if(!Yd.Et(r))throw new Od(xd.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return yf(t,new Yd(r))}if(n instanceof j_)return yf(t,n.S_);throw new Od(xd.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+x_(n)+".")}function Gw(t,e){if(!Array.isArray(t)||0===t.length)throw new Od(xd.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Od(xd.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Xw(t,e,n){if(!n.isEqual(e))throw new Od(xd.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function Yw(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}function $w(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Jw=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(dd.c)(e,t),e.prototype.Uf=function(t){return new Id(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return new j_(this.firestore,null,e)},e}(jw),Zw=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),tC=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this).zf=e,a.ad=e,a.metadata=o,a}return Object(dd.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.Jf){if(this.v_){var e=new eC(this.zf,this.Hf,this.S_,this.Jf,this.metadata,null);return this.v_.fromFirestore(e,t)}return this.Hf.$f(this.Jf.vt(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.Jf){var n=this.Jf.data().field(Lw("DocumentSnapshot.get",t));if(null!==n)return this.Hf.$f(n,e.serverTimestamps)}},e}(Nw),eC=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(dd.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(tC),nC=function(){function t(t,e,n,r){this.zf=t,this.Hf=e,this.ud=r,this.metadata=new Zw(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.ud.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this.ud.docs.forEach(function(r){t.call(e,new eC(n.zf,n.Hf,r.key,r,new Zw(n.ud.Ce.has(r.key),n.ud.fromCache),n.query.v_))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this.ud.Ne)throw new Od(xd.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.hd&&this.ld===e||(this.hd=function(t,e){if(t.ud.De.nt()){var n=0;return t.ud.docChanges.map(function(e){return{type:"added",doc:new eC(t.zf,t.Hf,e.doc.key,e.doc,new Zw(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_),oldIndex:-1,newIndex:n++}})}var r=t.ud.De;return t.ud.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new eC(t.zf,t.Hf,e.doc.key,e.doc,new Zw(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:rC(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this.ld=e),this.hd},t}();function rC(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yd()}}function iC(t,e){return t instanceof tC&&e instanceof tC?t.zf===e.zf&&t.S_.isEqual(e.S_)&&(null===t.Jf?null===e.Jf:t.Jf.isEqual(e.Jf))&&t.v_===e.v_:t instanceof nC&&e instanceof nC&&t.zf===e.zf&&Q_(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t.ud.isEqual(e.ud)}var oC=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(dd.c)(e,t),e.prototype.Uf=function(t){return new Id(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return new j_(this.firestore,null,e)},e}(jw);function sC(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=O_(t,j_);var o=O_(t.firestore,Ow),s=G_(o);return e instanceof Ad&&(e=e._),cC(o,[("string"==typeof e||e instanceof w_?rw(s,"updateDoc",t.S_,e,n,r):nw(s,"updateDoc",t.S_,e)).F_(t.S_,Dp.exists(!0))])}function aC(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t instanceof Ad&&(t=t._);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||Yw(i[a])||(s=i[a],a++);var c,u,l,h={includeMetadataChanges:s.includeMetadataChanges};if(Yw(i[a])){var d=i[a];i[a]=null===(e=d.next)||void 0===e?void 0:e.bind(d),i[a+1]=null===(n=d.error)||void 0===n?void 0:n.bind(d),i[a+2]=null===(r=d.complete)||void 0===r?void 0:r.bind(d)}if(t instanceof j_)u=O_(t.firestore,Ow),l=tp(t.S_.path),c={next:function(e){i[a]&&i[a](uC(u,t,e))},error:i[a+1],complete:i[a+2]};else{var f=O_(t,N_);u=O_(f.firestore,Ow),l=f.C_;var p=new oC(u);c={next:function(t){i[a]&&i[a](new nC(u,p,f,t))},error:i[a+1],complete:i[a+2]},Fw(t.C_)}return function(t,e,n,r){var i=this,o=new y_(r),s=new Sy(e,o,n);return t.fs.ys(function(){return Object(dd.b)(i,void 0,void 0,function(){var e;return Object(dd.d)(this,function(n){switch(n.label){case 0:return e=_y,[4,Sw(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})}),function(){o.r_(),t.fs.ys(function(){return Object(dd.b)(i,void 0,void 0,function(){var e;return Object(dd.d)(this,function(n){switch(n.label){case 0:return e=wy,[4,Sw(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})})}}(Iw(u),l,h,c)}function cC(t,e){return function(t,e){var n=this,r=new am;return t.fs.ys(function(){return Object(dd.b)(n,void 0,void 0,function(){var n;return Object(dd.d)(this,function(i){switch(i.label){case 0:return n=Uy,[4,Pw(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(Iw(t),e)}function uC(t,e,n){var r=n.docs.get(e.S_),i=new oC(t);return new tC(t,i,e.S_,r,new Zw(n.hasPendingWrites,n.fromCache),e.v_)}var lC=function(){function t(t,e){this.zf=t,this._d=e,this.fd=[],this.dd=!1,this.wd=G_(t)}return t.prototype.set=function(t,e,n){this.Ed();var r=hC(t,this.zf),i=$w(r.v_,e,n),o=X_(this.wd,"WriteBatch.set",r.S_,i,null!==r.v_,n);return this.fd.push(o.F_(r.S_,Dp.Wt())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.Ed();var o,s=hC(t,this.zf);return e instanceof Ad&&(e=e._),o="string"==typeof e||e instanceof w_?rw(this.wd,"WriteBatch.update",s.S_,e,n,r):nw(this.wd,"WriteBatch.update",s.S_,e),this.fd.push(o.F_(s.S_,Dp.exists(!0))),this},t.prototype.delete=function(t){this.Ed();var e=hC(t,this.zf);return this.fd=this.fd.concat(new Xp(e.S_,Dp.Wt())),this},t.prototype.commit=function(){return this.Ed(),this.dd=!0,this.fd.length>0?this._d(this.fd):Promise.resolve()},t.prototype.Ed=function(){if(this.dd)throw new Od(xd.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function hC(t,e){if(t instanceof Ad&&(t=t._),t.firestore!==e)throw new Od(xd.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var dC=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).zf=e,r}return Object(dd.c)(e,t),e.prototype.get=function(e){var n=this,r=hC(e,this.zf),i=new oC(this.zf);return t.prototype.get.call(this,e).then(function(t){return new tC(n.zf,i,r.S_,t.Jf,new Zw(!1,!1),r.v_)})},e}(function(){function t(t,e){this.zf=t,this.Td=e,this.wd=G_(t)}return t.prototype.get=function(t){var e=this,n=hC(t,this.zf),r=new Jw(this.zf);return this.Td.ef([n.S_]).then(function(t){if(!t||1!==t.length)return yd();var i=t[0];if(i instanceof If)return new Nw(e.zf,r,n.S_,null,n.v_);if(i instanceof Of)return new Nw(e.zf,r,i.key,i,n.v_);throw yd()})},t.prototype.set=function(t,e,n){var r=hC(t,this.zf),i=$w(r.v_,e,n),o=X_(this.wd,"Transaction.set",r.S_,i,null!==r.v_,n);return this.Td.set(r.S_,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=hC(t,this.zf);return e instanceof Ad&&(e=e._),o="string"==typeof e||e instanceof w_?rw(this.wd,"Transaction.update",s.S_,e,n,r):nw(this.wd,"Transaction.update",s.S_,e),this.Td.update(s.S_,o),this},t.prototype.delete=function(t){var e=hC(t,this.zf);return this.Td.delete(e.S_),this},t}()),fC=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Dw(t=O_(t,Ow));var n=Iw(t),r=t.p_(),i=new b_;return Rw(n,i,new g_(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Dw(t=O_(t,Ow));var e=Iw(t),n=t.p_(),r=new b_;return Rw(e,r,new m_(r,n.cacheSizeBytes))}(t._)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.R_&&!t.P_)throw new Od(xd.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new am;return t.Mf.Tf(function(){return Object(dd.b)(e,void 0,void 0,function(){var e;return Object(dd.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(dd.b)(this,void 0,void 0,function(){return Object(dd.d)(this,function(e){switch(e.label){case 0:return lm.Wn()?[4,lm.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(Kb(t.I_,t.w_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._)},t}(),pC=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).Id=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof Md||(i.md=e),i}return Object(dd.c)(e,t),Object.defineProperty(e.prototype,"I_",{get:function(){return this._.I_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._.V_()),t)).merge,this._.g_(t)},e.prototype.useEmulator=function(t,e){"firestore.googleapis.com"!==this._.V_().host&&bd("Host has been set in both settings() and useEmulator(), emulator host will be used"),this.settings({host:t+":"+e,ssl:!1,merge:!0})},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.fs.enqueue(function(){return Object(dd.b)(e,void 0,void 0,function(){var e,n;return Object(dd.d)(this,function(r){switch(r.label){case 0:return[4,ww(t)];case 1:return e=r.sent(),[4,kw(t)];case 2:return n=r.sent(),[2,(e.po(!0),function(t){var e=wd(t);return e.Fh.delete(0),Wv(e)}(n))]}})})})}(Iw(O_(this._,Ow)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.fs.enqueue(function(){return Object(dd.b)(e,void 0,void 0,function(){var e,n;return Object(dd.d)(this,function(r){switch(r.label){case 0:return[4,ww(t)];case 1:return e=r.sent(),[4,kw(t)];case 2:return n=r.sent(),[2,(e.po(!1),function(t){return Object(dd.b)(this,void 0,void 0,function(){var e;return Object(dd.d)(this,function(n){switch(n.label){case 0:return(e=wd(t)).Fh.add(0),[4,Gv(e)];case 1:return n.sent(),e.Mh.set("Offline"),[2]}})})}(n))]}})})})}(Iw(O_(this._,Ow)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&S_("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Id.enableMultiTabIndexedDbPersistence(this):this.Id.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Id.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.app._removeServiceInstance("firestore-exp"),this._._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new am;return t.fs.ys(function(){return Object(dd.b)(e,void 0,void 0,function(){var e;return Object(dd.d)(this,function(r){switch(r.label){case 0:return e=Hy,[4,Pw(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(Iw(O_(this._,Ow)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new y_(e);return t.fs.ys(function(){return Object(dd.b)(n,void 0,void 0,function(){var e;return Object(dd.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){wd(t).jh.add(e),e.next()},[4,Sw(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.r_(),t.fs.ys(function(){return Object(dd.b)(n,void 0,void 0,function(){var e;return Object(dd.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){wd(t).jh.delete(e)},[4,Sw(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(Iw(t=O_(t,Ow)),Yw(e)?e:{next:e})}(this._,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.md)throw new Od(xd.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.md},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new TC(this,L_(this._,t))}catch(t){throw yC(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new vC(this,F_(this._,t))}catch(t){throw yC(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new PC(this,function(t,e){if(t=O_(t,D_),k_("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Od(xd.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new N_(t,null,function(t){return new Jf(Wd.at(),t)}(e))}(this._,t))}catch(t){throw yC(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new am;return t.fs.ys(function(){return Object(dd.b)(n,void 0,void 0,function(){var n;return Object(dd.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return _w(t).then(function(t){return t.Dh})}(t)];case 1:return n=i.sent(),new gw(t.fs,n,e,r).run(),[2]}})})}),r.promise}(Iw(t),function(n){return e(new dC(t,n))})}(this._,function(n){return t(new mC(e,n))})},e.prototype.batch=function(){var t=this;return Iw(this._),new bC(new lC(this._,function(e){return cC(t._,e)}))},e.prototype.loadBundle=function(t){throw new Od(xd.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new Od(xd.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(Ad),gC=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(dd.c)(e,t),e.prototype.Uf=function(t){return new jd(new Id(t))},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return vC.Ad(e,this.firestore,null)},e}(jw),mC=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(dd.c)(e,t),e.prototype.get=function(t){var e=this,n=xC(t);return this._.get(n).then(function(t){return new CC(e.zf,t)})},e.prototype.set=function(t,e,n){var r=xC(t);return n?(P_("Transaction.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=xC(t);return 2===arguments.length?this._.update(s,e):(r=this._).update.apply(r,Object(dd.g)([s,e,n],i)),this},e.prototype.delete=function(t){var e=xC(t);return this._.delete(e),this},e}(Ad),bC=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(dd.c)(e,t),e.prototype.set=function(t,e,n){var r=xC(t);return n?(P_("WriteBatch.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=xC(t);return 2===arguments.length?this._.update(s,e):(r=this._).update.apply(r,Object(dd.g)([s,e,n],i)),this},e.prototype.delete=function(t){var e=xC(t);return this._.delete(e),this},e.prototype.commit=function(){return this._.commit()},e}(Ad),vC=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new gC(e),r}return Object(dd.c)(e,t),e.Rd=function(t,n,r){if(t.length%2!=0)throw new Od(xd.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.ot()+" has "+t.length);return new e(n,new j_(n._,r,new Yd(t)))},e.Ad=function(t,n,r){return new e(n,new j_(n._,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new TC(this.firestore,this._.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new TC(this.firestore,L_(this._,t))}catch(t){throw yC(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof Ad&&(t=t._),t instanceof j_&&U_(this._,t)},e.prototype.set=function(t,e){e=P_("DocumentReference.set",e);try{return function(t,e,n){t=O_(t,j_);var r=O_(t.firestore,Ow),i=$w(t.v_,e,n);return cC(r,[X_(G_(r),"setDoc",t.S_,i,null!==t.v_,n).F_(t.S_,Dp.Wt())])}(this._,t,e)}catch(t){throw yC(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?sC(this._,t):sC.apply(void 0,Object(dd.g)([this._,t,e],n))}catch(t){throw yC(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return cC(O_((t=this._).firestore,Ow),[new Xp(t.S_,Dp.Wt())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=_C(e),i=wC(e,function(e){return new CC(t.firestore,new tC(t.firestore._,t.Hf,e.S_,e.Jf,e.metadata,t._.v_))});return aC(this._,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=O_(t,j_);var e=O_(t.firestore,Ow),n=Iw(e),r=new oC(e);return function(t,e){var n=this,r=new am;return t.fs.ys(function(){return Object(dd.b)(n,void 0,void 0,function(){var n;return Object(dd.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(dd.b)(this,void 0,void 0,function(){var r,i;return Object(dd.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=wd(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Ic.Jo(t,e)})}(t,e)];case 1:return(i=o.sent())instanceof Of?n.resolve(i):i instanceof If?n.resolve(null):n.reject(new Od(xd.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=ym(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,Cw(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.S_).then(function(n){return new tC(e,r,t.S_,n,new Zw(n instanceof Of&&n.bt,!0),t.v_)})}(this._):"server"===(null==t?void 0:t.source)?function(t){t=O_(t,j_);var e=O_(t.firestore,Ow);return Ew(Iw(e),t.S_,{source:"server"}).then(function(n){return uC(e,t,n)})}(this._):function(t){t=O_(t,j_);var e=O_(t.firestore,Ow);return Ew(Iw(e),t.S_).then(function(n){return uC(e,t,n)})}(this._)).then(function(t){return new CC(e.firestore,new tC(e.firestore._,e.Hf,t.S_,t.Jf,t.metadata,e._.v_))})},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(Ad);function yC(t,e,n){return t.message=t.message.replace(e,n),t}function _C(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Yw(r))return r}return{}}function wC(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Yw(t[0])?t[0]:Yw(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var CC=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(dd.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new vC(this.zf,this._.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._.data(t)},e.prototype.get=function(t,e){return this._.get(t,e)},e.prototype.isEqual=function(t){return iC(this._,t._)},e}(Ad),kC=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(dd.c)(e,t),e.prototype.data=function(t){return this._.data(t)},e}(CC),PC=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new gC(e),r}return Object(dd.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,Qw(this._,function(t,e,n){var r=e,i=Lw("where",t);return new Vw(i,r,n)}(t,n,r)))}catch(t){throw yC(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Qw(this._,function(t,e){void 0===e&&(e="asc");var n=e,r=Lw("orderBy",t);return new Bw(r,n)}(t,n)))}catch(t){throw yC(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Qw(this._,function(t){return I_("limit",t),new qw("limit",t,"F")}(t)))}catch(t){throw yC(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Qw(this._,function(t){return I_("limitToLast",t),new qw("limitToLast",t,"L")}(t)))}catch(t){throw yC(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Qw(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new zw("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw yC(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Qw(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new zw("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw yC(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Qw(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Hw("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw yC(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Qw(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Hw("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw yC(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return Q_(this._,t._)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=O_(t,N_);var e=O_(t.firestore,Ow),n=Iw(e),r=new oC(e);return function(t,e){var n=this,r=new am;return t.fs.ys(function(){return Object(dd.b)(n,void 0,void 0,function(){var n;return Object(dd.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(dd.b)(this,void 0,void 0,function(){var r,i,o,s,a;return Object(dd.d)(this,function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,sv(t,e,!0)];case 1:return a=c.sent(),r=new Ry(e,a.Pc),i=r.dl(a.documents),o=r.Ti(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=c.sent(),a=ym(s,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,Cw(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.C_).then(function(n){return new nC(e,r,t,n)})}(this._):"server"===(null==t?void 0:t.source)?function(t){t=O_(t,N_);var e=O_(t.firestore,Ow),n=Iw(e),r=new oC(e);return Tw(n,t.C_,{source:"server"}).then(function(n){return new nC(e,r,t,n)})}(this._):function(t){t=O_(t,N_);var e=O_(t.firestore,Ow),n=Iw(e),r=new oC(e);return Fw(t.C_),Tw(n,t.C_).then(function(n){return new nC(e,r,t,n)})}(this._)).then(function(t){return new EC(e.firestore,new nC(e.firestore._,e.Hf,e._,t.ud))})},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=_C(e),i=wC(e,function(e){return new EC(t.firestore,new nC(t.firestore._,t.Hf,t._,e.ud))});return aC(this._,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(Ad),SC=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(dd.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new kC(this.zf,this._.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._.newIndex},enumerable:!1,configurable:!0}),e}(Ad),EC=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(dd.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new PC(this.zf,this._.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._.docs.map(function(e){return new kC(t.zf,e)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this._.docChanges(t).map(function(t){return new SC(e.zf,t)})},e.prototype.forEach=function(t,e){var n=this;this._.forEach(function(r){t.call(e,new kC(n.zf,r))})},e.prototype.isEqual=function(t){return iC(this._,t._)},e}(Ad),TC=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._=n,r}return Object(dd.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._.parent;return t?new vC(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new vC(this.firestore,void 0===t?F_(this._):F_(this._,t))}catch(t){throw yC(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=O_(t.firestore,Ow),r=F_(t),i=$w(t.v_,e);return cC(n,[X_(G_(t.firestore),"addDoc",r.S_,i,null!==t.v_,{}).F_(r.S_,Dp.exists(!1))]).then(function(){return r})}(this._,t).then(function(t){return new vC(e.firestore,t)})},e.prototype.isEqual=function(t){return U_(this._,t._)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(PC);function xC(t){return t instanceof Ad&&(t=t._),O_(t,j_)}var OC,IC=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(w_.bind.apply(w_,Object(dd.g)([void 0],e))))||this}return Object(dd.c)(e,t),e.documentId=function(){return new e(Xd.lt().ot())},e.prototype.isEqual=function(t){return t instanceof Ad&&(t=t._),t instanceof w_&&this._.d_.isEqual(t.d_)},e}(Ad),AC=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(dd.c)(e,t),e.serverTimestamp=function(){var t=new J_("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Y_("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Z_("arrayUnion",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new tw("arrayRemove",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new ew("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e}(Ad),RC=function(){function t(){this.Pd={},this.yd=new am,this.gd={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return t.prototype.onProgress=function(t,e,n){this.Pd={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this.yd.promise.catch(t)},t.prototype.then=function(t,e){return this.yd.promise.then(t,e)},t.prototype.Ul=function(t){this.Ql(t),this.Pd.complete&&this.Pd.complete(),this.yd.resolve(t)},t.prototype.Wl=function(t){this.gd.taskState="Error",this.Pd.next&&this.Pd.next(this.gd),this.Pd.error&&this.Pd.error(t),this.yd.reject(t)},t.prototype.Ql=function(t){this.gd=t,this.Pd.next&&this.Pd.next(t)},t}(),DC=n("/6Yf"),jC={Firestore:pC,GeoPoint:V_,Timestamp:zd,Blob:jd,Transaction:mC,WriteBatch:bC,DocumentReference:vC,DocumentSnapshot:CC,Query:PC,QueryDocumentSnapshot:kC,QuerySnapshot:EC,CollectionReference:TC,FieldPath:IC,FieldValue:AC,setLogLevel:function(t){fd.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new DC.a("firestore",function(t){return function(t,e){return new pC(t,new Ow(t,e),new fC)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},jC)))})(OC=cc.a),OC.registerVersion("@firebase/firestore","2.1.1"),function(t){t.prototype.loadBundle=function(t){return function(t,e){var n=new RC;return function(t,e,n,r){var i=this,o=function(t,e){return function(t,e){return new __(t,e)}(function(t,e){if(t instanceof Uint8Array)return v_(t,e);if(t instanceof ArrayBuffer)return v_(new Uint8Array(t),e);if(t instanceof ReadableStream)return t.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof t?(new TextEncoder).encode(t):t),e)}(n,Uv(e));t.fs.ys(function(){return Object(dd.b)(i,void 0,void 0,function(){var e;return Object(dd.d)(this,function(n){switch(n.label){case 0:return e=f_,[4,Pw(t)];case 1:return e.apply(void 0,[n.sent(),o,r]),[2]}})})})}(Iw(t._),t.I_,e,n),n}(this,t)},t.prototype.namedQuery=function(t){return function(t,e){return function(t,e){var n=this;return t.fs.enqueue(function(){return Object(dd.b)(n,void 0,void 0,function(){var n;return Object(dd.d)(this,function(r){switch(r.label){case 0:return n=function(t,e){var n=wd(t);return n.persistence.runTransaction("Get named query","readonly",function(t){return n.To.Bs(t,e)})},[4,Cw(t)];case 1:return[2,n.apply(void 0,[r.sent(),e])]}})})})}(Iw(t._),e).then(function(e){return e?new PC(t,new N_(t._,null,e.query)):null})}(this,t)}}(pC);var NC={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},MC=function(t){function e(n,r,i){var o=t.call(this,r)||this;return Object.setPrototypeOf(o,e.prototype),o.code=n,o.details=i,o}return Object(dd.c)(e,t),e}(Error),LC=function(){function t(t,e){var n=this;this.auth=null,this.messaging=null,this.auth=t.getImmediate({optional:!0}),this.messaging=e.getImmediate({optional:!0}),this.auth||t.get().then(function(t){return n.auth=t},function(){}),this.messaging||e.get().then(function(t){return n.messaging=t},function(){})}return t.prototype.getAuthToken=function(){return Object(dd.b)(this,void 0,void 0,function(){var t;return Object(dd.d)(this,function(e){switch(e.label){case 0:if(!this.auth)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(t=e.sent())?[2,t.accessToken]:[2,void 0];case 3:return e.sent(),[2,void 0];case 4:return[2]}})})},t.prototype.getInstanceIdToken=function(){return Object(dd.b)(this,void 0,void 0,function(){return Object(dd.d)(this,function(t){if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];try{return[2,this.messaging.getToken()]}catch(OC){return[2,void 0]}return[2]})})},t.prototype.getContext=function(){return Object(dd.b)(this,void 0,void 0,function(){var t,e;return Object(dd.d)(this,function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return t=n.sent(),[4,this.getInstanceIdToken()];case 2:return e=n.sent(),[2,{authToken:t,instanceIdToken:e}]}})})},t}();function FC(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}var UC,QC,VC,BC=function(){function t(){}return t.prototype.encode=function(t){var e=this;if(null==t)return null;if(t instanceof Number&&(t=t.valueOf()),"number"==typeof t&&isFinite(t))return t;if(!0===t||!1===t)return t;if("[object String]"===Object.prototype.toString.call(t))return t;if(Array.isArray(t))return t.map(function(t){return e.encode(t)});if("function"==typeof t||"object"==typeof t)return FC(t,function(t){return e.encode(t)});throw new Error("Data cannot be encoded in JSON: "+t)},t.prototype.decode=function(t){var e=this;if(null==t)return t;if(t["@type"])switch(t["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(t.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+t);return n;default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(function(t){return e.decode(t)}):"function"==typeof t||"object"==typeof t?FC(t,function(t){return e.decode(t)}):t},t}(),qC=function(){function t(t,e,n,r,i){var o=this;void 0===r&&(r="us-central1"),this.app_=t,this.fetchImpl=i,this.serializer=new BC,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(o.deleteService())}},this.contextProvider=new LC(e,n),this.cancelAllRequests=new Promise(function(t){o.deleteService=function(){return t()}});try{var s=new URL(r);this.customDomain=s.origin,this.region="us-central1"}catch(OC){this.customDomain=null,this.region=r}}return Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),t.prototype._url=function(t){var e=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+e+"/"+this.region+"/"+t:null!==this.customDomain?this.customDomain+"/"+t:"https://"+this.region+"-"+e+".cloudfunctions.net/"+t},t.prototype.useEmulator=function(t,e){this.emulatorOrigin="http://"+t+":"+e},t.prototype.useFunctionsEmulator=function(t){this.emulatorOrigin=t},t.prototype.httpsCallable=function(t,e){var n=this;return function(r){return n.call(t,r,e||{})}},t.prototype.postJSON=function(t,e,n){return Object(dd.b)(this,void 0,void 0,function(){var r,i;return Object(dd.d)(this,function(o){switch(o.label){case 0:n["Content-Type"]="application/json",o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.fetchImpl(t,{method:"POST",body:JSON.stringify(e),headers:n})];case 2:return r=o.sent(),[3,4];case 3:return o.sent(),[2,{status:0,json:null}];case 4:i=null,o.label=5;case 5:return o.trys.push([5,7,,8]),[4,r.json()];case 6:return i=o.sent(),[3,8];case 7:return o.sent(),[3,8];case 8:return[2,{status:r.status,json:i}]}})})},t.prototype.call=function(t,e,n){return Object(dd.b)(this,void 0,void 0,function(){var r,i,o,s,a,c,u,l,h,d;return Object(dd.d)(this,function(f){switch(f.label){case 0:return r=this._url(t),e=this.serializer.encode(e),i={data:e},o={},[4,this.contextProvider.getContext()];case 1:return(s=f.sent()).authToken&&(o.Authorization="Bearer "+s.authToken),s.instanceIdToken&&(o["Firebase-Instance-ID-Token"]=s.instanceIdToken),a=function(t){var e,n=new Promise(function(n,r){e=setTimeout(function(){r(new MC("deadline-exceeded","deadline-exceeded"))},t)});return{timer:e,promise:n}}(n.timeout||7e4),c=a.timer,u=a.promise,[4,Promise.race([zC(c,this.postJSON(r,i,o)),u,zC(c,this.cancelAllRequests)])];case 2:if(!(l=f.sent()))throw new MC("cancelled","Firebase Functions instance was deleted.");if(h=function(t,e,n){var r=function(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(t),i=r,o=void 0;try{var s=e&&e.error;if(s){var a=s.status;if("string"==typeof a){if(!NC[a])return new MC("internal","internal");r=NC[a],i=a}var c=s.message;"string"==typeof c&&(i=c),void 0!==(o=s.details)&&(o=n.decode(o))}}catch(OC){}return"ok"===r?null:new MC(r,i,o)}(l.status,l.json,this.serializer))throw h;if(!l.json)throw new MC("internal","Response is not valid JSON object.");if(void 0===(d=l.json.data)&&(d=l.json.result),void 0===d)throw new MC("internal","Response is missing data field.");return[2,{data:this.serializer.decode(d)}]}})})},t}();function zC(t,e){return Object(dd.b)(this,void 0,void 0,function(){var n;return Object(dd.d)(this,function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),clearTimeout(t),[2,n]}})})}UC=cc.a,QC=fetch.bind(self),VC={Functions:qC},UC.INTERNAL.registerComponent(new DC.a("functions",function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("messaging");return new qC(n,r,i,e,QC)},"PUBLIC").setServiceProps(VC).setMultipleInstances(!0)),cc.a.registerVersion("@firebase/functions","0.6.1"),n("fSjL");var HC,KC=n("nbvr"),WC=((HC={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',HC["only-available-in-window"]="This method is available in a Window context.",HC["only-available-in-sw"]="This method is available in a service worker context.",HC["permission-default"]="The notification permission was not granted and dismissed instead.",HC["permission-blocked"]="The notification permission was not granted and blocked instead.",HC["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",HC["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",HC["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",HC["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",HC["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",HC["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",HC["token-update-no-token"]="FCM returned no token when updating the user to push.",HC["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",HC["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",HC["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",HC["invalid-vapid-key"]="The public VAPID key must be a string.",HC["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",HC),GC=new lc.b("messaging","Messaging",WC),XC="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",YC=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}({});function $C(t){var e=new Uint8Array(t);return btoa(String.fromCharCode.apply(String,Object(dd.f)(e))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function JC(t){for(var e=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(e),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}var ZC="fcm_token_details_db",tk="fcm_token_object_Store";function ek(t){return Object(dd.b)(this,void 0,void 0,function(){var e,n=this;return Object(dd.d)(this,function(r){switch(r.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(!r.sent().map(function(t){return t.name}).includes(ZC))return[2,null];r.label=2;case 2:return e=null,[4,Object(KC.openDb)(ZC,5,function(r){return Object(dd.b)(n,void 0,void 0,function(){var n,i,o,s;return Object(dd.d)(this,function(a){switch(a.label){case 0:return r.oldVersion<2?[2]:r.objectStoreNames.contains(tk)?[4,(n=r.transaction.objectStore(tk)).index("fcmSenderId").get(t)]:[2];case 1:return i=a.sent(),[4,n.clear()];case 2:if(a.sent(),!i)return[2];if(2===r.oldVersion){if(!(o=i).auth||!o.p256dh||!o.endpoint)return[2];e={token:o.fcmToken,createTime:null!==(s=o.createTime)&&void 0!==s?s:Date.now(),subscriptionOptions:{auth:o.auth,p256dh:o.p256dh,endpoint:o.endpoint,swScope:o.swScope,vapidKey:"string"==typeof o.vapidKey?o.vapidKey:$C(o.vapidKey)}}}else(3===r.oldVersion||4===r.oldVersion)&&(e={token:(o=i).fcmToken,createTime:o.createTime,subscriptionOptions:{auth:$C(o.auth),p256dh:$C(o.p256dh),endpoint:o.endpoint,swScope:o.swScope,vapidKey:$C(o.vapidKey)}});return[2]}})})})];case 3:return r.sent().close(),[4,Object(KC.deleteDb)(ZC)];case 4:return r.sent(),[4,Object(KC.deleteDb)("fcm_vapid_details_db")];case 5:return r.sent(),[4,Object(KC.deleteDb)("undefined")];case 6:return r.sent(),[2,nk(e)?e:null]}})})}function nk(t){if(!t||!t.subscriptionOptions)return!1;var e=t.subscriptionOptions;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}var rk="firebase-messaging-store",ik=null;function ok(){return ik||(ik=Object(KC.openDb)("firebase-messaging-database",1,function(t){switch(t.oldVersion){case 0:t.createObjectStore(rk)}})),ik}function sk(t){return Object(dd.b)(this,void 0,void 0,function(){var e,n,r;return Object(dd.d)(this,function(i){switch(i.label){case 0:return e=uk(t),[4,ok()];case 1:return[4,i.sent().transaction(rk).objectStore(rk).get(e)];case 2:return(n=i.sent())?[2,n]:[3,3];case 3:return[4,ek(t.appConfig.senderId)];case 4:return(r=i.sent())?[4,ak(t,r)]:[3,6];case 5:return i.sent(),[2,r];case 6:return[2]}})})}function ak(t,e){return Object(dd.b)(this,void 0,void 0,function(){var n,r,i;return Object(dd.d)(this,function(o){switch(o.label){case 0:return n=uk(t),[4,ok()];case 1:return r=o.sent(),[4,(i=r.transaction(rk,"readwrite")).objectStore(rk).put(e,n)];case 2:return o.sent(),[4,i.complete];case 3:return o.sent(),[2,e]}})})}function ck(t){return Object(dd.b)(this,void 0,void 0,function(){var e,n,r;return Object(dd.d)(this,function(i){switch(i.label){case 0:return e=uk(t),[4,ok()];case 1:return n=i.sent(),[4,(r=n.transaction(rk,"readwrite")).objectStore(rk).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function uk(t){return t.appConfig.appId}function lk(t,e){return Object(dd.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(dd.d)(this,function(a){switch(a.label){case 0:return[4,pk(t)];case 1:n=a.sent(),r=gk(e),i={method:"POST",headers:n,body:JSON.stringify(r)},a.label=2;case 2:return a.trys.push([2,5,,6]),[4,fetch(fk(t.appConfig),i)];case 3:return[4,a.sent().json()];case 4:return o=a.sent(),[3,6];case 5:throw s=a.sent(),GC.create("token-subscribe-failed",{errorInfo:s});case 6:if(o.error)throw GC.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw GC.create("token-subscribe-no-token");return[2,o.token]}})})}function hk(t,e){return Object(dd.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(dd.d)(this,function(a){switch(a.label){case 0:return[4,pk(t)];case 1:n=a.sent(),r=gk(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},a.label=2;case 2:return a.trys.push([2,5,,6]),[4,fetch(fk(t.appConfig)+"/"+e.token,i)];case 3:return[4,a.sent().json()];case 4:return o=a.sent(),[3,6];case 5:throw s=a.sent(),GC.create("token-update-failed",{errorInfo:s});case 6:if(o.error)throw GC.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw GC.create("token-update-no-token");return[2,o.token]}})})}function dk(t,e){return Object(dd.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(dd.d)(this,function(s){switch(s.label){case 0:return[4,pk(t)];case 1:n=s.sent(),r={method:"DELETE",headers:n},s.label=2;case 2:return s.trys.push([2,5,,6]),[4,fetch(fk(t.appConfig)+"/"+e,r)];case 3:return[4,s.sent().json()];case 4:if((i=s.sent()).error)throw GC.create("token-unsubscribe-failed",{errorInfo:i.error.message});return[3,6];case 5:throw o=s.sent(),GC.create("token-unsubscribe-failed",{errorInfo:o});case 6:return[2]}})})}function fk(t){return"https://fcmregistrations.googleapis.com/v1/projects/"+t.projectId+"/registrations"}function pk(t){var e=t.appConfig,n=t.installations;return Object(dd.b)(this,void 0,void 0,function(){var t;return Object(dd.d)(this,function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return t=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":"FIS "+t})]}})})}function gk(t){var e=t.vapidKey,n={web:{endpoint:t.endpoint,auth:t.auth,p256dh:t.p256dh}};return e!==XC&&(n.web.applicationPubKey=e),n}function mk(t,e,n){return Object(dd.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(dd.d)(this,function(a){switch(a.label){case 0:if("granted"!==Notification.permission)throw GC.create("permission-blocked");return[4,_k(e,n)];case 1:return r=a.sent(),[4,sk(t)];case 2:return i=a.sent(),o={vapidKey:n,swScope:e.scope,endpoint:r.endpoint,auth:$C(r.getKey("auth")),p256dh:$C(r.getKey("p256dh"))},i?[3,3]:[2,yk(t,o)];case 3:if(l=(u=o).endpoint===(c=i.subscriptionOptions).endpoint,u.vapidKey===c.vapidKey&&l&&u.auth===c.auth&&u.p256dh===c.p256dh)return[3,8];a.label=4;case 4:return a.trys.push([4,6,,7]),[4,dk(t,i.token)];case 5:return a.sent(),[3,7];case 6:return s=a.sent(),console.warn(s),[3,7];case 7:return[2,yk(t,o)];case 8:return Date.now()>=i.createTime+6048e5?[2,vk({token:i.token,createTime:Date.now(),subscriptionOptions:o},t,e)]:[2,i.token];case 9:return[2]}var c,u,l})})}function bk(t,e){return Object(dd.b)(this,void 0,void 0,function(){var n,r;return Object(dd.d)(this,function(i){switch(i.label){case 0:return[4,sk(t)];case 1:return(n=i.sent())?[4,dk(t,n.token)]:[3,4];case 2:return i.sent(),[4,ck(t)];case 3:i.sent(),i.label=4;case 4:return[4,e.pushManager.getSubscription()];case 5:return(r=i.sent())?[2,r.unsubscribe()]:[2,!0]}})})}function vk(t,e,n){return Object(dd.b)(this,void 0,void 0,function(){var r,i,o;return Object(dd.d)(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,5]),[4,hk(e,t)];case 1:return r=s.sent(),i=Object(dd.a)(Object(dd.a)({},t),{token:r,createTime:Date.now()}),[4,ak(e,i)];case 2:return s.sent(),[2,r];case 3:return o=s.sent(),[4,bk(e,n)];case 4:throw s.sent(),o;case 5:return[2]}})})}function yk(t,e){return Object(dd.b)(this,void 0,void 0,function(){var n,r;return Object(dd.d)(this,function(i){switch(i.label){case 0:return[4,lk(t,e)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:e},[4,ak(t,r)];case 2:return i.sent(),[2,r.token]}})})}function _k(t,e){return Object(dd.b)(this,void 0,void 0,function(){var n;return Object(dd.d)(this,function(r){switch(r.label){case 0:return[4,t.pushManager.getSubscription()];case 1:return(n=r.sent())?[2,n]:[2,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:JC(e)})]}})})}function wk(t){return"object"==typeof t&&!!t&&"google.c.a.c_id"in t}function Ck(t){return new Promise(function(e){setTimeout(e,t)})}var kk=function(){function t(t){var e=this;this.firebaseDependencies=t,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",function(t){t.waitUntil(e.onPush(t))}),self.addEventListener("pushsubscriptionchange",function(t){t.waitUntil(e.onSubChange(t))}),self.addEventListener("notificationclick",function(t){t.waitUntil(e.onNotificationClick(t))})}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.setBackgroundMessageHandler=function(t){if(this.isOnBackgroundMessageUsed=!1,!t||"function"!=typeof t)throw GC.create("invalid-bg-handler");this.bgMessageHandler=t},t.prototype.onBackgroundMessage=function(t){var e=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=t,function(){e.bgMessageHandler=null}},t.prototype.getToken=function(){var t,e;return Object(dd.b)(this,void 0,void 0,function(){var n;return Object(dd.d)(this,function(r){switch(r.label){case 0:return this.vapidKey?[3,2]:[4,sk(this.firebaseDependencies)];case 1:n=r.sent(),this.vapidKey=null!==(e=null===(t=null==n?void 0:n.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==e?e:XC,r.label=2;case 2:return[2,mk(this.firebaseDependencies,self.registration,this.vapidKey)]}})})},t.prototype.deleteToken=function(){return bk(this.firebaseDependencies,self.registration)},t.prototype.requestPermission=function(){throw GC.create("only-available-in-window")},t.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw GC.create("use-vapid-key-after-get-token");if("string"!=typeof t||0===t.length)throw GC.create("invalid-vapid-key");this.vapidKey=t},t.prototype.useServiceWorker=function(){throw GC.create("only-available-in-window")},t.prototype.onMessage=function(){throw GC.create("only-available-in-window")},t.prototype.onTokenRefresh=function(){throw GC.create("only-available-in-window")},t.prototype.onPush=function(t){return Object(dd.b)(this,void 0,void 0,function(){var e,n,r,i;return Object(dd.d)(this,function(o){switch(o.label){case 0:return(e=function(t){var e=t.data;if(!e)return null;try{return e.json()}catch(n){return null}}(t))?[4,Tk()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return function(t){return t.some(function(t){return"visible"===t.visibilityState&&!t.url.startsWith("chrome-extension://")})}(n=o.sent())?[2,Ek(n,e)]:(r=!1,e.notification?[4,xk(Pk(e))]:[3,3]);case 2:o.sent(),r=!0,o.label=3;case 3:return!0===r&&!1===this.isOnBackgroundMessageUsed?[2]:(this.bgMessageHandler&&(i=function(t){var e={from:t.from,collapseKey:t.collapse_key};return function(t,e){if(e.notification){t.notification={};var n=e.notification.title;n&&(t.notification.title=n);var r=e.notification.body;r&&(t.notification.body=r);var i=e.notification.image;i&&(t.notification.image=i)}}(e,t),function(t,e){e.data&&(t.data=e.data)}(e,t),function(t,e){if(e.fcmOptions){t.fcmOptions={};var n=e.fcmOptions.link;n&&(t.fcmOptions.link=n);var r=e.fcmOptions.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}}(e,t),e}(e),"function"==typeof this.bgMessageHandler?this.bgMessageHandler(i):this.bgMessageHandler.next(i)),[4,Ck(1e3)]);case 4:return o.sent(),[2]}})})},t.prototype.onSubChange=function(t){var e,n;return Object(dd.b)(this,void 0,void 0,function(){var r;return Object(dd.d)(this,function(i){switch(i.label){case 0:return t.newSubscription?[3,2]:[4,bk(this.firebaseDependencies,self.registration)];case 1:return i.sent(),[2];case 2:return[4,sk(this.firebaseDependencies)];case 3:return r=i.sent(),[4,bk(this.firebaseDependencies,self.registration)];case 4:return i.sent(),[4,mk(this.firebaseDependencies,self.registration,null!==(n=null===(e=null==r?void 0:r.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==n?n:XC)];case 5:return i.sent(),[2]}})})},t.prototype.onNotificationClick=function(t){var e,n;return Object(dd.b)(this,void 0,void 0,function(){var r,i,o,s,a;return Object(dd.d)(this,function(c){switch(c.label){case 0:return(r=null===(n=null===(e=t.notification)||void 0===e?void 0:e.data)||void 0===n?void 0:n.FCM_MSG)?t.action?[2]:(t.stopImmediatePropagation(),t.notification.close(),(i=function(t){var e,n,r;return(null!==(n=null===(e=t.fcmOptions)||void 0===e?void 0:e.link)&&void 0!==n?n:null===(r=t.notification)||void 0===r?void 0:r.click_action)||(wk(t.data)?self.location.origin:null)}(r))?(o=new URL(i,self.location.href),s=new URL(self.location.origin),o.host!==s.host?[2]:[4,Sk(o)]):[2]):[2];case 1:return(a=c.sent())?[3,4]:[4,self.clients.openWindow(i)];case 2:return a=c.sent(),[4,Ck(3e3)];case 3:return c.sent(),[3,6];case 4:return[4,a.focus()];case 5:a=c.sent(),c.label=6;case 6:return a?(r.messageType=YC.NOTIFICATION_CLICKED,r.isFirebaseMessaging=!0,[2,a.postMessage(r)]):[2]}})})},t}();function Pk(t){var e,n=Object(dd.a)({},t.notification);return n.data=((e={}).FCM_MSG=t,e),n}function Sk(t){return Object(dd.b)(this,void 0,void 0,function(){var e,n,r,i,o,s,a;return Object(dd.d)(this,function(c){switch(c.label){case 0:return[4,Tk()];case 1:e=c.sent();try{for(n=Object(dd.h)(e),r=n.next();!r.done;r=n.next())if(i=r.value,o=new URL(i.url,self.location.href),t.host===o.host)return[2,i]}catch(u){s={error:u}}finally{try{r&&!r.done&&(a=n.return)&&a.call(n)}finally{if(s)throw s.error}}return[2,null]}})})}function Ek(t,e){var n,r;e.isFirebaseMessaging=!0,e.messageType=YC.PUSH_RECEIVED;try{for(var i=Object(dd.h)(t),o=i.next();!o.done;o=i.next())o.value.postMessage(e)}catch(s){n={error:s}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function Tk(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function xk(t){var e,n=t.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(e=t.title)&&void 0!==e?e:"",t)}var Ok=function(){function t(t){var e=this;this.firebaseDependencies=t,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",function(t){return e.messageEventListener(t)})}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.messageEventListener=function(t){return Object(dd.b)(this,void 0,void 0,function(){var e,n;return Object(dd.d)(this,function(r){switch(r.label){case 0:return(e=t.data).isFirebaseMessaging?(this.onMessageCallback&&e.messageType===YC.PUSH_RECEIVED&&("function"==typeof this.onMessageCallback?this.onMessageCallback(function(t){return delete t.messageType,delete t.isFirebaseMessaging,t}(Object.assign({},e))):this.onMessageCallback.next(Object.assign({},e))),wk(n=e.data)&&"1"===n["google.c.a.e"]?[4,this.logEvent(e.messageType,n)]:[3,2]):[2];case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.getVapidKey=function(){return this.vapidKey},t.prototype.getSwReg=function(){return this.swRegistration},t.prototype.getToken=function(t){return Object(dd.b)(this,void 0,void 0,function(){return Object(dd.d)(this,function(e){switch(e.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:e.sent(),e.label=2;case 2:if("granted"!==Notification.permission)throw GC.create("permission-blocked");return[4,this.updateVapidKey(null==t?void 0:t.vapidKey)];case 3:return e.sent(),[4,this.updateSwReg(null==t?void 0:t.serviceWorkerRegistration)];case 4:return e.sent(),[2,mk(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}})})},t.prototype.updateVapidKey=function(t){return Object(dd.b)(this,void 0,void 0,function(){return Object(dd.d)(this,function(e){return t?this.vapidKey=t:this.vapidKey||(this.vapidKey=XC),[2]})})},t.prototype.updateSwReg=function(t){return Object(dd.b)(this,void 0,void 0,function(){return Object(dd.d)(this,function(e){switch(e.label){case 0:return t||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:if(!t&&this.swRegistration)return[2];if(!(t instanceof ServiceWorkerRegistration))throw GC.create("invalid-sw-registration");return this.swRegistration=t,[2]}})})},t.prototype.registerDefaultSw=function(){return Object(dd.b)(this,void 0,void 0,function(){var t,e;return Object(dd.d)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),t=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return t.swRegistration=n.sent(),this.swRegistration.update().catch(function(){}),[3,3];case 2:throw e=n.sent(),GC.create("failed-service-worker-registration",{browserErrorMessage:e.message});case 3:return[2]}})})},t.prototype.deleteToken=function(){return Object(dd.b)(this,void 0,void 0,function(){return Object(dd.d)(this,function(t){switch(t.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:return[2,bk(this.firebaseDependencies,this.swRegistration)]}})})},t.prototype.requestPermission=function(){return Object(dd.b)(this,void 0,void 0,function(){var t;return Object(dd.d)(this,function(e){switch(e.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(t=e.sent()))return[2];throw GC.create("denied"===t?"permission-blocked":"permission-default")}})})},t.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw GC.create("use-vapid-key-after-get-token");if("string"!=typeof t||0===t.length)throw GC.create("invalid-vapid-key");this.vapidKey=t},t.prototype.useServiceWorker=function(t){if(!(t instanceof ServiceWorkerRegistration))throw GC.create("invalid-sw-registration");if(this.swRegistration)throw GC.create("use-sw-after-get-token");this.swRegistration=t},t.prototype.onMessage=function(t){var e=this;return this.onMessageCallback=t,function(){e.onMessageCallback=null}},t.prototype.setBackgroundMessageHandler=function(){throw GC.create("only-available-in-sw")},t.prototype.onBackgroundMessage=function(){throw GC.create("only-available-in-sw")},t.prototype.onTokenRefresh=function(){return function(){}},t.prototype.logEvent=function(t,e){return Object(dd.b)(this,void 0,void 0,function(){var n;return Object(dd.d)(this,function(r){switch(r.label){case 0:return n=function(t){switch(t){case YC.NOTIFICATION_CLICKED:return"notification_open";case YC.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(t),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return r.sent().logEvent(n,{message_id:e["google.c.a.c_id"],message_name:e["google.c.a.c_l"],message_time:e["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}})})},t}();function Ik(t){return GC.create("missing-app-config-values",{valueName:t})}var Ak={isSupported:Rk};function Rk(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}cc.a.INTERNAL.registerComponent(new DC.a("messaging",function(t){var e=t.getProvider("app").getImmediate(),n={app:e,appConfig:function(t){var e,n;if(!t||!t.options)throw Ik("App Configuration Object");if(!t.name)throw Ik("App Name");var r=t.options;try{for(var i=Object(dd.h)(["projectId","apiKey","appId","messagingSenderId"]),o=i.next();!o.done;o=i.next()){var s=o.value;if(!r[s])throw Ik(s)}}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return{appName:t.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}(e),installations:t.getProvider("installations").getImmediate(),analyticsProvider:t.getProvider("analytics-internal")};if(!Rk())throw GC.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new kk(n):new Ok(n)},"PUBLIC").setServiceProps(Ak));var Dk="firebasestorage.googleapis.com",jk=function(t){function e(n,r){var i=t.call(this,Fk(n),"Firebase Storage: "+r+" ("+Fk(n)+")")||this;return i.customData={serverResponse:null},Object.setPrototypeOf(i,e.prototype),i}return Object(dd.c)(e,t),e.prototype.codeEquals=function(t){return Fk(t)===this.code},Object.defineProperty(e.prototype,"message",{get:function(){return this.customData.serverResponse?this.message+"\n"+this.customData.serverResponse:this.message},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t},enumerable:!1,configurable:!0}),e}(lc.c),Nk="canceled",Mk="invalid-argument",Lk="unsupported-environment";function Fk(t){return"storage/"+t}function Uk(){return new jk("unknown","An unknown error occurred, please check the error payload for server response.")}function Qk(){return new jk(Nk,"User canceled the upload/download.")}function Vk(){return new jk("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Bk(t){return new jk(Mk,t)}function qk(){return new jk("app-deleted","The Firebase app was deleted.")}function zk(t){return new jk("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Hk(t,e){return new jk("invalid-format","String does not match format '"+t+"': "+e)}function Kk(t){throw new jk("internal-error","Internal error: "+t)}var Wk={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Gk=function(){return function(t,e){this.data=t,this.contentType=e||null}}();function Xk(t,e){switch(t){case Wk.RAW:return new Gk(Yk(e));case Wk.BASE64:case Wk.BASE64URL:return new Gk($k(t,e));case Wk.DATA_URL:return new Gk((n=new Jk(e)).base64?$k(Wk.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(OC){throw Hk(Wk.DATA_URL,"Malformed data URL.")}return Yk(e)}(n.rest),new Jk(e).contentType)}var n;throw Uk()}function Yk(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var i=r,o=t.charCodeAt(++n);e.push(240|(r=65536|(1023&i)<<10|1023&o)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function $k(t,e){switch(t){case Wk.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw Hk(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case Wk.BASE64URL:var i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw Hk(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var s;try{s=atob(e)}catch(OC){throw Hk(t,"Invalid character found")}for(var a=new Uint8Array(s.length),c=0;c<s.length;c++)a[c]=s.charCodeAt(c);return a}var Jk=function(){return function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw Hk(Wk.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r,i=e[1]||null;null!=i&&(this.base64=(n=i).length>=(r=";base64").length&&n.substring(n.length-r.length)===r,this.contentType=this.base64?i.substring(0,i.length-";base64".length):i),this.rest=t.substring(t.indexOf(",")+1)}}(),Zk={STATE_CHANGED:"state_changed"},tP="running",eP="pausing",nP="paused",rP="success",iP="canceling",oP="canceled",sP="error",aP={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function cP(t){switch(t){case tP:case eP:case iP:return aP.RUNNING;case nP:return aP.PAUSED;case rP:return aP.SUCCESS;case oP:return aP.CANCELED;case sP:default:return aP.ERROR}}var uP=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({}),lP=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=uP.NO_ERROR,this.sendPromise_=new Promise(function(e){t.xhr_.addEventListener("abort",function(){t.errorCode_=uP.ABORT,e(t)}),t.xhr_.addEventListener("error",function(){t.errorCode_=uP.NETWORK_ERROR,e(t)}),t.xhr_.addEventListener("load",function(){e(t)})})}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw Kk("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw Kk("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw Kk("cannot .getStatus() before sending");try{return this.xhr_.status}catch(OC){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw Kk("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},t}(),hP=function(){function t(){}return t.prototype.createXhrIo=function(){return new lP},t}();function dP(t){return"string"==typeof t||t instanceof String}function fP(t){return pP()&&t instanceof Blob}function pP(){return"undefined"!=typeof Blob}function gP(t,e,n,r){if(r<e)throw new jk(Mk,"Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw new jk(Mk,"Invalid value for '"+t+"'. Expected "+n+" or less.")}function mP(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function bP(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=mP();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(pP())return new Blob(t);throw new jk(Lk,"This browser doesn't seem to support creating Blobs")}var vP=function(){function t(t,e){var n=0,r="";fP(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(fP(this.data_)){var r=(o=e,s=n,(i=this.data_).webkitSlice?i.webkitSlice(o,s):i.mozSlice?i.mozSlice(o,s):i.slice?i.slice(o,s):null);return null===r?null:new t(r)}var i,o,s;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(pP()){var r=e.map(function(e){return e instanceof t?e.data_:e});return new t(bP.apply(null,r))}var i=e.map(function(t){return dP(t)?Xk(Wk.RAW,t).data:t.data_}),o=0;i.forEach(function(t){o+=t.byteLength});var s=new Uint8Array(o),a=0;return i.forEach(function(t){for(var e=0;e<t.length;e++)s[a++]=t[e]}),new t(s,!0)},t.prototype.uploadData=function(){return this.data_},t}(),yP=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var n;try{n=t.makeFromUrl(e)}catch(OC){return new t(e,"")}if(""===n.path)return n;throw new jk("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e){var n=null,r="([A-Za-z0-9.\\-_]+)",i=new RegExp("^gs://"+r+"(/(.*))?$","i");function o(t){t.path_=decodeURIComponent(t.path)}for(var s=Dk.replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+s+"/v[A-Za-z0-9_]+/b/"+r+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://(?:storage.googleapis.com|storage.cloud.google.com)/"+r+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<a.length;c++){var u=a[c],l=u.regex.exec(e);if(l){var h=l[u.indices.path];h||(h=""),n=new t(l[u.indices.bucket],h),u.postModify(n);break}}if(null==n)throw function(t){return new jk("invalid-url","Invalid URL '"+t+"'.")}(e);return n},t}();function _P(t){var e,n;try{e=JSON.parse(t)}catch(OC){return null}return"object"!=typeof(n=e)||Array.isArray(n)?null:e}function wP(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function CP(t){return"https://"+Dk+"/v0"+t}function kP(t){var e=encodeURIComponent,n="?";for(var r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n.slice(0,-1)}function PP(t,e){return e}var SP=function(){return function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||PP}}(),EP=null;function TP(){if(EP)return EP;var t=[];t.push(new SP("bucket")),t.push(new SP("generation")),t.push(new SP("metageneration")),t.push(new SP("name","fullPath",!0));var e=new SP("name");e.xform=function(t,e){return function(t){return!dP(t)||t.length<2?t:wP(t)}(e)},t.push(e);var n=new SP("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new SP("timeCreated")),t.push(new SP("updated")),t.push(new SP("md5Hash",null,!0)),t.push(new SP("cacheControl",null,!0)),t.push(new SP("contentDisposition",null,!0)),t.push(new SP("contentEncoding",null,!0)),t.push(new SP("contentLanguage",null,!0)),t.push(new SP("contentType",null,!0)),t.push(new SP("metadata","customMetadata",!0)),EP=t}function xP(t,e,n){var r=_P(e);return null===r?null:function(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var s=n[o];r[s.local]=s.xform(r,e[s.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new yP(t.bucket,t.fullPath);return e.makeStorageReference(n)}})}(r,t),r}(t,r,n)}function OP(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}var IP=function(){return function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}();function AP(t){if(!t)throw Uk()}function RP(t,e){return function(n,r){var i=xP(t,r,e);return AP(null!==i),i}}function DP(t){return function(e,n){var r;return(r=401===e.getStatus()?new jk("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new jk("quota-exceeded","Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new jk("unauthorized","User does not have permission to access '"+t.path+"'."):n).serverResponse=n.serverResponse,r}}function jP(t){var e=DP(t);return function(n,r){var i=e(n,r);return 404===n.getStatus()&&(i=new jk("object-not-found","Object '"+t.path+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function NP(t,e,n){var r=CP(e.fullServerUrl()),i=t.maxOperationRetryTime,o=new IP(r,"GET",RP(t,n),i);return o.errorHandler=jP(e),o}function MP(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}var LP=function(){return function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null}}();function FP(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(OC){AP(!1)}return AP(!!n&&-1!==(e||["active"]).indexOf(n)),n}var UP=262144,QP=function(){return function(t,e,n){if("function"==typeof t||null!=e||null!=n)this.next=t,this.error=e,this.complete=n;else{var r=t;this.next=r.next,this.error=r.error,this.complete=r.complete}}}(),VP=function(){return function(t,e,n,r,i,o){this.bytesTransferred=t,this.totalBytes=e,this.state=n,this.metadata=r,this.task=i,this.ref=o}}();function BP(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then(function(){return t.apply(void 0,e)})}}var qP=function(){function t(t,e,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=TP(),this._resumable=this._shouldDoResumable(this._blob),this._state=tP,this._errorHandler=function(t){r._request=void 0,r._chunkMultiplier=1,t.codeEquals(Nk)?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=t,r._transition(sP))},this._metadataErrorHandler=function(t){r._request=void 0,t.codeEquals(Nk)?r.completeTransitions_():(r._error=t,r._transition(sP))},this._promise=new Promise(function(t,e){r._resolve=t,r._reject=e,r._start()}),this._promise.then(null,function(){})}return t.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(n){return t._updateProgress(e+n)}},t.prototype._shouldDoResumable=function(t){return t.size()>262144},t.prototype._start=function(){this._state===tP&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(t){var e=this;this._ref.storage.getAuthToken().then(function(n){switch(e._state){case tP:t(n);break;case iP:e._transition(oP);break;case eP:e._transition(nP)}})},t.prototype._createResumable=function(){var t=this;this._resolveToken(function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s=MP(e,r,i),a={name:s.fullPath},c=CP(o),u={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},l=OP(s,n),h=new IP(c,"POST",function(t){var e;FP(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(OC){AP(!1)}return AP(dP(e)),e},t.maxUploadRetryTime);return h.urlParams=a,h.headers=u,h.body=l,h.errorHandler=DP(e),h}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage.makeRequest(n,e);t._request=r,r.getPromise().then(function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},t.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken(function(n){var r=function(t,e,n,r){var i=new IP(n,"POST",function(t){var e=FP(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(OC){AP(!1)}n||AP(!1);var i=Number(n);return AP(!isNaN(i)),new LP(i,r.size(),"final"===e)},t.maxUploadRetryTime);return i.headers={"X-Goog-Upload-Command":"query"},i.errorHandler=DP(e),i}(t._ref.storage,t._ref._location,e,t._blob),i=t._ref.storage.makeRequest(r,n);t._request=i,i.getPromise().then(function(e){e=e,t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},t.prototype._continueUpload=function(){var t=this,e=UP*this._chunkMultiplier,n=new LP(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken(function(i){var o;try{o=function(t,e,n,r,i,o,s,a){var c=new LP(0,0);if(s?(c.current=s.current,c.total=s.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw new jk("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var u=c.total-c.current,l=u;i>0&&(l=Math.min(l,i));var h=c.current,d={"X-Goog-Upload-Command":l===u?"upload, finalize":"upload","X-Goog-Upload-Offset":c.current},f=r.slice(h,h+l);if(null===f)throw Vk();var p=new IP(n,"POST",function(t,n){var i,s=FP(t,["active","final"]),a=c.current+l,u=r.size();return i="final"===s?RP(e,o)(t,n):null,new LP(a,u,"final"===s,i)},e.maxUploadRetryTime);return p.headers=d,p.body=f.uploadData(),p.progressCallback=a||null,p.errorHandler=DP(t),p}(t._ref._location,t._ref.storage,r,t._blob,e,t._mappings,n,t._makeProgressCallback())}catch(OC){return t._error=OC,void t._transition(sP)}var s=t._ref.storage.makeRequest(o,i);t._request=s,s.getPromise().then(function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition(rP)):t.completeTransitions_()},t._errorHandler)})},t.prototype._increaseMultiplier=function(){UP*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(e){var n=NP(t._ref.storage,t._ref._location,t._mappings),r=t._ref.storage.makeRequest(n,e);t._request=r,r.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._transition(rP)},t._metadataErrorHandler)})},t.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},a=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();s["Content-Type"]="multipart/related; boundary="+a;var c=MP(e,r,i),u=OP(c,n),l=vP.getBlob("--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+u+"\r\n--"+a+"\r\nContent-Type: "+c.contentType+"\r\n\r\n",r,"\r\n--"+a+"--");if(null===l)throw Vk();var h={name:c.fullPath},d=CP(o),f=t.maxUploadRetryTime,p=new IP(d,"POST",RP(t,n),f);return p.urlParams=h,p.headers=s,p.body=l.uploadData(),p.errorHandler=DP(e),p}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage.makeRequest(n,e);t._request=r,r.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition(rP)},t._errorHandler)})},t.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},t.prototype._transition=function(t){if(this._state!==t)switch(t){case iP:case eP:this._state=t,void 0!==this._request&&this._request.cancel();break;case tP:var e=this._state===nP;this._state=t,e&&(this._notifyObservers(),this._start());break;case nP:this._state=t,this._notifyObservers();break;case oP:this._error=Qk(),this._state=t,this._notifyObservers();break;case sP:case rP:this._state=t,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case eP:this._transition(nP);break;case iP:this._transition(oP);break;case tP:this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=cP(this._state);return new VP(this._transferred,this._blob.size(),t,this._metadata,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){var i=this,o=new QP(e,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},t.prototype.then=function(t,e){return this._promise.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},t.prototype._removeObserver=function(t){var e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)},t.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach(function(e){t._notifyObserver(e)})},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(cP(this._state)){case aP.SUCCESS:BP(this._resolve.bind(null,this.snapshot))();break;case aP.CANCELED:case aP.ERROR:BP(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(t){switch(cP(this._state)){case aP.RUNNING:case aP.PAUSED:t.next&&BP(t.next.bind(t,this.snapshot))();break;case aP.SUCCESS:t.complete&&BP(t.complete.bind(t))();break;case aP.CANCELED:case aP.ERROR:t.error&&BP(t.error.bind(t,this._error))();break;default:t.error&&BP(t.error.bind(t,this._error))()}},t.prototype.resume=function(){var t=this._state===nP||this._state===eP;return t&&this._transition(tP),t},t.prototype.pause=function(){var t=this._state===tP;return t&&this._transition(eP),t},t.prototype.cancel=function(){var t=this._state===tP||this._state===eP;return t&&this._transition(iP),t},t}(),zP=function(){function t(t,e){this._service=t,this._location=e instanceof yP?e:yP.makeFromUrl(e)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype.newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var t=new yP(this._location.bucket,"");return this.newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return wP(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;var n=new yP(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(t){if(""===this._location.path)throw zk(t)},t}();function HP(t){var e={prefixes:[],items:[]};return KP(t,e).then(function(){return e})}function KP(t,e,n){return Object(dd.b)(this,void 0,void 0,function(){var r,i,o;return Object(dd.d)(this,function(s){switch(s.label){case 0:return[4,WP(t,{pageToken:n})];case 1:return r=s.sent(),(i=e.prefixes).push.apply(i,r.prefixes),(o=e.items).push.apply(o,r.items),null==r.nextPageToken?[3,3]:[4,KP(t,e,r.nextPageToken)];case 2:s.sent(),s.label=3;case 3:return[2]}})})}function WP(t,e){return Object(dd.b)(this,void 0,void 0,function(){var n,r,i;return Object(dd.d)(this,function(o){switch(o.label){case 0:return null!=e&&"number"==typeof e.maxResults&&gP("options.maxResults",1,1e3,e.maxResults),[4,t.storage.getAuthToken()];case 1:return n=o.sent(),i=function(t,e,n,r,i){var o={};o.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var s=CP(e.bucketOnlyServerUrl()),a=t.maxOperationRetryTime,c=new IP(s,"GET",function(t,e){return function(n,r){var i=function(t,e,n){var r=_P(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var s=o[i].replace(/\/$/,""),a=t.makeStorageReference(new yP(e,s));r.prefixes.push(a)}if(n.items)for(var c=0,u=n.items;c<u.length;c++)a=t.makeStorageReference(new yP(e,u[c].name)),r.items.push(a);return r}(t,e,r)}(t,e,r);return AP(null!==i),i}}(t,e.bucket),a);return c.urlParams=o,c.errorHandler=DP(e),c}(t.storage,t._location,"/",(r=e||{}).pageToken,r.maxResults),[2,t.storage.makeRequest(i,n).getPromise()]}})})}function GP(t,e){var n=function(t,e){var n=e.split("/").filter(function(t){return t.length>0}).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new yP(t._location.bucket,n);return new zP(t.storage,r)}var XP=function(){function t(t,e,n){this._delegate=t,this.task=e,this.ref=n}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),YP=function(){function t(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate),this._snapshot=new XP(this._delegate.snapshot,this,this._ref)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return this._snapshot},enumerable:!1,configurable:!0}),t.prototype.then=function(t,e){var n=this;return this._delegate.then(function(e){if(t)return t(new XP(e,n,n._ref))},e)},t.prototype.on=function(t,e,n,r){var i=this,o=void 0;return e&&(o="function"==typeof e?function(t){return e(new XP(t,i,i._ref))}:{next:e.next?function(t){return e.next(new XP(t,i,i._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,n||void 0,r||void 0)},t}(),$P=function(){function t(t,e){this._delegate=t,this._service=e}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(e){return new JP(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(e){return new JP(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),JP=function(){function t(t,e){this._delegate=t,this.storage=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){return new t(GP(this._delegate,e),this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return this._throwIfRoot("put"),new YP(function(t,e,n){return void 0===n&&(n=null),t._throwIfRoot("uploadBytesResumable"),new qP(t,new vP(e),n)}(this._delegate,t,e),this)},t.prototype.putString=function(t,e,n){return void 0===e&&(e=Wk.RAW),this._throwIfRoot("putString"),new YP(function(t,e,n,r){void 0===n&&(n=Wk.RAW),t._throwIfRoot("putString");var i=Xk(n,e),o=Object(dd.a)({},r);return null==o.contentType&&null!=i.contentType&&(o.contentType=i.contentType),new qP(t,new vP(i.data,!0),o)}(this._delegate,t,e,n),this)},t.prototype.listAll=function(){var t=this;return HP(this._delegate).then(function(e){return new $P(e,t.storage)})},t.prototype.list=function(t){var e=this;return WP(this._delegate,t).then(function(t){return new $P(t,e.storage)})},t.prototype.getMetadata=function(){return function(t){return Object(dd.b)(this,void 0,void 0,function(){var e,n;return Object(dd.d)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("getMetadata"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=NP(t.storage,t._location,TP()),[2,t.storage.makeRequest(n,e).getPromise()]}})})}(this._delegate)},t.prototype.updateMetadata=function(t){return function(t,e){return Object(dd.b)(this,void 0,void 0,function(){var n,r;return Object(dd.d)(this,function(i){switch(i.label){case 0:return t._throwIfRoot("updateMetadata"),[4,t.storage.getAuthToken()];case 1:return n=i.sent(),r=function(t,e,n,r){var i=CP(e.fullServerUrl()),o=OP(n,r),s=t.maxOperationRetryTime,a=new IP(i,"PATCH",RP(t,r),s);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=o,a.errorHandler=jP(e),a}(t.storage,t._location,e,TP()),[2,t.storage.makeRequest(r,n).getPromise()]}})})}(this._delegate,t)},t.prototype.getDownloadURL=function(){return function(t){return Object(dd.b)(this,void 0,void 0,function(){var e,n;return Object(dd.d)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("getDownloadURL"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=function(t,e,n){var r=CP(e.fullServerUrl()),i=t.maxOperationRetryTime,o=new IP(r,"GET",function(t,e){return function(n,r){var i=xP(t,r,e);return AP(null!==i),function(t,e){var n=_P(e);if(null===n)return null;if(!dP(n.downloadTokens))return null;var r=n.downloadTokens;if(0===r.length)return null;var i=encodeURIComponent;return r.split(",").map(function(e){var n=t.fullPath;return CP("/b/"+i(t.bucket)+"/o/"+i(n))+kP({alt:"media",token:e})})[0]}(i,r)}}(t,n),i);return o.errorHandler=jP(e),o}(t.storage,t._location,TP()),[2,t.storage.makeRequest(n,e).getPromise().then(function(t){if(null===t)throw new jk("no-download-url","The given file does not have any download URLs.");return t})]}})})}(this._delegate)},t.prototype.delete=function(){return this._throwIfRoot("delete"),function(t){return Object(dd.b)(this,void 0,void 0,function(){var e,n;return Object(dd.d)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("deleteObject"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=function(t,e){var n=CP(e.fullServerUrl()),r=new IP(n,"DELETE",function(t,e){},t.maxOperationRetryTime);return r.successCodes=[200,204],r.errorHandler=jP(e),r}(t.storage,t._location),[2,t.storage.makeRequest(n,e).getPromise()]}})})}(this._delegate)},t.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw zk(t)},t}(),ZP=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}(),tS=function(){function t(t,e,n,r,i,o,s,a,c,u,l){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=s,this.errorCallback_=a,this.progressCallback_=u,this.timeout_=c,this.pool_=l,this.promise_=new Promise(function(t,e){h.resolve_=t,h.reject_=e,h.start_()})}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,o=t.reject_,s=n.xhr;if(n.wasSuccessCode)try{var a=t.callback_(s,s.getResponseText());void 0!==a?i(a):i()}catch(OC){o(OC)}else null!==s?((r=Uk()).serverResponse=s.getResponseText(),o(t.errorCallback_?t.errorCallback_(s,r):r)):o(r=n.canceled?t.appDelete_?qk():Qk():new jk("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new eS(!1,null,!0)):this.backoffId_=function(e,n,r){var i=1,o=null,s=!1,a=0;function c(){return 2===a}var u=!1;function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];u||(u=!0,n.apply(null,t))}function h(e){o=setTimeout(function(){o=null,function(e,n){if(n)e(!1,new eS(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then(function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(i),t.pendingXhr_=null;var r=(n=n).getErrorCode()===uP.NO_ERROR,o=n.getStatus();if(r&&!t.isRetryStatusCode_(o)){var s=-1!==t.successCodes_.indexOf(o);e(!0,new eS(s,n))}else{var a=n.getErrorCode()===uP.ABORT;e(!1,new eS(!1,null,a))}})}function i(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}}(d,c())},e)}function d(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!u)if(t)l.call.apply(l,Object(dd.g)([null,t],e));else{var r;c()||s?l.call.apply(l,Object(dd.g)([null,t],e)):(i<64&&(i*=2),1===a?(a=2,r=0):r=1e3*(i+Math.random()),h(r))}}var f=!1;function p(t){f||(f=!0,u||(null!==o?(t||(a=2),clearTimeout(o),h(0)):t||(a=1)))}return h(0),setTimeout(function(){s=!0,p(!0)},r),p}(0,e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),eS=function(){return function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n}}();function nS(t){return/^[A-Za-z]+:\/\//.test(t)}function rS(t,e){if(t instanceof oS){var n=t;if(null==n._bucket)throw new jk("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new zP(n,n._bucket);return null!=e?rS(r,e):r}if(void 0!==e){if(e.includes(".."))throw Bk('`path` param cannot contain ".."');return GP(t,e)}return t}function iS(t,e){if(e&&nS(e)){if(t instanceof oS)return new zP(t,e);throw Bk("To use ref(service, url), the first argument must be a Storage instance.")}return rS(t,e)}var oS=function(){function t(t,e,n,r){var i,o;this.app=t,this._authProvider=e,this._pool=n,this._url=r,this._bucket=null,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?yP.makeFromBucketSpec(r):null==(o=null==(i=this.app.options)?void 0:i.storageBucket)?null:yP.makeFromBucketSpec(o)}return Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){gP("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){gP("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),t.prototype.getAuthToken=function(){return Object(dd.b)(this,void 0,void 0,function(){var t,e;return Object(dd.d)(this,function(n){switch(n.label){case 0:return(t=this._authProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}})})},t.prototype._delete=function(){return this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear(),Promise.resolve()},t.prototype.makeStorageReference=function(t){return new zP(this,t)},t.prototype.makeRequest=function(t,e){var n=this;if(this._deleted)return new ZP(qk());var r=function(t,e,n,r){var i=kP(t.urlParams),o=t.url+i,s=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(s,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(s,n),function(t){t["X-Firebase-Storage-Version"]="webjs/"+(void 0!==cc.a?cc.a.SDK_VERSION:"AppManager")}(s),new tS(o,t.method,s,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}(t,this._appId,e,this._pool);return this._requests.add(r),r.getPromise().then(function(){return n._requests.delete(r)},function(){return n._requests.delete(r)}),r},t}(),sS=function(){function t(t,e){var n=this;this.app=t,this._delegate=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){if(nS(t))throw Bk("ref() expected a child path but got a URL, use refFromURL instead.");return new JP(iS(this._delegate,t),this)},t.prototype.refFromURL=function(t){if(!nS(t))throw Bk("refFromURL() expected a full URL but got a child path, use ref() instead.");try{yP.makeFromUrl(t)}catch(OC){throw Bk("refFromUrl() expected a valid full URL but got an invalid one.")}return new JP(iS(this._delegate,t),this)},t.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},t.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},t}();function aS(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return new sS(n,new oS(n,r,new hP,e))}!function(t){var e={TaskState:aP,TaskEvent:Zk,StringFormat:Wk,Storage:oS,Reference:JP};t.INTERNAL.registerComponent(new DC.a("storage",aS,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion("@firebase/storage","0.4.2")}(cc.a);var cS,uS,lS,hS="0.4.5",dS=hS,fS="FB-PERF-TRACE-MEASURE",pS="_wt_",gS="_fcp",mS="_fid",bS="@firebase/performance/config",vS="@firebase/performance/configexpire",yS="Performance",_S=((cS={})["trace started"]="Trace {$traceName} was started before.",cS["trace stopped"]="Trace {$traceName} is not running.",cS["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",cS["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",cS["no window"]="Window is not available.",cS["no app id"]="App id is not available.",cS["no project id"]="Project id is not available.",cS["no api key"]="Api key is not available.",cS["invalid cc log"]="Attempted to queue invalid cc event",cS["FB not default"]="Performance can only start when Firebase app instance is the default one.",cS["RC response not ok"]="RC response is not ok",cS["invalid attribute name"]="Attribute name {$attributeName} is invalid.",cS["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",cS["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",cS["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",cS),wS=new lc.b("performance",yS,_S),CS=new uc.b(yS);CS.logLevel=uc.a.INFO;var kS,PS=function(){function t(t){if(this.window=t,!t)throw wS.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay)}return t.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},t.prototype.mark=function(t){this.performance&&this.performance.mark&&this.performance.mark(t)},t.prototype.measure=function(t,e,n){this.performance&&this.performance.measure&&this.performance.measure(t,e,n)},t.prototype.getEntriesByType=function(t){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(t):[]},t.prototype.getEntriesByName=function(t){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(t):[]},t.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},t.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!Object(lc.w)()||(CS.info("IndexedDB is not supported by current browswer"),!1):(CS.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},t.prototype.setupObserver=function(t,e){this.PerformanceObserver&&new this.PerformanceObserver(function(t){for(var n=0,r=t.getEntries();n<r.length;n++)e(r[n])}).observe({entryTypes:[t]})},t.getInstance=function(){return void 0===uS&&(uS=new t(lS)),uS},t}();function SS(t,e){var n=t.length-e.length;if(n<0||n>1)throw wS.create("invalid String merger input");for(var r=[],i=0;i<t.length;i++)r.push(t.charAt(i)),e.length>i&&r.push(e.charAt(i));return r.join("")}var ES,TS=function(){function t(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=SS("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=SS("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return t.prototype.getAppId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!t)throw wS.create("no app id");return t},t.prototype.getProjectId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!t)throw wS.create("no project id");return t},t.prototype.getApiKey=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!t)throw wS.create("no api key");return t},t.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},t.getInstance=function(){return void 0===kS&&(kS=new t),kS},t}();function xS(){return ES}var OS=function(t){return t[t.UNKNOWN=0]="UNKNOWN",t[t.VISIBLE=1]="VISIBLE",t[t.HIDDEN=2]="HIDDEN",t}({}),IS=["firebase_","google_","ga_"],AS=new RegExp("^[a-zA-Z]\\w*$");function RS(){var t=PS.getInstance().navigator;return"serviceWorker"in t?t.serviceWorker.controller?2:3:1}function DS(){switch(PS.getInstance().document.visibilityState){case"visible":return OS.VISIBLE;case"hidden":return OS.HIDDEN;default:return OS.UNKNOWN}}function jS(){var t=PS.getInstance().navigator.connection;switch(t&&t.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function NS(t){if(!t)return t;var e=TS.getInstance(),n=t.entries||{};return e.loggingEnabled=void 0===n.fpr_enabled||"true"===String(n.fpr_enabled),n.fpr_log_source&&(e.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(e.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(e.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(e.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(e.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),e.logTraceAfterSampling=MS(e.tracesSamplingRate),e.logNetworkAfterSampling=MS(e.networkRequestsSamplingRate),t}function MS(t){return Math.random()<=t}var LS,FS=1;function US(){return FS=2,LS=LS||function(){var t=PS.getInstance().document;return new Promise(function(e){if(t&&"complete"!==t.readyState){var n=function(){"complete"===t.readyState&&(t.removeEventListener("readystatechange",n),e())};t.addEventListener("readystatechange",n)}else e()})}().then(function(){return(t=TS.getInstance().installationsService.getId()).then(function(t){ES=t}),t;var t}).then(function(t){return function(t){var e=function(){var t=PS.getInstance().localStorage;if(t){var e=t.getItem(vS);if(e&&Number(e)>Date.now()){var n=t.getItem(bS);if(n)try{return JSON.parse(n)}catch(r){return}}}}();return e?(NS(e),Promise.resolve()):function(t){return(e=TS.getInstance().installationsService.getToken(),e.then(function(t){}),e).then(function(e){var n="https://firebaseremoteconfig.googleapis.com/v1/projects/"+TS.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+TS.getInstance().getApiKey(),r=new Request(n,{method:"POST",headers:{Authorization:"FIREBASE_INSTALLATIONS_AUTH "+e},body:JSON.stringify({app_instance_id:t,app_instance_id_token:e,app_id:TS.getInstance().getAppId(),app_version:dS,sdk_version:"0.0.1"})});return fetch(r).then(function(t){if(t.ok)return t.json();throw wS.create("RC response not ok")})}).catch(function(){CS.info("Could not fetch config, will use default configs")});var e}(t).then(NS).then(function(t){return function(t){var e=PS.getInstance().localStorage;t&&e&&(e.setItem(bS,JSON.stringify(t)),e.setItem(vS,String(Date.now()+60*TS.getInstance().configTimeToLive*60*1e3)))}(t)},function(){})}(t)}).then(function(){return QS()},function(){return QS()})}function QS(){FS=3}var VS,BS=1e4,qS=3,zS=[],HS=!1;function KS(t){setTimeout(function(){var t,e;if(0!==qS)return zS.length?(e=(t=zS.splice(0,1e3)).map(function(t){return{source_extension_json_proto3:t.message,event_time_ms:String(t.eventTime)}}),void function(t,e){return function(t){var e=TS.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(t)})}(t).then(function(t){return t.ok||CS.info("Call to Firebase backend failed."),t.json()}).then(function(t){var n=Number(t.nextRequestWaitMillis),r=BS;isNaN(n)||(r=Math.max(n,r));var i=t.logResponseDetails;Array.isArray(i)&&i.length>0&&"RETRY_REQUEST_LATER"===i[0].responseAction&&(zS=Object(dd.g)(e,zS),CS.info("Retry transport request later.")),qS=3,KS(r)})}({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:TS.getInstance().logSource,log_event:e},t).catch(function(){zS=Object(dd.g)(t,zS),qS--,CS.info("Tries left: "+qS+"."),KS(BS)})):KS(BS)},t)}function WS(t){if(!t.eventTime||!t.message)throw wS.create("invalid cc log");zS=Object(dd.g)(zS,[t])}function GS(t,e){var n;VS||(n=$S,VS=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];WS({message:n.apply(void 0,t),eventTime:Date.now()})}),VS(t,e)}function XS(t){var e=TS.getInstance();!e.instrumentationEnabled&&t.isAuto||(e.dataCollectionEnabled||t.isAuto)&&PS.getInstance().requiredApisAvailable()&&(t.isAuto&&DS()!==OS.VISIBLE||(3===FS?YS(t):US().then(function(){return YS(t)},function(){return YS(t)})))}function YS(t){if(xS()){var e=TS.getInstance();e.loggingEnabled&&e.logTraceAfterSampling&&setTimeout(function(){return GS(t,1)},0)}}function $S(t,e){return 0===e?(r={url:(n=t).url,http_method:n.httpMethod||0,http_response_code:200,response_payload_bytes:n.responsePayloadBytes,client_start_time_us:n.startTimeUs,time_to_response_initiated_us:n.timeToResponseInitiatedUs,time_to_response_completed_us:n.timeToResponseCompletedUs},i={application_info:JS(),network_request_metric:r},JSON.stringify(i)):function(t){var e={name:t.name,is_auto:t.isAuto,client_start_time_us:t.startTimeUs,duration_us:t.durationUs};0!==Object.keys(t.counters).length&&(e.counters=t.counters);var n=t.getAttributes();0!==Object.keys(n).length&&(e.custom_attributes=n);var r={application_info:JS(),trace_metric:e};return JSON.stringify(r)}(t);var n,r,i}function JS(){return{google_app_id:TS.getInstance().getAppId(),app_instance_id:xS(),web_app_info:{sdk_version:dS,page_url:PS.getInstance().getUrl(),service_worker_status:RS(),visibility_state:DS(),effective_connection_type:jS()},application_process_state:0}}var ZS=["_fp",gS,mS],tE=function(){function t(t,e,n){void 0===e&&(e=!1),this.name=t,this.isAuto=e,this.state=1,this.customAttributes={},this.counters={},this.api=PS.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=n||"FB-PERF-TRACE-MEASURE-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}return t.prototype.start=function(){if(1!==this.state)throw wS.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},t.prototype.stop=function(){if(2!==this.state)throw wS.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),XS(this)},t.prototype.record=function(t,e,n){if(t<=0)throw wS.create("nonpositive trace startTime",{traceName:this.name});if(e<=0)throw wS.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*e),this.startTimeUs=Math.floor(1e3*t),n&&n.attributes&&(this.customAttributes=Object(dd.a)({},n.attributes)),n&&n.metrics)for(var r=0,i=Object.keys(n.metrics);r<i.length;r++){var o=i[r];isNaN(Number(n.metrics[o]))||(this.counters[o]=Number(Math.floor(n.metrics[o])))}XS(this)},t.prototype.incrementMetric=function(t,e){void 0===e&&(e=1),this.putMetric(t,void 0===this.counters[t]?e:this.counters[t]+e)},t.prototype.putMetric=function(t,e){if(!function(t,e){return!(0===t.length||t.length>100)&&(e&&e.startsWith(pS)&&ZS.indexOf(t)>-1||!t.startsWith("_"))}(t,this.name))throw wS.create("invalid custom metric name",{customMetricName:t});var n,r;this.counters[t]=(n=e,(r=Math.floor(n))<n&&CS.info("Metric value should be an Integer, setting the value as : "+r+"."),r)},t.prototype.getMetric=function(t){return this.counters[t]||0},t.prototype.putAttribute=function(t,e){var n=function(t){return!(0===t.length||t.length>40||IS.some(function(e){return t.startsWith(e)})||!t.match(AS))}(t),r=function(t){return 0!==t.length&&t.length<=100}(e);if(n&&r)this.customAttributes[t]=e;else{if(!n)throw wS.create("invalid attribute name",{attributeName:t});if(!r)throw wS.create("invalid attribute value",{attributeValue:e})}},t.prototype.getAttribute=function(t){return this.customAttributes[t]},t.prototype.removeAttribute=function(t){void 0!==this.customAttributes[t]&&delete this.customAttributes[t]},t.prototype.getAttributes=function(){return Object(dd.a)({},this.customAttributes)},t.prototype.setStartTime=function(t){this.startTimeUs=t},t.prototype.setDuration=function(t){this.durationUs=t},t.prototype.calculateTraceMetrics=function(){var t=this.api.getEntriesByName(this.traceMeasure),e=t&&t[0];e&&(this.durationUs=Math.floor(1e3*e.duration),this.startTimeUs=Math.floor(1e3*(e.startTime+this.api.getTimeOrigin())))},t.createOobTrace=function(e,n,r){var i=PS.getInstance().getUrl();if(i){var o=new t(pS+i,!0),s=Math.floor(1e3*PS.getInstance().getTimeOrigin());if(o.setStartTime(s),e&&e[0]&&(o.setDuration(Math.floor(1e3*e[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*e[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*e[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*e[0].loadEventEnd))),n){var a=n.find(function(t){return"first-paint"===t.name});a&&a.startTime&&o.putMetric("_fp",Math.floor(1e3*a.startTime));var c=n.find(function(t){return"first-contentful-paint"===t.name});c&&c.startTime&&o.putMetric(gS,Math.floor(1e3*c.startTime)),r&&o.putMetric(mS,Math.floor(1e3*r))}XS(o)}},t.createUserTimingTrace=function(e){XS(new t(e,!1,e))},t}();function eE(t){var e=t;if(e&&void 0!==e.responseStart){var n=PS.getInstance().getTimeOrigin(),r=Math.floor(1e3*(e.startTime+n)),i=e.responseStart?Math.floor(1e3*(e.responseStart-e.startTime)):void 0,o=Math.floor(1e3*(e.responseEnd-e.startTime));!function(t){var e=TS.getInstance();if(e.instrumentationEnabled){var n=t.url,r=e.logEndPointUrl.split("?")[0],i=e.flTransportEndpointUrl.split("?")[0];n!==r&&n!==i&&e.loggingEnabled&&e.logNetworkAfterSampling&&setTimeout(function(){return GS(t,0)},0)}}({url:e.name&&e.name.split("?")[0],responsePayloadBytes:e.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:o})}}function nE(){xS()&&(setTimeout(function(){return function(){var t=PS.getInstance(),e=t.getEntriesByType("navigation"),n=t.getEntriesByType("paint");if(t.onFirstInputDelay){var r=setTimeout(function(){tE.createOobTrace(e,n),r=void 0},5e3);t.onFirstInputDelay(function(t){r&&(clearTimeout(r),tE.createOobTrace(e,n,t))})}else tE.createOobTrace(e,n)}()},0),setTimeout(function(){return function(){for(var t=PS.getInstance(),e=0,n=t.getEntriesByType("resource");e<n.length;e++)eE(n[e]);t.setupObserver("resource",eE)}()},0),setTimeout(function(){return function(){for(var t=PS.getInstance(),e=0,n=t.getEntriesByType("measure");e<n.length;e++)rE(n[e]);t.setupObserver("measure",rE)}()},0))}function rE(t){var e=t.name;e.substring(0,fS.length)!==fS&&tE.createUserTimingTrace(e)}var iE=function(){function t(t){this.app=t,PS.getInstance().requiredApisAvailable()&&Object(lc.N)().then(function(t){t&&(HS||(KS(5500),HS=!0),US().then(nE,nE))}).catch(function(t){CS.info("Environment doesn't support IndexedDB: "+t)})}return t.prototype.trace=function(t){return new tE(t)},Object.defineProperty(t.prototype,"instrumentationEnabled",{get:function(){return TS.getInstance().instrumentationEnabled},set:function(t){TS.getInstance().instrumentationEnabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataCollectionEnabled",{get:function(){return TS.getInstance().dataCollectionEnabled},set:function(t){TS.getInstance().dataCollectionEnabled=t},enumerable:!1,configurable:!0}),t}();!function(t){t.INTERNAL.registerComponent(new DC.a("performance",function(t){return function(t,e){if("[DEFAULT]"!==t.name)throw wS.create("FB not default");if("undefined"==typeof window)throw wS.create("no window");return function(t){lS=t}(window),TS.getInstance().firebaseAppInstance=t,TS.getInstance().installationsService=e,new iE(t)}(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())},"PUBLIC")),t.registerVersion("@firebase/performance",hS)}(cc.a),n("3Kre");var oE,sE=function(){function t(t,e,n,r){this.client=t,this.storage=e,this.storageCache=n,this.logger=r}return t.prototype.isCachedDataFresh=function(t,e){if(!e)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-e,r=n<=t;return this.logger.debug("Config fetch cache check. Cache age millis: "+n+". Cache max age millis (minimumFetchIntervalMillis setting): "+t+". Is cache hit: "+r+"."),r},t.prototype.fetch=function(t){return Object(dd.b)(this,void 0,void 0,function(){var e,n,r,i,o;return Object(dd.d)(this,function(s){switch(s.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return e=s.sent(),n=e[0],(r=e[1])&&this.isCachedDataFresh(t.cacheMaxAgeMillis,n)?[2,r]:(t.eTag=r&&r.eTag,[4,this.client.fetch(t)]);case 2:return i=s.sent(),o=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===i.status&&o.push(this.storage.setLastSuccessfulFetchResponse(i)),[4,Promise.all(o)];case 3:return s.sent(),[2,i]}})})},t}(),aE=((oE={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",oE["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",oE["registration-api-key"]="Undefined API key. Check Firebase app initialization.",oE["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",oE["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",oE["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",oE["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",oE["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",oE["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",oE["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',oE["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',oE["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",oE["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",oE),cE=new lc.b("remoteconfig","Remote Config",aE),uE=function(){function t(t,e,n,r,i,o){this.firebaseInstallations=t,this.sdkVersion=e,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=o}return t.prototype.fetch=function(t){return Object(dd.b)(this,void 0,void 0,function(){var e,n,r,i,o,s,a,c,u,l,h,d,f,p,g,m;return Object(dd.d)(this,function(b){switch(b.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:e=b.sent(),n=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",r=n+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,i={sdk_version:this.sdkVersion,app_instance_id:e[0],app_instance_id_token:e[1],app_id:this.appId,language_code:(void 0===v&&(v=navigator),v.languages&&v.languages[0]||v.language)},o={method:"POST",headers:{"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},body:JSON.stringify(i)},s=fetch(r,o),a=new Promise(function(e,n){t.signal.addEventListener(function(){var t=new Error("The operation was aborted.");t.name="AbortError",n(t)})}),b.label=2;case 2:return b.trys.push([2,5,,6]),[4,Promise.race([s,a])];case 3:return b.sent(),[4,s];case 4:return c=b.sent(),[3,6];case 5:throw u=b.sent(),l="fetch-client-network","AbortError"===u.name&&(l="fetch-timeout"),cE.create(l,{originalErrorMessage:u.message});case 6:if(h=c.status,d=c.headers.get("ETag")||void 0,200!==c.status)return[3,11];g=void 0,b.label=7;case 7:return b.trys.push([7,9,,10]),[4,c.json()];case 8:return g=b.sent(),[3,10];case 9:throw m=b.sent(),cE.create("fetch-client-parse",{originalErrorMessage:m.message});case 10:f=g.entries,p=g.state,b.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===p?h=500:"NO_CHANGE"===p?h=304:"NO_TEMPLATE"!==p&&"EMPTY_CONFIG"!==p||(f={}),304!==h&&200!==h)throw cE.create("fetch-status",{httpStatus:h});return[2,{status:h,eTag:d,config:f}]}var v})})},t}(),lE=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach(function(t){return t()})},t}(),hE=["1","true","t","yes","y","on"],dE=function(){function t(t,e){void 0===e&&(e=""),this._source=t,this._value=e}return t.prototype.asString=function(){return this._value},t.prototype.asBoolean=function(){return"static"!==this._source&&hE.indexOf(this._value.toLowerCase())>=0},t.prototype.asNumber=function(){if("static"===this._source)return 0;var t=Number(this._value);return isNaN(t)&&(t=0),t},t.prototype.getSource=function(){return this._source},t}(),fE=function(){function t(t,e,n,r,i){this.app=t,this._client=e,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return t.prototype.setLogLevel=function(t){switch(t){case"debug":this._logger.logLevel=uc.a.DEBUG;break;case"silent":this._logger.logLevel=uc.a.SILENT;break;default:this._logger.logLevel=uc.a.ERROR}},Object.defineProperty(t.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),t.prototype.activate=function(){return Object(dd.b)(this,void 0,void 0,function(){var t,e,n;return Object(dd.d)(this,function(r){switch(r.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return t=r.sent(),n=t[1],(e=t[0])&&e.config&&e.eTag&&e.eTag!==n?[4,Promise.all([this._storageCache.setActiveConfig(e.config),this._storage.setActiveConfigEtag(e.eTag)])]:[2,!1];case 2:return r.sent(),[2,!0]}})})},t.prototype.ensureInitialized=function(){var t=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then(function(){t._isInitializationComplete=!0})),this._initializePromise},t.prototype.fetch=function(){return Object(dd.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(dd.d)(this,function(i){switch(i.label){case 0:t=new lE,setTimeout(function(){return Object(dd.b)(r,void 0,void 0,function(){return Object(dd.d)(this,function(e){return t.abort(),[2]})})},this.settings.fetchTimeoutMillis),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:t})];case 2:return i.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return i.sent(),[3,6];case 4:return e=i.sent(),n=function(t,e){return t instanceof lc.c&&-1!==t.code.indexOf("fetch-throttle")}(e)?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(n)];case 5:throw i.sent(),e;case 6:return[2]}})})},t.prototype.fetchAndActivate=function(){return Object(dd.b)(this,void 0,void 0,function(){return Object(dd.d)(this,function(t){switch(t.label){case 0:return[4,this.fetch()];case 1:return t.sent(),[2,this.activate()]}})})},t.prototype.getAll=function(){var t,e,n=this;return(t=this._storageCache.getActiveConfig(),e=this.defaultConfig,void 0===t&&(t={}),void 0===e&&(e={}),Object.keys(Object(dd.a)(Object(dd.a)({},t),e))).reduce(function(t,e){return t[e]=n.getValue(e),t},{})},t.prototype.getBoolean=function(t){return this.getValue(t).asBoolean()},t.prototype.getNumber=function(t){return this.getValue(t).asNumber()},t.prototype.getString=function(t){return this.getValue(t).asString()},t.prototype.getValue=function(t){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+t+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var e=this._storageCache.getActiveConfig();return e&&void 0!==e[t]?new dE("remote",e[t]):this.defaultConfig&&void 0!==this.defaultConfig[t]?new dE("default",String(this.defaultConfig[t])):(this._logger.debug('Returning static value for key "'+t+'". Define a default or remote value if this is unintentional.'),new dE("static"))},t}();function pE(t,e){var n=t.target.error||void 0;return cE.create(e,{originalErrorMessage:n&&n.message})}var gE="app_namespace_store",mE=function(){function t(t,e,n,r){void 0===r&&(r=new Promise(function(t,e){var n=indexedDB.open("firebase_remote_config",1);n.onerror=function(t){e(pE(t,"storage-open"))},n.onsuccess=function(e){t(e.target.result)},n.onupgradeneeded=function(t){var e=t.target.result;switch(t.oldVersion){case 0:e.createObjectStore(gE,{keyPath:"compositeKey"})}}})),this.appId=t,this.appName=e,this.namespace=n,this.openDbPromise=r}return t.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},t.prototype.setLastFetchStatus=function(t){return this.set("last_fetch_status",t)},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.set("last_successful_fetch_timestamp_millis",t)},t.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},t.prototype.setLastSuccessfulFetchResponse=function(t){return this.set("last_successful_fetch_response",t)},t.prototype.getActiveConfig=function(){return this.get("active_config")},t.prototype.setActiveConfig=function(t){return this.set("active_config",t)},t.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},t.prototype.setActiveConfigEtag=function(t){return this.set("active_config_etag",t)},t.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},t.prototype.setThrottleMetadata=function(t){return this.set("throttle_metadata",t)},t.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},t.prototype.get=function(t){return Object(dd.b)(this,void 0,void 0,function(){var e,n=this;return Object(dd.d)(this,function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return e=r.sent(),[2,new Promise(function(r,i){var o=e.transaction([gE],"readonly").objectStore(gE),s=n.createCompositeKey(t);try{var a=o.get(s);a.onerror=function(t){i(pE(t,"storage-get"))},a.onsuccess=function(t){var e=t.target.result;r(e?e.value:void 0)}}catch(OC){i(cE.create("storage-get",{originalErrorMessage:OC&&OC.message}))}})]}})})},t.prototype.set=function(t,e){return Object(dd.b)(this,void 0,void 0,function(){var n,r=this;return Object(dd.d)(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise(function(i,o){var s=n.transaction([gE],"readwrite").objectStore(gE),a=r.createCompositeKey(t);try{var c=s.put({compositeKey:a,value:e});c.onerror=function(t){o(pE(t,"storage-set"))},c.onsuccess=function(){i()}}catch(OC){o(cE.create("storage-set",{originalErrorMessage:OC&&OC.message}))}})]}})})},t.prototype.delete=function(t){return Object(dd.b)(this,void 0,void 0,function(){var e,n=this;return Object(dd.d)(this,function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return e=r.sent(),[2,new Promise(function(r,i){var o=e.transaction([gE],"readwrite").objectStore(gE),s=n.createCompositeKey(t);try{var a=o.delete(s);a.onerror=function(t){i(pE(t,"storage-delete"))},a.onsuccess=function(){r()}}catch(OC){i(cE.create("storage-delete",{originalErrorMessage:OC&&OC.message}))}})]}})})},t.prototype.createCompositeKey=function(t){return[this.appId,this.appName,this.namespace,t].join()},t}(),bE=function(){function t(t){this.storage=t}return t.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},t.prototype.getActiveConfig=function(){return this.activeConfig},t.prototype.loadFromStorage=function(){return Object(dd.b)(this,void 0,void 0,function(){var t,e,n,r,i,o;return Object(dd.d)(this,function(s){switch(s.label){case 0:return t=this.storage.getLastFetchStatus(),e=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,t];case 1:return(r=s.sent())&&(this.lastFetchStatus=r),[4,e];case 2:return(i=s.sent())&&(this.lastSuccessfulFetchTimestampMillis=i),[4,n];case 3:return(o=s.sent())&&(this.activeConfig=o),[2]}})})},t.prototype.setLastFetchStatus=function(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)},t.prototype.setActiveConfig=function(t){return this.activeConfig=t,this.storage.setActiveConfig(t)},t}();function vE(t,e){return new Promise(function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(function(){clearTimeout(o),r(cE.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}var yE,_E=function(){function t(t,e){this.client=t,this.storage=e}return t.prototype.fetch=function(t){return Object(dd.b)(this,void 0,void 0,function(){var e;return Object(dd.d)(this,function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return e=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(t,e)]}})})},t.prototype.attemptFetch=function(t,e){var n=e.throttleEndTimeMillis,r=e.backoffCount;return Object(dd.b)(this,void 0,void 0,function(){var e,i,o;return Object(dd.d)(this,function(s){switch(s.label){case 0:return[4,vE(t.signal,n)];case 1:s.sent(),s.label=2;case 2:return s.trys.push([2,5,,7]),[4,this.client.fetch(t)];case 3:return e=s.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return s.sent(),[2,e];case 5:if(!function(t){if(!(t instanceof lc.c&&t.customData))return!1;var e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(i=s.sent()))throw i;return o={throttleEndTimeMillis:Date.now()+Object(lc.j)(r),backoffCount:r+1},[4,this.storage.setThrottleMetadata(o)];case 6:return s.sent(),[2,this.attemptFetch(t,o)];case 7:return[2]}})})},t}(),wE="@firebase/remote-config";(yE=cc.a).INTERNAL.registerComponent(new DC.a("remoteConfig",function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("installations").getImmediate();if("undefined"==typeof window)throw cE.create("registration-window");var i=n.options,o=i.projectId,s=i.apiKey,a=i.appId;if(!o)throw cE.create("registration-project-id");if(!s)throw cE.create("registration-api-key");if(!a)throw cE.create("registration-app-id");var c=new mE(a,n.name,e=e||"firebase"),u=new bE(c),l=new uc.b(wE);l.logLevel=uc.a.ERROR;var h=new uE(r,yE.SDK_VERSION,e,o,s,a),d=new _E(h,c),f=new sE(d,c,u,l),p=new fE(n,f,u,c,l);return p.ensureInitialized(),p},"PUBLIC").setMultipleInstances(!0)),yE.registerVersion(wE,"0.1.30"),cc.a.registerVersion("firebase","8.2.1","app"),console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),cc.a.registerVersion("firebase","8.2.1");let CE=(()=>{class t{constructor(t){this.http=t}updateSessions(t,e){return xr(this,void 0,void 0,function*(){this.http.post(i+"/pupdate",{sessionId:t,mail:e}).subscribe(t=>{console.log("Update Profile",t)})})}getProfile(t){return console.log(i+"/getProfile"),this.http.post(i+"/getProfile",{mail:t})}getOtherUser(t){return this.http.get(i+"/getProfile/getUser/"+t)}getUserInfo(t){return this.http.post(i+"/getProfile/profile",{mail:t})}getRooms(){return this.http.get(i+"/getRooms")}getSessionActive(t){return this.http.get(i+"/isMyRoomActive?rid="+t)}changeUserName(t,e){return this.http.post(i+"/changeUserInfo/name",{mail:t,name:e})}changeNewsletterOption(t,e){return this.http.post(i+"/changeUserInfo/newsletter",{mail:t,newsletter:e})}getQuotes(){return this.http.get(i+"/quote/get")}getGoals(t){return this.http.post(i+"/achievements/get",t)}isRoomFull(t){return this.http.get(i+"/isRoomFull?rid="+t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(hr))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var kE=n("Jgta"),PE=n("PSD3"),SE=n.n(PE);let EE=(()=>{class t{constructor(t,e,n){this.firebaseAuthService=t,this.http=e,this.router=n,this.firebaseAuthService.authState.subscribe(t=>{t?this.user=t:console.log("no user")})}signupMail(t,e,n,r,o){var s,a,c;return xr(this,void 0,void 0,function*(){try{const u=yield this.firebaseAuthService.createUserWithEmailAndPassword(e,n);yield null===(s=u.user)||void 0===s?void 0:s.updateProfile({displayName:t});const l=null===(a=u.user)||void 0===a?void 0:a.email;o=localStorage.getItem("ref")||o,this.http.post(i+"/auth",{mail:l,name:t,ref:o}).subscribe(t=>{}),null===(c=u.user)||void 0===c||c.sendEmailVerification(),this.router.navigate(""!=r?[r]:["/verify"])}catch(u){console.log({error:u}),SE.a.fire("Error",u.message,"error")}})}signinMail(t,e,n){var r;return xr(this,void 0,void 0,function*(){try{const i=yield this.firebaseAuthService.signInWithEmailAndPassword(t,e);(null===(r=i.user)||void 0===r?void 0:r.emailVerified)?this.router.navigate([n]):this.router.navigate(["/verify"])}catch(i){console.log("Auth Error",{error:i}),SE.a.fire("Error",i.message,"error")}})}signinGoogle(t,e,n){var r,o;return xr(this,void 0,void 0,function*(){try{const t=yield this.firebaseAuthService.signInWithPopup(new kE.a.auth.GoogleAuthProvider),s=null===(r=t.user)||void 0===r?void 0:r.email,a=null===(o=t.user)||void 0===o?void 0:o.displayName;n=localStorage.getItem("ref")||n,this.http.post(i+"/auth",{mail:s,name:a,ref:n}).subscribe(t=>{this.router.navigate([e])})}catch(t){console.log({error:t}),SE.a.fire("Error",t.message,"error")}})}signinFacebook(t,e,n){var r,o;return xr(this,void 0,void 0,function*(){try{const t=yield this.firebaseAuthService.signInWithPopup(new kE.a.auth.FacebookAuthProvider),s=null===(r=t.user)||void 0===r?void 0:r.email,a=null===(o=t.user)||void 0===o?void 0:o.displayName;n=localStorage.getItem("ref")||n,this.http.post(i+"/auth",{mail:s,name:a,ref:n}).subscribe(t=>{this.router.navigate([e])})}catch(t){console.log({error:t}),SE.a.fire("Error",t.message,"error")}})}processFirebaseResult(t,e){return xr(this,void 0,void 0,function*(){})}logout(){this.firebaseAuthService.signOut().then(()=>{this.router.navigate(["/"]),localStorage.clear(),WA.imgUrl=""})}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(Qa),r.Ub(hr),r.Ub(ua))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function TE(t,...e){return e.length?e.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}var xE=n("D0XW");function OE(t,e=xE.a){return n=>n.lift(new IE(t,e))}class IE{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new AE(t,this.dueTime,this.scheduler))}}class AE extends Hn.a{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(RE,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function RE(t){t.debouncedNext()}function DE(t){return null!=t&&""+t!="false"}function jE(t,e=0){return function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}function NE(t){return Array.isArray(t)?t:[t]}function ME(t){return null==t?"":"string"==typeof t?t:t+"px"}function LE(t){return t instanceof r.l?t.nativeElement:t}let FE;try{FE="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(dN){FE=!1}let UE,QE,VE,BE=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?_t(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!FE)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(r.B))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Ub)(r.B))},token:t,providedIn:"root"}),t})(),qE=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)}}),t})();function zE(t){return function(){if(null==UE&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>UE=!0}))}finally{UE=UE||!1}return UE}()?t:!!t.capture}function HE(){if(null==QE){if("object"!=typeof document||!document)return QE=!1,QE;if("scrollBehavior"in document.documentElement.style)QE=!0;else{const t=Element.prototype.scrollTo;QE=!!t&&!/\{\s*\[native code\]\s*\}/.test(t.toString())}}return QE}function KE(t){if(function(){if(null==VE){const t="undefined"!=typeof document?document.head:null;VE=!(!t||!t.createShadowRoot&&!t.attachShadow)}return VE}()){const e=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}let WE=(()=>{class t{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Gb)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),GE=(()=>{class t{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,e)=>this._cleanupObserver(e))}observe(t){const e=LE(t);return new ne.a(t=>{const n=this._observeElement(e).subscribe(t);return()=>{n.unsubscribe(),this._unobserveElement(e)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const e=new Nr.a,n=this._mutationObserverFactory.create(t=>e.next(t));n&&n.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:n,stream:e,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:e,stream:n}=this._observedElements.get(t);e&&e.disconnect(),n.complete(),this._observedElements.delete(t)}}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(WE))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Ub)(WE))},token:t,providedIn:"root"}),t})(),XE=(()=>{class t{constructor(t,e,n){this._contentObserver=t,this._elementRef=e,this._ngZone=n,this.event=new r.n,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=DE(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=jE(t),this._subscribe()}ngAfterContentInit(){this._currentSubscription||this.disabled||this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(OE(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){var t;null===(t=this._currentSubscription)||void 0===t||t.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(GE),r.Kb(r.l),r.Kb(r.z))},t.\u0275dir=r.Fb({type:t,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),t})(),YE=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[WE]}),t})();class $E extends class{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Nr.a,this._typeaheadSubscription=Lr.a.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new Nr.a,this.change=new Nr.a,t instanceof r.D&&t.changes.subscribe(t=>{if(this._activeItem){const e=t.toArray().indexOf(this._activeItem);e>-1&&e!==this._activeItemIndex&&(this._activeItemIndex=e)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Object(Ni.a)(t=>this._pressedLetters.push(t)),OE(t),Kn(()=>this._pressedLetters.length>0),Object(ie.a)(()=>this._pressedLetters.join(""))).subscribe(t=>{const e=this._getItemsArray();for(let n=1;n<e.length+1;n++){const r=(this._activeItemIndex+n)%e.length,i=e[r];if(!this._skipPredicateFn(i)&&0===i.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(r);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,n=["altKey","ctrlKey","metaKey","shiftKey"].every(e=>!t[e]||this._allowedModifierKeys.indexOf(e)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&n){this.setNextItemActive();break}return;case 38:if(this._vertical&&n){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&n){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&n){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&n){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&n){this.setLastItemActive();break}return;default:return void((n||TE(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),n="number"==typeof t?t:e.indexOf(t),r=e[n];this._activeItem=null==r?null:r,this._activeItemIndex=n}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let n=1;n<=e.length;n++){const r=(this._activeItemIndex+t*n+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const n=this._getItemsArray();if(n[t]){for(;this._skipPredicateFn(n[t]);)if(!n[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof r.D?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}function JE(t){return 0===t.buttons}"undefined"!=typeof Element&&Element;const ZE=new r.q("cdk-focus-monitor-default-options"),tT=zE({passive:!0,capture:!0});let eT=(()=>{class t{constructor(t,e,n,r){this._ngZone=t,this._platform=e,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._documentKeydownListener=()=>{this._lastTouchTarget=null,this._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=t=>{if(!this._lastTouchTarget){const e=JE(t)?"keyboard":"mouse";this._setOriginForCurrentEventQueue(e)}},this._documentTouchstartListener=t=>{null!=this._touchTimeoutId&&clearTimeout(this._touchTimeoutId),this._lastTouchTarget=nT(t),this._touchTimeoutId=setTimeout(()=>this._lastTouchTarget=null,650)},this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._rootNodeFocusAndBlurListener=t=>{const e=nT(t),n="focus"===t.type?this._onFocus:this._onBlur;for(let r=e;r;r=r.parentElement)n.call(this,t,r)},this._document=n,this._detectionMode=(null==r?void 0:r.detectionMode)||0}monitor(t,e=!1){const n=LE(t);if(!this._platform.isBrowser||1!==n.nodeType)return Object(Bn.a)(null);const r=KE(n)||this._getDocument(),i=this._elementInfo.get(n);if(i)return e&&(i.checkChildren=!0),i.subject;const o={checkChildren:e,subject:new Nr.a,rootNode:r};return this._elementInfo.set(n,o),this._registerGlobalListeners(o),o.subject}stopMonitoring(t){const e=LE(t),n=this._elementInfo.get(e);n&&(n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._removeGlobalListeners(n))}focusVia(t,e,n){const r=LE(t);r===this._getDocument().activeElement?this._getClosestElementsInfo(r).forEach(([t,n])=>this._originChanged(t,e,n)):(this._setOriginForCurrentEventQueue(e),"function"==typeof r.focus&&r.focus(n))}ngOnDestroy(){this._elementInfo.forEach((t,e)=>this.stopMonitoring(e))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(t,e,n){n?t.classList.add(e):t.classList.remove(e)}_getFocusOrigin(t){return this._origin?this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"}_setClasses(t,e){this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e)}_setOriginForCurrentEventQueue(t){this._ngZone.runOutsideAngular(()=>{this._origin=t,0===this._detectionMode&&(this._originTimeoutId=setTimeout(()=>this._origin=null,1))})}_wasCausedByTouch(t){const e=nT(t);return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))}_onFocus(t,e){const n=this._elementInfo.get(e);n&&(n.checkChildren||e===nT(t))&&this._originChanged(e,this._getFocusOrigin(t),n)}_onBlur(t,e){const n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}_emitOrigin(t,e){this._ngZone.run(()=>t.next(e))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const e=t.rootNode,n=this._rootNodeFocusListenerCount.get(e)||0;n||this._ngZone.runOutsideAngular(()=>{e.addEventListener("focus",this._rootNodeFocusAndBlurListener,tT),e.addEventListener("blur",this._rootNodeFocusAndBlurListener,tT)}),this._rootNodeFocusListenerCount.set(e,n+1),1==++this._monitoredElementCount&&this._ngZone.runOutsideAngular(()=>{const t=this._getDocument(),e=this._getWindow();t.addEventListener("keydown",this._documentKeydownListener,tT),t.addEventListener("mousedown",this._documentMousedownListener,tT),t.addEventListener("touchstart",this._documentTouchstartListener,tT),e.addEventListener("focus",this._windowFocusListener)})}_removeGlobalListeners(t){const e=t.rootNode;if(this._rootNodeFocusListenerCount.has(e)){const t=this._rootNodeFocusListenerCount.get(e);t>1?this._rootNodeFocusListenerCount.set(e,t-1):(e.removeEventListener("focus",this._rootNodeFocusAndBlurListener,tT),e.removeEventListener("blur",this._rootNodeFocusAndBlurListener,tT),this._rootNodeFocusListenerCount.delete(e))}if(!--this._monitoredElementCount){const t=this._getDocument(),e=this._getWindow();t.removeEventListener("keydown",this._documentKeydownListener,tT),t.removeEventListener("mousedown",this._documentMousedownListener,tT),t.removeEventListener("touchstart",this._documentTouchstartListener,tT),e.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId)}}_originChanged(t,e,n){this._setClasses(t,e),this._emitOrigin(n.subject,e),this._lastFocusOrigin=e}_getClosestElementsInfo(t){const e=[];return this._elementInfo.forEach((n,r)=>{(r===t||n.checkChildren&&r.contains(t))&&e.push([r,n])}),e}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(r.z),r.Ub(BE),r.Ub(u,8),r.Ub(ZE,8))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Ub)(r.z),Object(r.Ub)(BE),Object(r.Ub)(u,8),Object(r.Ub)(ZE,8))},token:t,providedIn:"root"}),t})();function nT(t){return t.composedPath?t.composedPath()[0]:t.target}const rT="cdk-high-contrast-black-on-white",iT="cdk-high-contrast-white-on-black",oT="cdk-high-contrast-active";let sT=(()=>{class t{constructor(t,e){this._platform=t,this._document=e}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const e=this._document.defaultView||window,n=e&&e.getComputedStyle?e.getComputedStyle(t):null,r=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),r){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(oT),t.remove(rT),t.remove(iT);const e=this.getHighContrastMode();1===e?(t.add(oT),t.add(rT)):2===e&&(t.add(oT),t.add(iT))}}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(BE),r.Ub(u))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Ub)(BE),Object(r.Ub)(u))},token:t,providedIn:"root"}),t})();var aT=n("7Hc7");function cT(t){return e=>e.lift(new uT(t))}class uT{constructor(t){this.notifier=t}call(t,e){const n=new lT(t),r=Object(Ar.c)(this.notifier,new Ar.a(n));return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}class lT extends Ar.b{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}var hT=n("WMd4");function dT(t,e=xE.a){var n;const r=(n=t)instanceof Date&&!isNaN(+n)?+t-e.now():Math.abs(t);return t=>t.lift(new fT(r,e))}class fT{constructor(t,e){this.delay=t,this.scheduler=e}call(t,e){return e.subscribe(new pT(t,this.delay,this.scheduler))}}class pT extends Hn.a{constructor(t,e,n){super(t),this.delay=e,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}static dispatch(t){const e=t.source,n=e.queue,r=t.scheduler,i=t.destination;for(;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){const e=Math.max(0,n[0].time-r.now());this.schedule(t,e)}else this.unsubscribe(),e.active=!1}_schedule(t){this.active=!0,this.destination.add(t.schedule(pT.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}scheduleNotification(t){if(!0===this.errored)return;const e=this.scheduler,n=new gT(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}_next(t){this.scheduleNotification(hT.a.createNext(t))}_error(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}_complete(){this.scheduleNotification(hT.a.createComplete()),this.unsubscribe()}}class gT{constructor(t,e){this.time=t,this.notification=e}}class mT{}const bT="*";function vT(t,e){return{type:7,name:t,definitions:e,options:{}}}function yT(t,e=null){return{type:4,styles:e,timings:t}}function _T(t,e=null){return{type:2,steps:t,options:e}}function wT(t){return{type:6,styles:t,offset:null}}function CT(t,e,n){return{type:0,name:t,styles:e,options:n}}function kT(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function PT(t){Promise.resolve(null).then(t)}class ST{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){PT(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class ET{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?PT(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){const t=this.players.reduce((t,e)=>null===t||e.totalTime>t.totalTime?e:t,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class TT{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class xT extends TT{constructor(t,e,n,r){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=r}}class OT extends TT{constructor(t,e,n){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class IT extends TT{constructor(t){super(),this.element=t instanceof r.l?t.nativeElement:t}}class AT extends class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof xT?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof OT?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof IT?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(t,e,n,r,i){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=r,this.attachDomPortal=t=>{const e=t.element,n=this._document.createComment("dom-portal");e.parentNode.insertBefore(n,e),this.outletElement.appendChild(e),super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=i}attachComponentPortal(t){const e=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let n;return t.viewContainerRef?(n=t.viewContainerRef.createComponent(e,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>n.destroy())):(n=e.create(t.injector||this._defaultInjector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),n}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context);return n.rootNodes.forEach(t=>this.outletElement.appendChild(t)),n.detectChanges(),this.setDisposeFn(()=>{let t=e.indexOf(n);-1!==t&&e.remove(t)}),n}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let RT=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)}}),t})();const DT=new r.q("cdk-dir-doc",{providedIn:"root",factory:function(){return Object(r.V)(u)}});let jT=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new r.n,t){const e=t.documentElement?t.documentElement.dir:null,n=(t.body?t.body.dir:null)||e;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(DT,8))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Ub)(DT,8))},token:t,providedIn:"root"}),t})(),NT=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)}}),t})();const MT=new r.P("11.1.1");function LT(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function FT(t){switch(t.length){case 0:return new ST;case 1:return t[0];default:return new ET(t)}}function UT(t,e,n,r,i={},o={}){const s=[],a=[];let c=-1,u=null;if(r.forEach(t=>{const n=t.offset,r=n==c,l=r&&u||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,s),a){case"!":a=i[n];break;case bT:a=o[n];break;default:a=e.normalizeStyleValue(n,r,a,s)}l[r]=a}),r||a.push(l),u=l,c=n}),s.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${s.join(t)}`)}return a}function QT(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&VT(n,"start",t)));break;case"done":t.onDone(()=>r(n&&VT(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&VT(n,"destroy",t)))}}function VT(t,e,n){const r=n.totalTime,i=BT(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),o=t._data;return null!=o&&(i._data=o),i}function BT(t,e,n,r,i="",o=0,s){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function qT(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function zT(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let HT=(t,e)=>!1,KT=(t,e)=>!1,WT=(t,e,n)=>[];const GT=LT();(GT||"undefined"!=typeof Element)&&(HT=(t,e)=>t.contains(e),KT=(()=>{if(GT||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):KT}})(),WT=(t,e,n)=>{let r=[];if(n){const n=t.querySelectorAll(e);for(let t=0;t<n.length;t++)r.push(n[t])}else{const n=t.querySelector(e);n&&r.push(n)}return r});let XT=null,YT=!1;function $T(t){XT||(XT=("undefined"!=typeof document?document.body:null)||{},YT=!!XT.style&&"WebkitAppearance"in XT.style);let e=!0;return XT.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in XT.style,!e&&YT)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in XT.style),e}const JT=KT,ZT=HT,tx=WT;function ex(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let nx=(()=>{class t{validateStyleProperty(t){return $T(t)}matchesElement(t,e){return JT(t,e)}containsElement(t,e){return ZT(t,e)}query(t,e,n){return tx(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,o=[],s){return new ST(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),rx=(()=>{class t{}return t.NOOP=new nx,t})();const ix="ng-enter",ox="ng-leave",sx="ng-trigger",ax=".ng-trigger",cx="ng-animating",ux=".ng-animating";function lx(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:hx(parseFloat(e[1]),e[2])}function hx(t,e){switch(e){case"s":return 1e3*t;default:return t}}function dx(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,o="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=hx(parseFloat(n[1]),n[2]);const s=n[3];null!=s&&(i=hx(parseFloat(s),n[4]));const a=n[5];a&&(o=a)}else r=t;if(!n){let n=!1,o=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(o,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:o}}(t,e,n)}function fx(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function px(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else fx(t,n);return n}function gx(t,e,n){return n?e+":"+n+";":""}function mx(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=gx(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=gx(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function bx(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=Sx(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),LT()&&mx(t))}function vx(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=Sx(e);t.style[n]=""}),LT()&&mx(t))}function yx(t){return Array.isArray(t)?1==t.length?t[0]:_T(t):t}const _x=new RegExp("{{\\s*(.+?)\\s*}}","g");function wx(t){let e=[];if("string"==typeof t){let n;for(;n=_x.exec(t);)e.push(n[1]);_x.lastIndex=0}return e}function Cx(t,e,n){const r=t.toString(),i=r.replace(_x,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push("Please provide a value for the animation param "+r),i=""),i.toString()});return i==r?t:i}function kx(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const Px=/-+([a-z0-9])/g;function Sx(t){return t.replace(Px,(...t)=>t[1].toUpperCase())}function Ex(t,e){return 0===t||0===e}function Tx(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let o=e[0],s=[];if(r.forEach(t=>{o.hasOwnProperty(t)||s.push(t),o[t]=n[t]}),s.length)for(var i=1;i<e.length;i++){let n=e[i];s.forEach(function(e){n[e]=Ox(t,e)})}}return e}function xx(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #"+e.type)}}function Ox(t,e){return window.getComputedStyle(t)[e]}const Ix="*";function Ax(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],o=r[2],s=r[3];e.push(jx(i,s)),"<"!=o[0]||i==Ix&&s==Ix||e.push(jx(s,i))}(t,n,e)):n.push(t),n}const Rx=new Set(["true","1"]),Dx=new Set(["false","0"]);function jx(t,e){const n=Rx.has(t)||Dx.has(t),r=Rx.has(e)||Dx.has(e);return(i,o)=>{let s=t==Ix||t==i,a=e==Ix||e==o;return!s&&n&&"boolean"==typeof i&&(s=i?Rx.has(t):Dx.has(t)),!a&&r&&"boolean"==typeof o&&(a=o?Rx.has(e):Dx.has(e)),s&&a}}const Nx=new RegExp("s*:selfs*,?","g");function Mx(t,e,n){return new Lx(t).build(e,n)}class Lx{constructor(t){this._driver=t}build(t,e){const n=new Fx(e);return this._resetContextStyleTimingState(n),xx(this,yx(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],o=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,o.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:o,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,o=r||{};if(n.styles.forEach(t=>{if(Ux(t)){const e=t;Object.keys(e).forEach(t=>{wx(e[t]).forEach(t=>{o.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=kx(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=xx(this,yx(t.animation),e);return{type:1,matchers:Ax(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:Qx(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>xx(this,t,e)),options:Qx(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=xx(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:Qx(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return Vx(dx(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=Vx(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||dx(r,e),Vx(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:wT({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,o=!1;if(!i){o=!0;const t={};n.easing&&(t.easing=n.easing),i=wT(t)}e.currentTime+=n.duration+n.delay;const s=this.visitStyle(i,e);s.isEmptyStep=o,r=s}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==bT?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(Ux(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const o=e.collectedStyles[e.currentQuerySelector],s=o[n];let a=!0;s&&(i!=r&&i>=s.startTime&&r<=s.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${s.startTime}ms" and "${s.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=s.startTime),a&&(o[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=wx(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let o=!1,s=!1,a=0;const c=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let c=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(Ux(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(Ux(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),u=0;return null!=c&&(r++,u=n.offset=c),s=s||u<0||u>1,o=o||u<a,a=u,i.push(u),n});s&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),o&&e.errors.push("Please ensure that all keyframe offsets are in order");const u=t.steps.length;let l=0;r>0&&r<u?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(l=1/(u-1));const h=u-1,d=e.currentTime,f=e.currentAnimateTimings,p=f.duration;return c.forEach((t,r)=>{const o=l>0?r==h?1:l*r:i[r],s=o*p;e.currentTime=d+f.delay+s,f.duration=s,this._validateStyleAst(t,e),t.offset=o,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:xx(this,yx(t.animation),e),options:Qx(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Qx(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Qx(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,o]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(Nx,"")),[t=t.replace(/@\*/g,ax).replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,ux),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,qT(e.collectedStyles,e.currentQuerySelector,{});const s=xx(this,yx(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:s,originalSelector:t.selector,options:Qx(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:dx(t.timings,e.errors,!0);return{type:12,animation:xx(this,yx(t.animation),e),timings:n,options:null}}}class Fx{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Ux(t){return!Array.isArray(t)&&"object"==typeof t}function Qx(t){var e;return t?(t=fx(t)).params&&(t.params=(e=t.params)?fx(e):null):t={},t}function Vx(t,e,n){return{duration:t,delay:e,easing:n}}function Bx(t,e,n,r,i,o,s=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}class qx{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const zx=new RegExp(":enter","g"),Hx=new RegExp(":leave","g");function Kx(t,e,n,r,i,o={},s={},a,c,u=[]){return(new Wx).buildKeyframes(t,e,n,r,i,o,s,a,c,u)}class Wx{buildKeyframes(t,e,n,r,i,o,s,a,c,u=[]){c=c||new qx;const l=new Xx(t,e,c,r,i,u,[]);l.options=a,l.currentTimeline.setStyles([o],null,l.errors,a),xx(this,n,l);const h=l.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(s).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([s],null,l.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[Bx(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);i!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?lx(n.duration):null,o=null!=n.delay?lx(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,o);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),xx(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Gx);const t=lx(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>xx(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?lx(t.options.delay):0;t.steps.forEach(o=>{const s=e.createSubContext(t.options);i&&s.delayNextStep(i),xx(this,o,s),r=Math.max(r,s.currentTimeline.currentTime),n.push(s.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return dx(e.params?Cx(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,o=e.createSubContext().currentTimeline;o.easing=n.easing,t.styles.forEach(t=>{o.forwardTime((t.offset||0)*i),o.setStyles(t.styles,t.easing,e.errors,e.options),o.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(o),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?lx(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Gx);let o=n;const s=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=s.length;let a=null;s.forEach((n,r)=>{e.currentQueryIndex=r;const s=e.createSubContext(t.options,n);i&&s.delayNextStep(i),n===e.element&&(a=s.currentTimeline),xx(this,t.animation,s),s.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,s.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,o=Math.abs(i.duration),s=o*(e.currentQueryTotal-1);let a=o*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=s-a;break;case"full":a=n.currentStaggerTime}const c=e.currentTimeline;a&&c.delayNextStep(a);const u=c.currentTime;xx(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-u+(r.startTime-n.currentTimeline.startTime)}}const Gx={};class Xx{constructor(t,e,n,r,i,o,s,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=o,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Gx,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new Yx(this._driver,e,0),s.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=lx(n.duration)),null!=n.delay&&(r.delay=lx(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=Cx(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new Xx(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=Gx,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new $x(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,o){let s=[];if(r&&s.push(this.element),t.length>0){t=(t=t.replace(zx,"."+this._enterClassName)).replace(Hx,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),s.push(...e)}return i||0!=s.length||o.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),s}}class Yx{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Yx(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||bT,this._currentKeyframe[t]=bT}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},o=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]=bT})):px(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(o).forEach(t=>{const e=Cx(o[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:bT),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,o)=>{const s=px(i,!0);Object.keys(s).forEach(n=>{const r=s[n];"!"==r?t.add(n):r==bT&&e.add(n)}),n||(s.offset=o/this.duration),r.push(s)});const i=t.size?kx(t.values()):[],o=e.size?kx(e.values()):[];if(n){const t=r[0],e=fx(t);t.offset=0,e.offset=1,r=[t,e]}return Bx(this.element,r,i,o,this.duration,this.startTime,this.easing,!1)}}class $x extends Yx{constructor(t,e,n,r,i,o,s=!1){super(t,e,o.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=s,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],o=n+e,s=e/o,a=px(t[0],!1);a.offset=0,i.push(a);const c=px(t[0],!1);c.offset=Jx(s),i.push(c);const u=t.length-1;for(let r=1;r<=u;r++){let s=px(t[r],!1);s.offset=Jx((e+s.offset*n)/o),i.push(s)}n=o,e=0,r="",t=i}return Bx(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function Jx(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class Zx{}class tO extends Zx{normalizePropertyName(t,e){return Sx(t)}normalizeStyleValue(t,e,n,r){let i="";const o=n.toString().trim();if(eO[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return o+i}}const eO=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function nO(t,e,n,r,i,o,s,a,c,u,l,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:c,preStyleProps:u,postStyleProps:l,totalTime:h,errors:d}}const rO={};class iO{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],o=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):o}build(t,e,n,r,i,o,s,a,c,u){const l=[],h=this.ast.options&&this.ast.options.params||rO,d=this.buildStyles(n,s&&s.params||rO,l),f=a&&a.params||rO,p=this.buildStyles(r,f,l),g=new Set,m=new Map,b=new Map,v="void"===r,y={params:Object.assign(Object.assign({},h),f)},_=u?[]:Kx(t,e,this.ast.animation,i,o,d,p,y,c,l);let w=0;if(_.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),l.length)return nO(e,this._triggerName,n,r,v,d,p,[],[],m,b,w,l);_.forEach(t=>{const n=t.element,r=qT(m,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=qT(b,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&g.add(n)});const C=kx(g.values());return nO(e,this._triggerName,n,r,v,d,p,_,C,m,b,w)}}class oO{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=fx(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let o=i[t];o.length>1&&(o=Cx(o,r,e)),n[t]=o})}}),n}}class sO{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new oO(t.style,t.options&&t.options.params||{})}),aO(this.states,"true","1"),aO(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new iO(t,e,this.states))}),this.fallbackTransition=new iO(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function aO(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const cO=new qx;class uO{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=Mx(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=UT(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let o;const s=new Map;if(i?(o=Kx(this._driver,e,i,ix,ox,{},{},n,cO,r),o.forEach(t=>{const e=qT(s,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),o=[]),r.length)throw new Error("Unable to create the animation due to the following errors: "+r.join("\n"));s.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,bT)})});const a=FT(o.map(t=>{const e=s.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by "+t);return e}listen(t,e,n,r){const i=BT(e,"","","");return QT(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const lO="ng-animate-queued",hO="ng-animate-disabled",dO=".ng-animate-disabled",fO=[],pO={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},gO={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class mO{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=fx(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const bO="void",vO=new mO(bO);class yO{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,EO(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const o=qT(this._elementListeners,t,[]),s={name:e,phase:n,callback:r};o.push(s);const a=qT(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(EO(t,sx),EO(t,"ng-trigger-"+e),a[e]=vO),()=>{this._engine.afterFlush(()=>{const t=o.indexOf(s);t>=0&&o.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),o=new wO(this.id,e,t);let s=this._engine.statesByElement.get(t);s||(EO(t,sx),EO(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,s={}));let a=s[e];const c=new mO(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&c.absorbOptions(a.options),s[e]=c,a||(a=vO),c.value!==bO&&a.value===c.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,c.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(c.value,c.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{vx(t,n),bx(t,r)})}return}const u=qT(this._engine.playersByElement,t,[]);u.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let l=i.matchTransition(a.value,c.value,t,c.params),h=!1;if(!l){if(!r)return;l=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:l,fromState:a,toState:c,player:o,isFallbackTransition:h}),h||(EO(t,lO),o.onStart(()=>{TO(t,lO)})),o.onDone(()=>{let e=this.players.indexOf(o);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(o);t>=0&&n.splice(t,1)}}),this.players.push(o),u.push(o),o}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,ax,!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const o=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,bO,r);n&&o.push(n)}}),o.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&FT(o).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const r=e.name;if(n.has(r))return;n.add(r);const i=this._triggers[r].fallbackTransition,o=this._engine.statesByElement.get(t)[r]||vO,s=new mO(bO),a=new wO(this.id,r,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:r,transition:i,fromState:o,toState:s,player:a,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==pO||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){EO(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,o=this._elementListeners.get(i);o&&o.forEach(e=>{if(e.name==n.triggerName){const r=BT(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,QT(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class _O{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new yO(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(CO(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!CO(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),EO(t,hO)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),TO(t,hO))}removeNode(t,e,n,r){if(CO(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return CO(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,ax,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,ux,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return FT(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=pO,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,dO)&&this.markElementAsDisabled(t,!1),this.driver.query(t,dO,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)EO(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?FT(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+t.join("\n"))}_flushAnimations(t,e){const n=new qx,r=[],i=new Map,o=[],s=new Map,a=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(t=>{u.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)u.add(e[n])});const l=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=SO(h,this.collectedEnterElements),f=new Map;let p=0;d.forEach((t,e)=>{const n=ix+p++;f.set(e,n),t.forEach(t=>EO(t,n))});const g=[],m=new Set,b=new Set;for(let I=0;I<this.collectedLeaveElements.length;I++){const t=this.collectedLeaveElements[I],e=t.__ng_removed;e&&e.setForRemoval&&(g.push(t),m.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>m.add(t)):b.add(t))}const v=new Map,y=SO(h,Array.from(m));y.forEach((t,e)=>{const n=ox+p++;v.set(e,n),t.forEach(t=>EO(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=f.get(e);t.forEach(t=>TO(t,n))}),y.forEach((t,e)=>{const n=v.get(e);t.forEach(t=>TO(t,n))}),g.forEach(t=>{this.processLeaveNode(t)})});const _=[],w=[];for(let I=this._namespaceList.length-1;I>=0;I--)this._namespaceList[I].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(_.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const u=!l||!this.driver.containsElement(l,i),h=v.get(i),d=f.get(i),p=this._buildInstruction(t,n,d,h,u);if(p.errors&&p.errors.length)w.push(p);else{if(u)return e.onStart(()=>vx(i,p.fromStyles)),e.onDestroy(()=>bx(i,p.toStyles)),void r.push(e);if(t.isFallbackTransition)return e.onStart(()=>vx(i,p.fromStyles)),e.onDestroy(()=>bx(i,p.toStyles)),void r.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,p.timelines),o.push({instruction:p,player:e,element:i}),p.queriedElements.forEach(t=>qT(s,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=c.get(e);r||c.set(e,r=new Set),n.forEach(t=>r.add(t))})}});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),_.forEach(t=>t.destroy()),this.reportError(t)}const C=new Map,k=new Map;o.forEach(t=>{const e=t.element;n.has(e)&&(k.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,C))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{qT(C,e,[]).push(t),t.destroy()})});const P=g.filter(t=>IO(t,a,c)),S=new Map;PO(S,this.driver,b,c,bT).forEach(t=>{IO(t,a,c)&&P.push(t)});const E=new Map;d.forEach((t,e)=>{PO(E,this.driver,new Set(t),a,"!")}),P.forEach(t=>{const e=S.get(t),n=E.get(t);S.set(t,Object.assign(Object.assign({},e),n))});const T=[],x=[],O={};o.forEach(t=>{const{element:e,player:o,instruction:s}=t;if(n.has(e)){if(u.has(e))return o.onDestroy(()=>bx(e,s.toStyles)),o.disabled=!0,o.overrideTotalTime(s.totalTime),void r.push(o);let t=O;if(k.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=k.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>k.set(e,t))}const n=this._buildAnimation(o.namespaceId,s,C,i,E,S);if(o.setRealPlayer(n),t===O)T.push(o);else{const e=this.playersByElement.get(t);e&&e.length&&(o.parentPlayer=FT(e)),r.push(o)}}else vx(e,s.fromStyles),o.onDestroy(()=>bx(e,s.toStyles)),x.push(o),u.has(e)&&r.push(o)}),x.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=FT(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let I=0;I<g.length;I++){const t=g[I],e=t.__ng_removed;if(TO(t,ox),e&&e.hasAnimation)continue;let n=[];if(s.size){let e=s.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,ux,!0);for(let t=0;t<r.length;t++){let e=s.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?xO(this,t,r):this.processLeaveNode(t)}return g.length=0,T.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),T}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let o=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(o=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||i==bO;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&o.push(e)})}}return(n||r)&&(o=o.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),o}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,o=e.isRemovalTransition?void 0:e.triggerName;for(const s of e.timelines){const t=s.element,a=t!==r,c=qT(n,t,[]);this._getPreviousPlayers(t,a,i,o,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),c.push(t)})}vx(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,o){const s=e.triggerName,a=e.element,c=[],u=new Set,l=new Set,h=e.timelines.map(e=>{const h=e.element;u.add(h);const d=h.__ng_removed;if(d&&d.removedBeforeQueried)return new ST(e.duration,e.delay);const f=h!==a,p=function(t){const e=[];return OO(t,e),e}((n.get(h)||fO).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),g=i.get(h),m=o.get(h),b=UT(0,this._normalizer,0,e.keyframes,g,m),v=this._buildPlayer(e,b,p);if(e.subTimeline&&r&&l.add(h),f){const e=new wO(t,s,h);e.setRealPlayer(v),c.push(e)}return v});c.forEach(t=>{qT(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),u.forEach(t=>EO(t,cx));const d=FT(h);return d.onDestroy(()=>{u.forEach(t=>TO(t,cx)),bx(a,e.toStyles)}),l.forEach(t=>{qT(r,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new ST(t.duration,t.delay)}}class wO{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new ST,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>QT(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){qT(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function CO(t){return t&&1===t.nodeType}function kO(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function PO(t,e,n,r,i){const o=[];n.forEach(t=>o.push(kO(t)));const s=[];r.forEach((n,r)=>{const o={};n.forEach(t=>{const n=o[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=gO,s.push(r))}),t.set(r,o)});let a=0;return n.forEach(t=>kO(t,o[a++])),s}function SO(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;function o(t){if(!t)return 1;let e=i.get(t);if(e)return e;const s=t.parentNode;return e=n.has(s)?s:r.has(s)?1:o(s),i.set(t,e),e}return e.forEach(t=>{const e=o(t);1!==e&&n.get(e).push(t)}),n}function EO(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function TO(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function xO(t,e,n){FT(n).onDone(()=>t.processLeaveNode(e))}function OO(t,e){for(let n=0;n<t.length;n++){const r=t[n];r instanceof ET?OO(r.players,e):e.push(r)}}function IO(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class AO{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new _O(t,e,n),this._timelineEngine=new uO(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const o=t+"-"+r;let s=this._triggerCache[o];if(!s){const t=[],e=Mx(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);s=function(t,e){return new sO(t,e)}(r,e),this._triggerCache[o]=s}this._transitionEngine.registerTrigger(e,r,s)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=zT(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=zT(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function RO(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=jO(e[0]),e.length>1&&(r=jO(e[e.length-1]))):e&&(n=jO(e)),n||r?new DO(t,n,r):null}let DO=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&bx(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(bx(this._element,this._initialStyles),this._endStyles&&(bx(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(vx(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(vx(this._element,this._endStyles),this._endStyles=null),bx(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function jO(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];NO(i)&&(e=e||{},e[i]=t[i])}return e}function NO(t){return"display"===t||"position"===t}const MO="animation",LO="animationend";class FO{constructor(t,e,n,r,i,o,s){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=o,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=zO(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),qO(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),BO(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){UO(this._element,this._name,"paused")}resume(){UO(this._element,this._name,"running")}setPosition(t){const e=QO(this._element,this._name);this._position=t*this._duration,qO(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),BO(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=zO(t,"").split(","),r=VO(n,e);r>=0&&(n.splice(r,1),qO(t,"",n.join(",")))}(this._element,this._name))}}function UO(t,e,n){qO(t,"PlayState",n,QO(t,e))}function QO(t,e){const n=zO(t,"");return n.indexOf(",")>0?VO(n.split(","),e):VO([n],e)}function VO(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function BO(t,e,n){n?t.removeEventListener(LO,e):t.addEventListener(LO,e)}function qO(t,e,n,r){const i=MO+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function zO(t,e){return t.style[MO+e]||""}class HO{constructor(t,e,n,r,i,o,s,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=s,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=o||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new FO(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:Ox(this.element,n))})}this.currentSnapshot=t}}class KO extends ST{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=ex(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class WO{constructor(){this._count=0,this._head=document.querySelector("head")}validateStyleProperty(t){return $T(t)}matchesElement(t,e){return JT(t,e)}containsElement(t,e){return ZT(t,e)}query(t,e,n){return tx(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>ex(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=i+"}\n"}),r+="}\n";const o=document.createElement("style");return o.textContent=r,o}animate(t,e,n,r,i,o=[],s){const a=o.filter(t=>t instanceof HO),c={};Ex(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>c[t]=e[t])});const u=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=Tx(t,e,c));if(0==n)return new KO(t,u);const l="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,l,e);document.querySelector("head").appendChild(h);const d=RO(t,e),f=new HO(t,e,l,n,r,i,u,d);return f.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),f}}class GO{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:Ox(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class XO{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(YO().toString()),this._cssKeyframesDriver=new WO}validateStyleProperty(t){return $T(t)}matchesElement(t,e){return JT(t,e)}containsElement(t,e){return ZT(t,e)}query(t,e,n){return tx(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,o=[],s){if(!s&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,o);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const c={},u=o.filter(t=>t instanceof GO);Ex(n,r)&&u.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>c[t]=e[t])});const l=RO(t,e=Tx(t,e=e.map(t=>px(t,!1)),c));return new GO(t,e,a,l)}}function YO(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let $O=(()=>{class t extends mT{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:r.R.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?_T(t):t;return tI(this._renderer,null,e,"register",[n]),new JO(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(r.F),r.Ub(u))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();class JO extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new ZO(this._id,t,e||{},this._renderer)}}class ZO{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return tI(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function tI(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const eI="@",nI="@.disabled";let rI=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new iI("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const o=e=>{Array.isArray(e)?e.forEach(o):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(o),new oI(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(r.F),r.Ub(AO),r.Ub(r.z))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();class iI{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,r=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==eI&&e==nI?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class oI extends iI{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==eI?"."==e.charAt(1)&&e==nI?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==eI){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),o="";return i.charAt(0)!=eI&&([i,o]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,o,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let sI=(()=>{class t extends AO{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(u),r.Ub(rx),r.Ub(Zx))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const aI=new r.q("AnimationModuleType"),cI=[{provide:rx,useFactory:function(){return"function"==typeof YO()?new XO:new WO}},{provide:aI,useValue:"BrowserAnimations"},{provide:mT,useClass:$O},{provide:Zx,useFactory:function(){return new tO}},{provide:AO,useClass:sI},{provide:r.F,useFactory:function(t,e,n){return new rI(t,e,n)},deps:[Qt,AO,r.z]}];let uI=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:cI,imports:[Zt]}),t})();const lI=new r.P("11.1.1"),hI=new r.q("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let dI,fI=(()=>{class t{constructor(t,e,n){this._hasDoneGlobalChecks=!1,this._document=n,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=e,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getWindow(){const t=this._document.defaultView||window;return"object"==typeof t&&t?t:null}_checksAreEnabled(){return Object(r.W)()&&!this._isTestEnv()}_isTestEnv(){const t=this._getWindow();return t&&(t.__karma__||t.jasmine)}_checkDoctypeIsDefined(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype)&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme||!this._document.body||"function"!=typeof getComputedStyle)return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const e=getComputedStyle(t);e&&"none"!==e.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&lI.full!==MT.full&&console.warn("The Angular Material version ("+lI.full+") does not match the Angular CDK version ("+MT.full+").\nPlease ensure the versions of these two packages exactly match.")}}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)(r.Ub(sT),r.Ub(hI,8),r.Ub(u))},imports:[[NT],NT]}),t})();function pI(t){return class extends t{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=DE(t)}}}function gI(t,e){return class extends t{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const e=t||this.defaultColor;e!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove("mat-"+this._color),e&&this._elementRef.nativeElement.classList.add("mat-"+e),this._color=e)}}}function mI(t){return class extends t{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=DE(t)}}}function bI(t,e=0){return class extends t{constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?jE(t):this.defaultTabIndex}}}try{dI="undefined"!=typeof Intl}catch(dN){dI=!1}class vI{constructor(t,e,n){this._renderer=t,this.element=e,this.config=n,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const yI={enterDuration:450,exitDuration:400},_I=zE({passive:!0}),wI=["mousedown","touchstart"],CI=["mouseup","mouseleave","touchend","touchcancel"];class kI{constructor(t,e,n,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=LE(n))}fadeInRipple(t,e,n={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),i=Object.assign(Object.assign({},yI),n.animation);n.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const o=n.radius||function(t,e,n){const r=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),i=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(r*r+i*i)}(t,e,r),s=t-r.left,a=e-r.top,c=i.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=s-o+"px",u.style.top=a-o+"px",u.style.height=2*o+"px",u.style.width=2*o+"px",null!=n.color&&(u.style.backgroundColor=n.color),u.style.transitionDuration=c+"ms",this._containerElement.appendChild(u),window.getComputedStyle(u).getPropertyValue("opacity"),u.style.transform="scale(1)";const l=new vI(this,u,n);return l.state=0,this._activeRipples.add(l),n.persistent||(this._mostRecentTransientRipple=l),this._runTimeoutOutsideZone(()=>{const t=l===this._mostRecentTransientRipple;l.state=1,n.persistent||t&&this._isPointerDown||l.fadeOut()},c),l}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const n=t.element,r=Object.assign(Object.assign({},yI),t.config.animation);n.style.transitionDuration=r.exitDuration+"ms",n.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,n.parentNode.removeChild(n)},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}setupTriggerEvents(t){const e=LE(t);e&&e!==this._triggerElement&&(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(wI))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(CI),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=JE(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||e||n||(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let t=0;t<e.length;t++)this.fadeInRipple(e[t].clientX,e[t].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(t=>{this._triggerElement.addEventListener(t,this,_I)})})}_removeTriggerEvents(){this._triggerElement&&(wI.forEach(t=>{this._triggerElement.removeEventListener(t,this,_I)}),this._pointerUpEventsRegistered&&CI.forEach(t=>{this._triggerElement.removeEventListener(t,this,_I)}))}}const PI=new r.q("mat-ripple-global-options");let SI=(()=>{class t{constructor(t,e,n,r,i){this._elementRef=t,this._animationMode=i,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new kI(this,e,t,n)}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,e=0,n){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.l),r.Kb(r.z),r.Kb(BE),r.Kb(PI,8),r.Kb(aI,8))},t.\u0275dir=r.Fb({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,e){2&t&&r.Cb("mat-ripple-unbounded",e.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),t})(),EI=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[fI,qE],fI]}),t})();var TI=n("n6bG");function xI(t,e,n,r){return Object(TI.a)(n)&&(r=n,n=void 0),r?xI(t,e,n).pipe(Object(ie.a)(t=>Object(re.a)(t)?r(...t):r(t))):new ne.a(r=>{OI(t,e,function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},r,n)})}function OI(t,e,n,r,i){let o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const r=t;t.addEventListener(e,n,i),o=()=>r.removeEventListener(e,n,i)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const r=t;t.on(e,n),o=()=>r.off(e,n)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const r=t;t.addListener(e,n),o=()=>r.removeListener(e,n)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let o=0,s=t.length;o<s;o++)OI(t[o],e,n,r,i)}r.add(o)}var II=n("3N8a");class AI extends II.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}}var RI=n("IjjT");class DI extends RI.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const jI=new DI(AI);class NI{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new MI(t,this.durationSelector))}}class MI extends Ar.b{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:e}=this;n=e(t)}catch(e){return this.destination.error(e)}const r=Object(Ar.c)(n,new Ar.a(this));!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=void 0,n.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var LI=n("Y7HM");function FI(t){const{index:e,period:n,subscriber:r}=t;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}function UI(t,e=xE.a){return n=()=>function(t=0,e,n){let r=-1;return Object(LI.a)(e)?r=Number(e)<1?1:Number(e):Object(Zr.a)(e)&&(n=e),Object(Zr.a)(n)||(n=xE.a),new ne.a(e=>{const i=Object(LI.a)(t)?t:+t-n.now();return n.schedule(FI,i,{index:0,period:r,subscriber:e})})}(t,e),function(t){return t.lift(new NI(n))};var n}let QI=(()=>{class t{constructor(t,e,n){this._ngZone=t,this._platform=e,this._scrolled=new Nr.a,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=n}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new ne.a(e=>{this._globalSubscription||this._addGlobalListener();const n=t>0?this._scrolled.pipe(UI(t)).subscribe(e):this._scrolled.subscribe(e);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Object(Bn.a)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,e)=>this.deregister(e)),this._scrolled.complete()}ancestorScrolled(t,e){const n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(Kn(t=>!t||n.indexOf(t)>-1))}getAncestorScrollContainers(t){const e=[];return this.scrollContainers.forEach((n,r)=>{this._scrollableContainsElement(r,t)&&e.push(r)}),e}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,e){let n=LE(e),r=t.getElementRef().nativeElement;do{if(n==r)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>xI(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(r.z),r.Ub(BE),r.Ub(u,8))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Ub)(r.z),Object(r.Ub)(BE),Object(r.Ub)(u,8))},token:t,providedIn:"root"}),t})(),VI=(()=>{class t{constructor(t,e,n){this._platform=t,this._change=new Nr.a,this._changeListener=t=>{this._change.next(t)},this._document=n,e.runOutsideAngular(()=>{if(t.isBrowser){const t=this._getWindow();t.addEventListener("resize",this._changeListener),t.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:e,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+e,height:n,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,e=this._getWindow(),n=t.documentElement,r=n.getBoundingClientRect();return{top:-r.top||t.body.scrollTop||e.scrollY||n.scrollTop||0,left:-r.left||t.body.scrollLeft||e.scrollX||n.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(UI(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(BE),r.Ub(r.z),r.Ub(u,8))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Ub)(BE),Object(r.Ub)(r.z),Object(r.Ub)(u,8))},token:t,providedIn:"root"}),t})(),BI=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)}}),t})(),qI=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[NT,qE,BI],NT,BI]}),t})();const zI=HE();class HI{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=ME(-this._previousScrollPosition.left),t.style.top=ME(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,e=t.style,n=this._document.body.style,r=e.scrollBehavior||"",i=n.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),zI&&(e.scrollBehavior=n.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),zI&&(e.scrollBehavior=r,n.scrollBehavior=i)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}class KI{constructor(t,e,n,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class WI{enable(){}disable(){}attach(){}}function GI(t,e){return e.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function XI(t,e){return e.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class YI{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:e,height:n}=this._viewportRuler.getViewportSize();GI(t,[{width:e,height:n,bottom:n,right:e,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let $I=(()=>{class t{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this.noop=()=>new WI,this.close=t=>new KI(this._scrollDispatcher,this._ngZone,this._viewportRuler,t),this.block=()=>new HI(this._viewportRuler,this._document),this.reposition=t=>new YI(this._scrollDispatcher,this._viewportRuler,this._ngZone,t),this._document=r}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(QI),r.Ub(VI),r.Ub(r.z),r.Ub(u))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Ub)(QI),Object(r.Ub)(VI),Object(r.Ub)(r.z),Object(r.Ub)(u))},token:t,providedIn:"root"}),t})();class JI{constructor(t){if(this.scrollStrategy=new WI,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const n of e)void 0!==t[n]&&(this[n]=t[n])}}}class ZI{constructor(t,e,n,r,i){this.offsetX=n,this.offsetY=r,this.panelClass=i,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class tA{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let eA=(()=>{class t{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this.detach()}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(u))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Ub)(u))},token:t,providedIn:"root"}),t})(),nA=(()=>{class t extends eA{constructor(t){super(t),this._keydownListener=t=>{const e=this._attachedOverlays;for(let n=e.length-1;n>-1;n--)if(e[n]._keydownEvents.observers.length>0){e[n]._keydownEvents.next(t);break}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(u))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Ub)(u))},token:t,providedIn:"root"}),t})(),rA=(()=>{class t extends eA{constructor(t,e){super(t),this._platform=e,this._cursorStyleIsSet=!1,this._clickListener=t=>{const e=t.composedPath?t.composedPath()[0]:t.target,n=this._attachedOverlays.slice();for(let r=n.length-1;r>-1;r--){const i=n[r];if(!(i._outsidePointerEvents.observers.length<1)&&i.hasAttached()){if(i.overlayElement.contains(e))break;i._outsidePointerEvents.next(t)}}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("click",this._clickListener,!0),this._document.body.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=this._document.body.style.cursor,this._document.body.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("click",this._clickListener,!0),this._document.body.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(u),r.Ub(BE))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Ub)(u),Object(r.Ub)(BE))},token:t,providedIn:"root"}),t})();const iA=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine);let oA=(()=>{class t{constructor(t,e){this._platform=e,this._document=t}ngOnDestroy(){const t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||iA){const e=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let t=0;t<e.length;t++)e[t].parentNode.removeChild(e[t])}const e=this._document.createElement("div");e.classList.add(t),iA?e.setAttribute("platform","test"):this._platform.isBrowser||e.setAttribute("platform","server"),this._document.body.appendChild(e),this._containerElement=e}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(u),r.Ub(BE))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Ub)(u),Object(r.Ub)(BE))},token:t,providedIn:"root"}),t})();class sA{constructor(t,e,n,r,i,o,s,a,c){this._portalOutlet=t,this._host=e,this._pane=n,this._config=r,this._ngZone=i,this._keyboardDispatcher=o,this._document=s,this._location=a,this._outsideClickDispatcher=c,this._backdropElement=null,this._backdropClick=new Nr.a,this._attachments=new Nr.a,this._detachments=new Nr.a,this._locationChanges=Lr.a.EMPTY,this._backdropClickHandler=t=>this._backdropClick.next(t),this._keydownEvents=new Nr.a,this._outsidePointerEvents=new Nr.a,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Ei(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=ME(this._config.width),t.height=ME(this._config.height),t.minWidth=ME(this._config.minWidth),t.minHeight=ME(this._config.minHeight),t.maxWidth=ME(this._config.maxWidth),t.maxHeight=ME(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t,e=this._backdropElement;if(!e)return;let n=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",n),e.parentNode&&e.parentNode.removeChild(e)),this._backdropElement==e&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",n)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(n,500))}_toggleClasses(t,e,n){const r=t.classList;NE(e).forEach(t=>{t&&(n?r.add(t):r.remove(t))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(cT(Object(Aa.a)(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}}const aA="cdk-overlay-connected-position-bounding-box",cA=/([A-Za-z%]+)$/;class uA{constructor(t,e,n,r,i){this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=i,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Nr.a,this._resizeSubscription=Lr.a.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(aA),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,n=this._viewportRect,r=[];let i;for(let o of this._preferredPositions){let s=this._getOriginPoint(t,o),a=this._getOverlayPoint(s,e,o),c=this._getOverlayFit(a,e,n,o);if(c.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(o,s);this._canFitWithFlexibleDimensions(c,a,n)?r.push({position:o,origin:s,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(s,o)}):(!i||i.overlayFit.visibleArea<c.visibleArea)&&(i={overlayFit:c,overlayPoint:a,originPoint:s,position:o,overlayRect:e})}if(r.length){let t=null,e=-1;for(const n of r){const r=n.boundingBoxRect.width*n.boundingBoxRect.height*(n.position.weight||1);r>e&&(e=r,t=n)}return this._isPushed=!1,void this._applyPosition(t.position,t.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(i.position,i.originPoint);this._applyPosition(i.position,i.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&lA(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(aA),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let n,r;if("center"==e.originX)n=t.left+t.width/2;else{const r=this._isRtl()?t.right:t.left,i=this._isRtl()?t.left:t.right;n="start"==e.originX?r:i}return r="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:n,y:r}}_getOverlayPoint(t,e,n){let r,i;return r="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,i="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+r,y:t.y+i}}_getOverlayFit(t,e,n,r){const i=dA(e);let{x:o,y:s}=t,a=this._getOffset(r,"x"),c=this._getOffset(r,"y");a&&(o+=a),c&&(s+=c);let u=0-s,l=s+i.height-n.height,h=this._subtractOverflows(i.width,0-o,o+i.width-n.width),d=this._subtractOverflows(i.height,u,l),f=h*d;return{visibleArea:f,isCompletelyWithinViewport:i.width*i.height===f,fitsInViewportVertically:d===i.height,fitsInViewportHorizontally:h==i.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){const r=n.bottom-e.y,i=n.right-e.x,o=hA(this._overlayRef.getConfig().minHeight),s=hA(this._overlayRef.getConfig().minWidth),a=t.fitsInViewportHorizontally||null!=s&&s<=i;return(t.fitsInViewportVertically||null!=o&&o<=r)&&a}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=dA(e),i=this._viewportRect,o=Math.max(t.x+r.width-i.width,0),s=Math.max(t.y+r.height-i.height,0),a=Math.max(i.top-n.top-t.y,0),c=Math.max(i.left-n.left-t.x,0);let u=0,l=0;return u=r.width<=i.width?c||-o:t.x<this._viewportMargin?i.left-n.left-t.x:0,l=r.height<=i.height?a||-s:t.y<this._viewportMargin?i.top-n.top-t.y:0,this._previousPushAmount={x:u,y:l},{x:t.x+u,y:t.y+l}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const e=this._getScrollVisibility(),n=new tA(t,e);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,r=t.overlayY;n="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let i=0;i<e.length;i++)e[i].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(t,e){const n=this._viewportRect,r=this._isRtl();let i,o,s,a,c,u;if("top"===e.overlayY)o=t.y,i=n.height-o+this._viewportMargin;else if("bottom"===e.overlayY)s=n.height-t.y+2*this._viewportMargin,i=n.height-s+this._viewportMargin;else{const e=Math.min(n.bottom-t.y+n.top,t.y),r=this._lastBoundingBoxSize.height;i=2*e,o=t.y-e,i>r&&!this._isInitialRender&&!this._growAfterOpen&&(o=t.y-r/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)u=n.width-t.x+this._viewportMargin,a=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)c=t.x,a=n.right-t.x;else{const e=Math.min(n.right-t.x+n.left,t.x),r=this._lastBoundingBoxSize.width;a=2*e,c=t.x-e,a>r&&!this._isInitialRender&&!this._growAfterOpen&&(c=t.x-r/2)}return{top:o,left:c,bottom:s,right:u,width:a,height:i}}_setBoundingBoxStyles(t,e){const n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const t=this._overlayRef.getConfig().maxHeight,i=this._overlayRef.getConfig().maxWidth;r.height=ME(n.height),r.top=ME(n.top),r.bottom=ME(n.bottom),r.width=ME(n.width),r.left=ME(n.left),r.right=ME(n.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",t&&(r.maxHeight=ME(t)),i&&(r.maxWidth=ME(i))}this._lastBoundingBoxSize=n,lA(this._boundingBox.style,r)}_resetBoundingBoxStyles(){lA(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){lA(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const n={},r=this._hasExactPosition(),i=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(r){const r=this._viewportRuler.getViewportScrollPosition();lA(n,this._getExactOverlayY(e,t,r)),lA(n,this._getExactOverlayX(e,t,r))}else n.position="static";let s="",a=this._getOffset(e,"x"),c=this._getOffset(e,"y");a&&(s+=`translateX(${a}px) `),c&&(s+=`translateY(${c}px)`),n.transform=s.trim(),o.maxHeight&&(r?n.maxHeight=ME(o.maxHeight):i&&(n.maxHeight="")),o.maxWidth&&(r?n.maxWidth=ME(o.maxWidth):i&&(n.maxWidth="")),lA(this._pane.style,n)}_getExactOverlayY(t,e,n){let r={top:"",bottom:""},i=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect,n));let o=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return i.y-=o,"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(i.y+this._overlayRect.height)+"px":r.top=ME(i.y),r}_getExactOverlayX(t,e,n){let r,i={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n)),r=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===r?i.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":i.left=ME(o.x),i}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(t=>t.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:XI(t,n),isOriginOutsideView:GI(t,n),isOverlayClipped:XI(e,n),isOverlayOutsideView:GI(e,n)}}_subtractOverflows(t,...e){return e.reduce((t,e)=>t-Math.max(e,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&NE(t).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof r.l)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}}function lA(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function hA(t){if("number"!=typeof t&&null!=t){const[e,n]=t.split(cA);return n&&"px"!==n?null:parseFloat(e)}return t||null}function dA(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}class fA{constructor(t,e,n,r,i,o,s){this._preferredPositions=[],this._positionStrategy=new uA(n,r,i,o,s).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,n,r){const i=new ZI(t,e,n,r);return this._preferredPositions.push(i),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}const pA="cdk-global-overlay-wrapper";class gA{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(pA),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:i,maxWidth:o,maxHeight:s}=n,a=!("100%"!==r&&"100vw"!==r||o&&"100%"!==o&&"100vw"!==o),c=!("100%"!==i&&"100vh"!==i||s&&"100%"!==s&&"100vh"!==s);t.position=this._cssPosition,t.marginLeft=a?"0":this._leftOffset,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,a?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove(pA),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let mA=(()=>{class t{constructor(t,e,n,r){this._viewportRuler=t,this._document=e,this._platform=n,this._overlayContainer=r}global(){return new gA}connectedTo(t,e,n){return new fA(e,n,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(t){return new uA(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(VI),r.Ub(u),r.Ub(BE),r.Ub(oA))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Ub)(VI),Object(r.Ub)(u),Object(r.Ub)(BE),Object(r.Ub)(oA))},token:t,providedIn:"root"}),t})(),bA=0,vA=(()=>{class t{constructor(t,e,n,r,i,o,s,a,c,u,l){this.scrollStrategies=t,this._overlayContainer=e,this._componentFactoryResolver=n,this._positionBuilder=r,this._keyboardDispatcher=i,this._injector=o,this._ngZone=s,this._document=a,this._directionality=c,this._location=u,this._outsideClickDispatcher=l}create(t){const e=this._createHostElement(),n=this._createPaneElement(e),r=this._createPortalOutlet(n),i=new JI(t);return i.direction=i.direction||this._directionality.value,new sA(r,e,n,i,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const e=this._document.createElement("div");return e.id="cdk-overlay-"+bA++,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(r.g)),new AT(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub($I),r.Ub(oA),r.Ub(r.j),r.Ub(mA),r.Ub(nA),r.Ub(r.r),r.Ub(r.z),r.Ub(u),r.Ub(jT),r.Ub(P),r.Ub(rA))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const yA={provide:new r.q("cdk-connected-overlay-scroll-strategy"),deps:[vA],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let _A=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[vA,yA],imports:[[NT,RT,qI],qI]}),t})();const wA=["mat-menu-item",""],CA=["*"];function kA(t,e){if(1&t){const t=r.Rb();r.Qb(0,"div",0),r.Xb("keydown",function(e){return r.oc(t),r.bc()._handleKeydown(e)})("click",function(){return r.oc(t),r.bc().closed.emit("click")})("@transformMenu.start",function(e){return r.oc(t),r.bc()._onAnimationStart(e)})("@transformMenu.done",function(e){return r.oc(t),r.bc()._onAnimationDone(e)}),r.Qb(1,"div",1),r.fc(2),r.Pb(),r.Pb()}if(2&t){const t=r.bc();r.hc("id",t.panelId)("ngClass",t._classList)("@transformMenu",t._panelAnimationState),r.Bb("aria-label",t.ariaLabel||null)("aria-labelledby",t.ariaLabelledby||null)("aria-describedby",t.ariaDescribedby||null)}}const PA={transformMenu:vT("transformMenu",[CT("void",wT({opacity:0,transform:"scale(0.8)"})),kT("void => enter",yT("120ms cubic-bezier(0, 0, 0.2, 1)",wT({opacity:1,transform:"scale(1)"}))),kT("* => void",yT("100ms 25ms linear",wT({opacity:0})))]),fadeInItems:vT("fadeInItems",[CT("showing",wT({opacity:1})),kT("void => *",[wT({opacity:0}),yT("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},SA=new r.q("MatMenuContent"),EA=new r.q("MAT_MENU_PANEL");class TA{}const xA=mI(pI(TA));let OA=(()=>{class t extends xA{constructor(t,e,n,r){super(),this._elementRef=t,this._focusMonitor=n,this._parentMenu=r,this.role="menuitem",this._hovered=new Nr.a,this._focused=new Nr.a,this._highlighted=!1,this._triggersSubmenu=!1,r&&r.addItem&&r.addItem(this)}focus(t,e){this._focusMonitor&&t?this._focusMonitor.focusVia(this._getHostElement(),t,e):this._getHostElement().focus(e),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(t){this.disabled&&(t.preventDefault(),t.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){var t,e;const n=this._elementRef.nativeElement.cloneNode(!0),r=n.querySelectorAll("mat-icon, .material-icons");for(let i=0;i<r.length;i++){const e=r[i];null===(t=e.parentNode)||void 0===t||t.removeChild(e)}return(null===(e=n.textContent)||void 0===e?void 0:e.trim())||""}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.l),r.Kb(u),r.Kb(eT),r.Kb(EA,8))},t.\u0275cmp=r.Eb({type:t,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(t,e){1&t&&r.Xb("click",function(t){return e._checkDisabled(t)})("mouseenter",function(){return e._handleMouseEnter()}),2&t&&(r.Bb("role",e.role)("tabindex",e._getTabIndex())("aria-disabled",e.disabled.toString())("disabled",e.disabled||null),r.Cb("mat-menu-item",!0)("mat-menu-item-highlighted",e._highlighted)("mat-menu-item-submenu-trigger",e._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[r.xb],attrs:wA,ngContentSelectors:CA,decls:2,vars:2,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"]],template:function(t,e){1&t&&(r.gc(),r.fc(0),r.Lb(1,"div",0)),2&t&&(r.Ab(1),r.hc("matRippleDisabled",e.disableRipple||e.disabled)("matRippleTrigger",e._getHostElement()))},directives:[SI],encapsulation:2,changeDetection:0}),t})();const IA=new r.q("mat-menu-default-options",{providedIn:"root",factory:function(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let AA=0,RA=(()=>{class t{constructor(t,e,n){this._elementRef=t,this._ngZone=e,this._defaultOptions=n,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new r.D,this._tabSubscription=Lr.a.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new Nr.a,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new r.n,this.close=this.closed,this.panelId="mat-menu-panel-"+AA++}get xPosition(){return this._xPosition}set xPosition(t){this._xPosition=t,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(t){this._yPosition=t,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(t){this._overlapTrigger=DE(t)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=DE(t)}set panelClass(t){const e=this._previousPanelClass;e&&e.length&&e.split(" ").forEach(t=>{this._classList[t]=!1}),this._previousPanelClass=t,t&&t.length&&(t.split(" ").forEach(t=>{this._classList[t]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(t){this.panelClass=t}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new $E(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(ti(this._directDescendantItems),Rr(t=>Object(Aa.a)(...t.map(t=>t._focused)))).subscribe(t=>this._keyManager.updateActiveItem(t))}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe(ti(this._directDescendantItems),Rr(t=>Object(Aa.a)(...t.map(t=>t._hovered))))}addItem(t){}removeItem(t){}_handleKeydown(t){const e=t.keyCode,n=this._keyManager;switch(e){case 27:TE(t)||(t.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:38!==e&&40!==e||n.setFocusOrigin("keyboard"),n.onKeydown(t)}}focusFirstItem(t="program"){this.lazyContent?this._ngZone.onStable.pipe(Ei(1)).subscribe(()=>this._focusFirstItem(t)):this._focusFirstItem(t)}_focusFirstItem(t){const e=this._keyManager;if(e.setFocusOrigin(t).setFirstItemActive(),!e.activeItem&&this._directDescendantItems.length){let t=this._directDescendantItems.first._getHostElement().parentElement;for(;t;){if("menu"===t.getAttribute("role")){t.focus();break}t=t.parentElement}}}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(t){const e="mat-elevation-z"+Math.min(4+t,24),n=Object.keys(this._classList).find(t=>t.startsWith("mat-elevation-z"));n&&n!==this._previousElevation||(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[e]=!0,this._previousElevation=e)}setPositionClasses(t=this.xPosition,e=this.yPosition){const n=this._classList;n["mat-menu-before"]="before"===t,n["mat-menu-after"]="after"===t,n["mat-menu-above"]="above"===e,n["mat-menu-below"]="below"===e}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(t){this._animationDone.next(t),this._isAnimating=!1}_onAnimationStart(t){this._isAnimating=!0,"enter"===t.toState&&0===this._keyManager.activeItemIndex&&(t.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(ti(this._allItems)).subscribe(t=>{this._directDescendantItems.reset(t.filter(t=>t._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.l),r.Kb(r.z),r.Kb(IA))},t.\u0275dir=r.Fb({type:t,contentQueries:function(t,e,n){if(1&t&&(r.Db(n,SA,!0),r.Db(n,OA,!0),r.Db(n,OA,!1)),2&t){let t;r.mc(t=r.Yb())&&(e.lazyContent=t.first),r.mc(t=r.Yb())&&(e._allItems=t),r.mc(t=r.Yb())&&(e.items=t)}},viewQuery:function(t,e){if(1&t&&r.Ac(r.L,!0),2&t){let t;r.mc(t=r.Yb())&&(e.templateRef=t.first)}},inputs:{backdropClass:"backdropClass",xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"]},outputs:{closed:"closed",close:"close"}}),t})(),DA=(()=>{class t extends RA{constructor(t,e,n){super(t,e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.l),r.Kb(r.z),r.Kb(IA))},t.\u0275cmp=r.Eb({type:t,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(t,e){2&t&&r.Bb("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[r.zb([{provide:EA,useExisting:t}]),r.xb],ngContentSelectors:CA,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(t,e){1&t&&(r.gc(),r.uc(0,kA,3,6,"ng-template"))},directives:[ct],styles:['.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]{pointer-events:none}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.cdk-high-contrast-active .mat-menu-item.cdk-program-focused,.cdk-high-contrast-active .mat-menu-item.cdk-keyboard-focused,.cdk-high-contrast-active .mat-menu-item-highlighted{outline:dotted 1px}.mat-menu-item-submenu-trigger{padding-right:32px}.mat-menu-item-submenu-trigger::after{width:0;height:0;border-style:solid;border-width:5px 0 5px 5px;border-color:transparent transparent transparent currentColor;content:"";display:inline-block;position:absolute;top:50%;right:16px;transform:translateY(-50%)}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}[dir=rtl] .mat-menu-item-submenu-trigger::after{right:auto;left:16px;transform:rotateY(180deg) translateY(-50%)}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\n'],encapsulation:2,data:{animation:[PA.transformMenu,PA.fadeInItems]},changeDetection:0}),t})();const jA=new r.q("mat-menu-scroll-strategy"),NA={provide:jA,deps:[vA],useFactory:function(t){return()=>t.scrollStrategies.reposition()}},MA=zE({passive:!0});let LA=(()=>{class t{constructor(t,e,n,i,o,s,a,c){this._overlay=t,this._element=e,this._viewContainerRef=n,this._menuItemInstance=s,this._dir=a,this._focusMonitor=c,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=Lr.a.EMPTY,this._hoverSubscription=Lr.a.EMPTY,this._menuCloseSubscription=Lr.a.EMPTY,this._handleTouchStart=()=>this._openedBy="touch",this._openedBy=null,this.restoreFocus=!0,this.menuOpened=new r.n,this.onMenuOpen=this.menuOpened,this.menuClosed=new r.n,this.onMenuClose=this.menuClosed,this._scrollStrategy=i,this._parentMaterialMenu=o instanceof RA?o:void 0,e.nativeElement.addEventListener("touchstart",this._handleTouchStart,MA),s&&(s._triggersSubmenu=this.triggersSubmenu())}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(t){this.menu=t}get menu(){return this._menu}set menu(t){t!==this._menu&&(this._menu=t,this._menuCloseSubscription.unsubscribe(),t&&(this._menuCloseSubscription=t.close.subscribe(t=>{this._destroyMenu(),"click"!==t&&"tab"!==t||!this._parentMaterialMenu||this._parentMaterialMenu.closed.emit(t)})))}ngAfterContentInit(){this._checkMenu(),this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,MA),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){if(this._menuOpen)return;this._checkMenu();const t=this._createOverlay(),e=t.getConfig();this._setPosition(e.positionStrategy),e.hasBackdrop=null==this.menu.hasBackdrop?!this.triggersSubmenu():this.menu.hasBackdrop,t.attach(this._getPortal()),this.menu.lazyContent&&this.menu.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(),this.menu instanceof RA&&this.menu._startAnimation()}closeMenu(){this.menu.close.emit()}focus(t,e){this._focusMonitor&&t?this._focusMonitor.focusVia(this._element,t,e):this._element.nativeElement.focus(e)}_destroyMenu(){if(!this._overlayRef||!this.menuOpen)return;const t=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this._restoreFocus(),t instanceof RA?(t._resetAnimation(),t.lazyContent?t._animationDone.pipe(Kn(t=>"void"===t.toState),Ei(1),cT(t.lazyContent._attached)).subscribe({next:()=>t.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),t.lazyContent&&t.lazyContent.detach())}_initMenu(){this.menu.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,this.menu.direction=this.dir,this._setMenuElevation(),this._setIsMenuOpen(!0),this.menu.focusFirstItem(this._openedBy||"program")}_setMenuElevation(){if(this.menu.setElevation){let t=0,e=this.menu.parentMenu;for(;e;)t++,e=e.parentMenu;this.menu.setElevation(t)}}_restoreFocus(){this.restoreFocus&&(this._openedBy?this.triggersSubmenu()||this.focus(this._openedBy):this.focus()),this._openedBy=null}_setIsMenuOpen(t){this._menuOpen=t,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&(this._menuItemInstance._highlighted=t)}_checkMenu(){}_createOverlay(){if(!this._overlayRef){const t=this._getOverlayConfig();this._subscribeToPositions(t.positionStrategy),this._overlayRef=this._overlay.create(t),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(){return new JI({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:this.menu.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:this.menu.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(t){this.menu.setPositionClasses&&t.positionChanges.subscribe(t=>{this.menu.setPositionClasses("start"===t.connectionPair.overlayX?"after":"before","top"===t.connectionPair.overlayY?"below":"above")})}_setPosition(t){let[e,n]="before"===this.menu.xPosition?["end","start"]:["start","end"],[r,i]="above"===this.menu.yPosition?["bottom","top"]:["top","bottom"],[o,s]=[r,i],[a,c]=[e,n],u=0;this.triggersSubmenu()?(c=e="before"===this.menu.xPosition?"start":"end",n=a="end"===e?"start":"end",u="bottom"===r?8:-8):this.menu.overlapTrigger||(o="top"===r?"bottom":"top",s="top"===i?"bottom":"top"),t.withPositions([{originX:e,originY:o,overlayX:a,overlayY:r,offsetY:u},{originX:n,originY:o,overlayX:c,overlayY:r,offsetY:u},{originX:e,originY:s,overlayX:a,overlayY:i,offsetY:-u},{originX:n,originY:s,overlayX:c,overlayY:i,offsetY:-u}])}_menuClosingActions(){const t=this._overlayRef.backdropClick(),e=this._overlayRef.detachments(),n=this._parentMaterialMenu?this._parentMaterialMenu.closed:Object(Bn.a)(),r=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(Kn(t=>t!==this._menuItemInstance),Kn(()=>this._menuOpen)):Object(Bn.a)();return Object(Aa.a)(t,n,r,e)}_handleMousedown(t){JE(t)||(this._openedBy=0===t.button?"mouse":null,this.triggersSubmenu()&&t.preventDefault())}_handleKeydown(t){const e=t.keyCode;13!==e&&32!==e||(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===e&&"ltr"===this.dir||37===e&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(t){this.triggersSubmenu()?(t.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){this.triggersSubmenu()&&this._parentMaterialMenu&&(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(Kn(t=>t===this._menuItemInstance&&!t.disabled),dT(0,aT.b)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof RA&&this.menu._isAnimating?this.menu._animationDone.pipe(Ei(1),dT(0,aT.b),cT(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(){return this._portal&&this._portal.templateRef===this.menu.templateRef||(this._portal=new OT(this.menu.templateRef,this._viewContainerRef)),this._portal}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(vA),r.Kb(r.l),r.Kb(r.Q),r.Kb(jA),r.Kb(EA,8),r.Kb(OA,10),r.Kb(jT,8),r.Kb(eT))},t.\u0275dir=r.Fb({type:t,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:["aria-haspopup","true",1,"mat-menu-trigger"],hostVars:2,hostBindings:function(t,e){1&t&&r.Xb("mousedown",function(t){return e._handleMousedown(t)})("keydown",function(t){return e._handleKeydown(t)})("click",function(t){return e._handleClick(t)}),2&t&&r.Bb("aria-expanded",e.menuOpen||null)("aria-controls",e.menuOpen?e.menu.panelId:null)},inputs:{restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"],_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"]}),t})(),FA=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[NA],imports:[fI]}),t})(),UA=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[NA],imports:[[yt,fI,EI,_A,FA],BI,fI,FA]}),t})();function QA(t,e){1&t&&(r.Qb(0,"div",26),r.Qb(1,"ul",27),r.Qb(2,"li",28),r.Qb(3,"div",29),r.Qb(4,"button",30),r.vc(5," Product "),r.Pb(),r.Qb(6,"div",31),r.Qb(7,"a",32),r.vc(8," Why join dive?"),r.Pb(),r.Qb(9,"a",33),r.vc(10," How does it work?"),r.Pb(),r.Qb(11,"a",34),r.vc(12," Why does it work?"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(13,"li",28),r.Qb(14,"div",29),r.Qb(15,"button",30),r.vc(16," Community "),r.Pb(),r.Qb(17,"div",35),r.Qb(18,"a",36),r.vc(19," Community Guidelines"),r.Pb(),r.Qb(20,"a",37),r.vc(21," FAQ"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(22,"li"),r.Qb(23,"div",29),r.Qb(24,"button",30),r.vc(25," Company "),r.Pb(),r.Qb(26,"div",35),r.Qb(27,"a",38),r.vc(28,"About us"),r.Pb(),r.Qb(29,"a",39),r.vc(30,"Terms & conditions"),r.Pb(),r.Qb(31,"a",40),r.vc(32,"Privacy Policy"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb())}function VA(t,e){if(1&t){const t=r.Rb();r.Qb(0,"div"),r.Qb(1,"a",41),r.Xb("click",function(){return r.oc(t),r.bc().showYoutubeVideo()}),r.vc(2,"How does it work?"),r.Pb(),r.Pb()}}function BA(t,e){if(1&t){const t=r.Rb();r.Qb(0,"button",42),r.Qb(1,"img",43),r.Xb("load",function(){return r.oc(t),r.bc().onLoad()}),r.Pb(),r.Pb()}if(2&t){const t=r.bc(),e=r.nc(10);r.hc("matMenuTriggerFor",e),r.Ab(1),r.ic("src",t.currentImg,r.qc),r.hc("hidden",t.loading)}}function qA(t,e){if(1&t){const t=r.Rb();r.Qb(0,"button",44),r.Xb("click",function(){return r.oc(t),r.bc().goToSignUp()}),r.vc(1,"Sign Up"),r.Pb()}}function zA(t,e){if(1&t){const t=r.Rb();r.Qb(0,"button",45),r.Xb("click",function(){return r.oc(t),r.bc().goToSignIn()}),r.vc(1,"Login"),r.Pb()}}function HA(t,e){1&t&&(r.Qb(0,"a",46),r.vc(1,"Sign Up"),r.Pb())}function KA(t,e){1&t&&(r.Qb(0,"a",47),r.vc(1,"Login"),r.Pb())}let WA=(()=>{class t{}return t.imgUrl="",t})(),GA=(()=>{class t{constructor(t,e,n,i){this.profileService=t,this.authService=e,this.router=n,this._activatedRoute=i,this.userName="",this.loading=!0,this.currentImg=WA.imgUrl,this.returnUrl="",this.ref="",this.inDivePage=!1,this.onOpenVideo=new r.n,this.ref=this._activatedRoute.snapshot.queryParamMap.get("ref")||""}ngOnInit(){var t,e;this.showSignupButton=!(void 0===this.showSignupButton),this.showLoginButton=!(void 0===this.showLoginButton),this.showLogoutButton=!(void 0===this.showLogoutButton),this.showHowItWorks=!(void 0===this.showHowItWorks),console.log("here: "+this.showHowItWorks),this.user=cc.a.auth().currentUser,this.userName=(null===(t=this.user)||void 0===t?void 0:t.displayName)||"",""!=WA.imgUrl||"/dive"!=this.router.url&&"/profile"!=this.router.url&&"/solo"!=this.router.url||this.profileService.getUserInfo((null===(e=this.user)||void 0===e?void 0:e.email)||"").subscribe(t=>{const e=t;e.imageUrl=e.imageUrl,"/assets/img/user2.svg"!=e.imageUrl.url?(WA.imgUrl=e.imageUrl.url,this.currentImg=WA.imgUrl):(WA.imgUrl=e.imageUrl.url,this.currentImg="/assets/img/user2.svg")})}onLoad(){this.loading=!1}logoClicked(){this.router.navigate(null!=this.user?["/dive"]:["/"])}goToSignUp(){this.router.navigate(["/signup/mail"],{queryParams:{ref:this.ref}})}goToSignIn(){this.router.navigate(["/login"],{queryParams:{ref:this.ref}})}onLogout(){return xr(this,void 0,void 0,function*(){yield this.authService.logout()})}goToProfile(){this.router.navigate(["/profile/me"])}showYoutubeVideo(){this.onOpenVideo.emit("open")}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(CE),r.Kb(EE),r.Kb(ua),r.Kb(Ho))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-header"]],inputs:{showSignupButton:"showSignupButton",showLoginButton:"showLoginButton",showHowItWorks:"showHowItWorks",showLogoutButton:"showLogoutButton",userName:"userName"},outputs:{onOpenVideo:"onOpenVideo"},decls:36,vars:10,consts:[[1,"desktop"],[1,".container-fluid"],[1,"row"],[1,"col","d-flex","align-items-center","justify-content-start"],[3,"click"],["src","/assets/img/group-11.svg","alt","",2,"margin-left","20px","cursor","pointer"],["class","col-5 d-flex align-items-center justify-content-end",4,"ngIf"],[1,"col","d-flex","align-items-center","justify-content-end"],[4,"ngIf"],[1,"customize-menu","shadow"],["appMenu","matMenu"],["mat-menu-item",""],[1,"row",3,"click"],[1,"col-3"],["alt","",1,"profile-img",2,"height","40px","width","40px","position","relative","top","50%","transform","translateY(-50%)",3,"src","hidden","load"],[1,"col-7"],[2,"font-weight","600","margin-right","20px","color","white","font-size","13px"],[2,"background-color","white"],["mat-menu-item","",2,"font-weight","600","margin-right","20px","color","white",3,"click"],["mat-flat-button","","class","profile-button",3,"matMenuTriggerFor",4,"ngIf"],["class","btn btn-signup","style","font-weight: 600;margin-right: 10px;",3,"click",4,"ngIf"],["class","btn btn-primary","style","font-weight: 600;margin-right: 20px;",3,"click",4,"ngIf"],[1,"mobile",2,"overflow","hidden"],[1,"col-7",2,"display","flex","justify-content","flex-end"],["class","btn btn-primary","style","font-weight: 600;margin-right: 10px;background-color: white;color:#5432f6;width: 80px;","routerLink","/signup/mail",4,"ngIf"],["class","btn btn-primary","style","font-weight: 600;margin-right: 20px;width: 80px;","routerLink","/login",4,"ngIf"],[1,"col-5","d-flex","align-items-center","justify-content-end"],[2,"top","50%","position","relative","transform","translateY(-50%)","list-style-type","none","display","flex"],[2,"margin-right","20px"],[1,"dropdown"],["type","button","id","dropdownMenuButton","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"dropdown-toggle",2,"background-color","#ffffff","font-size","14px","font-weight","bold","cursor","pointer","color","black","border","none","outline","none"],["aria-labelledby","dropdownMenuButton",1,"dropdown-menu",2,"left","-50px"],["href","#why",1,"dropdown-item","nav-item"],["href","#how",1,"dropdown-item","nav-item"],["href","#why-works",1,"dropdown-item","nav-item"],["aria-labelledby","dropdownMenuButton",1,"dropdown-menu",2,"z-index","99999"],["href","/community-guidelines",1,"nav-item","dropdown-item","nav-item"],["href","/faq",1,"nav-item","dropdown-item","nav-item"],["href","/about",1,"nav-item","dropdown-item","nav-item"],["href","https://blog.thedive.app/post/60487a5a345fa506ebbeabe8","target","_blank",1,"nav-item","dropdown-item","nav-item"],["href","https://blog.thedive.app/post/60488b39345fa506ebbeabeb","target","_blank",1,"nav-item","dropdown-item","nav-item"],[1,"nav-item",2,"margin-right","15px",3,"click"],["mat-flat-button","",1,"profile-button",3,"matMenuTriggerFor"],["default","/assets/img/user2.svg","alt","",1,"profile-img",3,"src","hidden","load"],[1,"btn","btn-signup",2,"font-weight","600","margin-right","10px",3,"click"],[1,"btn","btn-primary",2,"font-weight","600","margin-right","20px",3,"click"],["routerLink","/signup/mail",1,"btn","btn-primary",2,"font-weight","600","margin-right","10px","background-color","white","color","#5432f6","width","80px"],["routerLink","/login",1,"btn","btn-primary",2,"font-weight","600","margin-right","20px","width","80px"]],template:function(t,e){1&t&&(r.Qb(0,"header",0),r.Qb(1,"div",1),r.Qb(2,"div",2),r.Qb(3,"div",3),r.Qb(4,"a",4),r.Xb("click",function(){return e.logoClicked()}),r.Lb(5,"img",5),r.Pb(),r.Pb(),r.uc(6,QA,33,0,"div",6),r.Qb(7,"div",7),r.uc(8,VA,3,0,"div",8),r.Qb(9,"mat-menu",9,10),r.Qb(11,"div",11),r.Qb(12,"div",1),r.Qb(13,"div",12),r.Xb("click",function(){return e.goToProfile()}),r.Qb(14,"div",13),r.Qb(15,"img",14),r.Xb("load",function(){return e.onLoad()}),r.Pb(),r.Pb(),r.Qb(16,"div",15),r.Qb(17,"label",16),r.vc(18),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Lb(19,"hr",17),r.Qb(20,"a",18),r.Xb("click",function(){return e.goToProfile()}),r.vc(21,"Profile"),r.Pb(),r.Qb(22,"a",18),r.Xb("click",function(){return e.onLogout()}),r.vc(23,"Logout"),r.Pb(),r.Pb(),r.uc(24,BA,2,3,"button",19),r.uc(25,qA,2,0,"button",20),r.uc(26,zA,2,0,"button",21),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(27,"header",22),r.Qb(28,"div",1),r.Qb(29,"div",2),r.Qb(30,"div",3),r.Qb(31,"a",4),r.Xb("click",function(){return e.logoClicked()}),r.Lb(32,"img",5),r.Pb(),r.Pb(),r.Qb(33,"div",23),r.uc(34,HA,2,0,"a",24),r.uc(35,KA,2,0,"a",25),r.Pb(),r.Pb(),r.Pb(),r.Pb()),2&t&&(r.Ab(6),r.hc("ngIf",e.showSignupButton&&e.showLoginButton),r.Ab(2),r.hc("ngIf",e.showHowItWorks),r.Ab(7),r.ic("src",e.currentImg,r.qc),r.hc("hidden",e.loading),r.Ab(3),r.wc(e.userName),r.Ab(6),r.hc("ngIf",e.showLogoutButton),r.Ab(1),r.hc("ngIf",e.showSignupButton),r.Ab(1),r.hc("ngIf",e.showLoginButton),r.Ab(8),r.hc("ngIf",e.showSignupButton),r.Ab(1),r.hc("ngIf",e.showLoginButton))},directives:[dt,DA,OA,LA,la],styles:["header[_ngcontent-%COMP%]{background-color:#fff;padding:12px 0;box-shadow:0 0 1px 0 hsla(0,0%,62.4%,.5)}  .customize-menu{background-color:#5432f6;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;width:250px;margin-top:2px;margin-right:20px}.profile-img[_ngcontent-%COMP%]{object-fit:cover;z-index:2;position:relative;height:50px;width:50px;border-radius:50%;display:block;margin-right:20px}.profile-button[_ngcontent-%COMP%]{padding:0;border:none;background:none;outline:none}.nav-item[_ngcontent-%COMP%]{font-size:14px;font-weight:700;cursor:pointer;color:#000}.nav-item[_ngcontent-%COMP%]:active:hover{color:#fff}.nav-item[_ngcontent-%COMP%]:hover{font-size:14px;font-weight:700;color:#5432f6}.mobile[_ngcontent-%COMP%]{visibility:hidden;display:none}@media screen and (max-width:849px){.mobile[_ngcontent-%COMP%]{visibility:visible;display:block}.desktop[_ngcontent-%COMP%]{visibility:hidden;display:none}}.dropdown-menu[_ngcontent-%COMP%]{left:-50px!important}.dropdown[_ngcontent-%COMP%]{background-color:inherit;color:#000;cursor:pointer}.dropdown-toggle[_ngcontent-%COMP%]:hover{color:#5432f6!important}"]}),t})(),XA=(()=>{class t{constructor(t,e){this.router=t,this._activatedRoute=e,this.ref="",this.showHamburgerMenu=!1,this.ref=this._activatedRoute.snapshot.queryParamMap.get("ref")||"",localStorage.setItem("ref",this.ref)}ngOnInit(){let t=document.getElementById("vid");t.muted=!0,t.play()}goToSignUp(){this.router.navigate(["/signup/mail",{queryParams:{ref:this.ref}}])}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(ua),r.Kb(Ho))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-index"]],decls:500,vars:3,consts:[["showLoginButton","","showSignupButton","",1,"desktop"],[1,".container-fluid","desktop",2,"background-color","white","margin-top","1px","overflow","hidden"],[1,"row"],[1,"col"],["src","/assets/img/leftdude.png","alt","leftdude",1,"left-dude"],[1,"col-5","my-auto",2,"height","fit-content"],[1,".container-fluid"],[2,"font-size","45px","font-weight","bold","color","#5432f6","text-align","center","width","100%"],[1,"p1-p1"],[1,"p1-p1",2,"font-size","18px"],[1,"row",2,"margin-bottom","6%"],[1,"col-md-8","offset-md-2"],[1,"join",3,"click"],["src","/assets/img/rightdude.png","alt","rightdude",1,"right-dude"],["id","why",1,"row","p2"],[1,"col-md"],["src","/assets/img/lp2.png","alt","lp2",1,"p2-img"],[1,".container-fluid","h-100"],[1,"make-center-p2"],[1,"why-join"],[1,"why-join-exp"],["id","how",1,"row","p3"],[1,"row","h-100"],[1,"p3-list"],[1,"p3-dots"],[1,"how-it-works"],["width","600px","muted","","autoplay","","loop","","playsinline","","preload","auto","src","/assets/img/howto.mp4","id","vid",2,"position","relative","left","50%","top","50%","transform","translate(-50%,-50%)","border","1px solid #f8f8f8"],[1,"row","p4"],[1,".container-fluid",2,"width","100%"],[1,"row","p4-row",2,"width","70%","position","relative","left","50%","transform","translate(-50%,-50%)","top","50%"],[1,"col-8"],[1,"p4-p"],[1,"col",2,"width","3%"],[1,"p4-join",3,"click"],["id","why-works",1,"row","p5"],[1,"row",2,"height","25%!important"],[1,"dive-uses"],[1,"row",2,"height","35.5%!important"],[1,"p5-square","right-align"],[1,".container-fluid","h-100","p5-first"],[1,".container-fluid","align-squares",2,"height","85%!important"],[1,"row","w-100",2,"margin-left","0","height","10%","position","relative"],[1,"row","w-100",2,"margin-left","0"],[1,"peer-acc"],[1,"row","w-100",2,"margin-left","0","height","5%","position","relative"],[1,"row","w-100",2,"margin-left","0","margin-bottom","-25px"],[1,"your","w-100",2,"font-weight","bold"],[1,"row","w-100",2,"margin-left","0","height","27%"],[1,"perc","w-100"],[1,"sq1-p4","w-100",2,"font-weight","bold"],["href","https://books.google.com/books?hl=en&lr=&id=mHTEkvyjaLwC&oi=fnd&pg=PR1&dq=astd+study+on+accountability&ots=Tl_zG176Yi&sig=qGr1ndwsihxE_Pd2ko0WhPtsuJk#v=onepage&q=astd%20study%20on%20accountability&f=false","target","_blank",2,"color","white"],[1,"sq1-p5","w-100",2,"font-size","14px","font-weight","normal"],[1,"p5-square","left-align"],[1,"your","w-100",2,"font-weight","bold","color","#686868"],[1,"your","w-100",2,"font-size","16px","font-weight","bold","color","#686868"],[1,"row","w-100",2,"height","10%"],[1,"row","w-100",2,"margin-left","0","color","#686868"],[1,"sq1-p4","w-100"],[1,"row",2,"height","4%!important"],[1,"your","w-100",2,"color","#686868"],[2,"font-weight","bold"],[1,"col",2,"height","7vh"],[1,"row","w-100",2,"margin-left","0","height","16vh"],[1,"perc","w-100",2,"color","#5432f6"],[1,"your","w-100",2,"font-weight","bold","color","#686868","font-size","14px"],[1,"your","w-100",2,"font-size","14px","color","#686868"],[1,"row","p6"],[1,".container-fluid",2,"width","100%","height","50%","top","50%","position","relative","transform","translateY(-50%)"],[1,"col","justify-content-center",2,"margin-left","40px"],["src","/assets/img/group-11.svg","alt","",2,"cursor","pointer"],[1,"col","justify-content-center"],[1,"footer-labels"],["href","#why",1,"footer-sublabels"],["href","#how",1,"footer-sublabels"],["href","#why-works",1,"footer-sublabels"],["href","/community-guidelines",1,"footer-sublabels"],["href","/faq",1,"footer-sublabels"],["href","/about",1,"footer-sublabels"],["href","https://blog.thedive.app/post/60487a5a345fa506ebbeabe8","target","_blank",1,"footer-sublabels"],["href","https://blog.thedive.app/post/60488b39345fa506ebbeabeb","target","_blank",1,"footer-sublabels"],[2,"font-size","11px","color","#aeaeae","margin-left","20px"],[1,"container-fluid","pt-5","mobile",2,"background-color","white","overflow","hidden","text-align","center"],[1,"w-100",2,"display","flex","justify-content","space-between"],[2,"margin-left","20px"],[1,"icon",2,"margin-right","20px","height","40px",3,"click"],[1,"fa","fa-bars",3,"hidden"],[1,"fa","fa-times-circle",3,"hidden"],[1,"row",2,"height","100vh","width","100vw",3,"hidden"],[1,"w-100","h-100",2,"display","flex","flex-direction","column","justify-content","space-around","align-items","center"],[2,"flex-direction","column","display","flex","margin","0 auto","position","relative","bottom","15%"],["href","/community-guidelines",2,"height","40px","text-transform","uppercase"],["href","/about",2,"height","40px","text-transform","uppercase"],["href","/faq",2,"height","40px","text-transform","uppercase"],["routerLink","/signup/mail",1,"btn","btn-primary","w-100",2,"font-weight","600","background-color","white","color","#5432f6","position","relative","left","50%","transform","translateX(-50%)"],["routerLink","/login",1,"btn","btn-primary","w-100",2,"font-weight","600","position","relative","left","50%","transform","translateX(-50%)"],[1,"col-12","col-lg-6","text-center"],["src","/assets/img/group-266.svg","alt","",2,"width","100%","max-width","500px"],[1,"col-12","col-lg-6","d-flex","align-items-center","justify-content-center"],[2,"max-width","100%"],[1,"font-weight-bold",2,"top","20px","position","relative",";font-size","35px","color","#5432f6"],[1,"font-weight-bold",2,"top","10px","color","black","position","relative","top","20px"],[1,"btn","btn-primary",3,"click"],["id","why",1,"row","p2",2,"max-height","750px"],[1,"col-md",2,"top","20px"],["src","/assets/img/lp2.png","alt","lp2",1,"",2,"height","30vh","width","70vw"],[1,"align-middle"],[1,"why-join","text-align-center"],[1,"col",2,"display","flex","justify-content","center"],[1,"why-join-exp",2,"width","90%"],["id","how",1,"row","p3",2,"max-height","750px"],[1,""],["src","/assets/img/howto.gif","alt","how-it-works",1,"",2,"height","40vh","width","95vw","top","20px","position","relative"],[1,"why-join",2,"font-size","32px"],[1,"p3-dots",2,"min-height","35px","min-width","35px"],[1,"row","p4","align-items-center",2,"height","50vh","text-align","center"],["id","why-works",1,"row","p5",2,"height","300vh","max-height","1900px"],[1,"dive-uses",2,"width","100%"],[1,"row",2,"height","60vh!important","max-height","400px"],[1,"p5-square",2,"width","100%"],[1,".container-fluid",2,"height","85%!important"],[1,"your","w-100"],[1,"sq1-p5","w-100"],[1,"your","w-100",2,"font-weight","bold","color","#686868","font-size","15px"],[1,"your","w-100",2,"font-size","12px","color","#686868"],[1,"row","p6",2,"max-height","400px"],[1,"col","d-flex","justify-content-center"]],template:function(t,e){1&t&&(r.Lb(0,"app-header",0),r.Qb(1,"div",1),r.Qb(2,"div",2),r.Qb(3,"div",3),r.Lb(4,"img",4),r.Pb(),r.Qb(5,"div",5),r.Qb(6,"div",6),r.Qb(7,"div",2),r.Qb(8,"div",3),r.Qb(9,"label",7),r.vc(10,"Write your task "),r.Lb(11,"br"),r.vc(12," Match with people "),r.Lb(13,"br"),r.vc(14," Get it done!"),r.Pb(),r.Pb(),r.Pb(),r.Qb(15,"div",2),r.Qb(16,"div",3),r.Qb(17,"div",8),r.vc(18,"Work with people who want the same thing: Get important things done in less time."),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Lb(19,"br"),r.Qb(20,"div",2),r.Qb(21,"div",3),r.Qb(22,"div",9),r.vc(23," Join our \u201cworking together\u201d global community. "),r.Pb(),r.Pb(),r.Pb(),r.Lb(24,"br"),r.Qb(25,"div",10),r.Qb(26,"div",11),r.Qb(27,"button",12),r.Xb("click",function(){return e.goToSignUp()}),r.vc(28,"Join"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(29,"div",3),r.Lb(30,"img",13),r.Pb(),r.Pb(),r.Qb(31,"div",14),r.Qb(32,"div",15),r.Lb(33,"img",16),r.Pb(),r.Qb(34,"div",15),r.Qb(35,"div",17),r.Qb(36,"div",18),r.Qb(37,"div",2),r.Qb(38,"div",3),r.Qb(39,"p",19),r.vc(40," Why join Dive? "),r.Pb(),r.Pb(),r.Pb(),r.Qb(41,"div",2),r.Qb(42,"div",3),r.Qb(43,"p",20),r.vc(44," Social media, shopping sites, videos, games, TV . . . all are scientifically engineered to keep you hooked and coming back. "),r.Lb(45,"br"),r.Lb(46,"br"),r.vc(47," Cleaning up your desk, replying to e-mails, never ending meetings, and many more disruptions keep you away from doing what is really important to you "),r.Lb(48,"br"),r.Lb(49,"br"),r.vc(50," Let\u2019s dive together to claim your time back, focus on important stuff, and most of all -- make things happen! "),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(51,"div",21),r.Qb(52,"div",15),r.Qb(53,"div",17),r.Qb(54,"div",22),r.Qb(55,"div",15),r.Qb(56,"div",23),r.Qb(57,"div",2),r.Qb(58,"div",3),r.Qb(59,"p",19),r.vc(60," How does it work? "),r.Pb(),r.Pb(),r.Pb(),r.Qb(61,"div",2),r.Qb(62,"div",3),r.Qb(63,"div",24),r.vc(64,"1"),r.Pb(),r.Qb(65,"p",25),r.vc(66," Write what you want to accomplish "),r.Pb(),r.Pb(),r.Pb(),r.Qb(67,"div",2),r.Qb(68,"div",3),r.Qb(69,"div",24),r.vc(70,"2"),r.Pb(),r.Qb(71,"p",25),r.vc(72," Match with a fellow Diver or invite your friend "),r.Pb(),r.Pb(),r.Pb(),r.Qb(73,"div",2),r.Qb(74,"div",3),r.Qb(75,"div",24),r.vc(76,"3"),r.Pb(),r.Qb(77,"p",25),r.vc(78," Work together to make things happen. "),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(79,"div",3),r.Lb(80,"video",26),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(81,"div",27),r.Qb(82,"div",28),r.Qb(83,"div",29),r.Qb(84,"div",30),r.Qb(85,"p",31),r.vc(86," Join the community of freelancers, writers, entrepreneurs, designers, developers, marketers, students, academics and more. "),r.Pb(),r.Pb(),r.Lb(87,"div",32),r.Qb(88,"div",3),r.Qb(89,"button",33),r.Xb("click",function(){return e.goToSignUp()}),r.vc(90,"Join"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(91,"div",34),r.Qb(92,"div",3),r.Qb(93,"div",17),r.Qb(94,"div",35),r.Qb(95,"div",15),r.Qb(96,"p",36),r.vc(97," Dive uses a combination of disciplines to make your goals happen. "),r.Pb(),r.Pb(),r.Pb(),r.Qb(98,"div",37),r.Qb(99,"div",15),r.Qb(100,"div",38),r.Qb(101,"div",39),r.Qb(102,"div",40),r.Lb(103,"div",41),r.Qb(104,"div",42),r.Qb(105,"div",3),r.Qb(106,"p",43),r.vc(107," Peer Accountability "),r.Pb(),r.Pb(),r.Lb(108,"div",44),r.Pb(),r.Qb(109,"div",45),r.Qb(110,"p",46),r.vc(111,"You are"),r.Pb(),r.Pb(),r.Qb(112,"div",47),r.Qb(113,"p",48),r.vc(114,"%95"),r.Pb(),r.Pb(),r.Qb(115,"div",42),r.Qb(116,"p",49),r.vc(117,"more likely to complete your goal with another people, according to "),r.Qb(118,"a",50),r.vc(119,"ASTD"),r.Pb(),r.Pb(),r.Pb(),r.Qb(120,"div",42),r.Qb(121,"p",51),r.vc(122,"At Dive we give commitments to each other before each session and at the end ask if we made things happen."),r.Pb(),r.Pb(),r.Pb(),r.Lb(123,"div",42),r.Pb(),r.Pb(),r.Pb(),r.Qb(124,"div",15),r.Qb(125,"div",52),r.Qb(126,"div",17),r.Qb(127,"div",40),r.Lb(128,"div",41),r.Qb(129,"div",42),r.Qb(130,"div",3),r.Qb(131,"p",43),r.vc(132," Timeboxing"),r.Pb(),r.Pb(),r.Lb(133,"div",44),r.Pb(),r.Qb(134,"div",45),r.Qb(135,"p",53),r.vc(136,"The road to success: "),r.Pb(),r.Lb(137,"br"),r.Qb(138,"p",54),r.vc(139," Plan ->Dive->Evaluate "),r.Pb(),r.Pb(),r.Lb(140,"div",55),r.Qb(141,"div",56),r.Qb(142,"p",57),r.Qb(143,"b"),r.vc(144,"Plan:"),r.Pb(),r.vc(145," List the jobs you need to finish "),r.Lb(146,"br"),r.Qb(147,"b"),r.vc(148," Dive:"),r.Pb(),r.vc(149," Match and start working with peers in 50-minute super-focused sessions "),r.Lb(150,"br"),r.Qb(151,"b"),r.vc(152,"Evaluate:"),r.Pb(),r.vc(153," Decide whether you get it done or you need another dive "),r.Pb(),r.Pb(),r.Lb(154,"div",42),r.Pb(),r.Lb(155,"div",42),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Lb(156,"div",58),r.Qb(157,"div",37),r.Qb(158,"div",15),r.Qb(159,"div",38),r.Qb(160,"div",17),r.Qb(161,"div",40),r.Lb(162,"div",41),r.Qb(163,"div",42),r.Qb(164,"div",3),r.Qb(165,"p",43),r.vc(166," Neurochemistry"),r.Pb(),r.Pb(),r.Lb(167,"div",44),r.Pb(),r.Qb(168,"div",45),r.Qb(169,"p",59),r.Qb(170,"label",60),r.vc(171," Work doesn\u2019t need to be be unpleasant. Hack your brain with Dive to improve your mood while working."),r.Pb(),r.Lb(172,"br"),r.Lb(173,"br"),r.vc(174," Dive stimulates seretonin, oxytocin and dopamine by offering mandatory energizing breaks such as exercises, mediatation and healthy snacks at the end of each session."),r.Pb(),r.Pb(),r.Lb(175,"div",42),r.Pb(),r.Lb(176,"div",42),r.Pb(),r.Pb(),r.Pb(),r.Qb(177,"div",15),r.Qb(178,"div",52),r.Qb(179,"div",17),r.Qb(180,"div",40),r.Lb(181,"div",41),r.Qb(182,"div",42),r.Qb(183,"div",61),r.Qb(184,"p",43),r.vc(185," Deep Work"),r.Pb(),r.Pb(),r.Lb(186,"div",44),r.Qb(187,"div",62),r.Qb(188,"p",63),r.vc(189,"2x-3x"),r.Pb(),r.Pb(),r.Qb(190,"div",42),r.Qb(191,"p",64),r.vc(192,"More work"),r.Pb(),r.Pb(),r.Qb(193,"div",45),r.Qb(194,"p",65),r.vc(195,"Nobody ever created an amazing work by checking e-mails or watching videos."),r.Lb(196,"br"),r.vc(197," We turn off all notifications from social media apps, e-mails etc. and put our phones in do not disturb mode."),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Lb(198,"div",42),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Lb(199,"br"),r.Lb(200,"br"),r.Qb(201,"div",66),r.Qb(202,"div",67),r.Qb(203,"div",2),r.Qb(204,"div",68),r.Qb(205,"a"),r.Lb(206,"img",69),r.Pb(),r.Pb(),r.Qb(207,"div",70),r.Qb(208,"div",6),r.Qb(209,"div",2),r.Qb(210,"label",71),r.vc(211,"Product"),r.Pb(),r.Pb(),r.Qb(212,"div",2),r.Qb(213,"a",72),r.vc(214," Why join dive?"),r.Pb(),r.Lb(215,"br"),r.Pb(),r.Qb(216,"div",2),r.Qb(217,"a",73),r.vc(218," How does it work?"),r.Pb(),r.Lb(219,"br"),r.Pb(),r.Qb(220,"div",2),r.Qb(221,"a",74),r.vc(222," Why does it work?"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(223,"div",70),r.Qb(224,"div",6),r.Qb(225,"div",2),r.Qb(226,"label",71),r.vc(227,"Community"),r.Pb(),r.Pb(),r.Qb(228,"div",2),r.Qb(229,"a",75),r.vc(230,"Community Guidelines"),r.Pb(),r.Lb(231,"br"),r.Pb(),r.Qb(232,"div",2),r.Qb(233,"a",76),r.vc(234,"FAQ"),r.Pb(),r.Lb(235,"br"),r.Pb(),r.Pb(),r.Pb(),r.Qb(236,"div",70),r.Qb(237,"div",6),r.Qb(238,"div",2),r.Qb(239,"label",71),r.vc(240,"Company"),r.Pb(),r.Pb(),r.Qb(241,"div",2),r.Qb(242,"a",77),r.vc(243,"About us"),r.Pb(),r.Lb(244,"br"),r.Pb(),r.Qb(245,"div",2),r.Qb(246,"a",78),r.vc(247,"Terms & conditions"),r.Pb(),r.Lb(248,"br"),r.Pb(),r.Qb(249,"div",2),r.Qb(250,"a",79),r.vc(251,"Privacy Policy"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Lb(252,"br"),r.Qb(253,"div",2),r.Qb(254,"div",3),r.Lb(255,"hr"),r.Pb(),r.Pb(),r.Qb(256,"div",2),r.Qb(257,"div",3),r.Qb(258,"label",80),r.vc(259,"\xa9 Copyright 2021 Dive, Inc. All rights reserved. "),r.Pb(),r.Pb(),r.Pb(),r.Lb(260,"br"),r.Pb(),r.Pb(),r.Pb(),r.Qb(261,"div",81),r.Qb(262,"div",2),r.Qb(263,"div",82),r.Qb(264,"a",83),r.Lb(265,"img",69),r.Pb(),r.Qb(266,"a",84),r.Xb("click",function(){return e.showHamburgerMenu=!e.showHamburgerMenu}),r.Lb(267,"i",85),r.Lb(268,"i",86),r.Pb(),r.Pb(),r.Pb(),r.Lb(269,"br"),r.Qb(270,"div",87),r.Qb(271,"div",88),r.Qb(272,"div",89),r.Qb(273,"a",90),r.vc(274,"Community Guidelines"),r.Pb(),r.Qb(275,"a",91),r.vc(276,"About Us"),r.Pb(),r.Qb(277,"a",92),r.vc(278,"FAQ & Best Practices"),r.Pb(),r.Qb(279,"a",93),r.vc(280,"Sign Up"),r.Pb(),r.Lb(281,"br"),r.Qb(282,"a",94),r.vc(283,"Login"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Lb(284,"br"),r.Qb(285,"div",2),r.Qb(286,"div",95),r.Lb(287,"img",96),r.Pb(),r.Qb(288,"div",97),r.Qb(289,"div",98),r.Qb(290,"label",99),r.vc(291,"Write your task "),r.Lb(292,"br"),r.vc(293,"Match with people "),r.Lb(294,"br"),r.vc(295,"Get it done"),r.Pb(),r.Qb(296,"p",100),r.vc(297," Work with people who wants the same thing: Get important things done in less time"),r.Lb(298,"br"),r.Lb(299,"br"),r.vc(300," Join our \u201cworking together\u201d global community. "),r.Pb(),r.Lb(301,"br"),r.Qb(302,"button",101),r.Xb("click",function(){return e.goToSignUp()}),r.vc(303,"Join"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Lb(304,"br"),r.Lb(305,"br"),r.Qb(306,"div",102),r.Qb(307,"div",103),r.Lb(308,"img",104),r.Pb(),r.Qb(309,"div",2),r.Qb(310,"div",15),r.Qb(311,"div",17),r.Qb(312,"div",105),r.Qb(313,"div",2),r.Qb(314,"div",3),r.Qb(315,"p",106),r.vc(316," Why join Dive? "),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(317,"div",2),r.Qb(318,"div",107),r.Qb(319,"p",108),r.vc(320," Social media, shopping sites, videos, games, TV . . . all are scientifically engineered to keep you hooked and coming back. "),r.Lb(321,"br"),r.Lb(322,"br"),r.vc(323," Cleaning up your desk, replying to e-mails, never ending meetings, and many more disruptions keep you away from doing what is really important to you "),r.Lb(324,"br"),r.Lb(325,"br"),r.vc(326," Let\u2019s dive together to claim your time back, focus on important stuff, and most of all -- make things happen! "),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(327,"div",109),r.Qb(328,"div",15),r.Qb(329,"div",17),r.Qb(330,"div",22),r.Qb(331,"div",15),r.Qb(332,"div",110),r.Qb(333,"div",2),r.Qb(334,"div",3),r.Lb(335,"img",111),r.Pb(),r.Pb(),r.Qb(336,"div",2),r.Qb(337,"div",3),r.Qb(338,"p",112),r.vc(339," How does it work? "),r.Pb(),r.Pb(),r.Pb(),r.Qb(340,"div",2),r.Qb(341,"div",107),r.Qb(342,"div",113),r.vc(343,"1"),r.Pb(),r.Qb(344,"p",25),r.vc(345," Write what you want to accomplish "),r.Pb(),r.Pb(),r.Pb(),r.Qb(346,"div",2),r.Qb(347,"div",107),r.Qb(348,"div",113),r.vc(349,"2"),r.Pb(),r.Qb(350,"p",25),r.vc(351," Match with a fellow Diver or invite your friend "),r.Pb(),r.Pb(),r.Pb(),r.Qb(352,"div",2),r.Qb(353,"div",107),r.Qb(354,"div",113),r.vc(355,"3"),r.Pb(),r.Qb(356,"p",25),r.vc(357," Work together to make things happen. "),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(358,"div",114),r.Qb(359,"div",6),r.Qb(360,"div",2),r.Qb(361,"div",3),r.Qb(362,"p",31),r.vc(363," Join the community of freelancers, writers, entrepreneurs, designers, developers, marketers, students, academics and more. "),r.Pb(),r.Pb(),r.Pb(),r.Lb(364,"br"),r.Qb(365,"div",2),r.Qb(366,"div",3),r.Qb(367,"button",33),r.Xb("click",function(){return e.goToSignUp()}),r.vc(368,"Join"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Lb(369,"br"),r.Lb(370,"br"),r.Lb(371,"br"),r.Qb(372,"div",115),r.Qb(373,"div",3),r.Qb(374,"div",17),r.Qb(375,"div",2),r.Qb(376,"div",15),r.Qb(377,"p",116),r.vc(378," Dive uses a combination of disciplines to make your goals happen. "),r.Pb(),r.Pb(),r.Pb(),r.Lb(379,"br"),r.Qb(380,"div",117),r.Qb(381,"div",15),r.Qb(382,"div",118),r.Qb(383,"div",39),r.Qb(384,"div",119),r.Lb(385,"div",41),r.Qb(386,"div",42),r.Qb(387,"div",3),r.Qb(388,"p",43),r.vc(389," Peer Accountability "),r.Pb(),r.Pb(),r.Lb(390,"div",44),r.Pb(),r.Qb(391,"div",45),r.Qb(392,"p",120),r.vc(393,"You are"),r.Pb(),r.Pb(),r.Qb(394,"div",42),r.Qb(395,"p",48),r.vc(396,"%95"),r.Pb(),r.Pb(),r.Qb(397,"div",42),r.Qb(398,"p",57),r.vc(399,"more likely to complete your goal with another people, according to "),r.Qb(400,"a",50),r.vc(401,"ASTD"),r.Pb(),r.Pb(),r.Pb(),r.Qb(402,"div",42),r.Qb(403,"p",121),r.vc(404,"At Dive we give commitments to each other before each session and at the end ask if we made things happen."),r.Pb(),r.Pb(),r.Pb(),r.Lb(405,"div",42),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Lb(406,"br"),r.Qb(407,"div",117),r.Qb(408,"div",15),r.Qb(409,"div",118),r.Qb(410,"div",17),r.Qb(411,"div",119),r.Lb(412,"div",41),r.Qb(413,"div",42),r.Qb(414,"div",3),r.Qb(415,"p",43),r.vc(416," Timeboxing "),r.Pb(),r.Pb(),r.Lb(417,"div",44),r.Pb(),r.Qb(418,"div",45),r.Qb(419,"p",53),r.vc(420,"The road to success: "),r.Pb(),r.Lb(421,"br"),r.Qb(422,"p",54),r.vc(423," Plan ->Dive->Evaluate "),r.Pb(),r.Pb(),r.Lb(424,"div",55),r.Qb(425,"div",56),r.Qb(426,"p",57),r.Qb(427,"b"),r.vc(428,"Plan:"),r.Pb(),r.vc(429," List the jobs you need to finish "),r.Lb(430,"br"),r.Qb(431,"b"),r.vc(432," Dive:"),r.Pb(),r.vc(433," Match and start working with peers in 50-minute super-focused sessions "),r.Lb(434,"br"),r.Qb(435,"b"),r.vc(436,"Evaluate:"),r.Pb(),r.vc(437," Decide whether you get it done or you need another dive "),r.Pb(),r.Pb(),r.Lb(438,"div",42),r.Pb(),r.Lb(439,"div",42),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Lb(440,"br"),r.Qb(441,"div",117),r.Qb(442,"div",15),r.Qb(443,"div",118),r.Qb(444,"div",17),r.Qb(445,"div",119),r.Lb(446,"div",41),r.Qb(447,"div",42),r.Qb(448,"div",3),r.Qb(449,"p",43),r.vc(450," Neurochemistry"),r.Pb(),r.Pb(),r.Lb(451,"div",44),r.Pb(),r.Qb(452,"div",45),r.Qb(453,"p",59),r.Qb(454,"label",60),r.vc(455," Work doesn\u2019t need to be be unpleasant. Hack your brain with Dive to improve your mood while working."),r.Pb(),r.Lb(456,"br"),r.Lb(457,"br"),r.vc(458," Dive stimulates seretonin, oxytocin and dopamine by offering mandatory energizing breaks such as exercises, mediatation and healthy snacks at the end of each session."),r.Pb(),r.Pb(),r.Lb(459,"div",42),r.Pb(),r.Lb(460,"div",42),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Lb(461,"br"),r.Qb(462,"div",117),r.Qb(463,"div",15),r.Qb(464,"div",118),r.Qb(465,"div",17),r.Qb(466,"div",119),r.Lb(467,"div",41),r.Qb(468,"div",42),r.Qb(469,"div",3),r.Qb(470,"p",43),r.vc(471," Deep Work"),r.Pb(),r.Pb(),r.Lb(472,"div",44),r.Qb(473,"div",42),r.Qb(474,"p",63),r.vc(475,"2x-3x"),r.Pb(),r.Pb(),r.Qb(476,"div",42),r.Qb(477,"p",122),r.vc(478,"More work"),r.Pb(),r.Pb(),r.Qb(479,"div",45),r.Qb(480,"p",123),r.vc(481,"Nobody ever created an amazing work by checking e-mails or watching videos."),r.Lb(482,"br"),r.vc(483," We turn off all notifications from social media apps, e-mails etc. and put our phones in do not disturb mode.."),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Lb(484,"div",42),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Lb(485,"br"),r.Lb(486,"br"),r.Qb(487,"div",124),r.Qb(488,"div",67),r.Qb(489,"div",2),r.Qb(490,"div",125),r.Qb(491,"a"),r.Lb(492,"img",69),r.Pb(),r.Pb(),r.Pb(),r.Qb(493,"div",2),r.Qb(494,"div",3),r.Lb(495,"hr"),r.Pb(),r.Pb(),r.Qb(496,"div",2),r.Qb(497,"div",3),r.Qb(498,"label",80),r.vc(499,"\xa9 Copyright 2021 Dive, Inc. All rights reserved. "),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb()),2&t&&(r.Ab(267),r.hc("hidden",e.showHamburgerMenu),r.Ab(1),r.hc("hidden",!e.showHamburgerMenu),r.Ab(2),r.hc("hidden",!e.showHamburgerMenu))},directives:[GA,la],styles:["img[_ngcontent-%COMP%]{object-fit:contain}video[_ngcontent-%COMP%]::-webkit-media-controls-timeline{display:none}.footer-labels[_ngcontent-%COMP%]{color:#686868;font-size:14px;font-weight:600}.footer-sublabels[_ngcontent-%COMP%]{color:#aeaeae;font-size:12px}.logo[_ngcontent-%COMP%]{width:80px;height:35px}.align-squares[_ngcontent-%COMP%]{width:85%;position:relative;transform:translateX(-50%);left:50%}.left-dude[_ngcontent-%COMP%]{position:relative;top:7.5%;height:92.5%;width:100%}.right-dude[_ngcontent-%COMP%]{height:100%;width:100%}.makeshithappen[_ngcontent-%COMP%]{height:77px;width:100%}.login-button[_ngcontent-%COMP%]{width:132px;height:40px;border-radius:20px;background-color:#5432f6;border:none;color:#fff;font-family:Poppins;font-size:14px;font-weight:700;font-stretch:normal;font-style:normal;line-height:normal;letter-spacing:normal;text-align:center}.nav-list[_ngcontent-%COMP%]{background:#fff;box-shadow:0 0 1px 0 hsla(0,0%,62.4%,.5);margin:0;padding:1rem 0;display:flex;justify-content:flex-end;align-items:center}.nav-item[_ngcontent-%COMP%]{list-style:none;margin-right:2rem}.nav-item[_ngcontent-%COMP%]:first-child{margin-right:auto;margin-left:2rem}.p1-p1[_ngcontent-%COMP%]{font-size:18px;line-height:2.2;color:#000;width:100%}.join[_ngcontent-%COMP%], .p1-p1[_ngcontent-%COMP%]{font-family:Poppins;font-weight:700;font-stretch:normal;font-style:normal;letter-spacing:normal;text-align:center}.join[_ngcontent-%COMP%]{position:relative;left:50%;transform:translateX(-50%);padding:13px 92px 14px 90px;border-radius:25px;background-color:#5432f6;border:none;color:#fff;font-size:16px;line-height:normal}.join[_ngcontent-%COMP%]:hover{background-color:#3f1de7}.p2[_ngcontent-%COMP%], .p3[_ngcontent-%COMP%]{background-color:#fff;height:100vh}.p4[_ngcontent-%COMP%]{background-color:#5432f6;height:30vh}.p5[_ngcontent-%COMP%]{max-height:1300px;background-color:#fff;height:200vh}.peer-acc[_ngcontent-%COMP%]{font-family:Poppins;font-size:30px;font-weight:600;font-stretch:normal;font-style:normal;line-height:normal;letter-spacing:normal;text-align:center}.p5-first[_ngcontent-%COMP%]{border:1px solid #e6e6e6;background-color:#5432f6;color:#fff}.sq1-p5[_ngcontent-%COMP%]{font-family:Poppins;font-size:12px;font-weight:400;font-stretch:normal;font-style:normal;line-height:1.42;letter-spacing:normal;text-align:center}.p6[_ngcontent-%COMP%]{height:40vh;background-color:#fbfbfb}.learn-more[_ngcontent-%COMP%]{text-decoration:none;position:relative;left:50%;transform:translateX(-50%);border:none;background-color:#fff;padding:13px 62px 12px 63px;border-radius:22.5px;color:#5432f6;font-family:Poppins;font-size:14px;font-weight:700;text-align:center}.learn-more[_ngcontent-%COMP%]:hover{background-color:#fbfbfb}.learn-more-purple[_ngcontent-%COMP%]{text-decoration:none;position:relative;left:50%;transform:translateX(-50%);border:none;background-color:#5432f6;padding:13px 62px 12px 63px;border-radius:22.5px;color:#fff;font-family:Poppins;font-size:14px;font-weight:700;text-align:center}.learn-more-purple[_ngcontent-%COMP%]:hover{background-color:#3f1de7}.sq1-p4[_ngcontent-%COMP%], .your[_ngcontent-%COMP%]{font-size:14px;font-weight:500;line-height:1.57}.dive-uses[_ngcontent-%COMP%], .sq1-p4[_ngcontent-%COMP%], .your[_ngcontent-%COMP%]{font-family:Poppins;font-stretch:normal;font-style:normal;letter-spacing:normal;text-align:center}.dive-uses[_ngcontent-%COMP%]{position:relative;left:50%;top:60%;width:50%;transform:translate(-50%,-60%);font-size:31px;font-weight:700;line-height:1.42;color:#000}.p4-row[_ngcontent-%COMP%]{position:relative;top:55%;transform:translate(10%,-55%)}.right-align[_ngcontent-%COMP%]{margin:auto 0 auto auto}.left-align[_ngcontent-%COMP%]{margin:auto auto auto 0}.perc[_ngcontent-%COMP%]{font-family:Poppins;font-size:64px;font-weight:700;font-stretch:normal;font-style:normal;line-height:normal;letter-spacing:-5.8px;text-align:center}.p5-square[_ngcontent-%COMP%]{position:relative;right:0;height:100%;width:70%;border:1px solid #e6e6e6}.p4-p[_ngcontent-%COMP%]{font-weight:500;line-height:1.75;color:#fff}.p4-join[_ngcontent-%COMP%], .p4-p[_ngcontent-%COMP%]{font-family:Poppins;font-size:16px;font-stretch:normal;font-style:normal;letter-spacing:normal}.p4-join[_ngcontent-%COMP%]{border:none;padding:14px 80px 13px 81px;border-radius:25px;background-color:#fff;font-weight:700;line-height:normal;text-align:center;color:#5432f6}.p4-join[_ngcontent-%COMP%]:hover{background-color:#f8f8f8}.p3-dots[_ngcontent-%COMP%]{width:34px;height:34px;padding:7px;background-color:#5432f6;border-radius:50%;color:#fff;font-family:Poppins;font-size:14px;font-weight:500;font-stretch:normal;font-style:normal;line-height:normal;letter-spacing:normal;text-align:center;float:left}.p3-img[_ngcontent-%COMP%]{height:80%;width:110%;transform:translate(-5%,-50%)}.p3-img[_ngcontent-%COMP%], .p3-list[_ngcontent-%COMP%]{position:relative;top:50%}.p3-list[_ngcontent-%COMP%]{transform:translate(10%,-50%)}.how-it-works[_ngcontent-%COMP%]{font-family:Poppins;font-size:22px;font-weight:500;font-stretch:normal;font-style:normal;line-height:normal;letter-spacing:normal;color:#686868;float:left;margin-left:15px}.p2-img[_ngcontent-%COMP%]{width:80%;height:70%;position:relative;top:50%;transform:translate(20%,-50%)}.make-center-p2[_ngcontent-%COMP%]{position:relative;top:40%;transform:translate(10%,-40%)}.why-join[_ngcontent-%COMP%]{margin-left:0;font-size:41px;font-weight:700;line-height:normal;color:#000}.why-join[_ngcontent-%COMP%], .why-join-exp[_ngcontent-%COMP%]{font-family:Poppins;font-stretch:normal;font-style:normal;letter-spacing:normal}.why-join-exp[_ngcontent-%COMP%]{width:70%;font-size:16px;line-height:1.57;color:#686868}.mobile[_ngcontent-%COMP%]{visibility:hidden;display:none}@media screen and (max-width:849px){.logo[_ngcontent-%COMP%]{width:80px;height:35px}.topnav[_ngcontent-%COMP%]{overflow:hidden;background-color:#333;position:relative}.topnav[_ngcontent-%COMP%]   #myLinks[_ngcontent-%COMP%]{display:none}.topnav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;padding:14px 16px;text-decoration:none;font-size:17px;display:block}.topnav[_ngcontent-%COMP%]   a.icon[_ngcontent-%COMP%]{background:#000;display:block;position:absolute;right:0;top:0}.topnav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#ddd;color:#000}.active[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}.left-dude[_ngcontent-%COMP%]{position:relative;top:7.5%;height:92.5%;width:100%}.right-dude[_ngcontent-%COMP%]{height:100%;width:100%}.makeshithappen[_ngcontent-%COMP%]{height:77px;width:100%}.login-button[_ngcontent-%COMP%]{width:132px;height:40px;border-radius:20px;background-color:#5432f6;border:none;color:#fff;font-family:Poppins;font-size:14px;font-weight:700;font-stretch:normal;font-style:normal;line-height:normal;letter-spacing:normal;text-align:center}.nav-list[_ngcontent-%COMP%]{background:#fff;box-shadow:0 0 1px 0 hsla(0,0%,62.4%,.5);margin:0;padding:1rem 0;display:flex;justify-content:flex-end;align-items:center}.nav-item[_ngcontent-%COMP%]{list-style:none;margin-right:2rem}.nav-item[_ngcontent-%COMP%]:first-child{margin-right:auto;margin-left:2rem}.p1-p1[_ngcontent-%COMP%]{font-weight:bolder;line-height:2.2;color:#000;width:100%}.join[_ngcontent-%COMP%], .p1-p1[_ngcontent-%COMP%]{font-family:Poppins;font-size:16px;font-stretch:normal;font-style:normal;letter-spacing:normal;text-align:center}.join[_ngcontent-%COMP%]{position:relative;left:50%;transform:translateX(-50%);padding:13px 92px 14px 90px;border-radius:25px;background-color:#5432f6;border:none;color:#fff;font-weight:700;line-height:normal}.p2[_ngcontent-%COMP%], .p3[_ngcontent-%COMP%]{background-color:#fff;height:100vh}.p4[_ngcontent-%COMP%]{background-color:#5432f6;height:30vh}.p5[_ngcontent-%COMP%]{background-color:#fff;height:200vh}.peer-acc[_ngcontent-%COMP%]{font-family:Poppins;font-size:30px;font-weight:600;font-stretch:normal;font-style:normal;line-height:normal;letter-spacing:normal;text-align:center}.p5-first[_ngcontent-%COMP%]{border:1px solid #e6e6e6;background-color:#5432f6;color:#fff}.sq1-p5[_ngcontent-%COMP%]{font-family:Poppins;font-size:12px;font-weight:400;font-stretch:normal;font-style:normal;line-height:1.42;letter-spacing:normal;text-align:center}.p6[_ngcontent-%COMP%]{height:40vh;background-color:#fbfbfb}.learn-more[_ngcontent-%COMP%]{background-color:#fff;color:#5432f6}.learn-more[_ngcontent-%COMP%], .learn-more-purple[_ngcontent-%COMP%]{text-decoration:none;position:relative;left:50%;transform:translateX(-50%);border:none;padding:13px 62px 12px 63px;border-radius:22.5px;font-family:Poppins;font-size:14px;font-weight:700;text-align:center}.learn-more-purple[_ngcontent-%COMP%]{background-color:#5432f6;color:#fff}.learn-more-purple[_ngcontent-%COMP%]:hover{background-color:#3f1de7}.sq1-p4[_ngcontent-%COMP%], .your[_ngcontent-%COMP%]{font-size:14px;font-weight:500;line-height:1.57}.dive-uses[_ngcontent-%COMP%], .sq1-p4[_ngcontent-%COMP%], .your[_ngcontent-%COMP%]{font-family:Poppins;font-stretch:normal;font-style:normal;letter-spacing:normal;text-align:center}.dive-uses[_ngcontent-%COMP%]{position:relative;left:50%;top:60%;width:50%;transform:translate(-50%,-60%);font-size:31px;font-weight:700;line-height:1.42;color:#000}.p4-row[_ngcontent-%COMP%]{position:relative;top:55%;transform:translate(10%,-55%)}.right-align[_ngcontent-%COMP%]{margin:auto 0 auto auto}.left-align[_ngcontent-%COMP%]{margin:auto auto auto 0}.perc[_ngcontent-%COMP%]{font-family:Poppins;font-size:64px;font-weight:700;font-stretch:normal;font-style:normal;line-height:normal;letter-spacing:-5.8px;text-align:center}.p5-square[_ngcontent-%COMP%]{position:relative;right:0;height:100%;width:70%;border:1px solid #e6e6e6}.p4-p[_ngcontent-%COMP%]{font-family:Poppins;font-size:16px;font-weight:500;font-stretch:normal;font-style:normal;line-height:1.75;letter-spacing:normal;color:#fff}.p4-join[_ngcontent-%COMP%]{border:none;padding:14px 80px 13px 81px;border-radius:25px;background-color:#fff;font-size:16px;font-weight:700;color:#5432f6}.p3-dots[_ngcontent-%COMP%], .p4-join[_ngcontent-%COMP%]{font-family:Poppins;font-stretch:normal;font-style:normal;line-height:normal;letter-spacing:normal;text-align:center}.p3-dots[_ngcontent-%COMP%]{width:34px;height:34px;padding:7px;background-color:#5432f6;border-radius:50%;color:#fff;font-size:14px;font-weight:500;float:left}.p3-img[_ngcontent-%COMP%]{height:80%;width:110%;transform:translate(-5%,-50%)}.p3-img[_ngcontent-%COMP%], .p3-list[_ngcontent-%COMP%]{position:relative;top:50%}.p3-list[_ngcontent-%COMP%]{transform:translate(20%,-50%)}.how-it-works[_ngcontent-%COMP%]{font-family:Poppins;font-size:22px;font-weight:500;font-stretch:normal;font-style:normal;line-height:normal;letter-spacing:normal;color:#686868;float:left;margin-left:15px}.p2-img[_ngcontent-%COMP%]{width:80%;height:70%;position:relative;top:50%;transform:translate(20%,-50%)}.make-center-p2[_ngcontent-%COMP%]{position:relative;top:40%;transform:translate(10%,-40%)}.why-join[_ngcontent-%COMP%]{margin-left:0;font-size:41px;font-weight:700;line-height:normal;color:#000}.why-join[_ngcontent-%COMP%], .why-join-exp[_ngcontent-%COMP%]{font-family:Poppins;font-stretch:normal;font-style:normal;letter-spacing:normal}.why-join-exp[_ngcontent-%COMP%]{width:70%;font-size:16px;line-height:1.57;color:#686868}.align-middle[_ngcontent-%COMP%]{position:relative;left:50%;transform:translateX(-50%)}.desktop[_ngcontent-%COMP%]{visibility:hidden;display:none}.mobile[_ngcontent-%COMP%]{visibility:visible;display:block}}"]}),t})();function YA(t,e){1&t&&r.Lb(0,"br")}function $A(t,e){1&t&&r.Lb(0,"br")}function JA(t,e){1&t&&(r.Qb(0,"h2",23),r.vc(1,"Login"),r.Pb())}function ZA(t,e){1&t&&(r.Qb(0,"h2",24),r.vc(1,"Your friend invited you to a dive. Let's get you signed in first"),r.Pb())}function tR(t,e){1&t&&r.Lb(0,"br")}let eR=(()=>{class t{constructor(t,e,n,r){this.fb=t,this.authService=e,this.router=n,this.route=r,this.returnUrl="",this.ref="",null!=cc.a.auth().currentUser&&this.route.navigate(["/dive"]),this.returnUrl=this.router.snapshot.queryParamMap.get("returnUrl")||"/dive",this.ref=this.router.snapshot.queryParamMap.get("ref")||"",this.route.url.includes("finvite")&&(this.ref="finvite"),this.loginForm=this.fb.group({email:["",[ye.required,ye.email,ye.minLength(5),ye.maxLength(100)]],password:["",[ye.required,ye.minLength(6),ye.maxLength(20)]]})}ngOnInit(){}onLogin(){return xr(this,void 0,void 0,function*(){if("VALID"!==this.loginForm.status)return console.log("error",this.loginForm),void SE.a.fire("Error","Please enter a valid mail and password(minimum 6 characters)","error");const{email:t,password:e}=this.loginForm.value;yield this.authService.signinMail(t,e,this.returnUrl)})}onGoogleSignin(){return xr(this,void 0,void 0,function*(){yield this.authService.signinGoogle("signin",this.returnUrl,this.ref)})}onFacebookSignin(){return xr(this,void 0,void 0,function*(){yield this.authService.signinFacebook("signin",this.returnUrl,this.ref)})}goToSignUp(){this.route.navigate(["/signup/mail"],{queryParams:{returnUrl:this.returnUrl,ref:this.ref}})}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(Un),r.Kb(EE),r.Kb(Ho),r.Kb(ua))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-login"]],decls:40,vars:6,consts:[[1,"container-fluid","pt-2"],[4,"ngIf"],[1,"row"],[1,"col","d-flex","align-items-center","justify-content-center"],[2,"width","100%","max-width","500px"],["class","font-weight-bold text-center",4,"ngIf"],["class","font-weight-bold","style","text-align: center;",4,"ngIf"],[2,"width","100%","max-width","350px","position","relative","left","50%","transform","translateX(-50%)"],[3,"formGroup","ngSubmit"],[1,"form-group"],["formControlName","email","type","email","name","email","id","email","placeholder","Email","required","","minlength","5","maxlength","100","autofocus","",1,"form-control"],["formControlName","password","type","password","name","password","id","password","placeholder","Password","required","","minlength","6","maxlength","20",1,"form-control"],["href","/reset",2,"float","right","font-size","13px"],["type","submit",1,"btn","btn-primary","btn-block"],[1,"app-hr"],[1,"row","text-center"],[1,"col"],[1,"btn","btn-facebook",3,"click"],[1,"fab","fa-facebook-f",2,"padding-right","10px"],[1,"btn","btn-google",3,"click"],[1,"fab","fa-google",2,"padding-right","10px"],[2,"cursor","pointer","left","50%","transform","translateX(-50%)","position","relative","top","20px","font-size","14px",3,"click"],[2,"color","#5432f6"],[1,"font-weight-bold","text-center"],[1,"font-weight-bold",2,"text-align","center"]],template:function(t,e){1&t&&(r.Lb(0,"app-header"),r.Qb(1,"main",0),r.uc(2,YA,1,0,"br",1),r.uc(3,$A,1,0,"br",1),r.Qb(4,"section",2),r.Qb(5,"div",3),r.Qb(6,"div",4),r.uc(7,JA,2,0,"h2",5),r.uc(8,ZA,2,0,"h2",6),r.Qb(9,"div",7),r.Lb(10,"br"),r.uc(11,tR,1,0,"br",1),r.Qb(12,"form",8),r.Xb("ngSubmit",function(){return e.onLogin()}),r.Qb(13,"div",9),r.Lb(14,"input",10),r.Pb(),r.Qb(15,"div",9),r.Lb(16,"input",11),r.Pb(),r.Qb(17,"a",12),r.vc(18,"Forgot Password?"),r.Pb(),r.Lb(19,"br"),r.Qb(20,"button",13),r.vc(21,"Login"),r.Pb(),r.Pb(),r.Lb(22,"br"),r.Qb(23,"div",14),r.vc(24,"or continue with"),r.Pb(),r.Lb(25,"br"),r.Qb(26,"div",15),r.Qb(27,"div",16),r.Qb(28,"button",17),r.Xb("click",function(){return e.onFacebookSignin()}),r.Lb(29,"i",18),r.vc(30,"Facebook "),r.Pb(),r.Pb(),r.Qb(31,"div",16),r.Qb(32,"button",19),r.Xb("click",function(){return e.onGoogleSignin()}),r.Lb(33,"i",20),r.vc(34,"Google "),r.Pb(),r.Pb(),r.Pb(),r.Qb(35,"div",15),r.Qb(36,"label",21),r.Xb("click",function(){return e.goToSignUp()}),r.vc(37,"Dont have an account? "),r.Qb(38,"b",22),r.vc(39,"Sign up"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb()),2&t&&(r.Ab(2),r.hc("ngIf","finvite"!=e.ref),r.Ab(1),r.hc("ngIf","finvite"!=e.ref),r.Ab(4),r.hc("ngIf","finvite"!=e.ref),r.Ab(1),r.hc("ngIf","finvite"==e.ref),r.Ab(3),r.hc("ngIf","finvite"!=e.ref),r.Ab(1),r.hc("formGroup",e.loginForm))},directives:[GA,dt,En,Me,On,fe,Ne,An,Dn,Nn,Ln],styles:[""]}),t})(),nR=(()=>{class t{constructor(t,e,n,r){this.fb=t,this.authService=e,this.router=n,this._activatedRoute=r,this.returnUrl="",this.ref="",this.returnUrl=this._activatedRoute.snapshot.queryParamMap.get("returnUrl")||"/dive",this.ref=this._activatedRoute.snapshot.queryParamMap.get("ref")||"",this.signupForm=this.fb.group({name:["",[ye.required,ye.minLength(2),ye.maxLength(50)]],email:["",[ye.required,ye.email,ye.minLength(5),ye.maxLength(100)]],password:["",[ye.required,ye.minLength(6),ye.maxLength(20)]]})}ngOnInit(){}onGoogleSignup(){return xr(this,void 0,void 0,function*(){yield this.authService.signinGoogle("signup",this.returnUrl,this.ref)})}onFacebookSignup(){return xr(this,void 0,void 0,function*(){yield this.authService.signinFacebook("signup",this.returnUrl,this.ref)})}onSignup(){return xr(this,void 0,void 0,function*(){if("VALID"!==this.signupForm.status)return void SE.a.fire("Error","Please enter a valid name,mail and password(minimum 6 characters)","error");console.log({data:this.signupForm.value});const{name:t,email:e,password:n}=this.signupForm.value;yield this.authService.signupMail(t,e,n,this.returnUrl,this.ref)})}showPrivacyPolicy(){console.log("Here"),SE.a.fire("Info","Please enter a valid name,mail and password(minimum 6 characters)","info")}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(Un),r.Kb(EE),r.Kb(ua),r.Kb(Ho))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-signup-mail"]],decls:42,vars:1,consts:[["showLoginButton",""],[1,"container-fluid","pt-5"],[1,"row"],[1,"col","d-flex","align-items-center","justify-content-center"],[2,"width","100%","max-width","350px"],[1,"font-weight-bold","text-center"],[3,"formGroup","ngSubmit"],[1,"form-group"],["formControlName","name","type","text","name","name","id","name","placeholder","Name","required","","minlength","2","maxlength","20","autofocus","",1,"form-control"],["formControlName","email","type","email","name","email","id","email","placeholder","Email","required","","minlength","5","maxlength","100",1,"form-control"],["formControlName","password","type","password","name","password","id","password","placeholder","Password","required","","minlength","6","maxlength","20",1,"form-control"],[1,"btn","btn-primary","btn-block"],[1,"app-hr"],[1,"row","text-center",2,"justify-content","space-between","display","flex"],[1,"col"],[1,"btn","btn-facebook",3,"click"],[1,"fab","fa-facebook-f",2,"padding-right","10px"],[1,"btn","btn-google",3,"click"],[1,"fab","fa-google",2,"padding-right","10px"],[1,"row","text-center"],["for","tos",1,"form-check-label","text-secondary",2,"font-size","14px"],["href","https://blog.thedive.app/post/60487a5a345fa506ebbeabe8","target","_blank",1,"text-primary",2,"cursor","pointer"],["href","https://blog.thedive.app/post/60488b39345fa506ebbeabeb","target","_blank",1,"text-primary",2,"cursor","pointer"]],template:function(t,e){1&t&&(r.Lb(0,"app-header",0),r.Qb(1,"main",1),r.Qb(2,"div",2),r.Qb(3,"div",3),r.Qb(4,"div",4),r.Qb(5,"h2",5),r.vc(6,"Sign Up"),r.Pb(),r.Lb(7,"br"),r.Lb(8,"br"),r.Qb(9,"form",6),r.Xb("ngSubmit",function(){return e.onSignup()}),r.Qb(10,"div",7),r.Lb(11,"input",8),r.Pb(),r.Qb(12,"div",7),r.Lb(13,"input",9),r.Pb(),r.Qb(14,"div",7),r.Lb(15,"input",10),r.Pb(),r.Lb(16,"br"),r.Qb(17,"button",11),r.vc(18,"Sign Up"),r.Pb(),r.Pb(),r.Lb(19,"br"),r.Qb(20,"div",12),r.vc(21,"or sign up with"),r.Pb(),r.Lb(22,"br"),r.Qb(23,"div",13),r.Qb(24,"div",14),r.Qb(25,"button",15),r.Xb("click",function(){return e.onFacebookSignup()}),r.Lb(26,"i",16),r.vc(27,"Facebook "),r.Pb(),r.Pb(),r.Qb(28,"div",14),r.Qb(29,"button",17),r.Xb("click",function(){return e.onGoogleSignup()}),r.Lb(30,"i",18),r.vc(31,"Google "),r.Pb(),r.Pb(),r.Pb(),r.Lb(32,"br"),r.Qb(33,"div",19),r.Qb(34,"label",20),r.vc(35," By signing up, you agree to Dive's "),r.Qb(36,"a",21),r.vc(37,"Terms of Service"),r.Pb(),r.vc(38," and "),r.Qb(39,"a",22),r.vc(40,"Privacy Policy"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Lb(41,"br"),r.Pb()),2&t&&(r.Ab(9),r.hc("formGroup",e.signupForm))},directives:[GA,En,Me,On,fe,Ne,An,Dn,Nn,Ln],styles:[""]}),t})();var rR,iR=new Uint8Array(16);function oR(){if(!rR&&!(rR="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return rR(iR)}for(var sR=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,aR=function(t){return"string"==typeof t&&sR.test(t)},cR=[],uR=0;uR<256;++uR)cR.push((uR+256).toString(16).substr(1));var lR=function(t,e,n){var r=(t=t||{}).random||(t.rng||oR)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(cR[t[e+0]]+cR[t[e+1]]+cR[t[e+2]]+cR[t[e+3]]+"-"+cR[t[e+4]]+cR[t[e+5]]+"-"+cR[t[e+6]]+cR[t[e+7]]+"-"+cR[t[e+8]]+cR[t[e+9]]+"-"+cR[t[e+10]]+cR[t[e+11]]+cR[t[e+12]]+cR[t[e+13]]+cR[t[e+14]]+cR[t[e+15]]).toLowerCase();if(!aR(n))throw TypeError("Stringified UUID is invalid");return n}(r)};let hR=(()=>{class t{constructor(t){this.http=t}getTodoList(t){return this.http.post(i+"/todo/getList",t)}addTask(t){return this.http.post(i+"/todo/addTodo",t)}deleteTask(t){return this.http.post(i+"/todo/deleteTask",t)}changeStatus(t){return this.http.post(i+"/todo/changeStatus",t)}addGoal(t){return this.http.post(i+"/achievements/addGoal",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(hr))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function dR(t){const{subscriber:e,counter:n,period:r}=t;e.next(n),this.schedule({subscriber:e,counter:n+1,period:r},r)}function fR(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function pR(t,e){const n=e?"":"none";fR(t.style,{touchAction:e?"":"none",webkitUserDrag:e?"":"none",webkitTapHighlightColor:e?"":"transparent",userSelect:n,msUserSelect:n,webkitUserSelect:n,MozUserSelect:n})}function gR(t,e){const n=t.style;n.position=e?"":"fixed",n.top=n.opacity=e?"":"0",n.left=e?"":"-999em"}function mR(t){const e=t.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(t)*e}function bR(t,e){return t.getPropertyValue(e).split(",").map(t=>t.trim())}function vR(t){const e=t.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}}function yR(t,e,n){const{top:r,bottom:i,left:o,right:s}=t;return n>=r&&n<=i&&e>=o&&e<=s}function _R(t,e,n){t.top+=e,t.bottom=t.top+t.height,t.left+=n,t.right=t.left+t.width}function wR(t,e,n,r){const{top:i,right:o,bottom:s,left:a,width:c,height:u}=t,l=c*e,h=u*e;return r>i-h&&r<s+h&&n>a-l&&n<o+l}class CR{constructor(t,e){this._document=t,this._viewportRuler=e,this.positions=new Map}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),t.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:vR(t)})})}handleScroll(t){const e=t.target,n=this.positions.get(e);if(!n)return null;const r=e===this._document?e.documentElement:e,i=n.scrollPosition;let o,s;if(e===this._document){const t=this._viewportRuler.getViewportScrollPosition();o=t.top,s=t.left}else o=e.scrollTop,s=e.scrollLeft;const a=i.top-o,c=i.left-s;return this.positions.forEach((t,n)=>{t.clientRect&&e!==n&&r.contains(n)&&_R(t.clientRect,a,c)}),i.top=o,i.left=s,{top:a,left:c}}}function kR(t){const e=t.cloneNode(!0),n=e.querySelectorAll("[id]"),r=t.nodeName.toLowerCase();e.removeAttribute("id");for(let i=0;i<n.length;i++)n[i].removeAttribute("id");return"canvas"===r?TR(t,e):"input"!==r&&"select"!==r&&"textarea"!==r||ER(t,e),PR("canvas",t,e,TR),PR("input, textarea, select",t,e,ER),e}function PR(t,e,n,r){const i=e.querySelectorAll(t);if(i.length){const e=n.querySelectorAll(t);for(let t=0;t<i.length;t++)r(i[t],e[t])}}let SR=0;function ER(t,e){"file"!==e.type&&(e.value=t.value),"radio"===e.type&&e.name&&(e.name=`mat-clone-${e.name}-${SR++}`)}function TR(t,e){const n=e.getContext("2d");if(n)try{n.drawImage(t,0,0)}catch(dN){}}const xR=zE({passive:!0}),OR=zE({passive:!1});class IR{constructor(t,e,n,r,i,o){this._config=e,this._document=n,this._ngZone=r,this._viewportRuler=i,this._dragDropRegistry=o,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._moveEvents=new Nr.a,this._pointerMoveSubscription=Lr.a.EMPTY,this._pointerUpSubscription=Lr.a.EMPTY,this._scrollSubscription=Lr.a.EMPTY,this._resizeSubscription=Lr.a.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new Nr.a,this.started=new Nr.a,this.released=new Nr.a,this.ended=new Nr.a,this.entered=new Nr.a,this.exited=new Nr.a,this.dropped=new Nr.a,this.moved=this._moveEvents,this._pointerDown=t=>{if(this.beforeStarted.next(),this._handles.length){const e=this._handles.find(e=>{const n=t.target;return!!n&&(n===e||e.contains(n))});!e||this._disabledHandles.has(e)||this.disabled||this._initializeDragSequence(e,t)}else this.disabled||this._initializeDragSequence(this._rootElement,t)},this._pointerMove=t=>{const e=this._getPointerPositionOnPage(t);if(!this._hasStartedDragging){if(Math.abs(e.x-this._pickupPositionOnPage.x)+Math.abs(e.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const e=Date.now()>=this._dragStartTime+this._getDragStartDelay(t),n=this._dropContainer;if(!e)return void this._endDragSequence(t);n&&(n.isDragging()||n.isReceiving())||(this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(t)))}return}this._boundaryElement&&(this._previewRect&&(this._previewRect.width||this._previewRect.height)||(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect())),t.preventDefault();const n=this._getConstrainedPointerPosition(e);if(this._hasMoved=!0,this._lastKnownPointerPosition=e,this._updatePointerDirectionDelta(n),this._dropContainer)this._updateActiveDropContainer(n,e);else{const t=this._activeTransform;t.x=n.x-this._pickupPositionOnPage.x+this._passiveTransform.x,t.y=n.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(t.x,t.y),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&this._rootElement.setAttribute("transform",`translate(${t.x} ${t.y})`)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:n,event:t,distance:this._getDragDistance(n),delta:this._pointerDirectionDelta})})},this._pointerUp=t=>{this._endDragSequence(t)},this.withRootElement(t).withParent(e.parentDragRef||null),this._parentPositions=new CR(n,i),o.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(t){const e=DE(t);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(t=>pR(t,e)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){this._handles=t.map(t=>LE(t)),this._handles.forEach(t=>pR(t,this.disabled)),this._toggleNativeDragInteractions();const e=new Set;return this._disabledHandles.forEach(t=>{this._handles.indexOf(t)>-1&&e.add(t)}),this._disabledHandles=e,this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){const e=LE(t);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,OR),e.addEventListener("touchstart",this._pointerDown,xR)}),this._initialTransform=void 0,this._rootElement=e),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(t){return this._boundaryElement=t?LE(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(t){return this._parentDragRef=t,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&DR(this._rootElement),DR(this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){!this._disabledHandles.has(t)&&this._handles.indexOf(t)>-1&&(this._disabledHandles.add(t),pR(t,!0))}enableHandle(t){this._disabledHandles.has(t)&&(this._disabledHandles.delete(t),pR(t,this.disabled))}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){const t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}_sortFromLastPointerPosition(){const t=this._lastKnownPointerPosition;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t),t)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview&&DR(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder&&DR(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(t){this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging&&(this.released.next({source:this}),this._dropContainer?(this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)})):(this._passiveTransform.x=this._activeTransform.x,this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(this._getPointerPositionOnPage(t))})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this))))}_startDragSequence(t){jR(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._dropContainer;if(e){const t=this._rootElement,n=t.parentNode,r=this._preview=this._createPreviewElement(),i=this._placeholder=this._createPlaceholderElement(),o=this._anchor=this._anchor||this._document.createComment(""),s=this._getShadowRoot();n.insertBefore(o,t),gR(t,!1),this._document.body.appendChild(n.replaceChild(i,t)),function(t,e){return e||t.fullscreenElement||t.webkitFullscreenElement||t.mozFullScreenElement||t.msFullscreenElement||t.body}(this._document,s).appendChild(r),this.started.next({source:this}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(t,e){this._parentDragRef&&e.stopPropagation();const n=this.isDragging(),r=jR(e),i=!r&&0!==e.button,o=this._rootElement,s=!r&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now();if(e.target&&e.target.draggable&&"mousedown"===e.type&&e.preventDefault(),n||i||s)return;this._handles.length&&(this._rootElementTapHighlight=o.style.webkitTapHighlightColor||"",o.style.webkitTapHighlightColor="transparent"),this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scroll.subscribe(t=>{this._updateOnScroll(t)}),this._boundaryElement&&(this._boundaryRect=vR(this._boundaryElement));const a=this._previewTemplate;this._pickupPositionInElement=a&&a.template&&!a.matchSize?{x:0,y:0}:this._getPointerPositionInElement(t,e);const c=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:c.x,y:c.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(t){gR(this._rootElement,!0),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=void 0,this._ngZone.run(()=>{const e=this._dropContainer,n=e.getItemIndex(this),r=this._getPointerPositionOnPage(t),i=this._getDragDistance(this._getPointerPositionOnPage(t)),o=e._isOverContainer(r.x,r.y);this.ended.next({source:this,distance:i}),this.dropped.next({item:this,currentIndex:n,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:o,distance:i}),e.drop(this,n,this._initialIndex,this._initialContainer,o,i),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:e},{x:n,y:r}){let i=this._initialContainer._getSiblingContainerFromPosition(this,t,e);!i&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,e)&&(i=this._initialContainer),i&&i!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=i,this._dropContainer.enter(this,t,e,i===this._initialContainer&&i.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:i,currentIndex:i.getItemIndex(this)})}),this._dropContainer._startScrollingIfNecessary(n,r),this._dropContainer._sortItem(this,t,e,this._pointerDirectionDelta),this._preview.style.transform=AR(t-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y)}_createPreviewElement(){const t=this._previewTemplate,e=this.previewClass,n=t?t.template:null;let r;if(n&&t){const e=t.matchSize?this._rootElement.getBoundingClientRect():null,i=t.viewContainer.createEmbeddedView(n,t.context);i.detectChanges(),r=NR(i,this._document),this._previewRef=i,t.matchSize?MR(r,e):r.style.transform=AR(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const t=this._rootElement;r=kR(t),MR(r,t.getBoundingClientRect())}return fR(r.style,{pointerEvents:"none",margin:"0",position:"fixed",top:"0",left:"0",zIndex:""+(this._config.zIndex||1e3)}),pR(r,!1),r.classList.add("cdk-drag-preview"),r.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(t=>r.classList.add(t)):r.classList.add(e)),r}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const t=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._preview.style.transform=AR(t.left,t.top);const e=function(t){const e=getComputedStyle(t),n=bR(e,"transition-property"),r=n.find(t=>"transform"===t||"all"===t);if(!r)return 0;const i=n.indexOf(r),o=bR(e,"transition-duration"),s=bR(e,"transition-delay");return mR(o[i])+mR(s[i])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(t=>{const n=e=>{(!e||e.target===this._preview&&"transform"===e.propertyName)&&(this._preview.removeEventListener("transitionend",n),t(),clearTimeout(r))},r=setTimeout(n,1.5*e);this._preview.addEventListener("transitionend",n)}))}_createPlaceholderElement(){const t=this._placeholderTemplate,e=t?t.template:null;let n;return e?(this._placeholderRef=t.viewContainer.createEmbeddedView(e,t.context),this._placeholderRef.detectChanges(),n=NR(this._placeholderRef,this._document)):n=kR(this._rootElement),n.classList.add("cdk-drag-placeholder"),n}_getPointerPositionInElement(t,e){const n=this._rootElement.getBoundingClientRect(),r=t===this._rootElement?null:t,i=r?r.getBoundingClientRect():n,o=jR(e)?e.targetTouches[0]:e,s=this._getViewportScrollPosition();return{x:i.left-n.left+(o.pageX-i.left-s.left),y:i.top-n.top+(o.pageY-i.top-s.top)}}_getPointerPositionOnPage(t){const e=this._getViewportScrollPosition(),n=jR(t)?t.touches[0]||t.changedTouches[0]||{pageX:0,pageY:0}:t,r=n.pageX-e.left,i=n.pageY-e.top;if(this._ownerSVGElement){const t=this._ownerSVGElement.getScreenCTM();if(t){const e=this._ownerSVGElement.createSVGPoint();return e.x=r,e.y=i,e.matrixTransform(t.inverse())}}return{x:r,y:i}}_getConstrainedPointerPosition(t){const e=this._dropContainer?this._dropContainer.lockAxis:null;let{x:n,y:r}=this.constrainPosition?this.constrainPosition(t,this):t;if("x"===this.lockAxis||"x"===e?r=this._pickupPositionOnPage.y:"y"!==this.lockAxis&&"y"!==e||(n=this._pickupPositionOnPage.x),this._boundaryRect){const{x:t,y:e}=this._pickupPositionInElement,i=this._boundaryRect,o=this._previewRect,s=i.top+e,a=i.bottom-(o.height-e);n=RR(n,i.left+t,i.right-(o.width-t)),r=RR(r,s,a)}return{x:n,y:r}}_updatePointerDirectionDelta(t){const{x:e,y:n}=t,r=this._pointerDirectionDelta,i=this._pointerPositionAtLastDirectionChange,o=Math.abs(e-i.x),s=Math.abs(n-i.y);return o>this._config.pointerDirectionChangeThreshold&&(r.x=e>i.x?1:-1,i.x=e),s>this._config.pointerDirectionChangeThreshold&&(r.y=n>i.y?1:-1,i.y=n),r}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,pR(this._rootElement,t))}_removeRootElementListeners(t){t.removeEventListener("mousedown",this._pointerDown,OR),t.removeEventListener("touchstart",this._pointerDown,xR)}_applyRootElementTransform(t,e){const n=AR(t,e);null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform||""),this._rootElement.style.transform=this._initialTransform?n+" "+this._initialTransform:n}_getDragDistance(t){const e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:e}=this._passiveTransform;if(0===t&&0===e||this.isDragging()||!this._boundaryElement)return;const n=this._boundaryElement.getBoundingClientRect(),r=this._rootElement.getBoundingClientRect();if(0===n.width&&0===n.height||0===r.width&&0===r.height)return;const i=n.left-r.left,o=r.right-n.right,s=n.top-r.top,a=r.bottom-n.bottom;n.width>r.width?(i>0&&(t+=i),o>0&&(t-=o)):t=0,n.height>r.height?(s>0&&(e+=s),a>0&&(e-=a)):e=0,t===this._passiveTransform.x&&e===this._passiveTransform.y||this.setFreeDragPosition({y:e,x:t})}_getDragStartDelay(t){const e=this.dragStartDelay;return"number"==typeof e?e:jR(t)?e.touch:e?e.mouse:0}_updateOnScroll(t){const e=this._parentPositions.handleScroll(t);if(e){const n=t.target;this._boundaryRect&&(n===this._document||n!==this._boundaryElement&&n.contains(this._boundaryElement))&&_R(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){const t=this._parentPositions.positions.get(this._document);return t?t.scrollPosition:this._viewportRuler.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=KE(this._rootElement)),this._cachedShadowRoot}}function AR(t,e){return`translate3d(${Math.round(t)}px, ${Math.round(e)}px, 0)`}function RR(t,e,n){return Math.max(e,Math.min(n,t))}function DR(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function jR(t){return"t"===t.type[0]}function NR(t,e){const n=t.rootNodes;if(1===n.length&&n[0].nodeType===e.ELEMENT_NODE)return n[0];const r=e.createElement("div");return n.forEach(t=>r.appendChild(t)),r}function MR(t,e){t.style.width=e.width+"px",t.style.height=e.height+"px",t.style.transform=AR(e.left,e.top)}function LR(t,e,n){const r=FR(e,t.length-1),i=FR(n,t.length-1);if(r===i)return;const o=t[r],s=i<r?-1:1;for(let a=r;a!==i;a+=s)t[a]=t[a+s];t[i]=o}function FR(t,e){return Math.max(0,Math.min(e,t))}class UR{constructor(t,e,n,r,i){this._dragDropRegistry=e,this._ngZone=r,this._viewportRuler=i,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new Nr.a,this.entered=new Nr.a,this.exited=new Nr.a,this.dropped=new Nr.a,this.sorted=new Nr.a,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=Lr.a.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new Nr.a,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function(t=0,e=xE.a){return(!Object(LI.a)(t)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=xE.a),new ne.a(n=>(n.add(e.schedule(dR,t,{subscriber:n,counter:0,period:t})),n))}(0,jI).pipe(cT(this._stopScrollTimers)).subscribe(()=>{const t=this._scrollNode,e=this.autoScrollStep;1===this._verticalScrollDirection?VR(t,-e):2===this._verticalScrollDirection&&VR(t,e),1===this._horizontalScrollDirection?BR(t,-e):2===this._horizontalScrollDirection&&BR(t,e)})},this.element=LE(t),this._document=n,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new CR(n,i)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(t,e,n,r){let i;this._draggingStarted(),null==r?(i=this.sortingDisabled?this._draggables.indexOf(t):-1,-1===i&&(i=this._getItemIndexFromPointerPosition(t,e,n))):i=r;const o=this._activeDraggables,s=o.indexOf(t),a=t.getPlaceholderElement();let c=o[i];if(c===t&&(c=o[i+1]),s>-1&&o.splice(s,1),c&&!this._dragDropRegistry.isDragging(c)){const e=c.getRootElement();e.parentElement.insertBefore(a,e),o.splice(i,0,t)}else if(this._shouldEnterAsFirstChild(e,n)){const e=o[0].getRootElement();e.parentNode.insertBefore(a,e),o.unshift(t)}else LE(this.element).appendChild(a),o.push(t);a.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,e,n,r,i,o){this._reset(),this.dropped.next({item:t,currentIndex:e,previousIndex:n,container:this,previousContainer:r,isPointerOverContainer:i,distance:o})}withItems(t){const e=this._draggables;return this._draggables=t,t.forEach(t=>t._withDropContainer(this)),this.isDragging()&&(e.filter(t=>t.isDragging()).every(e=>-1===t.indexOf(e))?this._reset():this._cacheItems()),this}withDirection(t){return this._direction=t,this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){return this._orientation=t,this}withScrollableParents(t){const e=LE(this.element);return this._scrollableElements=-1===t.indexOf(e)?[e,...t]:t.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?QR("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions,e=>e.drag===t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,e,n,r){if(this.sortingDisabled||!this._clientRect||!wR(this._clientRect,.05,e,n))return;const i=this._itemPositions,o=this._getItemIndexFromPointerPosition(t,e,n,r);if(-1===o&&i.length>0)return;const s="horizontal"===this._orientation,a=QR(i,e=>e.drag===t),c=i[o],u=c.clientRect,l=a>o?1:-1,h=this._getItemOffsetPx(i[a].clientRect,u,l),d=this._getSiblingOffsetPx(a,i,l),f=i.slice();LR(i,a,o),this.sorted.next({previousIndex:a,currentIndex:o,container:this,item:t}),i.forEach((e,n)=>{if(f[n]===e)return;const r=e.drag===t,i=r?h:d,o=r?t.getPlaceholderElement():e.drag.getRootElement();e.offset+=i,s?(o.style.transform=`translate3d(${Math.round(e.offset)}px, 0, 0)`,_R(e.clientRect,0,i)):(o.style.transform=`translate3d(0, ${Math.round(e.offset)}px, 0)`,_R(e.clientRect,i,0))}),this._previousSwap.overlaps=yR(u,e,n),this._previousSwap.drag=c.drag,this._previousSwap.delta=s?r.x:r.y}_startScrollingIfNecessary(t,e){if(this.autoScrollDisabled)return;let n,r=0,i=0;if(this._parentPositions.positions.forEach((o,s)=>{s!==this._document&&o.clientRect&&!n&&wR(o.clientRect,.05,t,e)&&([r,i]=function(t,e,n,r){const i=qR(e,r),o=zR(e,n);let s=0,a=0;if(i){const e=t.scrollTop;1===i?e>0&&(s=1):t.scrollHeight-e>t.clientHeight&&(s=2)}if(o){const e=t.scrollLeft;1===o?e>0&&(a=1):t.scrollWidth-e>t.clientWidth&&(a=2)}return[s,a]}(s,o.clientRect,t,e),(r||i)&&(n=s))}),!r&&!i){const{width:o,height:s}=this._viewportRuler.getViewportSize(),a={width:o,height:s,top:0,right:o,bottom:s,left:0};r=qR(a,e),i=zR(a,t),n=window}!n||r===this._verticalScrollDirection&&i===this._horizontalScrollDirection&&n===this._scrollNode||(this._verticalScrollDirection=r,this._horizontalScrollDirection=i,this._scrollNode=n,(r||i)&&n?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const t=LE(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const t=LE(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(t).clientRect}_cacheItemPositions(){const t="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(t=>{const e=t.getVisibleElement();return{drag:t,offset:0,clientRect:vR(e)}}).sort((e,n)=>t?e.clientRect.left-n.clientRect.left:e.clientRect.top-n.clientRect.top)}_reset(){this._isDragging=!1;const t=LE(this.element).style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(t=>{const e=t.getRootElement();e&&(e.style.transform="")}),this._siblings.forEach(t=>t._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(t,e,n){const r="horizontal"===this._orientation,i=e[t].clientRect,o=e[t+-1*n];let s=i[r?"width":"height"]*n;if(o){const t=r?"left":"top",e=r?"right":"bottom";-1===n?s-=o.clientRect[t]-i[e]:s+=i[t]-o.clientRect[e]}return s}_getItemOffsetPx(t,e,n){const r="horizontal"===this._orientation;let i=r?e.left-t.left:e.top-t.top;return-1===n&&(i+=r?e.width-t.width:e.height-t.height),i}_shouldEnterAsFirstChild(t,e){if(!this._activeDraggables.length)return!1;const n=this._itemPositions,r="horizontal"===this._orientation;if(n[0].drag!==this._activeDraggables[0]){const i=n[n.length-1].clientRect;return r?t>=i.right:e>=i.bottom}{const i=n[0].clientRect;return r?t<=i.left:e<=i.top}}_getItemIndexFromPointerPosition(t,e,n,r){const i="horizontal"===this._orientation,o=QR(this._itemPositions,({drag:o,clientRect:s},a,c)=>{if(o===t)return c.length<2;if(r){const t=i?r.x:r.y;if(o===this._previousSwap.drag&&this._previousSwap.overlaps&&t===this._previousSwap.delta)return!1}return i?e>=Math.floor(s.left)&&e<Math.floor(s.right):n>=Math.floor(s.top)&&n<Math.floor(s.bottom)});return-1!==o&&this.sortPredicate(o,t,this)?o:-1}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(t,e){return null!=this._clientRect&&yR(this._clientRect,t,e)}_getSiblingContainerFromPosition(t,e,n){return this._siblings.find(r=>r._canReceive(t,e,n))}_canReceive(t,e,n){if(!this._clientRect||!yR(this._clientRect,e,n)||!this.enterPredicate(t,this))return!1;const r=this._getShadowRoot().elementFromPoint(e,n);if(!r)return!1;const i=LE(this.element);return r===i||i.contains(r)}_startReceiving(t,e){const n=this._activeSiblings;!n.has(t)&&e.every(t=>this.enterPredicate(t,this)||this._draggables.indexOf(t)>-1)&&(n.add(t),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scroll.subscribe(t=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(t);e&&(this._itemPositions.forEach(({clientRect:t})=>{_R(t,e.top,e.left)}),this._itemPositions.forEach(({drag:t})=>{this._dragDropRegistry.isDragging(t)&&t._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const t=KE(LE(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const t=this._activeDraggables.filter(t=>t.isDragging());this._siblings.forEach(e=>e._startReceiving(this,t))}}function QR(t,e){for(let n=0;n<t.length;n++)if(e(t[n],n,t))return n;return-1}function VR(t,e){t===window?t.scrollBy(0,e):t.scrollTop+=e}function BR(t,e){t===window?t.scrollBy(e,0):t.scrollLeft+=e}function qR(t,e){const{top:n,bottom:r,height:i}=t,o=.05*i;return e>=n-o&&e<=n+o?1:e>=r-o&&e<=r+o?2:0}function zR(t,e){const{left:n,right:r,width:i}=t,o=.05*i;return e>=n-o&&e<=n+o?1:e>=r-o&&e<=r+o?2:0}const HR=zE({passive:!1,capture:!0});let KR=(()=>{class t{constructor(t,e){this._ngZone=t,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=t=>t.isDragging(),this.pointerMove=new Nr.a,this.pointerUp=new Nr.a,this.scroll=new Nr.a,this._preventDefaultWhileDragging=t=>{this._activeDragInstances.length>0&&t.preventDefault()},this._persistentTouchmoveListener=t=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&t.preventDefault(),this.pointerMove.next(t))},this._document=e}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,HR)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,HR)}startDragging(t,e){if(!(this._activeDragInstances.indexOf(t)>-1)&&(this._activeDragInstances.push(t),1===this._activeDragInstances.length)){const t=e.type.startsWith("touch");this._globalListeners.set(t?"touchend":"mouseup",{handler:t=>this.pointerUp.next(t),options:!0}).set("scroll",{handler:t=>this.scroll.next(t),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:HR}),t||this._globalListeners.set("mousemove",{handler:t=>this.pointerMove.next(t),options:HR}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((t,e)=>{this._document.addEventListener(e,t.handler,t.options)})})}}stopDragging(t){const e=this._activeDragInstances.indexOf(t);e>-1&&(this._activeDragInstances.splice(e,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(t){return this._activeDragInstances.indexOf(t)>-1}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((t,e)=>{this._document.removeEventListener(e,t.handler,t.options)}),this._globalListeners.clear()}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(r.z),r.Ub(u))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Ub)(r.z),Object(r.Ub)(u))},token:t,providedIn:"root"}),t})();const WR={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let GR=(()=>{class t{constructor(t,e,n,r){this._document=t,this._ngZone=e,this._viewportRuler=n,this._dragDropRegistry=r}createDrag(t,e=WR){return new IR(t,e,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(t){return new UR(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(u),r.Ub(r.z),r.Ub(VI),r.Ub(KR))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Ub)(u),Object(r.Ub)(r.z),Object(r.Ub)(VI),Object(r.Ub)(KR))},token:t,providedIn:"root"}),t})();const XR=new r.q("CDK_DRAG_PARENT"),YR=new r.q("CdkDropListGroup"),$R=new r.q("CDK_DRAG_CONFIG");let JR=0;const ZR=new r.q("CdkDropList");let tD=(()=>{class t{constructor(e,n,i,o,s,a,c){this.element=e,this._changeDetectorRef=i,this._scrollDispatcher=o,this._dir=s,this._group=a,this._destroyed=new Nr.a,this.connectedTo=[],this.id="cdk-drop-list-"+JR++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new r.n,this.entered=new r.n,this.exited=new r.n,this.sorted=new r.n,this._unsortedItems=new Set,this._dropListRef=n.createDropList(e),this._dropListRef.data=this,c&&this._assignDefaults(c),this._dropListRef.enterPredicate=(t,e)=>this.enterPredicate(t.data,e.data),this._dropListRef.sortPredicate=(t,e,n)=>this.sortPredicate(t,e.data,n.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),t._dropLists.push(this),a&&a._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(t){this._dropListRef.disabled=this._disabled=DE(t)}addItem(t){this._unsortedItems.add(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(t){this._unsortedItems.delete(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((t,e)=>t._dragRef.getVisibleElement().compareDocumentPosition(e._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const e=t._dropLists.indexOf(this);e>-1&&t._dropLists.splice(e,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(e){this._dir&&this._dir.change.pipe(ti(this._dir.value),cT(this._destroyed)).subscribe(t=>e.withDirection(t)),e.beforeStarted.subscribe(()=>{const n=NE(this.connectedTo).map(e=>"string"==typeof e?t._dropLists.find(t=>t.id===e):e);if(this._group&&this._group._items.forEach(t=>{-1===n.indexOf(t)&&n.push(t)}),!this._scrollableParentsResolved){const t=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(t=>t.getElementRef().nativeElement);this._dropListRef.withScrollableParents(t),this._scrollableParentsResolved=!0}e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.sortingDisabled=DE(this.sortingDisabled),e.autoScrollDisabled=DE(this.autoScrollDisabled),e.autoScrollStep=jE(this.autoScrollStep,2),e.connectedTo(n.filter(t=>t&&t!==this).map(t=>t._dropListRef)).withOrientation(this.orientation)})}_handleEvents(t){t.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(t=>{this.entered.emit({container:this,item:t.item.data,currentIndex:t.currentIndex})}),t.exited.subscribe(t=>{this.exited.emit({container:this,item:t.item.data}),this._changeDetectorRef.markForCheck()}),t.sorted.subscribe(t=>{this.sorted.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,container:this,item:t.item.data})}),t.dropped.subscribe(t=>{this.dropped.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,previousContainer:t.previousContainer.data,container:t.container.data,item:t.item.data,isPointerOverContainer:t.isPointerOverContainer,distance:t.distance}),this._changeDetectorRef.markForCheck()})}_assignDefaults(t){const{lockAxis:e,draggingDisabled:n,sortingDisabled:r,listAutoScrollDisabled:i,listOrientation:o}=t;this.disabled=null!=n&&n,this.sortingDisabled=null!=r&&r,this.autoScrollDisabled=null!=i&&i,this.orientation=o||"vertical",e&&(this.lockAxis=e)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(t=>t._dragRef))}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.l),r.Kb(GR),r.Kb(r.h),r.Kb(QI),r.Kb(jT,8),r.Kb(YR,12),r.Kb($R,8))},t.\u0275dir=r.Fb({type:t,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(t,e){2&t&&(r.Bb("id",e.id),r.Cb("cdk-drop-list-disabled",e.disabled)("cdk-drop-list-dragging",e._dropListRef.isDragging())("cdk-drop-list-receiving",e._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],id:"id",enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],orientation:["cdkDropListOrientation","orientation"],lockAxis:["cdkDropListLockAxis","lockAxis"],data:["cdkDropListData","data"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[r.zb([{provide:YR,useValue:void 0},{provide:ZR,useExisting:t}])]}),t._dropLists=[],t})();const eD=new r.q("CdkDragHandle"),nD=new r.q("CdkDragPlaceholder"),rD=new r.q("CdkDragPreview");let iD=(()=>{class t{constructor(e,n,i,o,s,a,c,u,l,h,d){this.element=e,this.dropContainer=n,this._ngZone=o,this._viewContainerRef=s,this._dir=c,this._changeDetectorRef=l,this._selfHandle=h,this._parentDrag=d,this._destroyed=new Nr.a,this.started=new r.n,this.released=new r.n,this.ended=new r.n,this.entered=new r.n,this.exited=new r.n,this.dropped=new r.n,this.moved=new ne.a(t=>{const e=this._dragRef.moved.pipe(Object(ie.a)(t=>({source:this,pointerPosition:t.pointerPosition,event:t.event,delta:t.delta,distance:t.distance}))).subscribe(t);return()=>{e.unsubscribe()}}),this._dragRef=u.createDrag(e,{dragStartThreshold:a&&null!=a.dragStartThreshold?a.dragStartThreshold:5,pointerDirectionChangeThreshold:a&&null!=a.pointerDirectionChangeThreshold?a.pointerDirectionChangeThreshold:5,zIndex:null==a?void 0:a.zIndex}),this._dragRef.data=this,t._dragInstances.push(this),a&&this._assignDefaults(a),n&&(this._dragRef._withDropContainer(n._dropListRef),n.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(t){this._disabled=DE(t),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}ngAfterViewInit(){this._ngZone.onStable.pipe(Ei(1),cT(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._handles.changes.pipe(ti(this._handles),Object(Ni.a)(t=>{const e=t.filter(t=>t._parentDrag===this).map(t=>t.element);this._selfHandle&&this.rootElementSelector&&e.push(this.element),this._dragRef.withHandles(e)}),Rr(t=>Object(Aa.a)(...t.map(t=>t._stateChanges.pipe(ti(t))))),cT(this._destroyed)).subscribe(t=>{const e=this._dragRef,n=t.element.nativeElement;t.disabled?e.disableHandle(n):e.enableHandle(n)}),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})}ngOnChanges(t){const e=t.rootElementSelector,n=t.freeDragPosition;e&&!e.firstChange&&this._updateRootElement(),n&&!n.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const e=t._dragInstances.indexOf(this);e>-1&&t._dragInstances.splice(e,-1),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()}_updateRootElement(){const t=this.element.nativeElement,e=this.rootElementSelector?oD(t,this.rootElementSelector):t;this._dragRef.withRootElement(e||t)}_getBoundaryElement(){const t=this.boundaryElement;return t?"string"==typeof t?oD(this.element.nativeElement,t):LE(t):null}_syncInputs(e){e.beforeStarted.subscribe(()=>{if(!e.isDragging()){const t=this._dir,n=this.dragStartDelay,r=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,i=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.dragStartDelay="object"==typeof n&&n?n:jE(n),e.constrainPosition=this.constrainPosition,e.previewClass=this.previewClass,e.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(r).withPreviewTemplate(i),t&&e.withDirection(t.value)}}),e.beforeStarted.pipe(Ei(1)).subscribe(()=>{var n,r;if(this._parentDrag)return void e.withParent(this._parentDrag._dragRef);let i=this.element.nativeElement.parentElement;for(;i;){if(null===(n=i.classList)||void 0===n?void 0:n.contains("cdk-drag")){e.withParent((null===(r=t._dragInstances.find(t=>t.element.nativeElement===i))||void 0===r?void 0:r._dragRef)||null);break}i=i.parentElement}})}_handleEvents(t){t.started.subscribe(()=>{this.started.emit({source:this}),this._changeDetectorRef.markForCheck()}),t.released.subscribe(()=>{this.released.emit({source:this})}),t.ended.subscribe(t=>{this.ended.emit({source:this,distance:t.distance}),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(t=>{this.entered.emit({container:t.container.data,item:this,currentIndex:t.currentIndex})}),t.exited.subscribe(t=>{this.exited.emit({container:t.container.data,item:this})}),t.dropped.subscribe(t=>{this.dropped.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,previousContainer:t.previousContainer.data,container:t.container.data,isPointerOverContainer:t.isPointerOverContainer,item:this,distance:t.distance})})}_assignDefaults(t){const{lockAxis:e,dragStartDelay:n,constrainPosition:r,previewClass:i,boundaryElement:o,draggingDisabled:s,rootElementSelector:a}=t;this.disabled=null!=s&&s,this.dragStartDelay=n||0,e&&(this.lockAxis=e),r&&(this.constrainPosition=r),i&&(this.previewClass=i),o&&(this.boundaryElement=o),a&&(this.rootElementSelector=a)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.l),r.Kb(ZR,12),r.Kb(u),r.Kb(r.z),r.Kb(r.Q),r.Kb($R,8),r.Kb(jT,8),r.Kb(GR),r.Kb(r.h),r.Kb(eD,10),r.Kb(XR,12))},t.\u0275dir=r.Fb({type:t,selectors:[["","cdkDrag",""]],contentQueries:function(t,e,n){if(1&t&&(r.Db(n,rD,!0),r.Db(n,nD,!0),r.Db(n,eD,!0)),2&t){let t;r.mc(t=r.Yb())&&(e._previewTemplate=t.first),r.mc(t=r.Yb())&&(e._placeholderTemplate=t.first),r.mc(t=r.Yb())&&(e._handles=t)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(t,e){2&t&&r.Cb("cdk-drag-disabled",e.disabled)("cdk-drag-dragging",e._dragRef.isDragging())},inputs:{disabled:["cdkDragDisabled","disabled"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],lockAxis:["cdkDragLockAxis","lockAxis"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],boundaryElement:["cdkDragBoundary","boundaryElement"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],data:["cdkDragData","data"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[r.zb([{provide:XR,useExisting:t}]),r.yb]}),t._dragInstances=[],t})();function oD(t,e){let n=t.parentElement;for(;n;){if(n.matches?n.matches(e):n.msMatchesSelector(e))return n;n=n.parentElement}return null}let sD=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[GR],imports:[BI]}),t})();function aD(t,e){if(1&t){const t=r.Rb();r.Qb(0,"div"),r.Qb(1,"div",18),r.Qb(2,"div",19),r.Qb(3,"div",20),r.Qb(4,"div",21),r.Xb("click",function(){r.oc(t);const n=e.$implicit,i=e.index,o=r.bc();return n.status=!1,o.showCompleted=!0,o.changeStatus(i)}),r.ac(),r.Qb(5,"svg",22),r.Lb(6,"circle",23),r.Pb(),r.Pb(),r.Zb(),r.Qb(7,"div",24),r.Lb(8,"input",25),r.Pb(),r.Pb(),r.Qb(9,"div",26),r.Qb(10,"div"),r.Qb(11,"button",27),r.Xb("click",function(){r.oc(t);const n=e.index;return r.bc().beginWithTodo(n)}),r.ac(),r.Qb(12,"svg",28),r.Lb(13,"path",29),r.Pb(),r.Pb(),r.Pb(),r.Zb(),r.Qb(14,"div",30),r.Xb("click",function(){r.oc(t);const n=e.index;return r.bc().deleteTask(n)}),r.Lb(15,"i",31),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb()}if(2&t){const t=e.$implicit;r.Ab(1),r.hc("hidden",!t.status),r.Ab(7),r.ic("value",t.task)}}function cD(t,e){if(1&t){const t=r.Rb();r.Qb(0,"div"),r.Qb(1,"div",32),r.Qb(2,"div",19),r.Qb(3,"div",20),r.Qb(4,"div",21),r.Xb("click",function(){r.oc(t);const n=e.$implicit,i=e.index,o=r.bc();return n.status=!0,o.changeStatus(i)}),r.ac(),r.Qb(5,"svg",28),r.Lb(6,"path",33),r.Pb(),r.Pb(),r.Zb(),r.Qb(7,"div",24),r.Lb(8,"input",34),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb()}if(2&t){const t=e.$implicit;r.Ab(1),r.hc("hidden",t.status),r.Ab(7),r.ic("value",t.task)}}let uD=(()=>{class t{constructor(t,e){this.authService=t,this.todoService=e,this.items=new Array,this.newTask="",this.newTaskStatus=!1,this.showTodo=!1,this.showCompleted=!1,this.today=String(new Date),this.task="",this.onCloseTodo=new r.n,this.onBeginTask=new r.n}ngOnInit(){this.today=this.today.split(" ")[0]+" "+this.today.split(" ")[1]+" "+this.today.split(" ")[2],this.getTodoList()}closeTodo(){this.onCloseTodo.emit("test")}beginWithTodo(t){this.task=this.items[t].task||"",this.onCloseTodo.emit("test"),this.onBeginTask.emit(this.task)}addToList(){var t;if(""==this.newTask);else{const e=lR();this.items.push({task:this.newTask,status:!0,tid:e}),this.todoService.addTask({user:null===(t=cc.a.auth().currentUser)||void 0===t?void 0:t.email,todos:{task:this.newTask,status:!0,tid:e}}).subscribe(t=>{console.log(t)}),this.newTask=""}}getTodoList(){var t;this.todoService.getTodoList({user:null===(t=cc.a.auth().currentUser)||void 0===t?void 0:t.email,date:(new Date).getDate()}).subscribe(t=>{t.todos.forEach(t=>{0==t.status&&(this.showCompleted=!0),this.items.push(t)})})}onDrop(t){t.previousContainer===t.container?LR(t.container.data,t.previousIndex,t.currentIndex):function(t,e,n,r){const i=FR(n,t.length-1),o=FR(r,e.length);t.length&&e.splice(o,0,t.splice(i,1)[0])}(t.previousContainer.data,t.container.data,t.previousIndex,t.currentIndex)}deleteTask(t){var e;console.log(this.items[t]),this.todoService.deleteTask({user:null===(e=cc.a.auth().currentUser)||void 0===e?void 0:e.email,tid:this.items[t].tid}).subscribe(t=>{console.log(t)}),this.items.splice(t,1)}changeStatus(t){var e,n;console.log(this.items[t]),this.items[t].status||this.todoService.addGoal({user:null===(e=cc.a.auth().currentUser)||void 0===e?void 0:e.email,goal:{goal:this.items[t].task,createdAt:Date()}}).subscribe(t=>{console.log(t)}),this.todoService.changeStatus({user:null===(n=cc.a.auth().currentUser)||void 0===n?void 0:n.email,tid:this.items[t].tid}).subscribe(t=>{console.log(t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(EE),r.Kb(hR))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-todo"]],outputs:{onCloseTodo:"onCloseTodo",onBeginTask:"onBeginTask"},decls:28,vars:9,consts:[[2,"background-color","red","height","100%","position","absolute","width","360px","background-color","rgb(244, 243, 246)","left","0px","display","flex","flex","1 1 0%","flex-direction","column","border-left","1px solid rgb(218, 216, 226)","box-shadow","rgb(0 0 0 / 50%) 0px 4px 16px 0px","z-index","99999"],[2,"background-color","rgb(255, 255, 255)","padding","0px 16px","display","flex","-webkit-box-pack","center","justify-content","space-between","-webkit-box-align","center","align-items","center","border-bottom","1px solid rgb(218, 216, 226)","height","64px","position","relative"],[2,"display","flex","flex-direction","column","height","fit-content"],[2,"white-space","pre-wrap","color","rgb(34, 24, 80)","font-size","16px","font-weight","600","line-height","1.5","text-align","center","text-transform","none"],[2,"white-space","pre-wrap","color","rgb(119, 112, 147)","font-size","11px","font-weight","400","line-height","1.45","text-align","center","text-transform","none"],["type","button","aria-label","Close",1,"close",2,"outline","none",3,"click"],["aria-hidden","true"],[2,"padding","8px","display","flex","flex-direction","column","flex","1 1 0%","overflow","hidden auto"],[2,"display","flex","justify-content","space-evenly"],[3,"ngClass","click"],["type","text","name","","id","","placeholder","Add a task for today",3,"ngClass","ngModel","ngModelChange"],[2,"display","flex","flex-direction","column","justify-content","center"],["xmlns","http://www.w3.org/2000/svg","width","19","height","19","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-plus"],["d","M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"],["cdkDropList","",2,"height","100%",3,"cdkDropListData","click","cdkDropListDropped"],["todoList","cdkDropList"],[4,"ngFor","ngForOf"],[1,"completed-label",3,"hidden"],["cdkDrag","",1,"task-o",3,"hidden"],[1,"task-i"],[1,"info-wrapper"],[1,"task-status",2,"padding","1px","cursor","pointer",3,"click"],["viewBox","0 0 100 100","xmlns","http://www.w3.org/2000/svg","height","16","width","16","fill","white","focusable","false","aria-hidden","true","color","#f8f8f8"],["cx","50","cy","50","r","40","stroke","#aeaabf","stroke-linecap","round","stroke-linejoin","round","stroke-width","5"],[1,"task-wrapper",2,"margin-left","10px"],["type","text",1,"task-name",3,"value"],[1,"buttons-wrapper"],[1,"start-button",3,"click"],["viewBox","0 0 512 512","xmlns","http://www.w3.org/2000/svg","height","16","width","16","fill","white","focusable","false","aria-hidden","true","color","#f8f8f8"],["d","M133 440a35.37 35.37 0 01-17.5-4.67c-12-6.8-19.46-20-19.46-34.33V111c0-14.37 7.46-27.53 19.46-34.33a35.13 35.13 0 0135.77.45l247.85 148.36a36 36 0 010 61l-247.89 148.4A35.5 35.5 0 01133 440z",2,"transform-origin","0px 0px"],[1,"center-vertically",2,"margin-right","2px","cursor","pointer",3,"click"],[1,"fas","fa-trash-alt",2,"color","red"],[1,"task-o-completed",3,"hidden"],["color","#00df8d","d","M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm108.25 138.29l-134.4 160a16 16 0 01-12 5.71h-.27a16 16 0 01-11.89-5.3l-57.6-64a16 16 0 1123.78-21.4l45.29 50.32 122.59-145.91a16 16 0 0124.5 20.58z"],["type","text",1,"task-name",2,"background-color","#5432f6","color","white","text-decoration","line-through",3,"value"]],template:function(t,e){1&t&&(r.Qb(0,"div",0),r.Qb(1,"div",1),r.Lb(2,"div"),r.Qb(3,"div",2),r.Qb(4,"div",3),r.vc(5,"Today"),r.Pb(),r.Qb(6,"div",4),r.vc(7),r.Pb(),r.Pb(),r.Qb(8,"div"),r.Qb(9,"button",5),r.Xb("click",function(){return e.closeTodo()}),r.Qb(10,"span",6),r.vc(11,"\xd7"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(12,"div",7),r.Qb(13,"div"),r.Qb(14,"div"),r.Qb(15,"div",8),r.Qb(16,"div",9),r.Xb("click",function(){return e.newTaskStatus=!0}),r.Qb(17,"input",10),r.Xb("ngModelChange",function(t){return e.newTask=t}),r.Pb(),r.Qb(18,"div",11),r.Qb(19,"button",9),r.Xb("click",function(){return e.addToList(),e.newTaskStatus=!1}),r.ac(),r.Qb(20,"svg",12),r.Lb(21,"path",13),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Zb(),r.Qb(22,"div",14,15),r.Xb("click",function(){return e.newTaskStatus=!1})("cdkDropListDropped",function(t){return e.onDrop(t)}),r.uc(24,aD,16,2,"div",16),r.Qb(25,"div",17),r.vc(26,"Completed"),r.Pb(),r.uc(27,cD,9,2,"div",16),r.Pb(),r.Pb(),r.Pb()),2&t&&(r.Ab(7),r.wc(e.today),r.Ab(9),r.hc("ngClass",e.newTaskStatus?"todo-list-wrapper-selected":"todo-list-wrapper-notselected"),r.Ab(1),r.hc("ngClass",e.newTaskStatus?"todo-list-input-selected":"todo-list-input-notselected")("ngModel",e.newTask),r.Ab(2),r.hc("ngClass",e.newTaskStatus?"todo-list-create-selected":"todo-list-create-notselected"),r.Ab(3),r.hc("cdkDropListData",e.items),r.Ab(2),r.hc("ngForOf",e.items),r.Ab(1),r.hc("hidden",!e.showCompleted),r.Ab(2),r.hc("ngForOf",e.items))},directives:[ct,fe,Ne,Sn,tD,lt,iD],styles:[".todo-list-wrapper-notselected[_ngcontent-%COMP%]{background-color:#dad8e2;border:none;border-radius:25px}.todo-list-wrapper-notselected[_ngcontent-%COMP%], .todo-list-wrapper-selected[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:0 6px;margin-bottom:8px;outline:none;transition:background-color .3s ease 0s;width:100%}.todo-list-wrapper-selected[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #5432f6;border-radius:25px}.todo-list-input-notselected[_ngcontent-%COMP%]{background-color:#dad8e2}.todo-list-input-notselected[_ngcontent-%COMP%], .todo-list-input-selected[_ngcontent-%COMP%]{border:none;border-radius:25px;box-shadow:none;color:#221850;flex:1 1 0%;padding:12px;font-size:14px;line-height:20px;font-weight:300;outline:none}.todo-list-input-selected[_ngcontent-%COMP%]{background-color:#fff}.todo-list-create-notselected[_ngcontent-%COMP%]{background-color:#dad8e2}.todo-list-create-notselected[_ngcontent-%COMP%], .todo-list-create-selected[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:32px;height:32px;min-width:32px;border-radius:25px;border:none}.todo-list-create-selected[_ngcontent-%COMP%]{background-color:#5432f6;color:#dad8e2;outline:none}.task-o[_ngcontent-%COMP%]{position:relative;padding:6px 6px 6px 14px;background-color:#fff;border:1px solid #fff;border-radius:6px;box-shadow:0 2px 4px 0 rgba(34,24,80,.1);margin-bottom:8px;z-index:999999}.task-i[_ngcontent-%COMP%]{min-height:36px}.info-wrapper[_ngcontent-%COMP%], .task-i[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between}.task-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center}.task-name[_ngcontent-%COMP%]{width:100%;padding:0;text-decoration:none;margin-right:6px;color:#221850;font-weight:300;text-overflow:ellipsis;line-height:20px;border:none;background-color:#fff;-webkit-user-select:none;user-select:none;outline:none}.buttons-wrapper[_ngcontent-%COMP%]{justify-content:flex-end;display:flex}.center-vertically[_ngcontent-%COMP%]{flex-direction:column}.center-vertically[_ngcontent-%COMP%], .start-button[_ngcontent-%COMP%]{display:flex;justify-content:center}.start-button[_ngcontent-%COMP%]{align-items:center;width:32px;height:32px;min-width:32px;border-radius:25px;border:none;background-color:#5432f6;margin-right:15px;outline:none}.task-o-completed[_ngcontent-%COMP%]{position:relative;padding:6px 6px 6px 14px;background-color:#5432f6;border:1px solid #5432f6;border-radius:6px;box-shadow:0 2px 4px 0 rgba(34,24,80,.1);margin-bottom:8px;z-index:auto;color:#dad8e2}.completed-label[_ngcontent-%COMP%]{white-space:pre-wrap;color:#aeaabf;font-size:12px;font-weight:400;line-height:1.33;text-align:left;text-transform:uppercase;margin-bottom:8px}"]}),t})();function lD(t,e){if(1&t&&(r.Qb(0,"div",47),r.Qb(1,"label",48),r.vc(2,"You have a ongoing session"),r.Pb(),r.Lb(3,"br"),r.Qb(4,"a",49),r.vc(5,"Reconnect"),r.Pb(),r.Pb()),2&t){const t=r.bc();r.Ab(4),r.jc("href","room/",t.ongoingSession,"",r.qc)}}function hD(t,e){1&t&&(r.Qb(0,"div"),r.Qb(1,"label",50),r.vc(2,"*Please write what do you want to accomplish"),r.Pb(),r.Pb())}function dD(t,e){if(1&t&&(r.Qb(0,"div"),r.Lb(1,"img",57),r.Pb()),2&t){const t=r.bc().$implicit;r.Ab(1),r.ic("src",t,r.qc)}}function fD(t,e){1&t&&(r.Qb(0,"div"),r.Lb(1,"div",58),r.Pb())}function pD(t,e){if(1&t&&(r.Qb(0,"div"),r.uc(1,dD,2,1,"div",22),r.uc(2,fD,2,0,"div",22),r.Pb()),2&t){const t=e.$implicit;r.Ab(1),r.hc("ngIf","empty"!=t),r.Ab(1),r.hc("ngIf","empty"==t)}}function gD(t,e){if(1&t){const t=r.Rb();r.Qb(0,"div",51),r.Qb(1,"div",52),r.vc(2),r.Pb(),r.Qb(3,"div",53),r.uc(4,pD,3,2,"div",54),r.Pb(),r.Qb(5,"div",55),r.Qb(6,"button",56),r.Xb("click",function(){r.oc(t);const n=e.index;return r.bc().joinPublicRoom(n)}),r.vc(7,"Join"),r.Pb(),r.Pb(),r.Pb()}if(2&t){const t=e.$implicit,n=e.index;r.Ab(2),r.xc("Room ",n+1,""),r.Ab(2),r.hc("ngForOf",t.images)}}function mD(t,e){1&t&&(r.Qb(0,"div",59),r.Lb(1,"div",60),r.Lb(2,"div",60),r.Lb(3,"div",60),r.Lb(4,"div",60),r.Lb(5,"div",60),r.Lb(6,"div",60),r.Pb())}let bD=(()=>{class t{constructor(t,e,n,r){this.todoService=t,this.router=e,this.authService=n,this.profileService=r,this.hasCameraPermission=!1,this.name="",this.mail="",this.maxDuration=!0,this.maxPeople=!1,this.userName="",this.cUrl="",this.currentImg="",this.showRooms=!0,this.loading=!0,this.nameEmpty=!1,this.ongoingSession="",this.showReconnect=!1,this.roomType=!0,this.showTodo=!1,this.showYoutubeVideo=!1,this.showSpinner=!0,this.userImages=new Array}ngOnInit(){var t;navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then(t=>{this.hasCameraPermission=!0,t.getTracks().forEach(t=>t.stop())}).catch(t=>{console.log(t)});const e=cc.a.auth().currentUser;this.userName=(null==e?void 0:e.displayName)||"",this.mail=(null==e?void 0:e.email)||"",(null==e?void 0:e.emailVerified)||"facebook.com"!=(null===(t=null==e?void 0:e.providerData[0])||void 0===t?void 0:t.providerId)&&this.router.navigate(["/verify"]),""!=this.mail&&this.profileService.getUserInfo(this.mail).subscribe(t=>{const e=t;0!=e.sessions.length&&this.profileService.getSessionActive(e.sessions[e.sessions.length-1]._id).subscribe(t=>{t.isActive&&(this.ongoingSession=e.sessions[e.sessions.length-1]._id,this.showReconnect=!0)})}),this.profileService.getRooms().subscribe(t=>{const e=t;console.log("PUBLIC ROOMS: ",e),null!=e.msg&&(this.showSpinner=!1),e.publicRooms.forEach((t,n)=>{var r=new Array;t.users.forEach((e,n)=>{if(r.push(e.imageUrl),t.users.length-1==n){const n=4-t.users.length;for(var i=0;i<n;i++)r.push("empty");0!=n&&this.userImages.push({url:e.cUrl,images:r}),r=[]}}),n==e.publicRooms.length-1&&(this.showSpinner=!1)})})}onLoad(){this.loading=!1}timeSince(t){var e=new Date;t=new Date(t);var n=Math.floor((e-t)/1e3),r=n/31536e3;return r>1?Math.floor(r)+" years":(r=n/2592e3)>1?Math.floor(r)+" months":(r=n/86400)>1?Math.floor(r)+" days":(r=n/3600)>1?Math.floor(r)+" hours":(r=n/60)>1?Math.floor(r)+" mins":Math.floor(n)+" secs"}onCustomDive(){this.hasCameraPermission?""!=this.name?(this.cUrl=lR(),this.router.navigate(["/custom-call/"+this.cUrl],{queryParams:{t:this.name}})):this.nameEmpty=!0:SE.a.fire("Sorry","Sorry. You either didn\u2019t allow Dive to use your camera and microphone or they are being used by other applications. Please refresh the page after giving the permissions and closing other applications","info")}onDive(){var t;if(""!=this.name)return 0==this.roomType?(this.router.navigate(["/solo"],{queryParams:{t:this.name}}),void this.todoService.addGoal({user:null===(t=cc.a.auth().currentUser)||void 0===t?void 0:t.email,goal:{goal:this.name,createdAt:Date()}}).subscribe(t=>{console.log(t)})):void(this.hasCameraPermission?(console.log(this.name,this.maxDuration,this.maxPeople),this.router.navigate(["/call"],{queryParams:{t:this.name,c:this.maxPeople?4:2,d:this.maxDuration?50:25}})):SE.a.fire("Sorry","Sorry. You either didn\u2019t allow Dive to use your camera and microphone or they are being used by other applications. Please refresh the page after giving the permissions and closing other applications","info"));this.nameEmpty=!0}joinPublicRoom(t){this.hasCameraPermission?this.profileService.isRoomFull(this.userImages[t].url).subscribe(e=>{if(null==e.msg){if(!e.isFull)return console.log(this.name),""==this.name?(this.nameEmpty=!0,void this.router.navigate(["/public-onboard/"+this.userImages[t].url],{queryParams:{t:this.name}})):void this.router.navigate(["/public-call/"+this.userImages[t].url],{queryParams:{t:this.name}});SE.a.fire("Sorry","This room is full.","info")}else SE.a.fire("Sorry","Room does not exist.","info")}):SE.a.fire("Sorry","You must allow the camera and microphone usage to use dive. Please refresh the page after giving the permission","info")}createRoom(){if(!this.hasCameraPermission)return void SE.a.fire("Sorry","You must allow the camera and microphone usage to use dive. Please refresh the page after giving the permission","info");if(console.log(this.name),""==this.name)return this.nameEmpty=!0,void this.router.navigate(["/public-onboard/"+lR()],{queryParams:{t:this.name}});const t=lR();this.router.navigate(["/public-call/"+t],{queryParams:{t:this.name}})}kill_iframe(){let t=document.getElementById("hidden_iframe");null!=(null==t?void 0:t.parentNode)&&t.parentNode.removeChild(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(hR),r.Kb(ua),r.Kb(EE),r.Kb(CE))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-dive"]],decls:83,vars:12,consts:[[2,"height","100vh","position","absolute",3,"ngClass","onCloseTodo","onBeginTask"],["showLogoutButton","","showHowItWorks","",3,"userName","onOpenVideo"],[1,"card1",2,"z-index","9999",3,"hidden"],[1,"container-fluid","notify-window"],[1,"w-100","d-flex","justify-content-end",2,"margin-right","20px","margin-bottom","10px","top","-10px","position","relative"],["type","button","aria-label","Close",1,"close",2,"outline","none",3,"click"],["aria-hidden","true"],[1,"row","d-flex","align-items-center","justify-content-center"],[1,"col-12","text-center"],["width","560","id","hidden_iframe","height","315","src",r.zc("https://www.youtube.com/embed/ZHRbcTQwxSc?start=32"),"title","YouTube video player","frameborder","0","allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture","allowfullscreen","",2,"border-radius","6px"],[1,"container-fluid","desktop",2,"background-color","#f8f8f8","margin-top","1px"],[1,"row",2,"justify-content","space-between","height","85vh"],[1,"col"],["style","background-color: #5432f6;\n      border-radius: 5px;\n      margin-top: 15px;\n      padding-top: 20px;\n      padding-left: 10px;\n      padding-bottom: 20px;\n      padding-right: 10px;\n      display: flex;\n      flex-wrap: wrap;\n      flex-direction: column;\n      align-items: center;",4,"ngIf"],[2,"position","absolute","top","30%","left","0px",3,"click"],[2,"display","flex","-webkit-box-pack","center","justify-content","center","-webkit-box-align","center","align-items","center","width","70px","height","44px","min-width","44px","border-top-right-radius","6px","border-bottom-right-radius","6px","left","0px","outline","none","border","none","background-color","#5432f6","color","#ffffff","box-shadow","rgb(0 0 0 / 50%) 0px 4px 16px 0px"],[2,"color","#ffffff","font-size","13px"],[1,"col-7","d-flex","align-items-center","justify-content-center",2,"position","relative"],[1,"text-center",2,"width","100%","max-width","700px"],[1,"font-weight-bold"],[1,"form-group"],["type","text","name","name","id","name","autocomplete","off","placeholder","Social media plan, study math 101 etc.","autofocus","",1,"form-control",2,"max-width","80%","position","relative","left","50%","transform","translateX(-50%)",3,"ngModel","ngModelChange"],[4,"ngIf"],[1,"toggle",3,"ngClass"],["src","/assets/img/icons/clock.svg","alt","",2,"height","22px","margin-right","10px"],[2,"font-size","15px"],[1,"d-flex","justify-content-center"],[2,"border-radius","25px","border","1px solid gray","width","150px","height","35px","top","10px","display","flex","justify-content","space-between"],[2,"width","50%","text-align","center","margin","1px","display","flex","flex-direction","column","justify-content","center","cursor","pointer",3,"ngClass","click"],[2,"display","flex","flex-direction","column","justify-content","center"],[1,"btn","btn-primary",2,"max-width","200px","font-size","17px","font-weight","bold",3,"click"],[1,"btn","btn-signup",2,"max-width","200px","font-size","17px","font-weight","bold",3,"hidden","click"],[1,"col",2,"background-color","#f8f8f8","overflow-y","scroll","height","80vh","overflow-x","hidden"],[1,".container-fluid"],[1,"ntf"],[1,"ntf__head"],[2,"font-size","18px","font-weight","bold","margin-top","20px","text-align","center","width","100%"],["class","shadow-sm","style","display: flex;justify-content: space-evenly;flex-direction: column;margin-bottom: 10px;padding: 8px;border-radius: 6px;background-color: #ffffff;",4,"ngFor","ngForOf"],["class","sk-chase","style","position: relative;top: 50%;left: 45%;height: 20px;width: 20px;z-index: 9999;",4,"ngIf"],[2,"width","100%","display","flex","justify-content","center"],[1,"btn","btn-primary",2,"width","90px","padding-left","5px",3,"click"],["aria-hidden","true",1,"fa","fa-plus"],[1,".container-fluid","pt-5","mobile"],[1,"row"],[1,"col",2,"display","flex","justify-content","center"],["src","/assets/img/group-311.svg","alt","",2,"width","70%"],[2,"text-align","center"],[2,"background-color","#5432f6","border-radius","5px","margin-top","15px","padding-top","20px","padding-left","10px","padding-bottom","20px","padding-right","10px","display","flex","flex-wrap","wrap","flex-direction","column","align-items","center"],[2,"color","white","font-size","20px","text-align","center"],[1,"btn","btn-white",3,"href"],[2,"color","red"],[1,"shadow-sm",2,"display","flex","justify-content","space-evenly","flex-direction","column","margin-bottom","10px","padding","8px","border-radius","6px","background-color","#ffffff"],[1,"w-100","d-flex","justify-content-center",2,"font-weight","bold","margin-bottom","5px"],[2,"display","flex","justify-content","space-evenly","width","100%"],[4,"ngFor","ngForOf"],[2,"display","flex","justify-content","center","width","100%","margin-top","10px"],[2,"width","40px","background-color","#5432f6","color","#ffffff","border-radius","6px","border","1px solid #5432f6","font-size","12px","outline","none",3,"click"],["alt","",2,"width","30px","height","30px","border-radius","50%",3,"src"],[2,"width","30px","height","30px","border-radius","50%","background-color","#ffffff","border","1px solid #5432f6"],[1,"sk-chase",2,"position","relative","top","50%","left","45%","height","20px","width","20px","z-index","9999"],[1,"sk-chase-dot"]],template:function(t,e){1&t&&(r.Qb(0,"app-todo",0),r.Xb("onCloseTodo",function(){return e.showTodo=!1})("onBeginTask",function(t){return e.name=t}),r.Pb(),r.Qb(1,"app-header",1),r.Xb("onOpenVideo",function(){return e.showYoutubeVideo=!0}),r.Pb(),r.Qb(2,"section",2),r.Qb(3,"div",3),r.Qb(4,"div",4),r.Qb(5,"button",5),r.Xb("click",function(){return e.kill_iframe()})("click",function(){return e.showYoutubeVideo=!1}),r.Qb(6,"span",6),r.vc(7,"\xd7"),r.Pb(),r.Pb(),r.Pb(),r.Qb(8,"div",7),r.Qb(9,"div",8),r.Lb(10,"iframe",9),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(11,"main",10),r.Qb(12,"div",11),r.Qb(13,"div",12),r.uc(14,lD,6,1,"div",13),r.Qb(15,"div",14),r.Xb("click",function(){return e.showTodo=!0}),r.Qb(16,"button",15),r.Qb(17,"b",16),r.vc(18,"TO-DOS"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(19,"div",17),r.Qb(20,"div",18),r.Qb(21,"h2",19),r.vc(22,"What do you want to accomplish now?"),r.Pb(),r.Lb(23,"br"),r.Qb(24,"form"),r.Qb(25,"div",20),r.Qb(26,"input",21),r.Xb("ngModelChange",function(t){return e.name=t}),r.Pb(),r.Pb(),r.Pb(),r.uc(27,hD,3,0,"div",22),r.Lb(28,"br"),r.Qb(29,"h5",19),r.vc(30,"Dive duration"),r.Pb(),r.Qb(31,"div",23),r.Lb(32,"img",24),r.Qb(33,"span",25),r.vc(34,"50 Mins"),r.Pb(),r.Pb(),r.Lb(35,"br"),r.Lb(36,"br"),r.Lb(37,"br"),r.Qb(38,"h5",19),r.vc(39,"Room Type"),r.Pb(),r.Qb(40,"div",26),r.Qb(41,"div",27),r.Qb(42,"div",28),r.Xb("click",function(){return e.roomType=!0}),r.Qb(43,"div",29),r.vc(44," 1-1 "),r.Pb(),r.Pb(),r.Qb(45,"div",28),r.Xb("click",function(){return e.roomType=!1}),r.Qb(46,"div",29),r.vc(47," Solo "),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Lb(48,"br"),r.Lb(49,"br"),r.Lb(50,"br"),r.Qb(51,"div"),r.Qb(52,"a",30),r.Xb("click",function(){return e.onDive()}),r.vc(53," Dive now! "),r.Pb(),r.vc(54," \xa0 "),r.Qb(55,"a",31),r.Xb("click",function(){return e.onCustomDive()}),r.vc(56,"Invite a friend"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(57,"div",32),r.Qb(58,"div",33),r.Qb(59,"div",34),r.Qb(60,"div",35),r.Qb(61,"label",36),r.vc(62,"Public Rooms"),r.Pb(),r.Pb(),r.uc(63,gD,8,2,"div",37),r.uc(64,mD,7,0,"div",38),r.Lb(65,"br"),r.Qb(66,"div",39),r.Qb(67,"button",40),r.Xb("click",function(){return e.createRoom()}),r.Lb(68,"i",41),r.vc(69," \xa0Create \xa0"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(70,"div",42),r.Qb(71,"div",43),r.Qb(72,"div",44),r.Lb(73,"img",45),r.Pb(),r.Pb(),r.Lb(74,"br"),r.Qb(75,"div",43),r.Qb(76,"div",12),r.Qb(77,"h3",46),r.vc(78,"For better experience, please use Dive on your desktop"),r.Pb(),r.Pb(),r.Pb(),r.Qb(79,"div",43),r.Qb(80,"div",12),r.Qb(81,"h6",46),r.vc(82,"Many errors occur during video calls in mobile browsers. Please use your desktop for a better, uninterrupted Dive experience for you and your fellow Diver."),r.Pb(),r.Pb(),r.Pb(),r.Pb()),2&t&&(r.hc("ngClass",e.showTodo?"todo-open":"todo-close"),r.Ab(1),r.hc("userName",e.userName),r.Ab(1),r.hc("hidden",!e.showYoutubeVideo),r.Ab(12),r.hc("ngIf",e.showReconnect),r.Ab(12),r.hc("ngModel",e.name),r.Ab(1),r.hc("ngIf",e.nameEmpty),r.Ab(4),r.hc("ngClass",e.maxDuration?"left":"right"),r.Ab(11),r.hc("ngClass",e.roomType?"type-selected":"type-notselected"),r.Ab(3),r.hc("ngClass",e.roomType?"type-notselected":"type-selected"),r.Ab(10),r.hc("hidden",!e.roomType),r.Ab(8),r.hc("ngForOf",e.userImages),r.Ab(1),r.hc("ngIf",e.showSpinner))},directives:[uD,ct,GA,dt,En,Me,Cn,fe,Ne,Sn,lt],styles:['.mobile[_ngcontent-%COMP%]{visibility:hidden;display:none}.card1[_ngcontent-%COMP%]{position:fixed;top:0;width:100vw;height:100vh;background-color:rgba(52,58,64,.5)}.sk-chase[_ngcontent-%COMP%]{width:40px;height:40px;position:relative;animation:sk-chase 2.5s linear infinite both}.sk-chase-dot[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;left:0;top:0;animation:sk-chase-dot 2s ease-in-out infinite both}.sk-chase-dot[_ngcontent-%COMP%]:before{content:"";display:block;width:25%;height:25%;background-color:#5432f6;border-radius:100%;animation:sk-chase-dot-before 2s ease-in-out infinite both}.sk-chase-dot[_ngcontent-%COMP%]:first-child{animation-delay:-1.1s}.sk-chase-dot[_ngcontent-%COMP%]:nth-child(2){animation-delay:-1s}.sk-chase-dot[_ngcontent-%COMP%]:nth-child(3){animation-delay:-.9s}.sk-chase-dot[_ngcontent-%COMP%]:nth-child(4){animation-delay:-.8s}.sk-chase-dot[_ngcontent-%COMP%]:nth-child(5){animation-delay:-.7s}.sk-chase-dot[_ngcontent-%COMP%]:nth-child(6){animation-delay:-.6s}.sk-chase-dot[_ngcontent-%COMP%]:first-child:before{animation-delay:-1.1s}.sk-chase-dot[_ngcontent-%COMP%]:nth-child(2):before{animation-delay:-1s}.sk-chase-dot[_ngcontent-%COMP%]:nth-child(3):before{animation-delay:-.9s}.sk-chase-dot[_ngcontent-%COMP%]:nth-child(4):before{animation-delay:-.8s}.sk-chase-dot[_ngcontent-%COMP%]:nth-child(5):before{animation-delay:-.7s}.sk-chase-dot[_ngcontent-%COMP%]:nth-child(6):before{animation-delay:-.6s}@keyframes sk-chase{to{transform:rotate(1turn)}}@keyframes sk-chase-dot{80%,to{transform:rotate(1turn)}}@keyframes sk-chase-dot-before{50%{transform:scale(.4)}0%,to{transform:scale(1)}}.notify-window[_ngcontent-%COMP%]{position:absolute;top:40%;left:50%;transform:translate(-50%,-40%);z-index:9999;width:100%;max-width:-webkit-fit-content;max-width:-moz-fit-content;max-width:fit-content;padding-top:40px;padding-bottom:30px;background-color:#f8f8f8;color:#000;border-radius:8px}img[_ngcontent-%COMP%]{object-fit:cover}.type-selected[_ngcontent-%COMP%]{border-radius:25px;background-color:#5432f6;color:#fff}.type-notselected[_ngcontent-%COMP%]{color:#000}@media screen and (max-width:849px){.mobile[_ngcontent-%COMP%]{visibility:visible;display:block}.desktop[_ngcontent-%COMP%]{visibility:hidden;display:none}}.toggle[_ngcontent-%COMP%]{display:inline;position:relative;top:8px}.toggle[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:70px;border-radius:25px;background-color:#f8f8f8}.toggle.left[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:first-of-type{font-weight:700;color:#000;opacity:1}.toggle.left[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:nth-of-type(2){opacity:.4}.toggle.right[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:nth-of-type(2){font-weight:700;color:#000;opacity:1}.toggle.right[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:first-of-type{opacity:.4}#parent[_ngcontent-%COMP%]{list-style:none;width:100%;height:90px;margin:0;padding:0;white-space:nowrap}#parent[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{display:inline-block;width:50%;height:100%;background-color:red}']}),t})();var vD=n("jifJ");let yD=(()=>{class t{constructor(t,e,n,r,i){var o;this.todoService=t,this.route=e,this.router=n,this.authService=r,this.profileUpdateService=i,this._topic="",this.time="",this.showCouldntFind=!1,this.showTodo=!1,this.setTime(),this._topic=e.snapshot.queryParams.t,this.socket=Object(vD.io)("https://api.thedive.app/matching",{transports:["websocket"]}),this.socket.onAny((t,...e)=>console.log(`[socket] [${this.socket.id}] [${t}]`,e)),this.socket.on("connect",()=>{var t,n;console.log(`[socket] [${this.socket.id}] [connect]`);const{t:r,c:i,d:o}=e.snapshot.queryParams;this.socket.emit("init",{user:{id:null===(t=this.authService.user)||void 0===t?void 0:t.email,name:null===(n=this.authService.user)||void 0===n?void 0:n.displayName},topic:r,capacity:i,duration:o,sid:this.socket.id})}),this.socket.on("log",t=>{console.log("IT WORKS "+t)}),this.socket.on("join-room",t=>{var e,r=(null===(e=this.authService.user)||void 0===e?void 0:e.email)||"";this.profileUpdateService.updateSessions(t,r),n.navigate(["/room/"+t],{queryParams:{t:this._topic}})}),this.todoService.addGoal({user:null===(o=cc.a.auth().currentUser)||void 0===o?void 0:o.email,goal:{goal:this._topic,createdAt:Date()}}).subscribe(t=>{console.log(t)}),this.socket.on("notify",t=>{this.setTime(),this.showCouldntFind=!0})}setTime(){let t=(new Date).toLocaleString().split(" ")[1].split(":");var e=+t[1];if(console.log(Math.round(e/10)),e>=55)return t[0]=String(+t[0]+1),void(this.time="Your Dive will start at "+t[0]+":00");e%10<5?this.time="Your Dive will start at "+t[0]+":"+String(Math.round(e/10))+"5":e%10>=5&&(this.time="Your Dive will start at "+t[0]+":"+String(e/10+1)[0]+"0")}ngOnInit(){hidehb(),this.profileUpdateService.getQuotes().subscribe(t=>{console.log(t),this.quote=t})}ngOnDestroy(){this.socket.close()}navigateToInvite(){const t=lR();this.router.navigate(["/custom-call/"+t],{queryParams:{t:this._topic}})}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(hR),r.Kb(Ho),r.Kb(ua),r.Kb(EE),r.Kb(CE))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-call"]],decls:44,vars:5,consts:[[2,"height","100vh","position","absolute",3,"ngClass","onCloseTodo"],[2,"position","absolute","top","30%","left","0px","z-index","9999",3,"click"],[2,"display","flex","-webkit-box-pack","center","justify-content","center","-webkit-box-align","center","align-items","center","width","70px","height","44px","min-width","44px","border-top-right-radius","6px","border-bottom-right-radius","6px","left","0px","outline","none","border","none","background-color","#5432f6","color","#ffffff","z-index","9999","box-shadow","rgb(0 0 0 / 50%) 0px 4px 16px 0px"],[2,"color","#ffffff","font-size","13px"],[1,"card1",2,"z-index","9999",3,"hidden"],[1,"container-fluid","notify-window",2,"max-width","450px"],[1,"row","d-flex","align-items-center","justify-content-center"],[1,"col-12","text-center"],[2,"display","flex","justify-content","space-evenly"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-signup",3,"click"],[1,"container-fluid","pt-2",2,"height","85vh"],[1,"row"],[1,"col","d-flex","align-items-center","justify-content-center"],[1,"text-center",2,"width","100%","max-width","600px"],["src","/assets/img/gif.gif","alt","",2,"height","150px","width","150px"],[1,"font-weight-bold"],[1,"text-primary",2,"transition","all 0.7s ease-in-out"]],template:function(t,e){1&t&&(r.Qb(0,"app-todo",0),r.Xb("onCloseTodo",function(){return e.showTodo=!1}),r.Pb(),r.Lb(1,"app-header"),r.Qb(2,"div",1),r.Xb("click",function(){return e.showTodo=!0}),r.Qb(3,"button",2),r.Qb(4,"b",3),r.vc(5,"TO-DOS"),r.Pb(),r.Pb(),r.Pb(),r.Qb(6,"section",4),r.Qb(7,"div",5),r.Qb(8,"div",6),r.Qb(9,"div",7),r.Qb(10,"h1"),r.vc(11,"\ud83d\ude2d"),r.Pb(),r.Lb(12,"br"),r.Qb(13,"h4"),r.vc(14,"We could not find a fellow diver for now but you are our priority for next matching processes. "),r.Pb(),r.Lb(15,"br"),r.Qb(16,"h6"),r.vc(17,"You can invite your friend and start instantly."),r.Pb(),r.Lb(18,"br"),r.Qb(19,"div",8),r.Qb(20,"button",9),r.Xb("click",function(){return e.showCouldntFind=!1,e.setTime()}),r.vc(21,"Wait"),r.Pb(),r.Qb(22,"button",10),r.Xb("click",function(){return e.navigateToInvite()}),r.vc(23,"Invite a friend"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(24,"main",11),r.Qb(25,"div",12),r.Qb(26,"div",13),r.Qb(27,"div",14),r.Lb(28,"img",15),r.Lb(29,"br"),r.Lb(30,"br"),r.Lb(31,"br"),r.Qb(32,"h3",16),r.vc(33),r.Pb(),r.Lb(34,"br"),r.Lb(35,"br"),r.Lb(36,"br"),r.Lb(37,"br"),r.Lb(38,"br"),r.Lb(39,"br"),r.Qb(40,"p",17),r.vc(41),r.Qb(42,"b"),r.vc(43),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb()),2&t&&(r.hc("ngClass",e.showTodo?"todo-open":"todo-close"),r.Ab(6),r.hc("hidden",!e.showCouldntFind),r.Ab(27),r.wc(e.time),r.Ab(8),r.xc("",e.quote.quote," "),r.Ab(2),r.wc(e.quote.owner))},directives:[uD,ct,GA],styles:["header[_ngcontent-%COMP%]{position:fixed;top:2em;right:2em}#hubspot-messages-iframe-container[_ngcontent-%COMP%]{display:none!important}.card1[_ngcontent-%COMP%]{position:fixed;top:0;width:100vw;height:100vh;background-color:rgba(52,58,64,.5)}.notify-window[_ngcontent-%COMP%]{position:absolute;top:40%;left:50%;transform:translate(-50%,-40%);z-index:9999;width:100%;max-width:350px;padding-top:40px;padding-bottom:30px;background-color:#f8f8f8;color:#000;border-radius:8px}.remoteStream[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}#myStream[_ngcontent-%COMP%]{transform:rotateY(180deg);width:100%;max-width:15em;position:fixed;bottom:2em;right:2em;border-radius:8px}main[_ngcontent-%COMP%] > .row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:0;height:100vh}footer[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;right:0;height:3em;background:rgba(84,50,246,.6);padding-top:.5em;padding-bottom:.5em;box-sizing:initial}.icon-wrapper[_ngcontent-%COMP%], .red-icon-wrapper[_ngcontent-%COMP%]{width:3em;height:3em;font-weight:900;background-color:hsla(0,0%,100%,.8);border-radius:100%;display:inline-flex;color:rgba(84,50,246,.7);justify-content:center;align-items:center;margin:0 .15em}.red-icon-wrapper[_ngcontent-%COMP%]{background-color:red;color:#fff}"]}),t})();function _D(t,e){if(1&t){const t=r.Rb();r.Qb(0,"div",24),r.Xb("click",function(){return r.oc(t),r.bc(2).copyToClipboard()}),r.vc(1,"Copy"),r.Pb()}}function wD(t,e){1&t&&(r.Qb(0,"div",25),r.vc(1,"Copied"),r.Pb())}function CD(t,e){if(1&t&&(r.Qb(0,"div",7),r.Qb(1,"div",12),r.Qb(2,"div",13),r.Lb(3,"img",14),r.Lb(4,"br"),r.Lb(5,"br"),r.Lb(6,"br"),r.Qb(7,"h4",15),r.vc(8,"Waiting someone to join"),r.Pb(),r.Lb(9,"br"),r.Lb(10,"br"),r.Qb(11,"label"),r.vc(12,"Share this link with your friend"),r.Pb(),r.Lb(13,"br"),r.Qb(14,"div",16),r.Qb(15,"div",17),r.Qb(16,"div",18),r.Qb(17,"div",19),r.Qb(18,"label",20),r.vc(19),r.Pb(),r.Pb(),r.Qb(20,"div",10),r.uc(21,_D,2,0,"div",21),r.uc(22,wD,2,0,"div",22),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Lb(23,"br"),r.Lb(24,"br"),r.Lb(25,"br"),r.Qb(26,"p",23),r.vc(27),r.Qb(28,"b"),r.vc(29),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb()),2&t){const t=r.bc();r.Ab(19),r.xc(" https://thedive.app",t.url," "),r.Ab(2),r.hc("ngIf",!t.isCopied),r.Ab(1),r.hc("ngIf",t.isCopied),r.Ab(5),r.xc("",t.quote.quote," "),r.Ab(2),r.wc(t.quote.owner)}}function kD(t,e){1&t&&(r.Qb(0,"div"),r.Qb(1,"label"),r.vc(2,"*Please write what do you want do accomplish"),r.Pb(),r.Pb())}function PD(t,e){if(1&t){const t=r.Rb();r.Qb(0,"div",7),r.Qb(1,"div",10),r.Qb(2,"div",12),r.Qb(3,"div",26),r.Qb(4,"h2",15),r.vc(5,"What do you want to accomplish now?"),r.Pb(),r.Lb(6,"br"),r.Qb(7,"form"),r.Qb(8,"div",27),r.Qb(9,"input",28),r.Xb("ngModelChange",function(e){return r.oc(t),r.bc().name=e}),r.Pb(),r.Pb(),r.Pb(),r.uc(10,kD,3,0,"div",29),r.Lb(11,"br"),r.Qb(12,"div"),r.Qb(13,"a",30),r.Xb("click",function(){return r.oc(t),r.bc().onConfirm()}),r.vc(14," Dive now! "),r.Pb(),r.vc(15," \xa0 "),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb()}if(2&t){const t=r.bc();r.Ab(9),r.hc("ngModel",t.name),r.Ab(1),r.hc("ngIf",t.nameEmpty)}}let SD=(()=>{class t{constructor(t,e,n,r,i){if(this.todoService=t,this.route=e,this.router=n,this.authService=r,this.profileUpdateService=i,this.url="",this.showPopup=!1,this.isCopied=!1,this.name="",this.nameEmpty=!1,this.cUrl="",this.topic="",this.clicked=!1,this.hasCameraPermission=!1,this.ref="",this.originTopic="",this.showTodo=!1,this.url=this.router.url,this.topic=e.snapshot.queryParams.t,this.originTopic=this.topic,null!=this.topic){const t=this.topic.split(" ");if(t.length>1)for(var o in this.topic="",t)this.topic+=t[o],o!=t.length-1&&(this.topic+="%20")}console.log("TOPIC: "+this.topic),this.cUrl=this.route.snapshot.paramMap.get("id")||"",console.log(this.url),this.url=this.url.replace("?t="+this.topic,""),console.log(this.url),this.url=this.url+"?ref=finvite",null==this.topic?(this.showPopup=!0,navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then(t=>{this.hasCameraPermission=!0,t.getTracks().forEach(t=>t.stop())}).catch(t=>{console.log(t)})):0==this.clicked&&(this.onConfirm2(),this.clicked=!0)}copyToClipboard(){navigator.clipboard.writeText("https://thedive.app"+this.url).then().catch(t=>console.error(t)),this.isCopied=!0}onConfirm(){""!=this.name?this.hasCameraPermission?0==this.clicked&&(this.onConfirm2(),this.clicked=!0):SE.a.fire("Sorry","You must allow the camera and microphone usage to use dive. Please refresh the page after giving the permission","info"):this.nameEmpty=!0}onConfirm2(){const t=Object(vD.io)("https://api.thedive.app/custom-matching",{transports:["websocket"]});console.log("cagrildim"),t.onAny((e,...n)=>console.log(`[socket] [${t.id}] [${e}]`,n)),t.on("connect",()=>{var e,n;console.log(`[socket] [${t.id}] [connect]`),null==this.originTopic&&(this.originTopic=this.name),t.emit("init",{cUrl:this.cUrl.replace("?ref=finvite",""),user:{id:null===(e=this.authService.user)||void 0===e?void 0:e.email,name:null===(n=this.authService.user)||void 0===n?void 0:n.displayName},topic:this.originTopic,capacity:2,duration:50,sid:t.id})}),t.on("join-room",t=>{var e,n,r=(null===(e=this.authService.user)||void 0===e?void 0:e.email)||"";this.profileUpdateService.updateSessions(t,r),this.todoService.addGoal({user:null===(n=cc.a.auth().currentUser)||void 0===n?void 0:n.email,goal:{goal:this.originTopic,createdAt:Date()}}).subscribe(t=>{console.log(t)}),this.router.navigate(["/room/"+t],{queryParams:{t:this.originTopic}})}),t.on("log",t=>{console.log("Msg "+t)}),t.on("notify",t=>{SE.a.fire("Sorry",t,"info")}),this.sockett=t}ngOnInit(){hidehb(),this.profileUpdateService.getQuotes().subscribe(t=>{console.log(t),this.quote=t})}ngOnDestroy(){try{this.sockett.close()}catch(t){this.router.navigate(["/dive"])}}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(hR),r.Kb(Ho),r.Kb(ua),r.Kb(EE),r.Kb(CE))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-custom-call"]],decls:22,vars:3,consts:[[2,"height","100vh","position","absolute",3,"ngClass","onCloseTodo"],[2,"position","absolute","top","30%","left","0px","z-index","9999",3,"click"],[2,"display","flex","-webkit-box-pack","center","justify-content","center","-webkit-box-align","center","align-items","center","width","70px","height","44px","min-width","44px","border-top-right-radius","6px","border-bottom-right-radius","6px","left","0px","outline","none","border","none","background-color","#5432f6","color","#ffffff","box-shadow","rgb(0 0 0 / 50%) 0px 4px 16px 0px"],[2,"color","#ffffff","font-size","13px"],[1,"container-fluid","pt-5","desktop"],["class","row",4,"ngIf"],[1,".container-fluid","pt-5","mobile"],[1,"row"],[1,"col",2,"display","flex","justify-content","center"],["src","/assets/img/group-311.svg","alt","",2,"width","70%"],[1,"col"],[2,"text-align","center"],[1,"col","d-flex","align-items-center","justify-content-center"],[1,"text-center",2,"width","100%","max-width","600px"],["src","/assets/img/gif.gif","alt","",2,"height","150px","width","150px"],[1,"font-weight-bold"],[2,"border-radius","29px","border","solid 1px rgba(84, 50, 246, 0.34)","width","90%","height","60px","position","relative","left","50%","transform","translateX(-50%)"],[1,".container-fluid"],[1,"row",2,"height","60px"],[1,"col-8"],[2,"position","relative","text-align","left","top","50%","transform","translateY(-50%)","font-size","12px","height","fit-content","font-weight","600","display","flex","left","20px"],["style","cursor:pointer; top:50%;transform: translateY(-50%);position: relative;right: 20px;border-radius: 29px;\n  border: solid 1px;width: 50%;margin-left: auto;",3,"click",4,"ngIf"],["style","top:50%;transform: translateY(-50%);position: relative;right: 20px;border-radius: 29px;\n     border: solid 1px;width: 50%;margin-left: auto;background-color: #5432f6;color:white",4,"ngIf"],[1,"text-primary",2,"transition","all 0.7s ease-in-out"],[2,"cursor","pointer","top","50%","transform","translateY(-50%)","position","relative","right","20px","border-radius","29px","border","solid 1px","width","50%","margin-left","auto",3,"click"],[2,"top","50%","transform","translateY(-50%)","position","relative","right","20px","border-radius","29px","border","solid 1px","width","50%","margin-left","auto","background-color","#5432f6","color","white"],[1,"text-center",2,"width","100%","max-width","700px"],[1,"form-group"],["type","text","name","name","id","name","placeholder","Social media plan, study math 101 etc.","autofocus","",1,"form-control",2,"max-width","80%","position","relative","left","50%","transform","translateX(-50%)",3,"ngModel","ngModelChange"],[4,"ngIf"],[1,"btn","btn-primary",2,"max-width","200px","font-size","17px","font-weight","bold",3,"click"]],template:function(t,e){1&t&&(r.Qb(0,"app-todo",0),r.Xb("onCloseTodo",function(){return e.showTodo=!1}),r.Pb(),r.Lb(1,"app-header"),r.Qb(2,"div",1),r.Xb("click",function(){return e.showTodo=!0}),r.Qb(3,"button",2),r.Qb(4,"b",3),r.vc(5,"TO-DOS"),r.Pb(),r.Pb(),r.Pb(),r.Qb(6,"main",4),r.uc(7,CD,30,5,"div",5),r.uc(8,PD,16,2,"div",5),r.Pb(),r.Qb(9,"div",6),r.Qb(10,"div",7),r.Qb(11,"div",8),r.Lb(12,"img",9),r.Pb(),r.Pb(),r.Lb(13,"br"),r.Qb(14,"div",7),r.Qb(15,"div",10),r.Qb(16,"h3",11),r.vc(17,"For better experience, please use Dive on your desktop"),r.Pb(),r.Pb(),r.Pb(),r.Qb(18,"div",7),r.Qb(19,"div",10),r.Qb(20,"h6",11),r.vc(21,"Many errors occur during video calls in mobile browsers. Please use your desktop for a better, uninterrupted Dive experience for you and your fellow Diver."),r.Pb(),r.Pb(),r.Pb(),r.Pb()),2&t&&(r.hc("ngClass",e.showTodo?"todo-open":"todo-close"),r.Ab(7),r.hc("ngIf",!e.showPopup),r.Ab(1),r.hc("ngIf",e.showPopup))},directives:[uD,ct,GA,dt,En,Me,Cn,fe,Ne,Sn],styles:[".mobile[_ngcontent-%COMP%]{visibility:hidden;display:none}#hubspot-messages-iframe-container[_ngcontent-%COMP%]{display:none!important}@media screen and (max-width:849px){.mobile[_ngcontent-%COMP%]{visibility:visible;display:block}.desktop[_ngcontent-%COMP%]{visibility:hidden;display:none}}"]}),t})();var ED=n("oLy0"),TD=n.n(ED);let xD=(()=>{class t{constructor(t){this.http=t}reportDiver(t){return xr(this,void 0,void 0,function*(){this.http.post(i+"/sendReport",t).subscribe(t=>{console.log("Diver Reported: ",t)})})}reportBug(t){return xr(this,void 0,void 0,function*(){this.http.post(i+"/sendBug",t).subscribe(t=>{console.log("Bug Reported: ",t)})})}getGif(){return this.http.get(i+"/gif/get")}getVideo(){return this.http.get(i+"/soloVideos/get")}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(hr))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const OD=function(t){return{"d-none":t}},ID=["*"];let AD=(()=>{class t{constructor(){this.show=!0}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["app-notify"]],inputs:{src:"src",show:"show"},ngContentSelectors:ID,decls:11,vars:4,consts:[["id","notify",3,"ngClass","click"],[1,"container-fluid","notify-window"],[1,"row","d-flex","align-items-center","justify-content-center"],[1,"col-12","col-sm-4","text-center"],[1,"img-fluid",2,"margin-top","-10px",3,"src"],[1,"col-12","col-sm-8"],[1,"row",2,"width","100%"],[1,"col",2,"position","relative","left","50%","transform","translateX(-50%)"],[1,"btn","btn-primary",2,"background-color","white","color","#5432f6","position","relative","left","50%","transform","translateX(-50%)"]],template:function(t,e){1&t&&(r.gc(),r.Qb(0,"section",0),r.Xb("click",function(){return e.show=!1}),r.Qb(1,"div",1),r.Qb(2,"div",2),r.Qb(3,"div",3),r.Lb(4,"img",4),r.Pb(),r.Qb(5,"div",5),r.fc(6),r.Pb(),r.Qb(7,"div",6),r.Qb(8,"div",7),r.Qb(9,"button",8),r.vc(10," Ok "),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb()),2&t&&(r.hc("ngClass",r.lc(2,OD,!e.show)),r.Ab(4),r.hc("src",e.src,r.qc))},directives:[ct],styles:["#notify[_ngcontent-%COMP%]{position:fixed;top:0;width:100vw;height:100vh;background-color:rgba(52,58,64,.5)}#notify[_ngcontent-%COMP%] > .notify-window[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);z-index:9999;width:100%;max-width:450px;padding-top:40px;padding-bottom:30px;background-color:var(--primary);color:#fff;border-radius:8px}"]}),t})();function RD(t,e){if(1&t&&(r.Qb(0,"div",10),r.Qb(1,"div",11),r.Qb(2,"div",12),r.vc(3),r.Pb(),r.Qb(4,"div",13),r.vc(5),r.cc(6,"date"),r.Pb(),r.Pb(),r.Qb(7,"div",14),r.vc(8),r.Pb(),r.Pb()),2&t){const t=r.bc().$implicit;r.Ab(3),r.wc(t.user),r.Ab(2),r.wc(r.ec(6,3,t.dt,"hh:mm a")),r.Ab(3),r.wc(t.text)}}function DD(t,e){if(1&t&&(r.Qb(0,"div",15),r.Qb(1,"div",11),r.Qb(2,"div"),r.vc(3),r.Pb(),r.Qb(4,"div",13),r.vc(5),r.cc(6,"date"),r.Pb(),r.Pb(),r.Qb(7,"div",16),r.vc(8),r.Pb(),r.Pb()),2&t){const t=r.bc().$implicit;r.Ab(3),r.wc(t.user),r.Ab(2),r.wc(r.ec(6,3,t.dt,"hh:mm a")),r.Ab(3),r.wc(t.text)}}function jD(t,e){if(1&t&&(r.Qb(0,"div"),r.uc(1,RD,9,6,"div",8),r.uc(2,DD,9,6,"div",9),r.Pb()),2&t){const t=e.$implicit,n=r.bc();r.Ab(1),r.hc("ngIf",t.user==n.user),r.Ab(1),r.hc("ngIf",t.user!=n.user)}}let ND=(()=>{class t{constructor(t){this.authService=t,this.items=[],this.user="",this.onNewMessage=new r.n,this.onCloseChat=new r.n}ngOnInit(){var t,e;null===(t=this.socket)||void 0===t||t.on("chat",t=>{this.items.push(t),this.onNewMessage.emit("test")}),this.user=(null===(e=this.authService.user)||void 0===e?void 0:e.displayName)||""}closeChat(){this.onCloseChat.emit("test")}onSendChat(){var t,e;if(!this.message)return;const n={user:null===(t=this.authService.user)||void 0===t?void 0:t.displayName,dt:new Date,text:this.message};this.message="",this.items.push(n),null===(e=this.socket)||void 0===e||e.emit("chat",n)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(EE))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-chat"]],inputs:{socket:"socket"},outputs:{onNewMessage:"onNewMessage",onCloseChat:"onCloseChat"},decls:9,vars:2,consts:[["id","chat-wrapper",1,"d-flex","flex-column"],[2,"margin-left","5px"],["src","/assets/img/icons/chat-close.svg","alt","",2,"width","20px","margin-top","5px","cursor","pointer",3,"click"],["id","chat-history"],[4,"ngFor","ngForOf"],["id","chat-box",1,"d-flex","align-items-center"],["type","text","placeholder","Type a message",1,"form-control",3,"ngModel","ngModelChange","keyup.enter"],["src","/assets/img/icons/send.svg","alt","send",3,"click"],["class",".container-fluid chat-item","style","float: right;",4,"ngIf"],["class",".container-fluid chat-item","style","float: left;",4,"ngIf"],[1,".container-fluid","chat-item",2,"float","right"],[1,"chat-metadata","d-flex"],[2,"color","black"],[1,"flex-grow-1","text-right"],[1,"chat-text",2,"color","#51606d","background-color","#eaeff4"],[1,".container-fluid","chat-item",2,"float","left"],[1,"chat-text"]],template:function(t,e){1&t&&(r.Qb(0,"section",0),r.Qb(1,"div",1),r.Qb(2,"img",2),r.Xb("click",function(){return e.closeChat()}),r.Pb(),r.Pb(),r.Qb(3,"section",3),r.uc(4,jD,3,2,"div",4),r.Pb(),r.Qb(5,"section",5),r.Qb(6,"input",6),r.Xb("ngModelChange",function(t){return e.message=t})("keyup.enter",function(){return e.onSendChat()}),r.Pb(),r.Qb(7,"span"),r.Qb(8,"img",7),r.Xb("click",function(){return e.onSendChat()}),r.Pb(),r.Pb(),r.Pb(),r.Pb()),2&t&&(r.Ab(4),r.hc("ngForOf",e.items),r.Ab(2),r.hc("ngModel",e.message))},directives:[lt,fe,Ne,Sn,dt],pipes:[mt],styles:["#hubspot-messages-iframe-container[_ngcontent-%COMP%]{display:none!important}#chat-wrapper[_ngcontent-%COMP%]{height:100vh}#chat-wrapper[_ngcontent-%COMP%] > #chat-history[_ngcontent-%COMP%]{flex-grow:1;overflow-y:scroll}#chat-wrapper[_ngcontent-%COMP%] > #chat-history[_ngcontent-%COMP%]   .chat-item[_ngcontent-%COMP%]{margin:20px 0 0 15px;width:80%;max-width:300px}#chat-wrapper[_ngcontent-%COMP%] > #chat-history[_ngcontent-%COMP%]   .chat-item[_ngcontent-%COMP%] > .chat-metadata[_ngcontent-%COMP%]{color:grey;font-size:.7em}#chat-wrapper[_ngcontent-%COMP%] > #chat-history[_ngcontent-%COMP%]   .chat-item[_ngcontent-%COMP%] > .chat-text[_ngcontent-%COMP%]{background-color:#5432f6;padding:6px;color:#fff;font-size:14px;border-radius:7px;word-break:break-all}#chat-wrapper[_ngcontent-%COMP%] > #chat-box[_ngcontent-%COMP%]{background-color:#fff}#chat-wrapper[_ngcontent-%COMP%] > #chat-box[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{border:0}#chat-wrapper[_ngcontent-%COMP%] > #chat-box[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]:focus{border:0;box-shadow:none}#chat-wrapper[_ngcontent-%COMP%] > #chat-box[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{padding-right:.5em}input[_ngcontent-%COMP%]{border-radius:0}"]}),t})();const MD=["input"],LD=function(){return{enterDuration:150}},FD=["*"],UD=new r.q("mat-checkbox-default-options",{providedIn:"root",factory:QD});function QD(){return{color:"accent",clickAction:"check-indeterminate"}}let VD=0;const BD=QD(),qD={provide:ce,useExisting:Object(r.U)(()=>WD),multi:!0};class zD{}class HD{constructor(t){this._elementRef=t}}const KD=bI(gI(mI(pI(HD))));let WD=(()=>{class t extends KD{constructor(t,e,n,i,o,s,a){super(t),this._changeDetectorRef=e,this._focusMonitor=n,this._ngZone=i,this._animationMode=s,this._options=a,this.ariaLabel="",this.ariaLabelledby=null,this._uniqueId="mat-checkbox-"+ ++VD,this.id=this._uniqueId,this.labelPosition="after",this.name=null,this.change=new r.n,this.indeterminateChange=new r.n,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||BD,this.color=this.defaultColor=this._options.color||BD.color,this.tabIndex=parseInt(o)||0}get inputId(){return(this.id||this._uniqueId)+"-input"}get required(){return this._required}set required(t){this._required=DE(t)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{t||Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}),this._syncIndeterminate(this._indeterminate)}ngAfterViewChecked(){}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}get checked(){return this._checked}set checked(t){t!=this.checked&&(this._checked=t,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){const e=DE(t);e!==this.disabled&&(this._disabled=e,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(t){const e=t!=this._indeterminate;this._indeterminate=DE(t),e&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(t){this.checked=!!t}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_getAriaChecked(){return this.checked?"true":this.indeterminate?"mixed":"false"}_transitionCheckState(t){let e=this._currentCheckState,n=this._elementRef.nativeElement;if(e!==t&&(this._currentAnimationClass.length>0&&n.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(e,t),this._currentCheckState=t,this._currentAnimationClass.length>0)){n.classList.add(this._currentAnimationClass);const t=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{n.classList.remove(t)},1e3)})}}_emitChangeEvent(){const t=new zD;t.source=this,t.checked=this.checked,this._controlValueAccessorChangeFn(this.checked),this.change.emit(t)}toggle(){this.checked=!this.checked}_onInputClick(t){var e;const n=null===(e=this._options)||void 0===e?void 0:e.clickAction;t.stopPropagation(),this.disabled||"noop"===n?this.disabled||"noop"!==n||(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==n&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this.toggle(),this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}focus(t,e){t?this._focusMonitor.focusVia(this._inputElement,t,e):this._inputElement.nativeElement.focus(e)}_onInteractionEvent(t){t.stopPropagation()}_getAnimationClassForCheckStateTransition(t,e){if("NoopAnimations"===this._animationMode)return"";let n="";switch(t){case 0:if(1===e)n="unchecked-checked";else{if(3!=e)return"";n="unchecked-indeterminate"}break;case 2:n=1===e?"unchecked-checked":"unchecked-indeterminate";break;case 1:n=2===e?"checked-unchecked":"checked-indeterminate";break;case 3:n=1===e?"indeterminate-checked":"indeterminate-unchecked"}return"mat-checkbox-anim-"+n}_syncIndeterminate(t){const e=this._inputElement;e&&(e.nativeElement.indeterminate=t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.l),r.Kb(r.h),r.Kb(eT),r.Kb(r.z),r.Vb("tabindex"),r.Kb(aI,8),r.Kb(UD,8))},t.\u0275cmp=r.Eb({type:t,selectors:[["mat-checkbox"]],viewQuery:function(t,e){if(1&t&&(r.Ac(MD,!0),r.Ac(SI,!0)),2&t){let t;r.mc(t=r.Yb())&&(e._inputElement=t.first),r.mc(t=r.Yb())&&(e.ripple=t.first)}},hostAttrs:[1,"mat-checkbox"],hostVars:12,hostBindings:function(t,e){2&t&&(r.Tb("id",e.id),r.Bb("tabindex",null),r.Cb("mat-checkbox-indeterminate",e.indeterminate)("mat-checkbox-checked",e.checked)("mat-checkbox-disabled",e.disabled)("mat-checkbox-label-before","before"==e.labelPosition)("_mat-animation-noopable","NoopAnimations"===e._animationMode))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],id:"id",labelPosition:"labelPosition",name:"name",required:"required",checked:"checked",disabled:"disabled",indeterminate:"indeterminate",ariaDescribedby:["aria-describedby","ariaDescribedby"],value:"value"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],features:[r.zb([qD]),r.xb],ngContentSelectors:FD,decls:17,vars:20,consts:[[1,"mat-checkbox-layout"],["label",""],[1,"mat-checkbox-inner-container"],["type","checkbox",1,"mat-checkbox-input","cdk-visually-hidden",3,"id","required","checked","disabled","tabIndex","change","click"],["input",""],["matRipple","",1,"mat-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleRadius","matRippleCentered","matRippleAnimation"],[1,"mat-ripple-element","mat-checkbox-persistent-ripple"],[1,"mat-checkbox-frame"],[1,"mat-checkbox-background"],["version","1.1","focusable","false","viewBox","0 0 24 24",0,"xml","space","preserve",1,"mat-checkbox-checkmark"],["fill","none","stroke","white","d","M4.1,12.7 9,17.6 20.3,6.3",1,"mat-checkbox-checkmark-path"],[1,"mat-checkbox-mixedmark"],[1,"mat-checkbox-label",3,"cdkObserveContent"],["checkboxLabel",""],[2,"display","none"]],template:function(t,e){if(1&t&&(r.gc(),r.Qb(0,"label",0,1),r.Qb(2,"span",2),r.Qb(3,"input",3,4),r.Xb("change",function(t){return e._onInteractionEvent(t)})("click",function(t){return e._onInputClick(t)}),r.Pb(),r.Qb(5,"span",5),r.Lb(6,"span",6),r.Pb(),r.Lb(7,"span",7),r.Qb(8,"span",8),r.ac(),r.Qb(9,"svg",9),r.Lb(10,"path",10),r.Pb(),r.Zb(),r.Lb(11,"span",11),r.Pb(),r.Pb(),r.Qb(12,"span",12,13),r.Xb("cdkObserveContent",function(){return e._onLabelTextChange()}),r.Qb(14,"span",14),r.vc(15,"\xa0"),r.Pb(),r.fc(16),r.Pb(),r.Pb()),2&t){const t=r.nc(1),n=r.nc(13);r.Bb("for",e.inputId),r.Ab(2),r.Cb("mat-checkbox-inner-container-no-side-margin",!n.textContent||!n.textContent.trim()),r.Ab(1),r.hc("id",e.inputId)("required",e.required)("checked",e.checked)("disabled",e.disabled)("tabIndex",e.tabIndex),r.Bb("value",e.value)("name",e.name)("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby)("aria-checked",e._getAriaChecked())("aria-describedby",e.ariaDescribedby),r.Ab(2),r.hc("matRippleTrigger",t)("matRippleDisabled",e._isRippleDisabled())("matRippleRadius",20)("matRippleCentered",!0)("matRippleAnimation",r.kc(19,LD))}},directives:[SI,XE],styles:["@keyframes mat-checkbox-fade-in-background{0%{opacity:0}50%{opacity:1}}@keyframes mat-checkbox-fade-out-background{0%,50%{opacity:1}100%{opacity:0}}@keyframes mat-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:22.910259}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1)}100%{stroke-dashoffset:0}}@keyframes mat-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mat-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);stroke-dashoffset:0}to{stroke-dashoffset:-22.910259}}@keyframes mat-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(45deg)}}@keyframes mat-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:0;transform:rotate(45deg)}to{opacity:1;transform:rotate(360deg)}}@keyframes mat-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:0;transform:rotate(-45deg)}to{opacity:1;transform:rotate(0deg)}}@keyframes mat-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(315deg)}}@keyframes mat-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;opacity:1;transform:scaleX(1)}32.8%,100%{opacity:0;transform:scaleX(0)}}.mat-checkbox-background,.mat-checkbox-frame{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:2px;box-sizing:border-box;pointer-events:none}.mat-checkbox{display:inline-block;transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer;-webkit-tap-highlight-color:transparent}._mat-animation-noopable.mat-checkbox{transition:none;animation:none}.mat-checkbox .mat-ripple-element:not(.mat-checkbox-persistent-ripple){opacity:.16}.mat-checkbox-layout{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:inherit;align-items:baseline;vertical-align:middle;display:inline-flex;white-space:nowrap}.mat-checkbox-label{-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto}.mat-checkbox-inner-container{display:inline-block;height:16px;line-height:0;margin:auto;margin-right:8px;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0}[dir=rtl] .mat-checkbox-inner-container{margin-left:8px;margin-right:auto}.mat-checkbox-inner-container-no-side-margin{margin-left:0;margin-right:0}.mat-checkbox-frame{background-color:transparent;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1);border-width:2px;border-style:solid}._mat-animation-noopable .mat-checkbox-frame{transition:none}.cdk-high-contrast-active .mat-checkbox.cdk-keyboard-focused .mat-checkbox-frame{border-style:dotted}.mat-checkbox-background{align-items:center;display:inline-flex;justify-content:center;transition:background-color 90ms cubic-bezier(0, 0, 0.2, 0.1),opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}._mat-animation-noopable .mat-checkbox-background{transition:none}.cdk-high-contrast-active .mat-checkbox .mat-checkbox-background{background:none}.mat-checkbox-persistent-ripple{display:block;width:100%;height:100%;transform:none}.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:.04}.mat-checkbox.cdk-keyboard-focused .mat-checkbox-persistent-ripple{opacity:.12}.mat-checkbox-persistent-ripple,.mat-checkbox.mat-checkbox-disabled .mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:0}@media(hover: none){.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{display:none}}.mat-checkbox-checkmark{top:0;left:0;right:0;bottom:0;position:absolute;width:100%}.mat-checkbox-checkmark-path{stroke-dashoffset:22.910259;stroke-dasharray:22.910259;stroke-width:2.1333333333px}.cdk-high-contrast-black-on-white .mat-checkbox-checkmark-path{stroke:#000 !important}.mat-checkbox-mixedmark{width:calc(100% - 6px);height:2px;opacity:0;transform:scaleX(0) rotate(0deg);border-radius:2px}.cdk-high-contrast-active .mat-checkbox-mixedmark{height:0;border-top:solid 2px;margin-top:2px}.mat-checkbox-label-before .mat-checkbox-inner-container{order:1;margin-left:8px;margin-right:auto}[dir=rtl] .mat-checkbox-label-before .mat-checkbox-inner-container{margin-left:auto;margin-right:8px}.mat-checkbox-checked .mat-checkbox-checkmark{opacity:1}.mat-checkbox-checked .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-checked .mat-checkbox-mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark{opacity:0;transform:rotate(45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-indeterminate .mat-checkbox-mixedmark{opacity:1;transform:scaleX(1) rotate(0deg)}.mat-checkbox-unchecked .mat-checkbox-background{background-color:transparent}.mat-checkbox-disabled{cursor:default}.cdk-high-contrast-active .mat-checkbox-disabled{opacity:.5}.mat-checkbox-anim-unchecked-checked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-checked .mat-checkbox-checkmark-path{animation:180ms linear 0ms mat-checkbox-unchecked-checked-checkmark-path}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-unchecked-indeterminate-mixedmark}.mat-checkbox-anim-checked-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-checked-unchecked .mat-checkbox-checkmark-path{animation:90ms linear 0ms mat-checkbox-checked-unchecked-checkmark-path}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-checkmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-checkmark}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-mixedmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-checkmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-checkmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-mixedmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-mixedmark}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-mixedmark{animation:300ms linear 0ms mat-checkbox-indeterminate-unchecked-mixedmark}.mat-checkbox-input{bottom:0;left:50%}.mat-checkbox .mat-checkbox-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}\n"],encapsulation:2,changeDetection:0}),t})(),GD=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)}}),t})(),XD=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[EI,fI,YE,GD],fI,GD]}),t})();function YD(t,e){if(1&t){const t=r.Rb();r.Qb(0,"div",63),r.Lb(1,"video",64),r.Qb(2,"div",65),r.Lb(3,"img",66),r.Qb(4,"label",67),r.vc(5),r.Pb(),r.Pb(),r.Qb(6,"span",68),r.vc(7),r.Lb(8,"img",69),r.Pb(),r.Qb(9,"mat-menu",70,71),r.Qb(11,"div",72),r.Qb(12,"label",73),r.Xb("click",function(){r.oc(t);const e=r.bc();return e.openReport=!e.openReport}),r.vc(13,"Report"),r.Pb(),r.Pb(),r.Pb(),r.Pb()}if(2&t){const t=e.$implicit,n=r.nc(10);r.Ab(1),r.hc("hidden",!t.value.video)("srcObject",t.value.remoteStream),r.Ab(1),r.hc("hidden",t.value.video),r.Ab(3),r.wc(t.value.name),r.Ab(2),r.yc("",t.value.name," - ",t.value.partnersTopic," \xa0\xa0 "),r.Ab(1),r.hc("matMenuTriggerFor",n)}}function $D(t,e){1&t&&r.Lb(0,"img",74)}function JD(t,e){1&t&&r.Lb(0,"img",75)}function ZD(t,e){if(1&t){const t=r.Rb();r.Qb(0,"div",76),r.Qb(1,"button",77),r.Xb("click",function(){return r.oc(t),r.bc().onInvite=!0}),r.vc(2,"Invite"),r.Pb(),r.Pb()}}function tj(t,e){1&t&&r.Lb(0,"img",78)}function ej(t,e){1&t&&r.Lb(0,"img",79)}function nj(t,e){if(1&t){const t=r.Rb();r.Qb(0,"section",80),r.Qb(1,"app-chat",81),r.Xb("onNewMessage",function(){return r.oc(t),r.bc().doSomething(!0)})("onCloseChat",function(){return r.oc(t),r.bc().showChat=!1}),r.Pb(),r.Pb()}if(2&t){const t=r.bc();r.hc("hidden",!t.showChat),r.Ab(1),r.hc("socket",t.socket)}}function rj(t,e){1&t&&(r.Qb(0,"h6",35),r.vc(1,"Next session will start after the break"),r.Pb())}function ij(t,e){if(1&t){const t=r.Rb();r.Qb(0,"button",82),r.Xb("click",function(){return r.oc(t),r.bc().popupClosed=!1}),r.vc(1,"Close"),r.Pb()}}function oj(t,e){if(1&t&&(r.Qb(0,"a",83),r.Lb(1,"i",84),r.vc(2," Share what you accomplished"),r.Pb()),2&t){const t=r.bc();r.jc("href","https://twitter.com/share?url=I just finished my task: %27",t.generalTopic,"%27 in a dive.%0D%0A https://thedive.app",r.qc)}}function sj(t,e){if(1&t){const t=r.Rb();r.Qb(0,"button",53),r.Xb("click",function(){r.oc(t);const e=r.bc();return e.showFinishedButtons=!e.showFinishedButtons}),r.vc(1,"Dive again with this group"),r.Pb()}}function aj(t,e){1&t&&(r.Qb(0,"a",85),r.vc(1,"Enough for Now"),r.Pb())}function cj(t,e){if(1&t){const t=r.Rb();r.Qb(0,"div",86),r.Xb("click",function(){return r.oc(t),r.bc().copyToClipboard()}),r.vc(1,"Copy"),r.Pb()}}function uj(t,e){1&t&&(r.Qb(0,"div",87),r.vc(1,"Copied"),r.Pb())}function lj(t,e){1&t&&(r.Qb(0,"h4"),r.vc(1,"Please state your reason for reporting this Diver"),r.Pb())}function hj(t,e){1&t&&(r.Qb(0,"h5",88),r.vc(1,"Reported!"),r.Pb())}function dj(t,e){if(1&t){const t=r.Rb();r.Qb(0,"textarea",93),r.Xb("ngModelChange",function(e){return r.oc(t),r.bc(2).reportMsgText=e}),r.Pb()}if(2&t){const t=r.bc(2);r.hc("ngModel",t.reportMsgText)}}function fj(t,e){if(1&t){const t=r.Rb();r.Qb(0,"div",50),r.Qb(1,"mat-checkbox",89),r.Xb("change",function(e){r.oc(t);const n=r.bc();return e.checked?n.addCheckBoxValue("Abusive behaviours"):n.addUncheckBoxValue("Abusive behaviours")}),r.vc(2," Abusive behaviours "),r.Pb(),r.Lb(3,"br"),r.Qb(4,"mat-checkbox",90),r.Xb("change",function(e){r.oc(t);const n=r.bc();return e.checked?n.addCheckBoxValue("Diver is not working"):n.addUncheckBoxValue("Diver is not working")}),r.vc(5," Diver is not working "),r.Pb(),r.Lb(6,"br"),r.Qb(7,"mat-checkbox",91),r.Xb("change",function(e){return r.oc(t),r.bc().showOtherReport=!!e.checked}),r.vc(8," Other "),r.Pb(),r.Lb(9,"br"),r.uc(10,dj,1,1,"textarea",92),r.Pb()}if(2&t){const t=r.bc();r.Ab(10),r.hc("ngIf",t.showOtherReport)}}function pj(t,e){if(1&t){const t=r.Rb();r.Qb(0,"div",50),r.Qb(1,"button",94),r.Xb("click",function(){r.oc(t);const e=r.bc();return e.openReport=!1,e.reportSent=!1}),r.vc(2,"Close"),r.Pb(),r.Pb()}}function gj(t,e){if(1&t){const t=r.Rb();r.Qb(0,"div",50),r.Qb(1,"button",95),r.Xb("click",function(){return r.oc(t),r.bc().openReport=!1}),r.vc(2,"Cancel"),r.Pb(),r.Pb()}}function mj(t,e){if(1&t){const t=r.Rb();r.Qb(0,"div",50),r.Qb(1,"button",55),r.Xb("click",function(){return r.oc(t),r.bc().sendReport()}),r.vc(2,"Send"),r.Pb(),r.Pb()}}function bj(t,e){1&t&&(r.Qb(0,"h4"),r.vc(1,"Please state your issue"),r.Pb())}function vj(t,e){1&t&&(r.Qb(0,"h5",88),r.vc(1,"Thank you for reporting"),r.Pb())}function yj(t,e){if(1&t){const t=r.Rb();r.Qb(0,"textarea",93),r.Xb("ngModelChange",function(e){return r.oc(t),r.bc(2).bugMsgText=e}),r.Pb()}if(2&t){const t=r.bc(2);r.hc("ngModel",t.bugMsgText)}}function _j(t,e){if(1&t){const t=r.Rb();r.Qb(0,"div",50),r.Qb(1,"mat-checkbox",96),r.Xb("change",function(e){r.oc(t);const n=r.bc();return e.checked?n.addCheckBoxValueBug("I cant see my fellow Diver"):n.addUncheckBoxValueBug("I cant see my fellow Diver")}),r.vc(2,"\nI cant see my fellow Diver "),r.Pb(),r.Lb(3,"br"),r.Qb(4,"mat-checkbox",97),r.Xb("change",function(e){r.oc(t);const n=r.bc();return e.checked?n.addCheckBoxValueBug("I cant hear my fellow Diver"):n.addUncheckBoxValueBug("I cant hear my fellow Diver")}),r.vc(5," I cant hear my fellow Diver "),r.Pb(),r.Lb(6,"br"),r.Qb(7,"mat-checkbox",98),r.Xb("change",function(e){r.oc(t);const n=r.bc();return e.checked?n.addCheckBoxValueBug("Session did not start"):n.addUncheckBoxValueBug("Session did not start")}),r.vc(8," Session did not start "),r.Pb(),r.Lb(9,"br"),r.Qb(10,"mat-checkbox",91),r.Xb("change",function(e){return r.oc(t),r.bc().showOtherBug=!!e.checked}),r.vc(11," Other "),r.Pb(),r.Lb(12,"br"),r.uc(13,yj,1,1,"textarea",92),r.Pb()}if(2&t){const t=r.bc();r.Ab(13),r.hc("ngIf",t.showOtherBug)}}function wj(t,e){if(1&t){const t=r.Rb();r.Qb(0,"div",50),r.Qb(1,"button",94),r.Xb("click",function(){r.oc(t);const e=r.bc();return e.openBug=!1,e.bugSent=!1}),r.vc(2,"Close"),r.Pb(),r.Pb()}}function Cj(t,e){if(1&t){const t=r.Rb();r.Qb(0,"div",50),r.Qb(1,"button",95),r.Xb("click",function(){return r.oc(t),r.bc().openBug=!1}),r.vc(2,"Cancel"),r.Pb(),r.Pb()}}function kj(t,e){if(1&t){const t=r.Rb();r.Qb(0,"div",50),r.Qb(1,"button",55),r.Xb("click",function(){return r.oc(t),r.bc().sendBug()}),r.vc(2,"Send"),r.Pb(),r.Pb()}}var Pj=function(t){return t[t.intro=0]="intro",t[t.call=1]="call",t[t.outro=2]="outro",t[t.extra=3]="extra",t}({});const Sj=(t,e)=>new Date(t.getTime()+60*e*1e3),Ej=t=>Math.floor((t.getTime()-(new Date).getTime())/1e3);let Tj=(()=>{class t{constructor(t,e,n,r,i){this.route=t,this.authService=e,this.router=n,this.profileUpdateService=r,this.reportService=i,this.showFinishedButtons=!0,this.myConfig={video:!0,audio:!0},this.remoteUsers={},this.counterConfig={},this.showChat=!1,this.Mode=Pj,this.onLeave=!1,this.showPartnerLeaved=!1,this.partnerVideoMuted=!1,this.openReport=!1,this.reportMsg=new Array,this.reportMsgText="",this.reportMail="",this.showOtherReport=!1,this.reportSent=!1,this.openBug=!1,this.bugMsg=new Array,this.bugMsgText="",this.showOtherBug=!1,this.bugSent=!1,this.showInfo=!1,this.generalTopic="",this.popupClosed=!0,this.newMessage=!1,this.gifSource="",this.gifText="",this.showTodo=!1,this.showInvite=!1,this.onInvite=!1,this.rUrl="",this.isCopied=!1,this.sessionOver=!1,this.roomType="",this.topic="",this.peerConfig=o;const s=t.snapshot.paramMap.get("rid")||"";this.rUrl=s,this.roomType=t.snapshot.queryParams.rtype||"normal","public"==this.roomType&&(this.showInvite=!0),this.topic=t.snapshot.queryParams.t||"",this.generalTopic=this.topic,this.peer=new TD.a(this.peerConfig),this.peer.on("open",()=>xr(this,void 0,void 0,function*(){this.myStream=yield navigator.mediaDevices.getUserMedia({video:{width:{ideal:360,max:480},height:{ideal:240,max:360},frameRate:{ideal:14,max:30}},audio:!0}).catch(t=>(SE.a.fire("Video Error","Video source could not started. Please check your browser video, microphone permissions and make sure that no other app is using your camera then refresh the page.","error"),console.log("Video error: "+t),navigator.mediaDevices.getUserMedia({audio:!0}))),this.peer.on("error",function(t){console.log("PEER ERROR: "+t)}),console.log(`[peer] [${this.peer.id}] [open]`),this.socket=Object(vD.io)("https://api.thedive.app/call",{transports:["websocket"]}),this.socket.onAny((t,...e)=>{var n;return console.log(`[socket] [${null===(n=this.socket)||void 0===n?void 0:n.id}] [${t}]`,e)}),this.socket.on("connect",()=>{var t,n,r;console.log(`[socket] [${null===(t=this.socket)||void 0===t?void 0:t.id}] [connect]`),null===(n=this.socket)||void 0===n||n.emit("init",{rid:s,pid:this.peer.id,uid:null===(r=e.user)||void 0===r?void 0:r.email})}),this.socket.on("make-call",t=>{var e,n;const{pid:r,name:i,partnersTopic:o,mail:s,video:a}=t;console.log("PAYLOAD: "+this.topic);let c=!1;this.peer.call(r,this.myStream,{metadata:{caller:{name:null===(e=this.authService.user)||void 0===e?void 0:e.displayName,topic:this.topic,mail:null===(n=this.authService.user)||void 0===n?void 0:n.email,video:!0}}}).on("stream",t=>{if(console.log("call stream 1"),!c){this.remoteUsers[r]={remoteStream:t,name:i,partnersTopic:o,mail:s,video:a};var e=Array.from(document.getElementsByClassName("remote-vid"));e&&e.forEach(t=>{t&&t.play()}),c=!0}this.reportMail=s})}),this.socket.on("notify",t=>{SE.a.fire("Sorry",t,"info")}),this.socket.on("partner-leave",()=>{"public"!=this.roomType&&(this.showPartnerLeaved=!0)}),this.socket.on("partner-video-mute",t=>{var e;if(t.user!=(null===(e=this.authService.user)||void 0===e?void 0:e.email)){for(var n in this.remoteUsers)this.remoteUsers[n].mail==t.user&&(this.remoteUsers[n].video=!this.remoteUsers[n].video);console.log("PARTNER VIDEO: "+this.partnerVideoMuted)}}),this.socket.on("show-emoji",t=>{var e;if(t.user!=(null===(e=this.authService.user)||void 0===e?void 0:e.displayName)){var n=document.getElementById("emoji");null!=n&&(n.style.visibility="visible",setTimeout(this.closeEmoji,3e3))}}),this.socket.on("metadata",t=>{let{session_starts_at:e,dive_duration:n}=t;const r=new Date;e=new Date(e);const i=Sj(e,1),o=Sj(i,n),s=Sj(o,1),a=Sj(s,10);console.log({introEndsAt:i,diveEndsAt:o,outroEndsAt:s,sessionEndsAt:a});const c=()=>{var t;null===(t=this.socket)||void 0===t||t.emit("rejoin"),console.log("it is over"),this.sessionOver=!0,"public"==this.roomType?setTimeout(()=>this.router.navigate(["/public-call/"+this.rUrl],{queryParams:{t:this.topic}}),1e3):setTimeout(()=>window.location.reload(),1e3)},u=()=>{this.mode=Pj.extra;const t=Ej(a);this.setCounterConfig(t),setTimeout(c,1e3*t),this.reportService.getGif().subscribe(t=>{this.gifData=t,this.gifSource="https://api.thedive.app/endingGifs/"+this.gifData.gifName,this.gifText=this.gifData.text})},l=()=>{new Audio("/assets/gong2.wav").play(),this.mode=Pj.outro;const t=Ej(s);this.setCounterConfig(t),setTimeout(u,1e3*t)},h=()=>{new Audio("/assets/gong2.wav").play(),this.mode=Pj.call;const t=Ej(o);this.setCounterConfig(t),setTimeout(l,1e3*t)};r<i?(()=>{this.mode=Pj.intro;const t=Ej(i);this.setCounterConfig(t),setTimeout(h,1e3*t)})():r<o?h():r<s?l():r<a?u():c()}),this.socket.on("disconnected",t=>{delete this.remoteUsers[t.pid]})}))}doSomething(t){this.newMessage=1==t,this.showChat&&(this.newMessage=!1)}ngOnInit(){var t;return xr(this,void 0,void 0,function*(){hidehb(),null===(t=this.peer)||void 0===t||t.on("call",t=>{let e=!1;console.log("on call",t.metadata),this.reportMail=t.metadata.caller.mail,t.answer(this.myStream),t.on("stream",n=>{console.log("call stream 2"),e||(this.remoteUsers[t.peer]={remoteStream:n,name:t.metadata.caller.name,partnersTopic:t.metadata.caller.topic,mail:t.metadata.caller.mail,video:t.metadata.caller.video},e=!0)})})})}onCallEnd(){this.onLeave=!0}onLeaveSession(){var t,e;const n={user:null===(t=this.authService.user)||void 0===t?void 0:t.email};null===(e=this.socket)||void 0===e||e.emit("partner-leave",n),this.router.navigate(["/dive"])}onVideoMute(){var t,e,n,r;const i={user:null===(t=this.authService.user)||void 0===t?void 0:t.email};null===(e=this.socket)||void 0===e||e.emit("partner-video-mute",i),this.myConfig.video=!this.myConfig.video,null===(n=this.myStream)||void 0===n||(n.getVideoTracks()[0].enabled=!(null===(r=this.myStream)||void 0===r?void 0:r.getVideoTracks()[0].enabled))}onAudioMute(){var t,e;this.myConfig.audio=!this.myConfig.audio,null===(t=this.myStream)||void 0===t||(t.getAudioTracks()[0].enabled=!(null===(e=this.myStream)||void 0===e?void 0:e.getAudioTracks()[0].enabled))}ngOnDestroy(){var t;null===(t=this.socket)||void 0===t||t.close(),this.myStream&&this.myStream.getTracks().forEach(t=>t.stop())}sendReport(){console.log("REPORT: "+this.reportMail),console.log(this.reportMsg),this.showOtherReport&&this.reportMsg.push({msg:this.reportMsgText}),this.reportService.reportDiver({mail:this.reportMail,reportmsgs:this.reportMsg}),this.reportSent=!0,this.reportMsgText=""}sendBug(){var t;this.showOtherBug&&this.bugMsg.push({msg:this.bugMsgText}),console.log(this.bugMsg),this.reportService.reportBug({mail:null===(t=this.authService.user)||void 0===t?void 0:t.email,bugmsgs:this.bugMsg}),this.bugSent=!0,this.bugMsgText=""}addCheckBoxValue(t){this.reportMsg.push({msg:t})}addUncheckBoxValue(t){this.reportMsg.forEach((e,n)=>{e.msg==t&&this.reportMsg.splice(n,1)})}addCheckBoxValueBug(t){this.bugMsg.push({msg:t})}addUncheckBoxValueBug(t){this.bugMsg.forEach((e,n)=>{e.msg==t&&this.bugMsg.splice(n,1)})}copyToClipboard(){navigator.clipboard.writeText("https://thedive.app/public-onboard/"+this.rUrl).then().catch(t=>console.error(t)),this.isCopied=!0}sendEmoji(){var t,e;const n={user:null===(t=this.authService.user)||void 0===t?void 0:t.email};null===(e=this.socket)||void 0===e||e.emit("show-emoji",n)}closeEmoji(){console.log("close emoji");var t=document.getElementById("emoji");null!=t&&(t.style.visibility="hidden")}onCountdownEvent(t){}setCounterConfig(t){this.counterConfig={format:"mm:ss",leftTime:t}}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(Ho),r.Kb(EE),r.Kb(ua),r.Kb(CE),r.Kb(xD))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-room"]],decls:178,vars:45,consts:[[2,"height","100vh","position","absolute",3,"ngClass","onCloseTodo"],[2,"position","absolute","top","30%","left","0px","z-index","9999",3,"click"],[2,"display","flex","-webkit-box-pack","center","justify-content","center","-webkit-box-align","center","align-items","center","width","70px","height","44px","min-width","44px","border-top-right-radius","6px","border-bottom-right-radius","6px","left","0px","outline","none","border","none","background-color","#5432f6","color","#ffffff","z-index","9999","box-shadow","rgb(0 0 0 / 50%) 0px 4px 16px 0px"],[2,"color","#ffffff","font-size","13px"],["id","video-section"],["class","remote-stream-item",4,"ngFor","ngForOf"],["id","control-bar"],[1,"container-fluid"],[1,"row"],[1,"col","d-flex","align-items-center",2,"position","relative","left","40px"],[1,"d-flex","justify-content-center","rounded-circle","mx-1","icon-wrapper",3,"click"],["alt","video-on",3,"src"],["src","/assets/img/icons/mic.svg","style","width: 13px;","alt","mic-on",4,"ngIf"],["src","/assets/img/icons/mic-off.svg","alt","mic-off",4,"ngIf"],[1,"col","d-flex","align-items-center","justify-content-center","text-white"],[2,"font-size","16px","font-weight","normal",3,"config","event"],[1,"col","d-flex","align-items-center",2,"position","relative","justify-content","flex-end","right","40px"],["class","d-flex justify-content-center mx-1 icon-wrapper",4,"ngIf"],["src","/assets/img/icons/message-square.svg","alt","message-square",4,"ngIf"],["src","/assets/img/chat-new.svg","alt","message-square","style","width: 20px;",4,"ngIf"],[1,"d-flex","justify-content-center","rounded-circle","mx-1","icon-wrapper","bg-red",3,"click"],["src","/assets/img/icons/phone-off.svg","alt","phone-off"],["id","dive-logo",2,"display","flex"],[2,"margin-right","20px","color","white","cursor","pointer",3,"click"],["src","/assets/img/info.svg",2,"margin-right","5px","cursor","pointer",3,"click"],["id","local-stream","autoplay","","playsinline","",3,"srcObject","muted"],["id","chat-section",3,"hidden",4,"ngIf"],["src","/assets/img/group-444.svg",3,"show"],["src","/assets/img/group-44.svg",3,"show"],[1,"font-weight-bold"],[1,"card1",3,"hidden"],[1,"container-fluid","notify-window"],[1,"row","d-flex","align-items-center","justify-content-center"],[1,"col-12","text-center"],[1,"img-fluid",2,"max-height","200px",3,"src"],[2,"font-weight","bold"],["style","font-weight: bold;",4,"ngIf"],["class","btn btn-white btn-block","style","color:red",3,"click",4,"ngIf"],["class","btn btn-white btn-block","style","background-color: #1DA1F2;color: white","target","_blank",3,"href",4,"ngIf"],["class","btn btn-white btn-block",3,"click",4,"ngIf"],["class","btn btn-white btn-block","routerLink","/dive",4,"ngIf"],[1,"container-fluid","notify-window",2,"max-width","600px"],[1,"w-100","d-flex","justify-content-end"],["type","button","aria-label","Close",1,"close",2,"outline","none","position","relative","top","-10px",3,"click"],["aria-hidden","true"],[2,"border-radius","29px","border","solid 1px rgba(84, 50, 246, 0.34)","width","90%","height","60px","position","relative","left","50%","transform","translateX(-50%)"],[1,".container-fluid"],[1,"row",2,"height","60px"],[1,"col-8"],[2,"position","relative","text-align","left","top","50%","transform","translateY(-50%)","font-size","12px","height","fit-content","font-weight","600","display","flex","left","20px"],[1,"col"],["style","cursor:pointer; top:50%;transform: translateY(-50%);position: relative;right: 20px;border-radius: 29px;text-align: center;\nborder: solid 1px;width: 50%;margin-left: auto;",3,"click",4,"ngIf"],["style","top:50%;transform: translateY(-50%);position: relative;right: 20px;border-radius: 29px;\n   border: solid 1px;width: 50%;margin-left: auto;background-color: #5432f6;color:white;text-align: center;",4,"ngIf"],[1,"btn","btn-white","btn-block",3,"click"],[1,"btn","btn-white","btn-block",2,"background-color","red","color","white",3,"click"],[1,"btn","btn-primary",2,"background-color","white","color","#5432f6",3,"click"],[4,"ngIf"],["style","left: 50%;position: relative;transform: translateX(-50%);",4,"ngIf"],["class","col",4,"ngIf"],[2,"list-style","none"],[1,"btn","btn-primary",2,"left","50%","position","relative","transform","translateX(-50%)",3,"click"],["id","emoji",1,"card1",2,"visibility","hidden"],["src","/assets/img/gif.gif","alt","",2,"position","relative","left","50%","top","40%","transform","translate(-50%,-40%)","height","100px","width","100px"],[1,"remote-stream-item"],["playsinline","","autoplay","","muted","",1,"remote-vid",3,"hidden","srcObject"],[1,".container-fluid",3,"hidden"],["src","/assets/img/camera-off-man.png",2,"height","100vh","position","relative","left","50%","transform","translateX(-50%)"],[2,"font-size","27px","font-weight","bold","position","absolute","left","50%","transform","translate(-50%,-50%)","color","white","top","50%"],[1,"banner"],["src","/assets/img/icons/flag.svg","alt","",1,"dropdown",2,"cursor","pointer",3,"matMenuTriggerFor"],[1,"customize","shadow-sm"],["appMenu","matMenu"],["mat-menu-item",""],[2,"color","red","cursor","pointer","width","100%",3,"click"],["src","/assets/img/icons/mic.svg","alt","mic-on",2,"width","13px"],["src","/assets/img/icons/mic-off.svg","alt","mic-off"],[1,"d-flex","justify-content-center","mx-1","icon-wrapper"],[1,"invite-button",3,"click"],["src","/assets/img/icons/message-square.svg","alt","message-square"],["src","/assets/img/chat-new.svg","alt","message-square",2,"width","20px"],["id","chat-section",3,"hidden"],[3,"socket","onNewMessage","onCloseChat"],[1,"btn","btn-white","btn-block",2,"color","red",3,"click"],["target","_blank",1,"btn","btn-white","btn-block",2,"background-color","#1DA1F2","color","white",3,"href"],[1,"fab","fa-twitter",2,"color","white","margin-right","5px"],["routerLink","/dive",1,"btn","btn-white","btn-block"],[2,"cursor","pointer","top","50%","transform","translateY(-50%)","position","relative","right","20px","border-radius","29px","text-align","center","border","solid 1px","width","50%","margin-left","auto",3,"click"],[2,"top","50%","transform","translateY(-50%)","position","relative","right","20px","border-radius","29px","border","solid 1px","width","50%","margin-left","auto","background-color","#5432f6","color","white","text-align","center"],[2,"left","50%","position","relative","transform","translateX(-50%)"],["matInput","","value","Abusive behaviours","type","checkbox","color","primary",2,"margin-left","20px",3,"change"],["matInput","","value","Diver is not working","type","checkbox","color","primary",2,"margin-left","20px",3,"change"],["matInput","","value","Other","type","checkbox","color","primary",2,"margin-left","20px",3,"change"],["style","margin-left: 20px;border: 1px solid #5432f6;","name","","id","","cols","35","rows","2",3,"ngModel","ngModelChange",4,"ngIf"],["name","","id","","cols","35","rows","2",2,"margin-left","20px","border","1px solid #5432f6",3,"ngModel","ngModelChange"],[1,"btn","btn-white",2,"background-color","white","color","red","left","50%","position","relative","transform","translateX(-50%)",3,"click"],[1,"btn","btn-white",2,"background-color","white","color","red",3,"click"],["matInput","","value","I cant see my fellow Diver","type","checkbox","color","primary",2,"margin-left","20px",3,"change"],["matInput","","value","I cant hear my fellow Diver","type","checkbox","color","primary",2,"margin-left","20px",3,"change"],["matInput","","value","Session did not start","type","checkbox","color","primary",2,"margin-left","20px",3,"change"]],template:function(t,e){1&t&&(r.Qb(0,"app-todo",0),r.Xb("onCloseTodo",function(){return e.showTodo=!1}),r.Pb(),r.Qb(1,"div",1),r.Xb("click",function(){return e.showTodo=!0}),r.Qb(2,"button",2),r.Qb(3,"b",3),r.vc(4,"TO-DOS"),r.Pb(),r.Pb(),r.Pb(),r.Qb(5,"main"),r.Qb(6,"section",4),r.uc(7,YD,14,7,"div",5),r.cc(8,"keyvalue"),r.Qb(9,"div",6),r.Qb(10,"div",7),r.Qb(11,"div",8),r.Qb(12,"div",9),r.Qb(13,"div",10),r.Xb("click",function(){return e.onVideoMute()}),r.Lb(14,"img",11),r.Pb(),r.Qb(15,"div",10),r.Xb("click",function(){return e.onAudioMute()}),r.uc(16,$D,1,0,"img",12),r.uc(17,JD,1,0,"img",13),r.Pb(),r.Pb(),r.Qb(18,"div",14),r.Qb(19,"span"),r.Qb(20,"countdown",15),r.Xb("event",function(t){return e.onCountdownEvent(t)}),r.Pb(),r.Pb(),r.Pb(),r.Qb(21,"div",16),r.uc(22,ZD,3,0,"div",17),r.Qb(23,"div",10),r.Xb("click",function(){return e.showChat=!e.showChat,e.doSomething(!1)}),r.uc(24,tj,1,0,"img",18),r.uc(25,ej,1,0,"img",19),r.Pb(),r.Qb(26,"div",20),r.Xb("click",function(){return e.onCallEnd()}),r.Lb(27,"img",21),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(28,"div",22),r.Qb(29,"u",23),r.Xb("click",function(){return e.openBug=!0}),r.vc(30,"Any issues?"),r.Pb(),r.Qb(31,"img",24),r.Xb("click",function(){return e.showInfo=!0}),r.Pb(),r.Pb(),r.Lb(32,"video",25),r.Pb(),r.uc(33,nj,2,2,"section",26),r.Pb(),r.Qb(34,"app-notify",27),r.Qb(35,"p"),r.vc(36,"Tell briefly about yourself and what you are going to accomplish in this Dive "),r.Qb(37,"b"),r.vc(38,"in 1 minute."),r.Pb(),r.Pb(),r.Pb(),r.Qb(39,"app-notify",28),r.Qb(40,"p",29),r.vc(41,"Well Done!"),r.Pb(),r.Qb(42,"p"),r.vc(43,"Share what you have accomplished in this Dive "),r.Qb(44,"b"),r.vc(45,"in 1 minute."),r.Pb(),r.Pb(),r.Pb(),r.Qb(46,"section",30),r.Qb(47,"div",31),r.Qb(48,"div",32),r.Qb(49,"div",33),r.Lb(50,"img",34),r.Lb(51,"br"),r.Lb(52,"br"),r.Qb(53,"h6",35),r.vc(54,"Take a 10 minute break"),r.Pb(),r.Qb(55,"h6"),r.vc(56),r.Pb(),r.uc(57,rj,2,0,"h6",36),r.Lb(58,"br"),r.uc(59,ij,2,0,"button",37),r.uc(60,oj,3,1,"a",38),r.uc(61,sj,2,0,"button",39),r.uc(62,aj,2,0,"a",40),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(63,"section",30),r.Qb(64,"div",41),r.Qb(65,"div",42),r.Qb(66,"button",43),r.Xb("click",function(){return e.onInvite=!1}),r.Qb(67,"span",44),r.vc(68,"\xd7"),r.Pb(),r.Pb(),r.Pb(),r.Qb(69,"div",32),r.Qb(70,"div",33),r.Qb(71,"h4"),r.vc(72,"Share this link with your friend"),r.Pb(),r.Pb(),r.Pb(),r.Lb(73,"br"),r.Lb(74,"br"),r.Qb(75,"div",45),r.Qb(76,"div",46),r.Qb(77,"div",47),r.Qb(78,"div",48),r.Qb(79,"label",49),r.vc(80),r.Pb(),r.Pb(),r.Qb(81,"div",50),r.uc(82,cj,2,0,"div",51),r.uc(83,uj,2,0,"div",52),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(84,"section",30),r.Qb(85,"div",31),r.Qb(86,"div",32),r.Qb(87,"div",33),r.Qb(88,"h4"),r.vc(89,"Are you sure you want to leave the session?"),r.Pb(),r.Pb(),r.Pb(),r.Lb(90,"br"),r.Lb(91,"br"),r.Qb(92,"div",8),r.Qb(93,"div",50),r.Qb(94,"button",53),r.Xb("click",function(){return e.onLeave=!e.onLeave}),r.vc(95,"No"),r.Pb(),r.Pb(),r.Qb(96,"div",50),r.Qb(97,"button",54),r.Xb("click",function(){return e.onLeaveSession()}),r.vc(98,"Yes"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(99,"section",30),r.Qb(100,"div",31),r.Qb(101,"div",32),r.Qb(102,"div",33),r.Qb(103,"h4"),r.vc(104,"Your dive partner has left, do you want to continue in this session?"),r.Pb(),r.Pb(),r.Pb(),r.Lb(105,"br"),r.Lb(106,"br"),r.Qb(107,"div",8),r.Qb(108,"div",50),r.Qb(109,"button",53),r.Xb("click",function(){return e.onLeaveSession()}),r.vc(110,"No, leave"),r.Pb(),r.Pb(),r.Qb(111,"div",50),r.Qb(112,"button",55),r.Xb("click",function(){return e.showPartnerLeaved=!e.showPartnerLeaved}),r.vc(113,"Yes, continue"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(114,"section",30),r.Qb(115,"div",31),r.Qb(116,"div",32),r.Qb(117,"div",33),r.uc(118,lj,2,0,"h4",56),r.Pb(),r.Pb(),r.Lb(119,"br"),r.Qb(120,"div",8),r.uc(121,hj,2,0,"h5",57),r.uc(122,fj,11,1,"div",58),r.Pb(),r.Lb(123,"br"),r.Qb(124,"div",8),r.uc(125,pj,3,0,"div",58),r.uc(126,gj,3,0,"div",58),r.uc(127,mj,3,0,"div",58),r.Pb(),r.Pb(),r.Pb(),r.Qb(128,"section",30),r.Qb(129,"div",31),r.Qb(130,"div",32),r.Qb(131,"div",33),r.uc(132,bj,2,0,"h4",56),r.Pb(),r.Pb(),r.Lb(133,"br"),r.Qb(134,"div",8),r.uc(135,vj,2,0,"h5",57),r.uc(136,_j,14,1,"div",58),r.Pb(),r.Lb(137,"br"),r.Qb(138,"div",8),r.uc(139,wj,3,0,"div",58),r.uc(140,Cj,3,0,"div",58),r.uc(141,kj,3,0,"div",58),r.Pb(),r.Pb(),r.Pb(),r.Qb(142,"section",30),r.Qb(143,"div",31),r.Qb(144,"div",32),r.Qb(145,"div",33),r.Qb(146,"h4"),r.vc(147,"How does a Dive session work?"),r.Pb(),r.Pb(),r.Pb(),r.Lb(148,"br"),r.Qb(149,"div",8),r.Qb(150,"div",50),r.Qb(151,"ul",59),r.Qb(152,"li"),r.Qb(153,"label"),r.Qb(154,"b"),r.vc(155,"1-)"),r.Pb(),r.vc(156,"\xa0Tell what you are going to accomplish in this dive in 1 minute"),r.Pb(),r.Pb(),r.Qb(157,"li"),r.Qb(158,"label"),r.Qb(159,"b"),r.vc(160,"2-)"),r.Pb(),r.vc(161,"\xa0Start to work on your task with ring"),r.Pb(),r.Pb(),r.Qb(162,"li"),r.Qb(163,"label"),r.Qb(164,"b"),r.vc(165,"3-)"),r.Pb(),r.vc(166,"\xa0Finish your task with second ring and tell what you have accomplished in this dive to your fellow diver"),r.Pb(),r.Pb(),r.Qb(167,"li"),r.Qb(168,"label"),r.Qb(169,"b"),r.vc(170,"4-)"),r.Pb(),r.vc(171,"\xa0Execute energizing activity"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(172,"div",8),r.Qb(173,"div",50),r.Qb(174,"button",60),r.Xb("click",function(){return e.showInfo=!1}),r.vc(175,"Ok"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(176,"section",61),r.Lb(177,"img",62),r.Pb()),2&t&&(r.hc("ngClass",e.showTodo?"todo-open":"todo-close"),r.Ab(7),r.hc("ngForOf",r.dc(8,43,e.remoteUsers)),r.Ab(7),r.jc("src","/assets/img/icons/video-",e.myConfig.video?"on":"off",".svg",r.qc),r.Ab(2),r.hc("ngIf",e.myConfig.audio),r.Ab(1),r.hc("ngIf",!e.myConfig.audio),r.Ab(3),r.hc("config",e.counterConfig),r.Ab(2),r.hc("ngIf",e.showInvite),r.Ab(2),r.hc("ngIf",!e.newMessage),r.Ab(1),r.hc("ngIf",e.newMessage),r.Ab(7),r.hc("srcObject",e.myStream)("muted",!0),r.Ab(1),r.hc("ngIf",e.socket),r.Ab(1),r.hc("show",e.mode===e.Mode.intro),r.Ab(5),r.hc("show",e.mode===e.Mode.outro),r.Ab(7),r.hc("hidden",e.mode!==e.Mode.extra||!e.popupClosed),r.Ab(4),r.ic("src",e.gifSource,r.qc),r.Ab(6),r.wc(e.gifText),r.Ab(1),r.hc("ngIf",!e.showFinishedButtons),r.Ab(2),r.hc("ngIf",!e.showFinishedButtons),r.Ab(1),r.hc("ngIf",e.showFinishedButtons),r.Ab(1),r.hc("ngIf",e.showFinishedButtons),r.Ab(1),r.hc("ngIf",e.showFinishedButtons),r.Ab(1),r.hc("hidden",!e.onInvite),r.Ab(17),r.xc(" https://thedive.app/public-onboard/",e.rUrl," "),r.Ab(2),r.hc("ngIf",!e.isCopied),r.Ab(1),r.hc("ngIf",e.isCopied),r.Ab(1),r.hc("hidden",!e.onLeave),r.Ab(15),r.hc("hidden",!e.showPartnerLeaved),r.Ab(15),r.hc("hidden",!e.openReport),r.Ab(4),r.hc("ngIf",!e.reportSent),r.Ab(3),r.hc("ngIf",e.reportSent),r.Ab(1),r.hc("ngIf",!e.reportSent),r.Ab(3),r.hc("ngIf",e.reportSent),r.Ab(1),r.hc("ngIf",!e.reportSent),r.Ab(1),r.hc("ngIf",!e.reportSent),r.Ab(1),r.hc("hidden",!e.openBug),r.Ab(4),r.hc("ngIf",!e.bugSent),r.Ab(3),r.hc("ngIf",e.bugSent),r.Ab(1),r.hc("ngIf",!e.bugSent),r.Ab(3),r.hc("ngIf",e.bugSent),r.Ab(1),r.hc("ngIf",!e.bugSent),r.Ab(1),r.hc("ngIf",!e.bugSent),r.Ab(1),r.hc("hidden",!e.showInfo))},directives:[uD,ct,lt,dt,sc,AD,LA,DA,OA,ND,la,WD,fe,Ne,Sn],pipes:[bt],styles:[".customize{background-color:#fff;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;margin-top:15px}#hubspot-messages-iframe-container[_ngcontent-%COMP%]{display:none!important}  .mat-checkbox-checked .mat-checkbox-background{background-color:#5432f6}.info-label[_ngcontent-%COMP%]{font-size:15px}.invite-button[_ngcontent-%COMP%]{background-color:#5432f6;color:#fff;border:1px solid #fff;margin-right:1em;outline:none;cursor:pointer}.invite-button[_ngcontent-%COMP%]:hover{background-color:#401dec}main[_ngcontent-%COMP%]{display:flex;height:100vh}main[_ngcontent-%COMP%] > #video-section[_ngcontent-%COMP%]{flex-grow:1;display:flex;position:relative}main[_ngcontent-%COMP%] > #video-section[_ngcontent-%COMP%] > .remote-stream-item[_ngcontent-%COMP%]{background-color:#000;flex-grow:1;position:relative}main[_ngcontent-%COMP%] > #video-section[_ngcontent-%COMP%] > .remote-stream-item[_ngcontent-%COMP%] > video[_ngcontent-%COMP%]{width:100%;height:100%;margin-left:10px;margin-right:10px}main[_ngcontent-%COMP%] > #video-section[_ngcontent-%COMP%] > .remote-stream-item[_ngcontent-%COMP%] > .name[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:#fff}main[_ngcontent-%COMP%] > #video-section[_ngcontent-%COMP%] > .remote-stream-item[_ngcontent-%COMP%] > .banner[_ngcontent-%COMP%]{position:absolute;top:1em;left:1em;color:#fff;padding:8px 18px;background-color:#5432f6;border-radius:6px;font-size:.91rem}main[_ngcontent-%COMP%] > #video-section[_ngcontent-%COMP%] > #control-bar[_ngcontent-%COMP%]{position:absolute;bottom:0;width:100%;background:#5432f6;padding:.7em 0}main[_ngcontent-%COMP%] > #video-section[_ngcontent-%COMP%] > #control-bar[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{width:2.5em;height:2.5em;background-color:#fff;cursor:pointer}main[_ngcontent-%COMP%] > #video-section[_ngcontent-%COMP%] > #control-bar[_ngcontent-%COMP%]   .icon-wrapper.bg-red[_ngcontent-%COMP%]{background-color:red;color:#fff}main[_ngcontent-%COMP%] > #video-section[_ngcontent-%COMP%] > #control-bar[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:1em}main[_ngcontent-%COMP%] > #video-section[_ngcontent-%COMP%] > #local-stream[_ngcontent-%COMP%]{position:absolute;border:1px solid #5432f6;transform:rotateY(180deg);width:100%;max-width:12em;bottom:5em;right:2em;border-radius:8px;z-index:99999}main[_ngcontent-%COMP%] > #video-section[_ngcontent-%COMP%] > #dive-logo[_ngcontent-%COMP%]{position:absolute;top:2em;right:10px;z-index:999}main[_ngcontent-%COMP%] > #chat-section[_ngcontent-%COMP%]{background-color:#f8f9fa;width:100%;max-width:300px;z-index:2}@media only screen and (max-width:900px){main[_ngcontent-%COMP%] > #chat-section[_ngcontent-%COMP%]{position:fixed;max-width:unset;height:100vh}}.card1[_ngcontent-%COMP%]{position:fixed;top:0;width:100vw;height:100vh;background-color:rgba(52,58,64,.5)}.card1[_ngcontent-%COMP%] > .notify-window[_ngcontent-%COMP%]{position:absolute;top:40%;left:50%;transform:translate(-50%,-40%);z-index:9999;width:100%;max-width:350px;padding-top:40px;padding-bottom:30px;background-color:#fff;color:#000;border-radius:8px}"]}),t})(),xj=(()=>{class t{constructor(t){this.http=t}getFriends(t){return console.log(t),this.http.post(i+"/friendship/getList",t)}getRequests(t){return console.log(t),this.http.post(i+"/friendship/getRequests",t)}checkRequested(t){return console.log(t),this.http.post(i+"/friendship/checkRequested",t)}sendRequest(t){return this.http.post(i+"/friendship/newRequest",t)}acceptRequest(t){return this.http.post(i+"/friendship/acceptRequest",t)}rejectRequest(t){return this.http.post(i+"/friendship/rejectRequest",t)}deleteFriend(t){return this.http.post(i+"/friendship/deleteFriend",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(hr))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Oj(t,e){1&t&&(r.Qb(0,"div",3),r.Lb(1,"div",4),r.Lb(2,"div",4),r.Lb(3,"div",4),r.Lb(4,"div",4),r.Lb(5,"div",4),r.Lb(6,"div",4),r.Pb())}function Ij(t,e){1&t&&(r.Qb(0,"div",44),r.Qb(1,"label",45),r.vc(2,"Achieved Goals"),r.Pb(),r.Pb())}function Aj(t,e){1&t&&(r.Qb(0,"div",44),r.Qb(1,"label",45),r.vc(2,"No dive sessions."),r.Pb(),r.Pb())}function Rj(t,e){if(1&t&&(r.Qb(0,"div",46),r.Qb(1,"div",47),r.Qb(2,"label",37),r.vc(3),r.Pb(),r.Pb(),r.Qb(4,"div",48),r.Qb(5,"label",37),r.vc(6),r.Pb(),r.Pb(),r.Qb(7,"div",49),r.Lb(8,"img",50),r.Pb(),r.Pb()),2&t){const t=e.$implicit;r.Ab(3),r.wc(t.goal),r.Ab(3),r.wc(t.createdAt)}}function Dj(t,e){if(1&t){const t=r.Rb();r.Qb(0,"div",5),r.Qb(1,"input",6),r.Xb("change",function(e){return r.oc(t),r.bc().onFileSelected(e)}),r.Pb(),r.Qb(2,"section",7),r.Qb(3,"div",8),r.Qb(4,"div",9),r.Qb(5,"div",10),r.Qb(6,"h4"),r.vc(7,"This is how others see your name"),r.Pb(),r.Lb(8,"br"),r.Qb(9,"input",11),r.Xb("ngModelChange",function(e){return r.oc(t),r.bc().userName=e}),r.Pb(),r.Lb(10,"br"),r.Qb(11,"div",12),r.Qb(12,"button",13),r.Xb("click",function(){return r.oc(t),r.bc().showNameChange=!1}),r.vc(13,"Cancel"),r.Pb(),r.Qb(14,"button",14),r.Xb("click",function(){return r.oc(t),r.bc().saveName()}),r.vc(15,"Save name"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(16,"div",15),r.Qb(17,"div",16),r.Qb(18,"div",17),r.Lb(19,"div",18),r.Qb(20,"div",15),r.Qb(21,"div",19),r.Qb(22,"div",20),r.Lb(23,"img",21),r.Qb(24,"div",22),r.Xb("click",function(){return r.oc(t),r.bc().selectFile()}),r.Lb(25,"img",23),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(26,"div",24),r.Qb(27,"div",25),r.Qb(28,"label",26),r.vc(29),r.Pb(),r.Pb(),r.Pb(),r.Qb(30,"div",27),r.Qb(31,"div",25),r.Qb(32,"label",28),r.vc(33),r.Pb(),r.Pb(),r.Pb(),r.Qb(34,"div",15),r.Qb(35,"div",25),r.Qb(36,"label",29),r.vc(37),r.Pb(),r.Pb(),r.Qb(38,"div",25),r.Qb(39,"label",29),r.vc(40),r.Pb(),r.Pb(),r.Pb(),r.Qb(41,"div",27),r.Qb(42,"div",25),r.Qb(43,"label",30),r.vc(44,"Total Dive Sessions"),r.Pb(),r.Pb(),r.Qb(45,"div",25),r.Qb(46,"label",30),r.vc(47,"Last Session"),r.Pb(),r.Pb(),r.Pb(),r.Lb(48,"div",31),r.Qb(49,"div",32),r.Qb(50,"div",33),r.Qb(51,"div",34),r.Xb("click",function(){return r.oc(t),r.bc().changeName()}),r.Qb(52,"label",35),r.vc(53,"Name"),r.Pb(),r.Qb(54,"label",35),r.vc(55),r.Pb(),r.Pb(),r.Pb(),r.Qb(56,"div",33),r.Qb(57,"div",36),r.Qb(58,"label",37),r.vc(59,"E-mail"),r.Pb(),r.Qb(60,"label",37),r.vc(61),r.Pb(),r.Pb(),r.Pb(),r.Qb(62,"div",33),r.Qb(63,"div",36),r.Qb(64,"label",37),r.vc(65,"Password"),r.Pb(),r.Qb(66,"label",37),r.vc(67,"********** \xa0 >"),r.Pb(),r.Pb(),r.Pb(),r.Qb(68,"div",15),r.Qb(69,"div",38),r.Qb(70,"mat-checkbox",39),r.Xb("ngModelChange",function(e){return r.oc(t),r.bc().newsletter=e})("change",function(e){return r.oc(t),r.bc().newsletterOption(!!e.checked)}),r.vc(71," Send newsletter to me "),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(72,"div",40),r.Qb(73,"div",41),r.Lb(74,"div",18),r.Qb(75,"div",15),r.uc(76,Ij,3,0,"div",42),r.uc(77,Aj,3,0,"div",42),r.Pb(),r.Lb(78,"div",18),r.Qb(79,"div",15),r.Qb(80,"div",19),r.uc(81,Rj,9,2,"div",43),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb()}if(2&t){const t=r.bc();r.Ab(2),r.hc("hidden",!t.showNameChange),r.Ab(7),r.hc("ngModel",t.userName),r.Ab(14),r.ic("src",t.currentImg,r.qc),r.Ab(1),r.hc("hidden","me"!=t.uid),r.Ab(5),r.wc(t.userData.name),r.Ab(4),r.xc("Joined ",t.userData.joinDate,""),r.Ab(4),r.wc(t.sessionCount),r.Ab(3),r.wc(t.lastSessionDate),r.Ab(9),r.hc("hidden","me"!=t.uid),r.Ab(6),r.xc("",t.userData.name," \xa0 >"),r.Ab(6),r.xc("",t.userData.email," \xa0 > "),r.Ab(9),r.hc("ngModel",t.newsletter),r.Ab(6),r.hc("ngIf",0!=t.sessionCount),r.Ab(1),r.hc("ngIf",0==t.sessionCount),r.Ab(4),r.hc("ngForOf",t.goalsData.goals)}}let jj=(()=>{class t{constructor(t,e,n,r,i,o){this.profileService=t,this.authService=e,this.router=n,this.http=r,this.activatedRouter=i,this.fService=o,this.uid="",this.lastSessionDate="No session",this.sessionCount=0,this.imageUrl="",this.mName="",this.currentImg="",this.showSpinner=!0,this.showNameChange=!1,this.userName="",this.newsletter=!0,this.showRequested=!1}ngOnInit(){var t,e,n;if(this.uid=this.activatedRouter.snapshot.params.id,"me"==this.uid){this.user=cc.a.auth().currentUser,this.mName=(null===(t=this.user)||void 0===t?void 0:t.email)||"",this.userName=(null===(e=this.user)||void 0===e?void 0:e.displayName)||"";try{this.profileService.getGoals({user:this.mName}).subscribe(t=>{if("no-data"!==t.msg&&(this.goalsData=t,0!=this.goalsData.goals.length)){for(var e of this.goalsData.goals)e.createdAt=e.createdAt.split(" ")[0]+" "+e.createdAt.split(" ")[1]+" "+e.createdAt.split(" ")[2]+" "+e.createdAt.split(" ")[3]+" "+e.createdAt.split(" ")[4].split(":")[0]+":"+e.createdAt.split(" ")[4].split(":")[1];this.lastSessionDate=this.goalsData.goals[0].createdAt||"",this.lastSessionDate=this.lastSessionDate.split(" ")[1]+" "+this.lastSessionDate.split(" ")[2]+" "+this.lastSessionDate.split(" ")[3]||""}this.showSpinner=!1})}catch(r){console.log(r),this.showSpinner=!1}try{this.profileService.getUserInfo((null===(n=this.user)||void 0===n?void 0:n.email)||"").subscribe(t=>{this.userData=t,this.newsletter=this.userData.newsletter,this.currentImg="/assets/img/user2.svg"!=this.userData.imageUrl.url?this.userData.imageUrl.url:"/assets/img/user2.svg",this.userData.joinDate=this.userData.joinDate.split(" ")[1]+" "+this.userData.joinDate.split(" ")[3],this.sessionCount=this.userData.sessions.length})}catch(r){console.log(r)}}else try{this.profileService.getOtherUser(this.uid).subscribe(t=>{t&&(this.userData=t,this.currentImg="/assets/img/user2.svg"!=this.userData.imageUrl.url?this.userData.imageUrl.url:"/assets/img/user2.svg",this.userData.joinDate=this.userData.joinDate.split(" ")[1]+" "+this.userData.joinDate.split(" ")[3],this.sessionCount=this.userData.sessions.length,this.getSessionInfo(this.userData.email))})}catch(r){console.log(r)}}getSessionInfo(t){var e;try{this.profileService.getGoals({user:t}).subscribe(t=>{if("no-data"!==t.msg&&(this.goalsData=t,0!=this.goalsData.goals.length)){for(var e of this.goalsData.goals)e.createdAt=e.createdAt.split(" ")[0]+" "+e.createdAt.split(" ")[1]+" "+e.createdAt.split(" ")[2]+" "+e.createdAt.split(" ")[3]+" "+e.createdAt.split(" ")[4].split(":")[0]+":"+e.createdAt.split(" ")[4].split(":")[1];this.lastSessionDate=this.goalsData.goals[0].createdAt||"",this.lastSessionDate=this.lastSessionDate.split(" ")[1]+" "+this.lastSessionDate.split(" ")[2]+" "+this.lastSessionDate.split(" ")[3]||""}this.showSpinner=!1})}catch(n){console.log(n),this.showSpinner=!1}this.fService.checkRequested({from:null===(e=this.authService.user)||void 0===e?void 0:e.email,to:this.userData.email}).subscribe(t=>{this.showRequested=1==t.result})}selectFile(){var t;null===(t=document.getElementById("input"))||void 0===t||t.click()}onFileSelected(t){this.selectedFile=t.target.files[0],this.onUpload()}onUpload(){if(console.log("onUpload"),""!=this.mName){const t=new FormData;t.append("avatar",this.selectedFile),this.showSpinner=!0,this.http.post(i+"/uploadImage?name="+this.mName,t).subscribe(t=>{window.location.reload(),WA.imgUrl=""},t=>{window.location.reload(),WA.imgUrl=""})}}newsletterOption(t){this.profileService.changeNewsletterOption(this.mName,t).subscribe(t=>console.log(t))}changeName(){this.showNameChange=!0}saveName(){this.user.updateProfile({displayName:this.userName}).then(()=>{this.profileService.changeUserName(this.mName,this.userName).subscribe(t=>{"success"==t.message&&window.location.reload()})}).catch(t=>{console.log(t)})}addFriend(){var t;this.fService.sendRequest({from:null===(t=this.authService.user)||void 0===t?void 0:t.email,to:this.userData.email}).subscribe(t=>{})}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(CE),r.Kb(EE),r.Kb(ua),r.Kb(hr),r.Kb(Ho),r.Kb(xj))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-profile"]],decls:3,vars:2,consts:[["showLogoutButton",""],["class","sk-chase","style","position: absolute;top: 50%;left: 50%;height: 50px;width: 50px;z-index: 9999;",4,"ngIf"],["class",".container-fluid",4,"ngIf"],[1,"sk-chase",2,"position","absolute","top","50%","left","50%","height","50px","width","50px","z-index","9999"],[1,"sk-chase-dot"],[1,".container-fluid"],["type","file","id","input",2,"display","block","visibility","hidden","width","0","height","0",3,"change"],[1,"card1",2,"z-index","9999",3,"hidden"],[1,"container-fluid","notify-window"],[1,"row","d-flex","align-items-center","justify-content-center"],[1,"col-12","text-center"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],[2,"display","flex","justify-content","space-evenly"],[1,"btn","btn-signup",2,"border-color","red","color","red",3,"click"],[1,"btn","btn-signup",3,"click"],[1,"row"],[1,"col-5",2,"height","82vh"],[1,"container","shadow-sm",2,"background-color","white","width","70%","margin-right","0%","height","82vh","margin-top","25px","border-radius","12.7px"],[1,"row",2,"height","7%"],[1,"col"],[1,".container-fluid",2,"max-height","21vh"],["alt","",2,"height","125px","width","125px","border-radius","50%","left","50%","position","relative","transform","translateX(-50%)",3,"src"],["data-toggle","modal","data-target","#exampleModal",2,"width","42px","height","42px","box-shadow","0 10px 20px 0 rgb(0 0 0 / 19%)","position","relative","left","55%","top","-45px","cursor","pointer","border-radius","50%","background","white",3,"hidden","click"],["src","/assets/img/icons/icon@3x.png",2,"width","15px","height","15px","left","50%","position","relative","transform","translate(-44%,-87%)","top","50%"],[1,"row",2,"margin-top","10px"],[1,"col",2,"text-align","center"],["for","",2,"font-size","23px"],[1,"row",2,"position","relative","top","-2.5%"],["for","",2,"font-size","13.4px","color","#939393"],["for","",2,"font-size","18px","font-weight","bold"],["for","",2,"font-size","13px","color","#939393"],[1,"row",2,"height","5%"],[3,"hidden"],[1,"row","session-list"],[1,"col",2,"display","flex","justify-content","space-between","border-bottom","solid 1px #eaeaea","color","#8b8b95","font-size","12px","padding-top","10px","cursor","pointer",3,"click"],["for","",2,"cursor","pointer"],[1,"col",2,"display","flex","justify-content","space-between","border-bottom","solid 1px #eaeaea","padding-top","10px","color","#8b8b95","font-size","12px"],["for",""],[2,"display","flex","justify-content","end","color","#8b8b95","margin-top","10px"],["matInput","","value","Send newsletter to me","type","checkbox","color","primary",2,"margin-left","20px","font-size","12px",3,"ngModel","ngModelChange","change"],[1,"col-7",2,"height","82vh"],[1,"container","shadow-sm",2,"background-color","white","width","80%","margin-left","20px","overflow-y","scroll","height","82vh","margin-top","25px","border-radius","10px"],["class","col","style","font-size: 18px;font-weight: bold;",4,"ngIf"],["class","row session-list","style","display: flex;justify-content: space-between;border-bottom: solid 1px #eaeaea;",4,"ngFor","ngForOf"],[1,"col",2,"font-size","18px","font-weight","bold"],[2,"position","relative","left","3%"],[1,"row","session-list",2,"display","flex","justify-content","space-between","border-bottom","solid 1px #eaeaea"],[1,"col",2,"color","#8b8b95","font-size","14px","width","80%","padding-top","10px"],[1,"col",2,"margin-left","15px","color","#8b8b95","font-size","14px","padding-top","15px"],[1,"col",2,"color","#8b8b95","font-size","14px","padding-top","15px"],["src","/assets/img/icons/tick-icon.png","alt","",2,"height","20px","width","20px","float","right"]],template:function(t,e){1&t&&(r.Lb(0,"app-header",0),r.uc(1,Oj,7,0,"div",1),r.uc(2,Dj,82,15,"div",2)),2&t&&(r.Ab(1),r.hc("ngIf",e.showSpinner),r.Ab(1),r.hc("ngIf",!e.showSpinner))},directives:[GA,dt,fe,Ne,Sn,WD,lt],styles:['.session-list[_ngcontent-%COMP%]{background-color:#fff}.session-list[_ngcontent-%COMP%]:hover{background-color:rgba(84,50,246,.02)}  .mat-checkbox-checked .mat-checkbox-background{background-color:#5432f6}img[_ngcontent-%COMP%]{object-fit:cover}#hubspot-messages-iframe-container[_ngcontent-%COMP%]{display:none!important}.sk-chase[_ngcontent-%COMP%]{width:40px;height:40px;position:relative;animation:sk-chase 2.5s linear infinite both}.sk-chase-dot[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;left:0;top:0;animation:sk-chase-dot 2s ease-in-out infinite both}.sk-chase-dot[_ngcontent-%COMP%]:before{content:"";display:block;width:25%;height:25%;background-color:#5432f6;border-radius:100%;animation:sk-chase-dot-before 2s ease-in-out infinite both}.sk-chase-dot[_ngcontent-%COMP%]:first-child{animation-delay:-1.1s}.sk-chase-dot[_ngcontent-%COMP%]:nth-child(2){animation-delay:-1s}.sk-chase-dot[_ngcontent-%COMP%]:nth-child(3){animation-delay:-.9s}.sk-chase-dot[_ngcontent-%COMP%]:nth-child(4){animation-delay:-.8s}.sk-chase-dot[_ngcontent-%COMP%]:nth-child(5){animation-delay:-.7s}.sk-chase-dot[_ngcontent-%COMP%]:nth-child(6){animation-delay:-.6s}.sk-chase-dot[_ngcontent-%COMP%]:first-child:before{animation-delay:-1.1s}.sk-chase-dot[_ngcontent-%COMP%]:nth-child(2):before{animation-delay:-1s}.sk-chase-dot[_ngcontent-%COMP%]:nth-child(3):before{animation-delay:-.9s}.sk-chase-dot[_ngcontent-%COMP%]:nth-child(4):before{animation-delay:-.8s}.sk-chase-dot[_ngcontent-%COMP%]:nth-child(5):before{animation-delay:-.7s}.sk-chase-dot[_ngcontent-%COMP%]:nth-child(6):before{animation-delay:-.6s}@keyframes sk-chase{to{transform:rotate(1turn)}}@keyframes sk-chase-dot{80%,to{transform:rotate(1turn)}}@keyframes sk-chase-dot-before{50%{transform:scale(.4)}0%,to{transform:scale(1)}}.card1[_ngcontent-%COMP%]{position:fixed;top:0;width:100vw;height:100vh;background-color:rgba(52,58,64,.5)}.notify-window[_ngcontent-%COMP%]{position:absolute;top:40%;left:50%;transform:translate(-50%,-40%);z-index:9999;width:100%;max-width:350px;padding-top:40px;padding-bottom:30px;background-color:#f8f8f8;color:#000;border-radius:8px}']}),t})();function Nj(t,e){if(1&t){const t=r.Rb();r.Qb(0,"button",25),r.Xb("click",function(){return r.oc(t),r.bc().sendVerification()}),r.vc(1,"Send again"),r.Pb()}}function Mj(t,e){1&t&&(r.Qb(0,"button",26),r.vc(1,"Sent!"),r.Pb())}function Lj(t,e){if(1&t){const t=r.Rb();r.Qb(0,"button",25),r.Xb("click",function(){return r.oc(t),r.bc().sendVerification()}),r.vc(1,"Send again"),r.Pb()}}function Fj(t,e){1&t&&(r.Qb(0,"button",26),r.vc(1,"Sent!"),r.Pb())}let Uj=(()=>{class t{constructor(t,e){this.authService=t,this.router=e,this.mail="",this.verificationSent=!1;const n=cc.a.auth().currentUser;this.mail=(null==n?void 0:n.email)||"",console.log("Verification page verification check: "+(null==n?void 0:n.emailVerified)),(null==n?void 0:n.emailVerified)&&this.router.navigate(["/dive"])}ngOnInit(){}signOut(){this.authService.logout()}sendVerification(){const t=cc.a.auth().currentUser;null==t||t.sendEmailVerification(),console.log("Verification sent"),this.verificationSent=!0}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(EE),r.Kb(ua))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-verify-mail"]],decls:68,vars:8,consts:[[1,".container-fluid","desktop",2,"height","100vh"],[1,"row",2,"height","100vh"],[1,"col",2,"height","100vh","display","flex","justify-content","flex-end"],["src","/assets/img/group@3x.png","alt","",2,"height","100%"],[1,"col"],[1,".container-fluid",2,"width","90%","float","right"],[1,"row",2,"height","22vh"],[1,"row"],[2,"font-family","Poppins","font-size","24px","font-weight","600"],[1,"row",2,"width","80%"],[2,"font-family","Poppins","font-size","14px","font-weight","bold","color","#686868","line-height","2.07"],[2,"font-size","18px","color","#5432f6"],[2,"line-height","1.57"],[2,"font-weight","normal"],["href","mailto:support@thedive.app",1,"btn","btn-primary"],["class","btn btn-primary","style","background-color: white;color:#5432f6",3,"click",4,"ngIf"],["class","btn btn-primary","style","background-color: white;color:#5432f6",4,"ngIf"],[1,"row",2,"height","15vh"],[2,"font-family","Poppins","font-size","14px"],[2,"color","#5432f6","cursor","pointer",3,"click"],[1,".container-fluid","mobile"],[1,"row",2,"justify-content","center"],["src","/assets/img/group@3x.png","alt","",2,"width","50vh"],[2,"font-family","Poppins","font-size","14px","font-weight","bold","color","#686868","line-height","2.07","width","80%","text-align","center"],[2,"line-height","1.57","width","80%","text-align","center"],[1,"btn","btn-primary",2,"background-color","white","color","#5432f6",3,"click"],[1,"btn","btn-primary",2,"background-color","white","color","#5432f6"]],template:function(t,e){1&t&&(r.Qb(0,"div",0),r.Qb(1,"div",1),r.Qb(2,"div",2),r.Lb(3,"img",3),r.Pb(),r.Qb(4,"div",4),r.Qb(5,"div",5),r.Lb(6,"div",6),r.Qb(7,"div",7),r.Qb(8,"div",4),r.Qb(9,"label",8),r.vc(10,"Please verify your account"),r.Pb(),r.Pb(),r.Pb(),r.Qb(11,"div",9),r.Qb(12,"div",4),r.Qb(13,"label",10),r.vc(14,"To confirm that you're human, please click on the link in the email we just sent to"),r.Lb(15,"br"),r.Qb(16,"label",11),r.vc(17),r.Pb(),r.Qb(18,"label",12),r.vc(19,"(If you don't see the email, please check your spam/junk folder)"),r.Pb(),r.Lb(20,"br"),r.Lb(21,"br"),r.Qb(22,"label",13),r.vc(23,"Having trouble?"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(24,"div",7),r.Qb(25,"div",4),r.Qb(26,"a",14),r.vc(27,"Contact us"),r.Pb(),r.Pb(),r.Qb(28,"div",4),r.uc(29,Nj,2,0,"button",15),r.uc(30,Mj,2,0,"button",16),r.Pb(),r.Pb(),r.Lb(31,"div",17),r.Qb(32,"div",7),r.Qb(33,"div",4),r.Qb(34,"label",18),r.vc(35),r.Qb(36,"label",19),r.Xb("click",function(){return e.signOut()}),r.vc(37," Sign Out"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(38,"div",20),r.Qb(39,"div",21),r.Lb(40,"img",22),r.Pb(),r.Qb(41,"div",21),r.Qb(42,"label",8),r.vc(43,"Please verify your account"),r.Pb(),r.Pb(),r.Qb(44,"div",21),r.Qb(45,"label",23),r.vc(46,"To confirm that you're human, please click on the link in the email we just sent to"),r.Pb(),r.Lb(47,"br"),r.Qb(48,"label",11),r.vc(49),r.Pb(),r.Pb(),r.Qb(50,"div",21),r.Qb(51,"label",24),r.vc(52,"(If you don't see the email, please check your spam/junk folder)"),r.Pb(),r.Pb(),r.Qb(53,"div",21),r.Qb(54,"label",13),r.vc(55,"Having trouble?"),r.Pb(),r.Pb(),r.Qb(56,"div",21),r.Qb(57,"a",14),r.vc(58,"Contact us"),r.Pb(),r.Pb(),r.Lb(59,"br"),r.Qb(60,"div",21),r.uc(61,Lj,2,0,"button",15),r.uc(62,Fj,2,0,"button",16),r.Pb(),r.Lb(63,"br"),r.Qb(64,"div",21),r.vc(65),r.Qb(66,"label",19),r.Xb("click",function(){return e.signOut()}),r.vc(67," Sign Out"),r.Pb(),r.Pb(),r.Pb()),2&t&&(r.Ab(17),r.wc(e.mail),r.Ab(12),r.hc("ngIf",!e.verificationSent),r.Ab(1),r.hc("ngIf",e.verificationSent),r.Ab(5),r.xc("Not ",e.mail,"? "),r.Ab(14),r.wc(e.mail),r.Ab(12),r.hc("ngIf",!e.verificationSent),r.Ab(1),r.hc("ngIf",e.verificationSent),r.Ab(3),r.xc(' ">Not ',e.mail,"? "))},directives:[dt],styles:[".mobile[_ngcontent-%COMP%]{visibility:hidden;display:none}@media screen and (max-width:849px){.mobile[_ngcontent-%COMP%]{visibility:visible;display:block}.desktop[_ngcontent-%COMP%]{visibility:hidden;display:none}}"]}),t})();function Qj(t,e){if(1&t&&r.Lb(0,"img",4),2&t){const t=r.bc();r.hc("src",t.imageUrl,r.qc)}}let Vj=(()=>{class t{constructor(t,e,n){this.activatedRoute=t,this.http=e,this.router=n,this.emailVerificationCode="",this.apiKey="",this.imageUrl="",this.mName="",this.activatedRoute.queryParams.subscribe(t=>{this.emailVerificationCode=t.oobCode})}ngOnInit(){const t=cc.a.auth().currentUser;this.mName=(null==t?void 0:t.email)||""}onFileSelected(t){this.selectedFile=t.target.files[0],console.log("FILE NAME: ",this.selectedFile.name)}onUpload(){const t=new FormData;t.append("avatar",this.selectedFile),localStorage.setItem("profilepic",i+"/img/"+this.mName+"."+this.selectedFile.name.split(".")[this.selectedFile.name.split(".").length-1]),this.http.post(i+"/uploadImage?name="+this.mName,t).subscribe(t=>{this.imageUrl=i+"/img/"+this.mName+"."+this.selectedFile.name.split(".")[this.selectedFile.name.split(".").length-1]},t=>{this.imageUrl=i+"/img/"+this.mName+"."+this.selectedFile.name.split(".")[this.selectedFile.name.split(".").length-1]})}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(Ho),r.Kb(hr),r.Kb(ua))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-set-profile"]],decls:7,vars:1,consts:[["type","file",3,"change"],[3,"click"],["alt","","style","height: 100px;width: 100px;border-radius: 50%;",3,"src",4,"ngIf"],["href","/dive"],["alt","",2,"height","100px","width","100px","border-radius","50%",3,"src"]],template:function(t,e){1&t&&(r.Qb(0,"input",0),r.Xb("change",function(t){return e.onFileSelected(t)}),r.Pb(),r.Qb(1,"button",1),r.Xb("click",function(){return e.onUpload()}),r.vc(2,"Upload"),r.Pb(),r.uc(3,Qj,1,1,"img",2),r.Qb(4,"button"),r.Qb(5,"a",3),r.vc(6,"Devam"),r.Pb(),r.Pb()),2&t&&(r.Ab(3),r.hc("ngIf",""!=e.imageUrl))},directives:[dt],styles:[""]}),t})();function Bj(t,e){if(1&t){const t=r.Rb();r.Qb(0,"div",1),r.Qb(1,"div",2),r.Qb(2,"h2",3),r.vc(3,"Reset Password"),r.Pb(),r.Lb(4,"br"),r.Lb(5,"br"),r.Qb(6,"form",4),r.Xb("ngSubmit",function(){return r.oc(t),r.bc().onReset()}),r.Qb(7,"div",5),r.Qb(8,"input",6),r.Xb("ngModelChange",function(e){return r.oc(t),r.bc().pass1=e}),r.Pb(),r.Pb(),r.Qb(9,"div",5),r.Qb(10,"input",7),r.Xb("ngModelChange",function(e){return r.oc(t),r.bc().pass2=e}),r.Pb(),r.Pb(),r.Qb(11,"button",8),r.vc(12,"Reset"),r.Pb(),r.Pb(),r.Pb(),r.Pb()}if(2&t){const t=r.bc();r.Ab(6),r.hc("formGroup",t.loginForm),r.Ab(2),r.hc("ngModel",t.pass1),r.Ab(2),r.hc("ngModel",t.pass2)}}let qj=(()=>{class t{constructor(t,e,n,r){this.activatedRoute=t,this.router=e,this.http=n,this.fb=r,this.emailVerificationCode="",this.apiKey="",this.mName="",this.action="",this.pass1="",this.pass2="",this.activatedRoute.queryParams.subscribe(t=>{this.emailVerificationCode=t.oobCode,this.action=t.mode}),this.loginForm=this.fb.group({email:["",[ye.required,ye.minLength(6),ye.maxLength(40)]],password:["",[ye.required,ye.minLength(6),ye.maxLength(40)]]})}ngOnInit(){cc.a.auth().checkActionCode(this.emailVerificationCode).then(t=>{console.log("User Info KKKKK : "+t.data.email),this.mName=t.data.email||"","resetPassword"!=this.action&&cc.a.auth().applyActionCode(this.emailVerificationCode).then(()=>{console.log("Email Verified");const t=cc.a.auth().currentUser;null==t&&this.router.navigate(["/login"]);try{null==t||t.reload().then(()=>{this.router.navigate(["/dive"])})}catch(e){console.log("Reload error")}}).catch(t=>{const e=cc.a.auth().currentUser;null==e||e.reload().then(()=>{this.router.navigate(["/dive"])}),console.log("Error occured : "+t.message)})})}onReset(){if("VALID"!==this.loginForm.status)return console.log("error",this.loginForm),void SE.a.fire("Error","Please enter a valid password(minimum 6 characters)","error");this.pass1==this.pass2?cc.a.auth().checkActionCode(this.emailVerificationCode).then(t=>{console.log("User Info KKKKK : "+t.data.email),this.mName=t.data.email||"","resetPassword"==this.action&&cc.a.auth().confirmPasswordReset(this.emailVerificationCode,this.pass1).then(()=>this.router.navigate(["login"])).catch(t=>{console.log(t)})}):SE.a.fire("Error","Passwords do not match","error")}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(Ho),r.Kb(ua),r.Kb(hr),r.Kb(Un))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-verification-redirect"]],decls:1,vars:1,consts:[["class","col d-flex align-items-center justify-content-center","style","top: 50%;position: relative;transform: translateY(-50%);",4,"ngIf"],[1,"col","d-flex","align-items-center","justify-content-center",2,"top","50%","position","relative","transform","translateY(-50%)"],[2,"width","100%","max-width","350px"],[1,"font-weight-bold","text-center"],[3,"formGroup","ngSubmit"],[1,"form-group"],["formControlName","email","type","password","name","email","id","email","placeholder","Enter your new password","required","","minlength","5","maxlength","40","autofocus","",1,"form-control",3,"ngModel","ngModelChange"],["formControlName","password","type","password","name","password","id","password","placeholder","Confirm your new password","required","","minlength","5","maxlength","40",1,"form-control",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-primary","btn-block"]],template:function(t,e){1&t&&r.uc(0,Bj,13,3,"div",0),2&t&&r.hc("ngIf","resetPassword"==e.action)},directives:[dt,En,Me,On,fe,Ne,An,Dn,Nn,Ln],styles:[""]}),t})(),zj=(()=>{class t{constructor(t,e){this.afAuth=t,this.router=e}canActivate(t,e){return this.afAuth.user.pipe(Object(Ni.a)(t=>{t||this.router.navigate(["/login"],{queryParams:{returnUrl:e.url}})}),Object(ie.a)(t=>!!t))}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(Qa),r.Ub(ua))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Hj(t,e){if(1&t){const t=r.Rb();r.Qb(0,"div",3),r.Qb(1,"h3",4),r.vc(2,"Enter your email address below and you will receive an email with instructions"),r.Pb(),r.Lb(3,"br"),r.Lb(4,"br"),r.Qb(5,"form",5),r.Xb("ngSubmit",function(){return r.oc(t),r.bc().onReset()}),r.Qb(6,"div",6),r.Qb(7,"input",7),r.Xb("ngModelChange",function(e){return r.oc(t),r.bc().mail=e}),r.Pb(),r.Pb(),r.Qb(8,"button",8),r.Xb("click",function(){return r.oc(t),r.bc().onReset()}),r.vc(9,"Send Mail"),r.Pb(),r.Pb(),r.Pb()}if(2&t){const t=r.bc();r.Ab(5),r.hc("formGroup",t.loginForm),r.Ab(2),r.hc("ngModel",t.mail)}}function Kj(t,e){1&t&&(r.Qb(0,"div",9),r.Qb(1,"h2",4),r.vc(2,"We sent you a mail for your request. Check your mailbox!"),r.Pb(),r.Pb())}let Wj=(()=>{class t{constructor(t){this.fb=t,this.mail="",this.showSent=!1,this.loginForm=this.fb.group({email:["",[ye.required,ye.email,ye.minLength(6),ye.maxLength(50)]]})}ngOnInit(){}onReset(){if("VALID"!==this.loginForm.status)return console.log("error",this.loginForm),void SE.a.fire("Error","Please enter a valid mail address","error");cc.a.auth().sendPasswordResetEmail(this.mail).then(()=>{this.showSent=!0},t=>{SE.a.fire("Error","Error occured","error")})}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(Un))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-reset-password"]],decls:4,vars:2,consts:[[1,"col","d-flex","align-items-center","justify-content-center",2,"top","50%","position","relative","transform","translateY(-50%)"],["style","width: 100%; max-width: 500px;",4,"ngIf"],["style","width: 100%; max-width: 350px;",4,"ngIf"],[2,"width","100%","max-width","500px"],[1,"font-weight-bold","text-center"],[3,"formGroup","ngSubmit"],[1,"form-group"],["formControlName","email","type","email","name","email","id","email","placeholder","Enter your mail address","required","","minlength","5","maxlength","100","autofocus","",1,"form-control",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-primary","btn-block",3,"click"],[2,"width","100%","max-width","350px"]],template:function(t,e){1&t&&(r.Lb(0,"app-header"),r.Qb(1,"div",0),r.uc(2,Hj,10,2,"div",1),r.uc(3,Kj,3,0,"div",2),r.Pb()),2&t&&(r.Ab(2),r.hc("ngIf",!e.showSent),r.Ab(1),r.hc("ngIf",e.showSent))},directives:[GA,dt,En,Me,On,fe,Ne,An,Dn,Nn,Ln],styles:[""]}),t})(),Gj=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["app-community-guideline"]],decls:287,vars:0,consts:[["showLoginButton","","showSignupButton",""],[1,".container-fluid","desktop",2,"height","100%","width","100%"],[1,"row",2,"position","relative","left","5%","top","10%"],[1,"col"],[2,"font-weight","700","font-size","45px","line-height","1"],[1,"row",2,"position","relative","left","5%","margin-top","7%","width","70%","height","fit-content","box-shadow","2px 4px 20px rgb(34 90 89 / 20%)"],[1,".container-fluid",2,"height","95%","width","100%","width","80%","position","relative","left","50%","transform","translateX(-50%)","top","5%"],[2,"font-weight","700","color","#5432f6","font-size","1.2em"],[2,"font-weight","700","color","black","font-size","1.2em"],[1,"row","p6"],[1,".container-fluid",2,"width","100%","height","50%","top","50%","position","relative","transform","translateY(-50%)"],[1,"row"],[1,"col","justify-content-center",2,"margin-left","40px"],["src","/assets/img/group-11.svg","alt","",2,"cursor","pointer"],[1,"col","justify-content-center"],[1,".container-fluid"],[1,"footer-labels"],["href","#why",1,"footer-sublabels"],["href","#how",1,"footer-sublabels"],["href","#why-works",1,"footer-sublabels"],["href","/community-guidelines",1,"footer-sublabels"],["href","/faq",1,"footer-sublabels"],["href","/about",1,"footer-sublabels"],["href","https://blog.thedive.app/post/60487a5a345fa506ebbeabe8","target","_blank",1,"footer-sublabels"],["href","https://blog.thedive.app/post/60488b39345fa506ebbeabeb","target","_blank",1,"footer-sublabels"],[2,"font-size","11px","color","#aeaeae","margin-left","20px"],[1,".container-fluid","mobile",2,"height","100%","width","100%","margin-top","10%"],[2,"font-weight","700","font-size","45px","line-height","1","text-align","center"],[1,"row",2,"margin-top","3%","height","fit-content","box-shadow","2px 4px 20px rgb(34 90 89 / 20%)"],[1,".container-fluid",2,"height","95%","width","100%","width","80%","position","relative","left","50%","transform","translateX(-50%)","text-align","center"]],template:function(t,e){1&t&&(r.Lb(0,"app-header",0),r.Qb(1,"div",1),r.Qb(2,"div",2),r.Qb(3,"div",3),r.Qb(4,"h3",4),r.vc(5,"Community Guidelines"),r.Pb(),r.Pb(),r.Pb(),r.Qb(6,"div",5),r.Qb(7,"div",6),r.Lb(8,"br"),r.Lb(9,"br"),r.Qb(10,"p"),r.vc(11,"Welcome to Dive, where people from all over the world come together to get work done, increase sense of responsibility and get motivated. There are some points that fall on Divers to maintain efficiency and ensure sustainability of the Dive community. "),r.Lb(12,"br"),r.Lb(13,"br"),r.Qb(14,"label",7),r.vc(15,"1.Be respectful, feel safe"),r.Pb(),r.Lb(16,"br"),r.vc(17," To protect the Dive community and the motivational environment, abusive, illegal content or behavior is not allowed. Some of these include, but not limited to: "),r.Lb(18,"br"),r.Lb(19,"br"),r.Pb(),r.Qb(20,"ul"),r.Qb(21,"li"),r.vc(22,"Spam or posts related to the sale of non-creative goods or services."),r.Pb(),r.Pb(),r.Qb(23,"ul"),r.Qb(24,"li"),r.vc(25,"Pornographic material and nudity"),r.Pb(),r.Pb(),r.Qb(26,"ul"),r.Qb(27,"li"),r.vc(28,"Harassment, bullying, and threats"),r.Pb(),r.Pb(),r.Qb(29,"ul"),r.Qb(30,"li"),r.vc(31,"Hateful or offensive behavior that attacks based on race, ethnicity, national origin, religion, disability, gender, age, or sexual orientation"),r.Pb(),r.Pb(),r.Qb(32,"ul"),r.Qb(33,"li"),r.vc(34,"Violence"),r.Pb(),r.Pb(),r.Qb(35,"ul"),r.Qb(36,"li"),r.vc(37,"Illegal activities or goods"),r.Pb(),r.Pb(),r.Qb(38,"ul"),r.Qb(39,"li"),r.vc(40,"Self-harm or the promotion of self-harm"),r.Pb(),r.Pb(),r.Qb(41,"ul"),r.Qb(42,"li"),r.vc(43,"Promotion of terrorism or violent extremism"),r.Pb(),r.Pb(),r.Qb(44,"ul"),r.Qb(45,"li"),r.vc(46,"Dissemination of misleading, fraudulent, or deceptive content that could lead to real- world harm"),r.Pb(),r.Pb(),r.Qb(47,"ul"),r.Qb(48,"li"),r.vc(49,"Selling products or services"),r.Pb(),r.Pb(),r.Lb(50,"br"),r.Qb(51,"p"),r.Qb(52,"label",7),r.vc(53,"2. Be motivating and encouraging "),r.Pb(),r.Lb(54,"br"),r.vc(55," Motivation is one of the most important features of Dive, and we expect the same from Divers. Tell your fellow Diver about your goals for the Dive session and motivate them towards their goals. Remember that the work your peers do is equally important, no matter what kind of work it is, and help them reach their goals. "),r.Lb(56,"br"),r.vc(57," There will be times your fellow Divers are not able to finish their task before the end of the session. If that happens, please do not forget it can happen to all of us. We should not make our fellow Divers feel bad about it. Instead, encourage each other that there is always a next time, and there is room for improvement if defining our tasks for one session. Motivation is infectious in a positive sense; when you are motivated, you motivate others too. Remember, \u201cWhere there is a will, there is a way.\u201d "),r.Pb(),r.Qb(58,"p"),r.Qb(59,"label",7),r.vc(60,"3.Stay focused "),r.Pb(),r.Lb(61,"br"),r.vc(62," Make sure you focus on what you are doing during\nthe session. Avoid behavior that will disturb fellow\nDivers during sessions, such as talking on the phone\nor listening to music when the microphone is on.\nStay away from things like social media and mobile\nphones, and make sure your peer does the same.\nRemember, you are equally affected by your actions -\n- being more efficient is in your hands! "),r.Pb(),r.Qb(63,"p"),r.Qb(64,"label",7),r.vc(65,"4. Report Abuse "),r.Pb(),r.Lb(66,"br"),r.vc(67," If any time you think a Diver has violated the\ncommunity rules, please report it. You also can end\nthe session at any time you want. "),r.Lb(68,"br"),r.vc(69,"\nUnless otherwise noted, the same rules apply to all\nsessions at Dive. If you encounter any Diver who\nviolates the rules in the directive, please use the "),r.Qb(70,"b"),r.vc(71,"'Report'"),r.Pb(),r.vc(72," section. "),r.Pb(),r.Qb(73,"p"),r.Qb(74,"label",7),r.vc(75,"How can you use Dive more effectively? "),r.Pb(),r.Lb(76,"br"),r.vc(77," Here are some tips that will help you use Dive more\neffectively: "),r.Pb(),r.Qb(78,"p"),r.Qb(79,"label",8),r.vc(80,"Before the session "),r.Pb(),r.Lb(81,"br"),r.vc(82," Test your microphone and camera "),r.Lb(83,"br"),r.vc(84,"\nTurn off your mobile phone "),r.Lb(85,"br"),r.vc(86,"\nRemove all sources of distraction "),r.Lb(87,"br"),r.vc(88,"\nDefine a task that will take 50 minutes to do "),r.Pb(),r.Qb(89,"p"),r.Qb(90,"label",8),r.vc(91,"Starting the session "),r.Pb(),r.Lb(92,"br"),r.vc(93," Briefly introduce yourself to your peer (name and\nlocation are enough most of the time) "),r.Lb(94,"br"),r.vc(95,"\nState your goals for the session "),r.Pb(),r.Qb(96,"p"),r.Qb(97,"label",8),r.vc(98,"During the session "),r.Pb(),r.Lb(99,"br"),r.vc(100," Do not disturb your fellow Diver "),r.Lb(101,"br"),r.vc(102,"\nWork on only the one task "),r.Lb(103,"br"),r.vc(104,"\nIf you need a break, you can inform your peer by\nusing chat "),r.Pb(),r.Qb(105,"p"),r.Qb(106,"label",8),r.vc(107,"End of the session "),r.Pb(),r.Lb(108,"br"),r.vc(109," Tell your peer what you accomplished during the\nsession. "),r.Lb(110,"br"),r.vc(111,"\nSupport your fellow Divers and enjoy the moment.\nRemember, Dive is a community, and you are the\nmost important part of it. "),r.Pb(),r.Pb(),r.Pb(),r.Lb(112,"br"),r.Lb(113,"br"),r.Qb(114,"div",9),r.Qb(115,"div",10),r.Qb(116,"div",11),r.Qb(117,"div",12),r.Qb(118,"a"),r.Lb(119,"img",13),r.Pb(),r.Pb(),r.Qb(120,"div",14),r.Qb(121,"div",15),r.Qb(122,"div",11),r.Qb(123,"label",16),r.vc(124,"Product"),r.Pb(),r.Pb(),r.Qb(125,"div",11),r.Qb(126,"a",17),r.vc(127," Why join dive?"),r.Pb(),r.Lb(128,"br"),r.Pb(),r.Qb(129,"div",11),r.Qb(130,"a",18),r.vc(131," How does it work?"),r.Pb(),r.Lb(132,"br"),r.Pb(),r.Qb(133,"div",11),r.Qb(134,"a",19),r.vc(135," Why does it work?"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(136,"div",14),r.Qb(137,"div",15),r.Qb(138,"div",11),r.Qb(139,"label",16),r.vc(140,"Community"),r.Pb(),r.Pb(),r.Qb(141,"div",11),r.Qb(142,"a",20),r.vc(143,"Community Guidelines"),r.Pb(),r.Lb(144,"br"),r.Pb(),r.Qb(145,"div",11),r.Qb(146,"a",21),r.vc(147,"FAQ"),r.Pb(),r.Lb(148,"br"),r.Pb(),r.Pb(),r.Pb(),r.Qb(149,"div",14),r.Qb(150,"div",15),r.Qb(151,"div",11),r.Qb(152,"label",16),r.vc(153,"Company"),r.Pb(),r.Pb(),r.Qb(154,"div",11),r.Qb(155,"a",22),r.vc(156,"About us"),r.Pb(),r.Lb(157,"br"),r.Pb(),r.Qb(158,"div",11),r.Qb(159,"a",23),r.vc(160,"Terms & conditions"),r.Pb(),r.Lb(161,"br"),r.Pb(),r.Qb(162,"div",11),r.Qb(163,"a",24),r.vc(164,"Privacy Policy"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Lb(165,"br"),r.Qb(166,"div",11),r.Qb(167,"div",3),r.Lb(168,"hr"),r.Pb(),r.Pb(),r.Qb(169,"div",11),r.Qb(170,"div",3),r.Qb(171,"label",25),r.vc(172,"\xa9 Copyright 2021 Dive, Inc. All rights reserved. "),r.Pb(),r.Pb(),r.Pb(),r.Lb(173,"br"),r.Pb(),r.Pb(),r.Pb(),r.Qb(174,"div",26),r.Qb(175,"div",11),r.Qb(176,"div",3),r.Qb(177,"h3",27),r.vc(178,"Community Guidelines"),r.Pb(),r.Pb(),r.Pb(),r.Qb(179,"div",28),r.Qb(180,"div",29),r.Lb(181,"br"),r.Lb(182,"br"),r.Qb(183,"p"),r.vc(184,"Welcome to Dive, where people from all over the world come together to get work done, increase sense of responsibility and get motivated. There are some points that fall on Divers to maintain efficiency and ensure sustainability of the Dive community. "),r.Lb(185,"br"),r.Lb(186,"br"),r.Qb(187,"label",7),r.vc(188,"1.Be respectful, feel safe"),r.Pb(),r.Lb(189,"br"),r.vc(190," To protect the Dive community and the motivational environment, abusive, illegal content or behavior is not allowed. Some of these include, but not limited to: "),r.Lb(191,"br"),r.Lb(192,"br"),r.Pb(),r.Qb(193,"ul"),r.Qb(194,"li"),r.vc(195,"Spam or posts related to the sale of non-creative goods or services."),r.Pb(),r.Pb(),r.Qb(196,"ul"),r.Qb(197,"li"),r.vc(198,"Pornographic material and nudity"),r.Pb(),r.Pb(),r.Qb(199,"ul"),r.Qb(200,"li"),r.vc(201,"Harassment, bullying, and threats"),r.Pb(),r.Pb(),r.Qb(202,"ul"),r.Qb(203,"li"),r.vc(204,"Hateful or offensive behavior that attacks based on race, ethnicity, national origin, religion, disability, gender, age, or sexual orientation"),r.Pb(),r.Pb(),r.Qb(205,"ul"),r.Qb(206,"li"),r.vc(207,"Violence"),r.Pb(),r.Pb(),r.Qb(208,"ul"),r.Qb(209,"li"),r.vc(210,"Illegal activities or goods"),r.Pb(),r.Pb(),r.Qb(211,"ul"),r.Qb(212,"li"),r.vc(213,"Self-harm or the promotion of self-harm"),r.Pb(),r.Pb(),r.Qb(214,"ul"),r.Qb(215,"li"),r.vc(216,"Promotion of terrorism or violent extremism"),r.Pb(),r.Pb(),r.Qb(217,"ul"),r.Qb(218,"li"),r.vc(219,"Dissemination of misleading, fraudulent, or deceptive content that could lead to real- world harm"),r.Pb(),r.Pb(),r.Qb(220,"ul"),r.Qb(221,"li"),r.vc(222,"Selling products or services"),r.Pb(),r.Pb(),r.Lb(223,"br"),r.Qb(224,"p"),r.Qb(225,"label",7),r.vc(226," 2. Be motivating and encouraging "),r.Pb(),r.Lb(227,"br"),r.vc(228," Motivation is one of the most important features of Dive, and we expect the same from Divers. Tell your fellow Diver about your goals for the Dive session and motivate them towards their goals. Remember that the work your peers do is equally important, no matter what kind of work it is, and help them reach their goals. "),r.Lb(229,"br"),r.vc(230," There will be times your fellow Divers are not able to finish their task before the end of the session. If that happens, please do not forget it can happen to all of us. We should not make our fellow Divers feel bad about it. Instead, encourage each other that there is always a next time, and there is room for improvement if defining our tasks for one session. Motivation is infectious in a positive sense; when you are motivated, you motivate others too. Remember, \u201cWhere there is a will, there is a way.\u201d "),r.Pb(),r.Qb(231,"p"),r.Qb(232,"label",7),r.vc(233,"3.Stay focused "),r.Pb(),r.Lb(234,"br"),r.vc(235," Make sure you focus on what you are doing during\nthe session. Avoid behavior that will disturb fellow\nDivers during sessions, such as talking on the phone\nor listening to music when the microphone is on.\nStay away from things like social media and mobile\nphones, and make sure your peer does the same.\nRemember, you are equally affected by your actions -\n- being more efficient is in your hands! "),r.Pb(),r.Qb(236,"p"),r.Qb(237,"label",7),r.vc(238,"4. Report Abuse "),r.Pb(),r.Lb(239,"br"),r.vc(240," If any time you think a Diver has violated the\ncommunity rules, please report it. You also can end\nthe session at any time you want. "),r.Lb(241,"br"),r.vc(242,"\nUnless otherwise noted, the same rules apply to all\nsessions at Dive. If you encounter any Diver who\nviolates the rules in the directive, please use the "),r.Qb(243,"b"),r.vc(244,"'Report'"),r.Pb(),r.vc(245," section. "),r.Pb(),r.Qb(246,"p"),r.Qb(247,"label",7),r.vc(248,"How can you use Dive more effectively? "),r.Pb(),r.Lb(249,"br"),r.vc(250," Here are some tips that will help you use Dive more\neffectively: "),r.Pb(),r.Qb(251,"p"),r.Qb(252,"label",8),r.vc(253,"Before the session "),r.Pb(),r.Lb(254,"br"),r.vc(255," Test your microphone and camera "),r.Lb(256,"br"),r.vc(257,"\nTurn off your mobile phone "),r.Lb(258,"br"),r.vc(259,"\nRemove all sources of distraction "),r.Lb(260,"br"),r.vc(261,"\nDefine a task that will take 50 minutes to do "),r.Pb(),r.Qb(262,"p"),r.Qb(263,"label",8),r.vc(264,"Starting the session "),r.Pb(),r.Lb(265,"br"),r.vc(266," Briefly introduce yourself to your peer (name and\nlocation are enough most of the time) "),r.Lb(267,"br"),r.vc(268,"\nState your goals for the session "),r.Pb(),r.Qb(269,"p"),r.Qb(270,"label",8),r.vc(271,"During the session "),r.Pb(),r.Lb(272,"br"),r.vc(273," Do not disturb your fellow Diver "),r.Lb(274,"br"),r.vc(275,"\nWork on only the one task "),r.Lb(276,"br"),r.vc(277,"\nIf you need a break, you can inform your peer by\nusing chat "),r.Pb(),r.Qb(278,"p"),r.Qb(279,"label",8),r.vc(280,"End of the session "),r.Pb(),r.Lb(281,"br"),r.vc(282," Tell your peer what you accomplished during the\nsession. "),r.Lb(283,"br"),r.vc(284,"\nSupport your fellow Divers and enjoy the moment.\nRemember, Dive is a community, and you are the\nmost important part of it. "),r.Pb(),r.Pb(),r.Pb(),r.Lb(285,"br"),r.Lb(286,"br"),r.Pb())},directives:[GA],styles:[".mobile[_ngcontent-%COMP%]{visibility:hidden;display:none}.footer-labels[_ngcontent-%COMP%]{color:#686868;font-size:14px;font-weight:600}.footer-sublabels[_ngcontent-%COMP%]{color:#aeaeae;font-size:12px}.p6[_ngcontent-%COMP%]{height:40vh;background-color:#fbfbfb}@media screen and (max-width:849px){.mobile[_ngcontent-%COMP%]{visibility:visible;display:block}.desktop[_ngcontent-%COMP%]{visibility:hidden;display:none}}"]}),t})(),Xj=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["app-faq"]],decls:297,vars:0,consts:[["showLoginButton","","showSignupButton",""],[1,".container-fluid","desktop",2,"height","100%","width","100%"],[1,"row",2,"position","relative","left","5%","top","10%"],[1,"col"],[2,"font-weight","700","font-size","45px","line-height","1"],[1,"row",2,"position","relative","left","5%","margin-top","7%","width","70%","height","fit-content","box-shadow","2px 4px 20px rgb(34 90 89 / 20%)"],[1,".container-fluid",2,"height","95%","width","100%","width","80%","position","relative","left","50%","transform","translateX(-50%)","top","5%"],["href","/faq#1"],["href","/faq#2"],["href","/faq#3"],["href","/faq#4"],["href","/faq#5"],["href","/faq#6"],["href","/faq#7"],["href","/faq#8"],["href","/faq#9"],["href","/faq#10"],["href","/faq#11"],["href","/faq#12"],["id","1",2,"font-weight","700","color","#5432f6","font-size","1.2em"],["id","2",2,"font-weight","700","color","#5432f6","font-size","1.2em"],["id","3",2,"font-weight","700","color","#5432f6","font-size","1.2em"],["id","4",2,"font-weight","700","color","#5432f6","font-size","1.2em"],["id","5",2,"font-weight","700","color","#5432f6","font-size","1.2em"],["id","6",2,"font-weight","700","color","#5432f6","font-size","1.2em"],["id","7",2,"font-weight","700","color","#5432f6","font-size","1.2em"],["href","https://thedive.app/signup","target","_blank"],["id","8",2,"font-weight","700","color","#5432f6","font-size","1.2em"],["id","9",2,"font-weight","700","color","#5432f6","font-size","1.2em"],["id","10",2,"font-weight","700","color","#5432f6","font-size","1.2em"],["id","11",2,"font-weight","700","color","#5432f6","font-size","1.2em"],["id","12",2,"font-weight","700","color","#5432f6","font-size","1.2em"],[1,"row","p6"],[1,".container-fluid",2,"width","100%","height","50%","top","50%","position","relative","transform","translateY(-50%)"],[1,"row"],[1,"col","justify-content-center",2,"margin-left","40px"],["src","/assets/img/group-11.svg","alt","",2,"cursor","pointer"],[1,"col","justify-content-center"],[1,".container-fluid"],[1,"footer-labels"],["href","#why",1,"footer-sublabels"],["href","#how",1,"footer-sublabels"],["href","#why-works",1,"footer-sublabels"],["href","/community-guidelines",1,"footer-sublabels"],["href","/faq",1,"footer-sublabels"],["href","/about",1,"footer-sublabels"],["href","https://blog.thedive.app/post/60487a5a345fa506ebbeabe8","target","_blank",1,"footer-sublabels"],["href","https://blog.thedive.app/post/60488b39345fa506ebbeabeb","target","_blank",1,"footer-sublabels"],[2,"font-size","11px","color","#aeaeae","margin-left","20px"],[1,".container-fluid","mobile",2,"height","100%","width","100%","margin-top","10%"],[2,"font-weight","700","font-size","45px","line-height","1","text-align","center"],[1,"row",2,"margin-top","3%","height","fit-content","box-shadow","2px 4px 20px rgb(34 90 89 / 20%)"],[1,".container-fluid",2,"height","95%","width","100%","width","80%","position","relative","left","50%","transform","translateX(-50%)","text-align","center"],[2,"text-align","left"]],template:function(t,e){1&t&&(r.Lb(0,"app-header",0),r.Qb(1,"div",1),r.Qb(2,"div",2),r.Qb(3,"div",3),r.Qb(4,"h3",4),r.vc(5,"Frequently Asked Questions"),r.Pb(),r.Pb(),r.Pb(),r.Qb(6,"div",5),r.Qb(7,"div",6),r.Lb(8,"br"),r.Lb(9,"br"),r.Qb(10,"ul"),r.Qb(11,"li"),r.Qb(12,"a",7),r.vc(13,"What is Dive?"),r.Pb(),r.Pb(),r.Qb(14,"li"),r.Qb(15,"a",8),r.vc(16,"Where can I use Dive?"),r.Pb(),r.Pb(),r.Qb(17,"li"),r.Qb(18,"a",9),r.vc(19,"How do I Dive?"),r.Pb(),r.Pb(),r.Qb(20,"li"),r.Qb(21,"a",10),r.vc(22,"How many people can dive at the same time?"),r.Pb(),r.Pb(),r.Qb(23,"li"),r.Qb(24,"a",11),r.vc(25,"How much does Dive cost?"),r.Pb(),r.Pb(),r.Qb(26,"li"),r.Qb(27,"a",12),r.vc(28,"How do I use Dive on my PC or Mac?"),r.Pb(),r.Pb(),r.Qb(29,"li"),r.Qb(30,"a",13),r.vc(31,"How do I signup for Dive?"),r.Pb(),r.Pb(),r.Qb(32,"li"),r.Qb(33,"a",14),r.vc(34,"Do I have to have a webcam to join on Dive?"),r.Pb(),r.Pb(),r.Qb(35,"li"),r.Qb(36,"a",15),r.vc(37,"Can I record my Dive session?"),r.Pb(),r.Pb(),r.Qb(38,"li"),r.Qb(39,"a",16),r.vc(40,"How long is a coworking session?"),r.Pb(),r.Pb(),r.Qb(41,"li"),r.Qb(42,"a",17),r.vc(43,"What if I am not matched with a Diver? "),r.Pb(),r.Pb(),r.Qb(44,"li"),r.Qb(45,"a",18),r.vc(46,"What's it like to work with a Diver? "),r.Pb(),r.Pb(),r.Pb(),r.Lb(47,"br"),r.Lb(48,"br"),r.Qb(49,"p"),r.Qb(50,"label",19),r.vc(51,"What is Dive?"),r.Pb(),r.Lb(52,"br"),r.vc(53," Dive is a platform where you can match with people from all over the world to get work done, increase sense of responsibility and motivation. "),r.Pb(),r.Qb(54,"p"),r.Qb(55,"label",20),r.vc(56,"Where can I use Dive?"),r.Pb(),r.Lb(57,"br"),r.vc(58," You can use Dive in all modern browsers, and you don't need to download any add-ons when using your desktop or laptop. You can start Dive session by logging into the app for free; however, you cannot currently use Dive on mobile devices. "),r.Pb(),r.Qb(59,"p"),r.Qb(60,"label",21),r.vc(61,"How do I Dive?"),r.Pb(),r.Lb(62,"br"),r.vc(63," You can register using your existing email address and start using Dive at any time. Just list your to-dos and start using Dive by typing the activity you plan to do in the session. You can match with a random peer and start the session by "),r.Qb(64,"b"),r.vc(65,"Dive Now"),r.Pb(),r.vc(66," button, or you can make a session by sending an invitation link to your friends or teammates via "),r.Qb(67,"b"),r.vc(68,"Invite a Friend"),r.Pb(),r.vc(69," button. "),r.Pb(),r.Qb(70,"p"),r.Qb(71,"label",22),r.vc(72,"How many people can dive at the same time?"),r.Pb(),r.Lb(73,"br"),r.vc(74," For now, only two people can make Dive session. "),r.Pb(),r.Qb(75,"p"),r.Qb(76,"label",23),r.vc(77,"How much does Dive cost?"),r.Pb(),r.Lb(78,"br"),r.vc(79," 50-minute Dive sessions for two people can be used for free. "),r.Pb(),r.Qb(80,"p"),r.Qb(81,"label",24),r.vc(82,"How do I use Dive on my PC or Mac?"),r.Pb(),r.Lb(83,"br"),r.vc(84," You can sign up using your existing email address and start using Dive at any time. "),r.Pb(),r.Qb(85,"p"),r.Qb(86,"label",25),r.vc(87,"How do I signup for Dive?"),r.Pb(),r.Lb(88,"br"),r.vc(89," You can signup for a free Dive account at "),r.Qb(90,"a",26),r.vc(91,"https://thedive.app/signup"),r.Pb(),r.Pb(),r.Qb(92,"p"),r.Qb(93,"label",27),r.vc(94,"Do I have to have a webcam to join on Dive?"),r.Pb(),r.Lb(95,"br"),r.vc(96," You have to have a webcam to use dive because we believe seeing someone working hard boost our motivation up. "),r.Pb(),r.Qb(97,"p"),r.Qb(98,"label",28),r.vc(99,"Can I record my Dive session?"),r.Pb(),r.Lb(100,"br"),r.vc(101," Recording sessions is not allowed due to protecting the privacy of personal data and other security concerns. "),r.Pb(),r.Qb(102,"p"),r.Qb(103,"label",29),r.vc(104,"How long is a coworking session?"),r.Pb(),r.Lb(105,"br"),r.vc(106," Sessions are based on the pomodoro technique and are 50 minutes long. After each Dive session, you are given 10 minutes breaks so that you can gather your attention again. "),r.Pb(),r.Qb(107,"p"),r.Qb(108,"label",30),r.vc(109,"What if I am not matched with a Diver? "),r.Pb(),r.Lb(110,"br"),r.vc(111," Dive is growing community. In a case you do not receive partner, you can invite your friends by using the invitation link."),r.Pb(),r.Qb(112,"p"),r.Qb(113,"label",31),r.vc(114,"What's it like to work with a Diver? "),r.Pb(),r.Lb(115,"br"),r.vc(116," You may think it's weird to work with someone you don't know, but if you want to look at it from a different point of view, working with someone you don't know before in a session makes you feel more responsible to that person and helps you to focus. If you think the person you are matched behaves inappropriately, you can terminate the session at any time or let us know about this person by using report option."),r.Pb(),r.Pb(),r.Pb(),r.Lb(117,"br"),r.Lb(118,"br"),r.Qb(119,"div",32),r.Qb(120,"div",33),r.Qb(121,"div",34),r.Qb(122,"div",35),r.Qb(123,"a"),r.Lb(124,"img",36),r.Pb(),r.Pb(),r.Qb(125,"div",37),r.Qb(126,"div",38),r.Qb(127,"div",34),r.Qb(128,"label",39),r.vc(129,"Product"),r.Pb(),r.Pb(),r.Qb(130,"div",34),r.Qb(131,"a",40),r.vc(132," Why join dive?"),r.Pb(),r.Lb(133,"br"),r.Pb(),r.Qb(134,"div",34),r.Qb(135,"a",41),r.vc(136," How does it work?"),r.Pb(),r.Lb(137,"br"),r.Pb(),r.Qb(138,"div",34),r.Qb(139,"a",42),r.vc(140," Why does it work?"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(141,"div",37),r.Qb(142,"div",38),r.Qb(143,"div",34),r.Qb(144,"label",39),r.vc(145,"Community"),r.Pb(),r.Pb(),r.Qb(146,"div",34),r.Qb(147,"a",43),r.vc(148,"Community Guidelines"),r.Pb(),r.Lb(149,"br"),r.Pb(),r.Qb(150,"div",34),r.Qb(151,"a",44),r.vc(152,"FAQ"),r.Pb(),r.Lb(153,"br"),r.Pb(),r.Pb(),r.Pb(),r.Qb(154,"div",37),r.Qb(155,"div",38),r.Qb(156,"div",34),r.Qb(157,"label",39),r.vc(158,"Company"),r.Pb(),r.Pb(),r.Qb(159,"div",34),r.Qb(160,"a",45),r.vc(161,"About us"),r.Pb(),r.Lb(162,"br"),r.Pb(),r.Qb(163,"div",34),r.Qb(164,"a",46),r.vc(165,"Terms & conditions"),r.Pb(),r.Lb(166,"br"),r.Pb(),r.Qb(167,"div",34),r.Qb(168,"a",47),r.vc(169,"Privacy Policy"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Lb(170,"br"),r.Qb(171,"div",34),r.Qb(172,"div",3),r.Lb(173,"hr"),r.Pb(),r.Pb(),r.Qb(174,"div",34),r.Qb(175,"div",3),r.Qb(176,"label",48),r.vc(177,"\xa9 Copyright 2021 Dive, Inc. All rights reserved. "),r.Pb(),r.Pb(),r.Pb(),r.Lb(178,"br"),r.Pb(),r.Pb(),r.Pb(),r.Qb(179,"div",49),r.Qb(180,"div",34),r.Qb(181,"div",3),r.Qb(182,"h3",50),r.vc(183,"Frequently Asked Questions"),r.Pb(),r.Pb(),r.Pb(),r.Qb(184,"div",51),r.Qb(185,"div",52),r.Lb(186,"br"),r.Lb(187,"br"),r.Qb(188,"ul",53),r.Qb(189,"li"),r.Qb(190,"a",7),r.vc(191,"What is Dive?"),r.Pb(),r.Pb(),r.Qb(192,"li"),r.Qb(193,"a",8),r.vc(194,"Where can I use Dive?"),r.Pb(),r.Pb(),r.Qb(195,"li"),r.Qb(196,"a",9),r.vc(197,"How do I Dive?"),r.Pb(),r.Pb(),r.Qb(198,"li"),r.Qb(199,"a",10),r.vc(200,"How many people can dive at the same time?"),r.Pb(),r.Pb(),r.Qb(201,"li"),r.Qb(202,"a",11),r.vc(203,"How much does Dive cost?"),r.Pb(),r.Pb(),r.Qb(204,"li"),r.Qb(205,"a",12),r.vc(206,"How do I use Dive on my PC or Mac?"),r.Pb(),r.Pb(),r.Qb(207,"li"),r.Qb(208,"a",13),r.vc(209,"How do I signup for Dive?"),r.Pb(),r.Pb(),r.Qb(210,"li"),r.Qb(211,"a",14),r.vc(212,"Do I have to have a webcam to join on Dive?"),r.Pb(),r.Pb(),r.Qb(213,"li"),r.Qb(214,"a",15),r.vc(215,"Can I record my Dive session?"),r.Pb(),r.Pb(),r.Qb(216,"li"),r.Qb(217,"a",16),r.vc(218,"How long is a coworking session?"),r.Pb(),r.Pb(),r.Qb(219,"li"),r.Qb(220,"a",17),r.vc(221,"What if I am not matched with a Diver? "),r.Pb(),r.Pb(),r.Qb(222,"li"),r.Qb(223,"a",18),r.vc(224,"What's it like to work with a Diver? "),r.Pb(),r.Pb(),r.Pb(),r.Lb(225,"br"),r.Lb(226,"br"),r.Qb(227,"p"),r.Qb(228,"label",19),r.vc(229,"What is Dive?"),r.Pb(),r.Lb(230,"br"),r.vc(231," Dive is a platform where you can match with people from all over the world to get work done, increase sense of responsibility and motivation. "),r.Pb(),r.Qb(232,"p"),r.Qb(233,"label",20),r.vc(234,"Where can I use Dive?"),r.Pb(),r.Lb(235,"br"),r.vc(236," You can use Dive in all modern browsers, and you don't need to download any add-ons when using your desktop or laptop. You can start Dive session by logging into the app for free; however, you cannot currently use Dive on mobile devices. "),r.Pb(),r.Qb(237,"p"),r.Qb(238,"label",21),r.vc(239,"How do I Dive?"),r.Pb(),r.Lb(240,"br"),r.vc(241," You can register using your existing email address and start using Dive at any time. Just list your to-dos and start using Dive by typing the activity you plan to do in the session. You can match with a random peer and start the session by "),r.Qb(242,"b"),r.vc(243,"Dive Now"),r.Pb(),r.vc(244," button, or you can make a session by sending an invitation link to your friends or teammates via "),r.Qb(245,"b"),r.vc(246,"Invite a Friend"),r.Pb(),r.vc(247," button. "),r.Pb(),r.Qb(248,"p"),r.Qb(249,"label",22),r.vc(250,"How many people can dive at the same time?"),r.Pb(),r.Lb(251,"br"),r.vc(252," For now, only two people can make Dive session. "),r.Pb(),r.Qb(253,"p"),r.Qb(254,"label",23),r.vc(255,"How much does Dive cost?"),r.Pb(),r.Lb(256,"br"),r.vc(257," 50-minute Dive sessions for two people can be used for free. "),r.Pb(),r.Qb(258,"p"),r.Qb(259,"label",24),r.vc(260,"How do I use Dive on my PC or Mac?"),r.Pb(),r.Lb(261,"br"),r.vc(262," You can sign up using your existing email address and start using Dive at any time. "),r.Pb(),r.Qb(263,"p"),r.Qb(264,"label",25),r.vc(265,"How do I signup for Dive?"),r.Pb(),r.Lb(266,"br"),r.vc(267," You can signup for a free Dive account at "),r.Qb(268,"a",26),r.vc(269,"https://thedive.app/signup"),r.Pb(),r.Pb(),r.Qb(270,"p"),r.Qb(271,"label",27),r.vc(272,"Do I have to have a webcam to join on Dive?"),r.Pb(),r.Lb(273,"br"),r.vc(274," You have to have a webcam to use dive because we believe seeing someone working hard boost our motivation up. "),r.Pb(),r.Qb(275,"p"),r.Qb(276,"label",28),r.vc(277,"Can I record my Dive session?"),r.Pb(),r.Lb(278,"br"),r.vc(279," Recording sessions is not allowed due to protecting the privacy of personal data and other security concerns. "),r.Pb(),r.Qb(280,"p"),r.Qb(281,"label",29),r.vc(282,"How long is a coworking session?"),r.Pb(),r.Lb(283,"br"),r.vc(284," Sessions are based on the pomodoro technique and are 50 minutes long. After each Dive session, you are given 10 minutes breaks so that you can gather your attention again. "),r.Pb(),r.Qb(285,"p"),r.Qb(286,"label",30),r.vc(287,"What if I am not matched with a Diver? "),r.Pb(),r.Lb(288,"br"),r.vc(289," Dive is growing community. In a case you do not receive partner, you can invite your friends by using the invitation link."),r.Pb(),r.Qb(290,"p"),r.Qb(291,"label",31),r.vc(292,"What's it like to work with a Diver? "),r.Pb(),r.Lb(293,"br"),r.vc(294," You may think it's weird to work with someone you don't know, but if you want to look at it from a different point of view, working with someone you don't know before in a session makes you feel more responsible to that person and helps you to focus. If you think the person you are matched behaves inappropriately, you can terminate the session at any time or let us know about this person by using report option."),r.Pb(),r.Pb(),r.Pb(),r.Lb(295,"br"),r.Lb(296,"br"),r.Pb())},directives:[GA],styles:["ul[_ngcontent-%COMP%]{color:#5432f6}.mobile[_ngcontent-%COMP%]{visibility:hidden;display:none}.footer-labels[_ngcontent-%COMP%]{color:#686868;font-size:14px;font-weight:600}.footer-sublabels[_ngcontent-%COMP%]{color:#aeaeae;font-size:12px}.p6[_ngcontent-%COMP%]{height:40vh;background-color:#fbfbfb}@media screen and (max-width:849px){.mobile[_ngcontent-%COMP%]{visibility:visible;display:block}.desktop[_ngcontent-%COMP%]{visibility:hidden;display:none}}"]}),t})(),Yj=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["app-about"]],decls:176,vars:0,consts:[["showLoginButton","","showSignupButton",""],[1,".container-fluid","desktop"],[1,"row","p1",2,"margin-top","1px"],[1,"col"],["src","/assets/img/about-dude.png","alt","",2,"max-height","90vh"],[1,"col","my-auto",2,"margin-left","10%"],[1,"p1-label"],[1,"row","p2"],[1,".container-fluid",2,"height","100%","width","100%"],[1,"row",2,"margin-top","7%"],[1,"journey"],[1,"row",2,"justify-content","center"],[2,"text-align","center","width","70%","color","#686868","font-size","14px"],[1,"row","p3"],["src","/assets/img/left-arm.png","alt","",2,"height","60vh","margin-top","40%"],[1,".container-fluid"],[1,"row",2,"margin-top","10%"],[1,"theteam"],[1,"row"],["src","/assets/img/team.jpg","alt","",2,"height","50vh"],[2,"font-size","16px","color","#686868","text-align","center","font-style","italic"],[1,"col",2,"display","flex","justify-content","flex-end"],["src","/assets/img/right-arm.jpg","alt","",2,"height","40vh"],[1,"row","p4",2,"justify-content","center"],[1,".container-fluid",2,"display","flex","justify-content","center","flex-direction","column"],[2,"font-size","14px","color","#686868","text-align","center","width","40vw","line-height","22px"],["href","/signup",1,"btn","btn-primary"],[1,"row","p5"],[1,".container-fluid",2,"width","100%","height","50%","top","50%","position","relative","transform","translateY(-50%)"],[1,"col","justify-content-center",2,"margin-left","60px"],["src","/assets/img/group-11.svg","alt","",2,"cursor","pointer"],[1,"col","justify-content-center"],[1,"footer-labels"],["href","#why",1,"footer-sublabels"],["href","#how",1,"footer-sublabels"],["href","#why-works",1,"footer-sublabels"],["href","/community-guidelines",1,"footer-sublabels"],["href","/faq",1,"footer-sublabels"],["href","/about",1,"footer-sublabels"],["href","https://blog.thedive.app/post/60487a5a345fa506ebbeabe8","target","_blank",1,"footer-sublabels"],["href","https://blog.thedive.app/post/60488b39345fa506ebbeabeb","target","_blank",1,"footer-sublabels"],[2,"font-size","11px","color","#aeaeae","margin-left","20px"],[1,".container-fluid","mobile",2,"width","100%!important"],[1,"row","p1",2,"height","fit-content"],[1,".container-fluid",2,"width","100%"],["src","/assets/img/about-dude.png","alt","",2,"max-width","80vw"],[1,"row",2,"width","100%","justify-content","center"],[1,"row","p2",2,"height","fit-content"],[1,"row","p3",2,"height","fit-content"],["src","/assets/img/team.jpg","alt","",2,"width","90vw"],[2,"font-size","16px","color","#686868","text-align","center","font-style","italic","width","80%"],[2,"font-size","14px","color","#686868","text-align","center","width","80vw","line-height","22px"]],template:function(t,e){1&t&&(r.Lb(0,"app-header",0),r.Qb(1,"div",1),r.Qb(2,"div",2),r.Qb(3,"div",3),r.Lb(4,"img",4),r.Pb(),r.Qb(5,"div",5),r.Qb(6,"label",6),r.vc(7,"DIVE IS HERE TO"),r.Lb(8,"br"),r.vc(9," HELP PEOPLE TO "),r.Lb(10,"br"),r.vc(11,"GET THEIR "),r.Lb(12,"br"),r.vc(13," WORK DONE"),r.Pb(),r.Pb(),r.Pb(),r.Qb(14,"div",7),r.Qb(15,"div",8),r.Qb(16,"div",9),r.Qb(17,"label",10),r.vc(18,"Our Journey"),r.Pb(),r.Pb(),r.Lb(19,"br"),r.Qb(20,"div",11),r.Qb(21,"p",12),r.vc(22,"Dive's goal is to help people to get their work done in less time by increasing their motivation. Dive helps people to devote more time to their social life by giving them the time they lose by delaying their tasks. "),r.Lb(23,"br"),r.Lb(24,"br"),r.vc(25," Under the heavy workload of our daily lives, we all suffer from distraction, procrastinating things we have to do, and lack of working motivation. With the pandemic, many of us started to work remotely and get online education. We love working and learning online because it gives us comfort and home feels like where we belong. However, it is quite difficult to focus as we did not have much experience working and studying online before the pandemic. "),r.Lb(26,"br"),r.Lb(27,"br"),r.vc(28," While many of us already have difficulty in working and focusing, this becomes even more complicated when we are forced to work alone as we are social beings. As a team of passionate designers, developers, marketers, engineers, and writers, we realized that if we wanted to solve these challenges, we needed to simulate our offices and libraries since seeing other people working makes us more focused and motivated. "),r.Lb(29,"br"),r.Lb(30,"br"),r.vc(31," Dividing the tasks we need to do into Dive sessions, matching fellow peers with common goals, giving commitments to our peers at the start of each session, and working in 50-minute Pomodoro sessions are the key elements of getting our work done and bringing us one step closer to success. We are very happy that we can touch people's lives by sharing Dive with more people. As Dive Team, with the satisfaction of easiness of working through Dive, we no longer know how to work without Dive. Now it is your time to join us and get your work done :)"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(32,"div",13),r.Qb(33,"div",3),r.Lb(34,"img",14),r.Pb(),r.Qb(35,"div",3),r.Qb(36,"div",15),r.Qb(37,"div",16),r.Qb(38,"label",17),r.vc(39,"The Team"),r.Pb(),r.Pb(),r.Qb(40,"div",18),r.Lb(41,"img",19),r.Pb(),r.Lb(42,"br"),r.Qb(43,"div",18),r.Qb(44,"p",20),r.vc(45,"We are a team of 5 from \u0130stanbul. Our team consists of professionals and university students working on marketing, engineering, design and technology. We love working and learning online because it gives us comfort and home feels like where we belong. "),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(46,"div",21),r.Lb(47,"img",22),r.Pb(),r.Pb(),r.Qb(48,"div",23),r.Qb(49,"div",24),r.Qb(50,"div"),r.Qb(51,"div",18),r.Qb(52,"label",10),r.vc(53,"Join us!"),r.Pb(),r.Pb(),r.Qb(54,"div",18),r.Qb(55,"p",25),r.vc(56,"Join the community of freelancers, writers, entrepreneurs, designers, developers, marketers, students, academics and more."),r.Pb(),r.Pb(),r.Qb(57,"div",11),r.Qb(58,"a",26),r.vc(59,"Join"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(60,"div",27),r.Qb(61,"div",28),r.Qb(62,"div",18),r.Qb(63,"div",29),r.Qb(64,"a"),r.Lb(65,"img",30),r.Pb(),r.Pb(),r.Qb(66,"div",31),r.Qb(67,"div",15),r.Qb(68,"div",18),r.Qb(69,"label",32),r.vc(70,"Product"),r.Pb(),r.Pb(),r.Qb(71,"div",18),r.Qb(72,"a",33),r.vc(73," Why join dive?"),r.Pb(),r.Lb(74,"br"),r.Pb(),r.Qb(75,"div",18),r.Qb(76,"a",34),r.vc(77," How does it work?"),r.Pb(),r.Lb(78,"br"),r.Pb(),r.Qb(79,"div",18),r.Qb(80,"a",35),r.vc(81," Why does it work?"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(82,"div",31),r.Qb(83,"div",15),r.Qb(84,"div",18),r.Qb(85,"label",32),r.vc(86,"Community"),r.Pb(),r.Pb(),r.Qb(87,"div",18),r.Qb(88,"a",36),r.vc(89,"Community Guidelines"),r.Pb(),r.Lb(90,"br"),r.Pb(),r.Qb(91,"div",18),r.Qb(92,"a",37),r.vc(93,"FAQ"),r.Pb(),r.Lb(94,"br"),r.Pb(),r.Pb(),r.Pb(),r.Qb(95,"div",31),r.Qb(96,"div",15),r.Qb(97,"div",18),r.Qb(98,"label",32),r.vc(99,"Company"),r.Pb(),r.Pb(),r.Qb(100,"div",18),r.Qb(101,"a",38),r.vc(102,"About us"),r.Pb(),r.Lb(103,"br"),r.Pb(),r.Qb(104,"div",18),r.Qb(105,"a",39),r.vc(106,"Terms & conditions"),r.Pb(),r.Lb(107,"br"),r.Pb(),r.Qb(108,"div",18),r.Qb(109,"a",40),r.vc(110,"Privacy Policy"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Lb(111,"br"),r.Qb(112,"div",18),r.Qb(113,"div",3),r.Lb(114,"hr"),r.Pb(),r.Pb(),r.Qb(115,"div",18),r.Qb(116,"div",3),r.Qb(117,"label",41),r.vc(118,"\xa9 Copyright 2021 Dive, Inc. All rights reserved. "),r.Pb(),r.Pb(),r.Pb(),r.Lb(119,"br"),r.Pb(),r.Pb(),r.Pb(),r.Qb(120,"div",42),r.Qb(121,"div",43),r.Qb(122,"div",44),r.Qb(123,"div",18),r.Lb(124,"img",45),r.Pb(),r.Lb(125,"br"),r.Qb(126,"div",46),r.Qb(127,"label",6),r.vc(128,"DIVE IS HERE TO"),r.Lb(129,"br"),r.vc(130," HELP PEOPLE TO "),r.Lb(131,"br"),r.vc(132,"GET THEIR "),r.Lb(133,"br"),r.vc(134," WORK DONE"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(135,"div",47),r.Qb(136,"div",8),r.Qb(137,"div",9),r.Qb(138,"label",10),r.vc(139,"Our Journey"),r.Pb(),r.Pb(),r.Lb(140,"br"),r.Qb(141,"div",11),r.Qb(142,"p",12),r.vc(143,"Dive's goal is to help people to get their work done in less time by increasing their motivation. Dive helps people to devote more time to their social life by giving them the time they lose by delaying their tasks."),r.Lb(144,"br"),r.Lb(145,"br"),r.vc(146," Under the heavy workload of our daily lives, we all suffer from distraction, procrastinating things we have to do, and lack of working motivation. With the pandemic, many of us started to work remotely and get online education. We love working and learning online because it gives us comfort and home feels like where we belong. However, it is quite difficult to focus as we did not have much experience working and studying online before the pandemic. "),r.Lb(147,"br"),r.Lb(148,"br"),r.vc(149," While many of us already have difficulty in working and focusing, this becomes even more complicated when we are forced to work alone as we are social beings. As a team of passionate designers, developers, marketers, engineers, and writers, we realized that if we wanted to solve these challenges, we needed to simulate our offices and libraries since seeing other people working makes us more focused and motivated. "),r.Lb(150,"br"),r.Lb(151,"br"),r.vc(152," Dividing the tasks we need to do into Dive sessions, matching fellow peers with common goals, giving commitments to our peers at the start of each session, and working in 50-minute Pomodoro sessions are the key elements of getting our work done and bringing us one step closer to success. We are very happy that we can touch people's lives by sharing Dive with more people. As Dive Team, with the satisfaction of easiness of working through Dive, we no longer know how to work without Dive. Now it is your time to join us and get your work done :)"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(153,"div",48),r.Qb(154,"div",15),r.Qb(155,"div",16),r.Qb(156,"label",17),r.vc(157,"The Team"),r.Pb(),r.Pb(),r.Qb(158,"div",11),r.Lb(159,"img",49),r.Pb(),r.Lb(160,"br"),r.Qb(161,"div",11),r.Qb(162,"p",50),r.vc(163,"We are a team of 5 from \u0130stanbul. Our team consists of professionals and university students working on marketing, engineering, design and technology. We love working and learning online because it gives us comfort and home feels like where we belong. "),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(164,"div",23),r.Qb(165,"div",24),r.Qb(166,"div"),r.Qb(167,"div",18),r.Qb(168,"label",10),r.vc(169,"Join us!"),r.Pb(),r.Pb(),r.Qb(170,"div",18),r.Qb(171,"p",51),r.vc(172,"Join the community of freelancers, writers, entrepreneurs, designers, developers, marketers, students, academics and more."),r.Pb(),r.Pb(),r.Qb(173,"div",11),r.Qb(174,"a",26),r.vc(175,"Join"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb())},directives:[GA],styles:[".mobile[_ngcontent-%COMP%]{visibility:hidden;display:none}.p1-label[_ngcontent-%COMP%]{font-size:49.9px;font-weight:300;line-height:1.51;color:#3c3332;width:80%;max-width:500px}@media screen and (max-width:849px){.mobile[_ngcontent-%COMP%]{visibility:visible;display:block}.desktop[_ngcontent-%COMP%]{visibility:hidden;display:none}.p1-label[_ngcontent-%COMP%]{font-size:35px;font-weight:300;line-height:1.51;color:#3c3332;width:80%;max-width:500px;text-align:center}}.p1[_ngcontent-%COMP%]{height:90vh;background-color:#fff}.p2[_ngcontent-%COMP%]{max-height:600px;height:110vh}.p3[_ngcontent-%COMP%]{height:100vh;background-color:#fff}.p4[_ngcontent-%COMP%]{height:50vh}.p5[_ngcontent-%COMP%]{height:40vh;background-color:#fbfbfb}.footer-labels[_ngcontent-%COMP%]{color:#686868;font-size:14px;font-weight:600}.footer-sublabels[_ngcontent-%COMP%]{color:#aeaeae;font-size:12px}.journey[_ngcontent-%COMP%]{position:relative;left:50%;transform:translateX(-50%);font-size:16px;font-weight:700}.theteam[_ngcontent-%COMP%]{font-size:41px;font-weight:700;color:#000;text-align:center;width:100%}"]}),t})();const $j=["cd"],Jj=["breakcd"];var Zj=function(t){return t[t.tasking=0]="tasking",t[t.working=1]="working",t[t.break=2]="break",t[t.done=3]="done",t}({});const tN=(t,e)=>new Date(t.getTime()+60*e*1e3),eN=t=>Math.floor((t.getTime()-(new Date).getTime())/1e3);let nN=(()=>{class t{constructor(t,e,n){this.router=t,this.reportService=e,this.route=n,this.counterConfig={},this.breakCounterConfig={},this.showBreakDone=!1,this.onLeave=!1,this.gifSource="",this.gifText="",this.Mode=Zj,this.longBreakOver=!1,this.topic="",this.showTodo=!1,this.showVideo=!1,this.videoSrc="",this.showInfo=!1,this.user=cc.a.auth().currentUser,this.mode=Zj.tasking}ngOnInit(){hidehb(),this.topic=this.route.snapshot.queryParams.t,this.reportService.getVideo().subscribe(t=>{this.videoSrc=t.videoName})}changeSrc(){this.reportService.getVideo().subscribe(t=>{this.videoSrc=t.videoName;var e=document.getElementById("vid");console.log("here"),e&&(e.pause(),e.src=this.videoSrc,e.load(),setTimeout(function(){e.play()},150))})}startSession(){new Audio("/assets/gong2.wav").play(),this.longBreakOver=!1;var t=document.getElementById("vid");t&&(t.play(),setInterval(()=>{this.changeSrc()},48e4)),this.mode=Zj.working;const e=tN(new Date,50),n=eN(e);this.setCounterConfig(n)}giveBreak(){var t,e,n;if(this.mode==Zj.break)return this.mode=Zj.working,null===(t=this.countdown)||void 0===t||t.resume(),void((n=document.getElementById("vid"))&&n.play());this.reportService.getGif().subscribe(t=>{this.gifData=t,this.gifSource="https://api.thedive.app/endingGifs/"+this.gifData.gifName,this.gifText=this.gifData.text}),(n=document.getElementById("vid"))&&n.pause(),this.mode=Zj.break,this.showBreakDone=!1;const r=tN(new Date,5),i=eN(r);this.setBreakCounterConfig(i),null===(e=this.countdown)||void 0===e||e.pause()}giveMoreBreak(){this.showBreakDone=!1;const t=tN(new Date,5),e=eN(t);this.setBreakCounterConfig(e)}onCountdownEvent(t){if("done"==t.action&&this.mode==this.Mode.working){this.mode=this.Mode.done,new Audio("/assets/gong2.wav").play();const t=tN(new Date,10),e=eN(t);this.setBreakCounterConfig(e),this.showBreakDone=!1,this.reportService.getGif().subscribe(t=>{this.gifData=t,this.gifSource="https://api.thedive.app/endingGifs/"+this.gifData.gifName,this.gifText=this.gifData.text}),console.log("Done")}}onBreakCountdownEvent(t){"done"==t.action&&this.mode==this.Mode.break?(this.showBreakDone=!0,console.log("Break done")):"done"==t.action&&this.mode==this.Mode.done&&(this.longBreakOver=!0,console.log("Break done"))}setCounterConfig(t){this.counterConfig={format:"mm:ss",leftTime:t}}setBreakCounterConfig(t){this.breakCounterConfig={format:"mm:ss",leftTime:t}}onLeaveSession(){this.router.navigate(["/dive"])}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(ua),r.Kb(xD),r.Kb(Ho))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-solo-room"]],viewQuery:function(t,e){if(1&t&&(r.Ac($j,!0),r.Ac(Jj,!0)),2&t){let t;r.mc(t=r.Yb())&&(e.countdown=t.first),r.mc(t=r.Yb())&&(e.breakCountdown=t.first)}},decls:158,vars:26,consts:[[2,"height","100vh","position","absolute",3,"ngClass","onCloseTodo","onBeginTask"],[2,"position","absolute","right","30px","top","20px","display","flex","justify-content","space-between"],[2,"justify-content","center","display","flex","flex-direction","column"],[1,"far","fa-eye",2,"color","#ffffff","cursor","pointer",3,"hidden","click"],[1,"far","fa-eye-slash",2,"color","#ffffff","cursor","pointer",3,"hidden","click"],["src","/assets/img/info.svg",2,"margin-right","5px","margin-left","20px","cursor","pointer",3,"click"],[1,"card1",3,"hidden"],[1,"container-fluid","notify-window"],[1,"row","d-flex","align-items-center","justify-content-center"],[1,"col-12","text-center"],[2,"color","#5432f6"],[1,"row"],[1,"col"],[2,"list-style","none"],[1,"btn","btn-primary",2,"left","50%","position","relative","transform","translateX(-50%)",3,"click"],[2,"position","absolute","top","30%","left","0px",3,"click"],[2,"display","flex","-webkit-box-pack","center","justify-content","center","-webkit-box-align","center","align-items","center","width","70px","height","44px","min-width","44px","border-top-right-radius","6px","border-bottom-right-radius","6px","left","0px","outline","none","border","none","background-color","#5432f6","color","#ffffff","box-shadow","rgb(0 0 0 / 50%) 0px 4px 16px 0px"],[2,"color","#ffffff","font-size","13px"],[1,".container-fluid",2,"height","100vh","overflow","hidden","background-color","black"],[2,"width","100%","display","flex","justify-content","center","z-index","9999","background","transparent"],["id","vid","muted","","loop","",2,"width","80%",3,"hidden","src"],[1,"banner"],[1,"card1",2,"z-index","9999",3,"hidden"],[1,"container-fluid","notify-window",2,"max-width","450px"],["src","https://i.imgur.com/5xMSOFS.gif","alt","",2,"height","250px"],[2,"font-style","italic"],[1,"btn","btn-primary",3,"click"],[1,"col-12","text-center",3,"hidden"],[2,"font-weight","bold"],[3,"hidden"],[2,"font-size","16px","font-weight","normal",3,"config","event"],["breakcd",""],[1,"row","w-100","justify-content-center"],[1,"img-fluid",2,"max-height","200px",3,"src"],[1,"d-flex","justify-content-center"],["routerLink","/dive",1,"btn","btn-white","btn-block",2,"width","70%"],["src","https://i.imgur.com/JuTGX3X.gif","alt","",2,"height","250px"],[1,"btn","btn-primary","btn-block",2,"width","70%",3,"click"],[1,"d-flex","justify-content-center",2,"margin-top","10px"],[2,"width","100%","display","flex","justify-content","flex-end"],["data-toggle","tooltip","data-placement","bottom","title","Resume working",1,"start-button",3,"hidden","click"],["viewBox","0 0 512 512","xmlns","http://www.w3.org/2000/svg","height","16","width","16","fill","white","focusable","false","aria-hidden","true","color","#f8f8f8"],["d","M133 440a35.37 35.37 0 01-17.5-4.67c-12-6.8-19.46-20-19.46-34.33V111c0-14.37 7.46-27.53 19.46-34.33a35.13 35.13 0 0135.77.45l247.85 148.36a36 36 0 010 61l-247.89 148.4A35.5 35.5 0 01133 440z",2,"transform-origin","0px 0px"],[2,"display","flex","justify-content","space-evenly",3,"hidden"],[1,"btn","btn-signup",3,"click"],[1,"btn","btn-white","btn-block",3,"click"],[1,"btn","btn-white","btn-block",2,"background-color","red","color","white",3,"click"],[1,".container-fluid"],["id","control-bar"],[1,"container-fluid"],[1,"col","d-flex","align-items-center",2,"position","relative","left","40px"],[1,"col","d-flex","align-items-center","justify-content-center","text-white"],["cd",""],[1,"col","d-flex","align-items-center",2,"position","relative","justify-content","flex-end"],["data-toggle","tooltip","data-placement","top","title","Give 5 mins break",1,"d-flex","justify-content-center","rounded-circle","mx-1","icon-wrapper",2,"cursor","pointer","position","relative","right","40px",3,"click"],[2,"display","flex","flex-direction","column","justify-content","center","cursor","pointer"],[1,"fa","fa-coffee",2,"color","#5432f6","cursor","pointer"],["href","/dive","data-toggle","tooltip","data-placement","top","title","End session",1,"d-flex","justify-content-center","rounded-circle","mx-1","icon-wrapper","bg-red",2,"cursor","pointer","position","relative","right","40px","text-decoration","none"],[2,"display","flex","flex-direction","column","justify-content","center"],[1,"fa","fa-times",2,"color","#ffffff","cursor","pointer"]],template:function(t,e){1&t&&(r.Qb(0,"app-todo",0),r.Xb("onCloseTodo",function(){return e.showTodo=!1})("onBeginTask",function(t){return e.topic=t}),r.Pb(),r.Qb(1,"div",1),r.Qb(2,"div",2),r.Qb(3,"i",3),r.Xb("click",function(){return e.showVideo=!e.showVideo}),r.Pb(),r.Qb(4,"i",4),r.Xb("click",function(){return e.showVideo=!e.showVideo}),r.Pb(),r.Pb(),r.Qb(5,"img",5),r.Xb("click",function(){return e.showInfo=!0}),r.Pb(),r.Pb(),r.Qb(6,"section",6),r.Qb(7,"div",7),r.Qb(8,"div",8),r.Qb(9,"div",9),r.Qb(10,"h4",10),r.vc(11,"Solo Dive Session"),r.Pb(),r.Pb(),r.Pb(),r.Lb(12,"br"),r.Qb(13,"div",11),r.Qb(14,"div",12),r.Qb(15,"ul",13),r.Qb(16,"li"),r.Qb(17,"label"),r.Qb(18,"b"),r.vc(19,"-"),r.Pb(),r.vc(20,"\xa0Start working on your task in 50 mins pomodoro session."),r.Pb(),r.Pb(),r.Qb(21,"li"),r.Qb(22,"label"),r.Qb(23,"b"),r.vc(24,"-"),r.Pb(),r.vc(25,"\xa0We use working/studying people videos to keep you motivated and change the video every 10 mins."),r.Pb(),r.Pb(),r.Qb(26,"li"),r.Qb(27,"label"),r.Qb(28,"b"),r.vc(29,"-"),r.Pb(),r.vc(30,"\xa0You can hide the videos by clicking the eye icon next to info icon."),r.Pb(),r.Pb(),r.Qb(31,"li"),r.Qb(32,"label"),r.Qb(33,"b"),r.vc(34,"-"),r.Pb(),r.vc(35,"\xa0You can edit your todos and change your current task during the session by opening todos from the purple button on the left."),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(36,"div",11),r.Qb(37,"div",12),r.Qb(38,"button",14),r.Xb("click",function(){return e.showInfo=!1}),r.vc(39,"Ok"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(40,"div",15),r.Xb("click",function(){return e.showTodo=!0}),r.Qb(41,"button",16),r.Qb(42,"b",17),r.vc(43,"TO-DOS"),r.Pb(),r.Pb(),r.Pb(),r.Qb(44,"div",18),r.Qb(45,"div",19),r.Lb(46,"video",20),r.Pb(),r.Qb(47,"span",21),r.vc(48),r.Pb(),r.Qb(49,"section",22),r.Qb(50,"div",23),r.Qb(51,"div",8),r.Qb(52,"div",9),r.Lb(53,"img",24),r.Lb(54,"br"),r.Lb(55,"br"),r.Qb(56,"h4"),r.vc(57,"Welcome to "),r.Qb(58,"b",10),r.vc(59,"solo pomodoro room"),r.Pb(),r.vc(60,". Click below to begin your 50 mins working session"),r.Pb(),r.Qb(61,"h5",25),r.vc(62,"Good luck!"),r.Pb(),r.Lb(63,"br"),r.Qb(64,"button",26),r.Xb("click",function(){return e.startSession()}),r.vc(65,"Start"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(66,"section",6),r.Qb(67,"div",7),r.Qb(68,"div",8),r.Qb(69,"div",27),r.Qb(70,"h6",28),r.vc(71,"Session is over. Take a 10 minute break"),r.Pb(),r.Qb(72,"span",29),r.Qb(73,"countdown",30,31),r.Xb("event",function(t){return e.onBreakCountdownEvent(t)}),r.Pb(),r.Pb(),r.Lb(75,"br"),r.Lb(76,"br"),r.Qb(77,"div",32),r.Lb(78,"img",33),r.Pb(),r.Lb(79,"br"),r.Lb(80,"br"),r.Qb(81,"h6"),r.vc(82),r.Pb(),r.Lb(83,"br"),r.Qb(84,"div",34),r.Qb(85,"a",35),r.vc(86,"Enough for Now"),r.Pb(),r.Pb(),r.Pb(),r.Qb(87,"div",27),r.Lb(88,"img",36),r.Lb(89,"br"),r.Lb(90,"br"),r.Qb(91,"h6",28),r.vc(92,"Break is over. Let's start the new 50 mins working session!"),r.Pb(),r.Lb(93,"br"),r.Qb(94,"div",34),r.Qb(95,"button",37),r.Xb("click",function(){return e.startSession()}),r.vc(96,"Start"),r.Pb(),r.Pb(),r.Qb(97,"div",38),r.Qb(98,"a",35),r.vc(99,"Enough for Now"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(100,"section",22),r.Qb(101,"div",23),r.Qb(102,"div",39),r.Qb(103,"button",40),r.Xb("click",function(){return e.giveBreak()}),r.ac(),r.Qb(104,"svg",41),r.Lb(105,"path",42),r.Pb(),r.Pb(),r.Pb(),r.Zb(),r.Qb(106,"div",8),r.Qb(107,"div",9),r.Lb(108,"img",33),r.Lb(109,"br"),r.Lb(110,"br"),r.Qb(111,"h6"),r.vc(112),r.Pb(),r.Lb(113,"br"),r.Qb(114,"h4",29),r.vc(115,"Break is done."),r.Pb(),r.Qb(116,"h4",29),r.vc(117,"Break ends in"),r.Pb(),r.Qb(118,"span",29),r.Qb(119,"countdown",30,31),r.Xb("event",function(t){return e.onBreakCountdownEvent(t)}),r.Pb(),r.Pb(),r.Lb(121,"br"),r.Qb(122,"div",43),r.Qb(123,"button",44),r.Xb("click",function(){return e.giveMoreBreak()}),r.vc(124,"Give 5 more"),r.Pb(),r.Qb(125,"button",26),r.Xb("click",function(){return e.giveBreak()}),r.vc(126,"Continue working"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(127,"section",6),r.Qb(128,"div",7),r.Qb(129,"div",8),r.Qb(130,"div",9),r.Qb(131,"h4"),r.vc(132,"Are you sure you want to leave the session?"),r.Pb(),r.Pb(),r.Pb(),r.Lb(133,"br"),r.Lb(134,"br"),r.Qb(135,"div",11),r.Qb(136,"div",12),r.Qb(137,"button",45),r.Xb("click",function(){return e.onLeave=!e.onLeave}),r.vc(138,"No"),r.Pb(),r.Pb(),r.Qb(139,"div",12),r.Qb(140,"button",46),r.Xb("click",function(){return e.onLeaveSession()}),r.vc(141,"Yes"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(142,"div",47),r.Qb(143,"div",48),r.Qb(144,"div",49),r.Qb(145,"div",11),r.Lb(146,"div",50),r.Qb(147,"div",51),r.Qb(148,"span"),r.Qb(149,"countdown",30,52),r.Xb("event",function(t){return e.onCountdownEvent(t)}),r.Pb(),r.Pb(),r.Pb(),r.Qb(151,"div",53),r.Qb(152,"div",54),r.Xb("click",function(){return e.giveBreak()}),r.Qb(153,"div",55),r.Lb(154,"i",56),r.Pb(),r.Pb(),r.Qb(155,"a",57),r.Qb(156,"div",58),r.Lb(157,"i",59),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb()),2&t&&(r.hc("ngClass",e.showTodo?"todo-open":"todo-close"),r.Ab(3),r.hc("hidden",e.showVideo),r.Ab(1),r.hc("hidden",!e.showVideo),r.Ab(2),r.hc("hidden",!e.showInfo),r.Ab(40),r.ic("src",e.videoSrc,r.qc),r.hc("hidden",e.showVideo),r.Ab(2),r.wc(e.topic),r.Ab(1),r.hc("hidden",e.mode!=e.Mode.tasking),r.Ab(17),r.hc("hidden",e.mode!==e.Mode.done),r.Ab(3),r.hc("hidden",e.longBreakOver),r.Ab(3),r.hc("hidden",e.showBreakDone),r.Ab(1),r.hc("config",e.breakCounterConfig),r.Ab(5),r.ic("src",e.gifSource,r.qc),r.Ab(4),r.wc(e.gifText),r.Ab(5),r.hc("hidden",!e.longBreakOver),r.Ab(13),r.hc("hidden",e.mode!=e.Mode.break),r.Ab(3),r.hc("hidden",e.showBreakDone),r.Ab(5),r.ic("src",e.gifSource,r.qc),r.Ab(4),r.wc(e.gifText),r.Ab(2),r.hc("hidden",!e.showBreakDone),r.Ab(2),r.hc("hidden",e.showBreakDone),r.Ab(2),r.hc("hidden",e.showBreakDone),r.Ab(1),r.hc("config",e.breakCounterConfig),r.Ab(3),r.hc("hidden",!e.showBreakDone),r.Ab(5),r.hc("hidden",!e.onLeave),r.Ab(22),r.hc("config",e.counterConfig))},directives:[uD,ct,sc,la],styles:["#control-bar[_ngcontent-%COMP%]{position:absolute;bottom:0;width:100%;background:#5432f6;padding:.7em 0}#control-bar[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{width:2.5em;height:2.5em;background-color:#fff;cursor:pointer}#control-bar[_ngcontent-%COMP%]   .icon-wrapper.bg-red[_ngcontent-%COMP%]{background-color:red;color:#fff}#control-bar[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:1em}.card1[_ngcontent-%COMP%]{position:fixed;top:0;width:100vw;height:100vh;background-color:rgba(52,58,64,.5);z-index:9999}.notify-window[_ngcontent-%COMP%]{position:absolute;top:40%;left:50%;transform:translate(-50%,-40%);z-index:9999;width:100%;max-width:500px;padding-top:40px;padding-bottom:30px;background-color:#fff;color:#000;border-radius:8px}.banner[_ngcontent-%COMP%]{position:absolute;top:1em;left:1em;color:#fff;padding:8px 18px;border-radius:6px;font-size:.91rem}.banner[_ngcontent-%COMP%], .start-button[_ngcontent-%COMP%]{background-color:#5432f6}.start-button[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:32px;height:32px;min-width:32px;border-radius:25px;border:none;margin-right:15px;outline:none}"]}),t})(),rN=(()=>{class t{constructor(t,e,n,r){var i;this.route=t,this.router=e,this.authService=n,this.profileUpdateService=r,this.url="",this.showPopup=!1,this.isCopied=!1,this.name="",this.nameEmpty=!1,this.cUrl="",this.topic="",this.clicked=!1,this.hasCameraPermission=!1,this.ref="",this.topic=t.snapshot.queryParams.t,console.log("TOPIC: "+this.topic),this.cUrl=this.route.snapshot.paramMap.get("id")||"",console.log(this.url),navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then(t=>{this.hasCameraPermission=!0,t.getTracks().forEach(t=>t.stop())}).catch(t=>{console.log(t)});const o=Object(vD.io)("https://api.thedive.app/public-room-matching",{transports:["websocket"]});o.onAny((t,...e)=>console.log(`[socket] [${o.id}] [${t}]`,e)),o.on("connect",()=>{var t,e;console.log(`[socket] [${o.id}] [connect]`),o.emit("init",{cUrl:this.cUrl,user:{id:null===(t=this.authService.user)||void 0===t?void 0:t.email,name:null===(e=this.authService.user)||void 0===e?void 0:e.displayName},topic:this.topic,capacity:4,duration:50,sid:o.id})});var s=(null===(i=this.authService.user)||void 0===i?void 0:i.email)||"";this.profileUpdateService.updateSessions(this.cUrl,s)}ngOnInit(){setTimeout(()=>{this.router.navigate(["/room/"+this.cUrl],{queryParams:{t:this.topic,rtype:"public"}})},3e3)}ngOnDestroy(){}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(Ho),r.Kb(ua),r.Kb(EE),r.Kb(CE))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-public-room"]],decls:7,vars:0,consts:[[1,"sk-chase",2,"position","absolute","top","50%","left","50%","height","50px","width","50px","z-index","9999"],[1,"sk-chase-dot"]],template:function(t,e){1&t&&(r.Qb(0,"div",0),r.Lb(1,"div",1),r.Lb(2,"div",1),r.Lb(3,"div",1),r.Lb(4,"div",1),r.Lb(5,"div",1),r.Lb(6,"div",1),r.Pb())},styles:['.sk-chase[_ngcontent-%COMP%]{width:40px;height:40px;position:relative;animation:sk-chase 2.5s linear infinite both}.sk-chase-dot[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;left:0;top:0;animation:sk-chase-dot 2s ease-in-out infinite both}.sk-chase-dot[_ngcontent-%COMP%]:before{content:"";display:block;width:25%;height:25%;background-color:#5432f6;border-radius:100%;animation:sk-chase-dot-before 2s ease-in-out infinite both}.sk-chase-dot[_ngcontent-%COMP%]:first-child{animation-delay:-1.1s}.sk-chase-dot[_ngcontent-%COMP%]:nth-child(2){animation-delay:-1s}.sk-chase-dot[_ngcontent-%COMP%]:nth-child(3){animation-delay:-.9s}.sk-chase-dot[_ngcontent-%COMP%]:nth-child(4){animation-delay:-.8s}.sk-chase-dot[_ngcontent-%COMP%]:nth-child(5){animation-delay:-.7s}.sk-chase-dot[_ngcontent-%COMP%]:nth-child(6){animation-delay:-.6s}.sk-chase-dot[_ngcontent-%COMP%]:first-child:before{animation-delay:-1.1s}.sk-chase-dot[_ngcontent-%COMP%]:nth-child(2):before{animation-delay:-1s}.sk-chase-dot[_ngcontent-%COMP%]:nth-child(3):before{animation-delay:-.9s}.sk-chase-dot[_ngcontent-%COMP%]:nth-child(4):before{animation-delay:-.8s}.sk-chase-dot[_ngcontent-%COMP%]:nth-child(5):before{animation-delay:-.7s}.sk-chase-dot[_ngcontent-%COMP%]:nth-child(6):before{animation-delay:-.6s}@keyframes sk-chase{to{transform:rotate(1turn)}}@keyframes sk-chase-dot{80%,to{transform:rotate(1turn)}}@keyframes sk-chase-dot-before{50%{transform:scale(.4)}0%,to{transform:scale(1)}}']}),t})();function iN(t,e){1&t&&(r.Qb(0,"label"),r.vc(1,"*Please write what do you want do accomplish"),r.Pb())}let oN=(()=>{class t{constructor(t,e){this.route=t,this.router=e,this.topic="",this.showEmpty=!1,this.rid="",this.rid=this.route.snapshot.paramMap.get("id")||""}ngOnInit(){}onConfirm(){""!=this.topic?""!=this.rid?this.router.navigate(["/public-call/"+this.rid],{queryParams:{t:this.topic}}):SE.a.fire("Error","Room Id is invalid!","error"):this.showEmpty=!0}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(Ho),r.Kb(ua))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-public-onboard"]],decls:19,vars:2,consts:[[1,"container-fluid","pt-5"],[1,"row"],[1,"col"],[1,"col","d-flex","align-items-center","justify-content-center"],[1,"text-center",2,"width","100%","max-width","700px"],[1,"font-weight-bold"],[1,"form-group"],["type","text","name","name","id","name","placeholder","Social media plan, study math 101 etc.","autofocus","",1,"form-control",2,"max-width","80%","position","relative","left","50%","transform","translateX(-50%)",3,"ngModel","ngModelChange"],[4,"ngIf"],[1,"btn","btn-primary",2,"max-width","200px","font-size","17px","font-weight","bold",3,"click"]],template:function(t,e){1&t&&(r.Lb(0,"app-header"),r.Qb(1,"main",0),r.Qb(2,"div",1),r.Qb(3,"div",2),r.Qb(4,"div",3),r.Qb(5,"div",4),r.Qb(6,"h2",5),r.vc(7,"What do you want to accomplish now?"),r.Pb(),r.Lb(8,"br"),r.Qb(9,"form"),r.Qb(10,"div",6),r.Qb(11,"input",7),r.Xb("ngModelChange",function(t){return e.topic=t}),r.Pb(),r.Pb(),r.Pb(),r.Qb(12,"div"),r.uc(13,iN,2,0,"label",8),r.Pb(),r.Lb(14,"br"),r.Qb(15,"div"),r.Qb(16,"a",9),r.Xb("click",function(){return e.onConfirm()}),r.vc(17," Dive now! "),r.Pb(),r.vc(18," \xa0 "),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb()),2&t&&(r.Ab(11),r.hc("ngModel",e.topic),r.Ab(2),r.hc("ngIf",e.showEmpty))},directives:[GA,En,Me,Cn,fe,Ne,Sn,dt],styles:[""]}),t})();var sN=n("mCNh");Object(ie.a)(t=>!!t),Object(ie.a)(t=>!!t&&!t.isAnonymous);const aN=Rr(t=>t?t.getIdTokenResult():Object(Bn.a)(null));Object(ie.a)(t=>!!t&&t.emailVerified),Object(sN.a)(aN,Object(ie.a)(t=>t?t.claims:[]));const cN=[{path:"",component:XA},{path:"login",component:eR},{path:"signup",component:nR},{path:"reset",component:Wj},{path:"signup/mail",component:nR},{path:"dive",component:bD,canActivate:[zj]},{path:"call",component:yD,canActivate:[zj]},{path:"custom-call/:id",component:SD,canActivate:[zj]},{path:"public-onboard/:id",component:oN,canActivate:[zj]},{path:"public-call/:id",component:rN,canActivate:[zj]},{path:"room/:rid",component:Tj,canActivate:[zj]},{path:"profile/:id",component:jj,canActivate:[zj]},{path:"verify",component:Uj,canActivate:[zj]},{path:"set-profile",component:Vj,canActivate:[zj]},{path:"verification-redirect",component:qj},{path:"community-guidelines",component:Gj},{path:"faq",component:Xj},{path:"about",component:Yj},{path:"solo",component:nN,canActivate:[zj]},{path:"**",redirectTo:""}];let uN=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[Ca.forRoot(cN)],Ca]}),t})();n("AAub");let lN=(()=>{class t{constructor(t,e){this.router=t,this.titleService=e,this.title="dive-ui",t.events.pipe(Kn(t=>t instanceof Qi)).subscribe(t=>{"dive"==window.location.pathname.split("/")[1]?this.titleService.setTitle("Dive"):"profile"==window.location.pathname.split("/")[1]?this.titleService.setTitle("Profile"):"custom-call"==window.location.pathname.split("/")[1]?this.titleService.setTitle("Invite a friend"):"call"==window.location.pathname.split("/")[1]?this.titleService.setTitle("Diver Matching"):"room"==window.location.pathname.split("/")[1]&&this.titleService.setTitle("Dive Room")})}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(ua),r.Kb(ee))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(t,e){1&t&&r.Lb(0,"router-outlet")},directives:[da],styles:[""],encapsulation:2}),t})(),hN=(()=>{class t{}return t.\u0275mod=r.Ib({type:t,bootstrap:[lN]}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[],imports:[[Zt,Er,Qn,Vn,Tr.a.initializeApp(s),Za,uN,ac,uI,UA,XD,sD]]}),t})();Object(r.T)(),$t().bootstrapModule(hN).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return c});var r=n("7o/Q"),i=n("HDdC"),o=n("SeVD");class s extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function c(t,e){if(!e.closed)return t instanceof i.a?t.subscribe(e):Object(o.a)(t)(e)}}},[[0,0]]]);